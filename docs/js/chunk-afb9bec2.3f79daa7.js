(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-afb9bec2"],{4235:function(t,e,a){"use strict";var o=a("88e0"),i=a.n(o);i.a},"88e0":function(t,e,a){},da91:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{sm12:""}},[a("div",{staticStyle:{width:"96%","text-align":"center","padding-left":"10px"}},[a("v-data-table",{attrs:{headers:t.headerproyectogen,items:t.arrProyectosGen,"disable-sort":!0,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:"$ ",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t")])]}},{key:"item.valorpesos",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valorpesos,{symbol:"$ ",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-flex",{attrs:{sm3:""}},[a("v-select",{attrs:{items:t.arrBaseMoneda,label:"Base Moneda","item-value":"valor","item-text":"texto","return-object":!1,readonly:""},model:{value:t.basemoneda,callback:function(e){t.basemoneda=e},expression:"basemoneda"}})],1),a("v-flex",{attrs:{sm12:""}},[a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("NECESIDADES")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchnecesidad,callback:function(e){t.searchnecesidad=e},expression:"searchnecesidad"}})],1),a("v-data-table",{attrs:{headers:t.headersnecesidad,items:t.datanecesidad,"items-per-page":5,"disable-sort":!0,search:t.searchnecesidad},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t")])]}},{key:"item.unspsc",fn:function(e){var o=e.item;return[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:0!=o.codigo,expression:"item.codigo != 0"}],staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.abrirUnspsc(o.codigo,o.descripcion)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\tlibrary_add\n\t\t\t\t\t\t\t\t\t")])]}},{key:"item.actividades",fn:function(e){var o=e.item;return[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:0!=o.codigo,expression:"item.codigo != 0"}],staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.abrirActividad(o.codigo,o.descripcion,o.valor)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\taccount_tree\n\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog_unspsc,callback:function(e){t.dialog_unspsc=e},expression:"dialog_unspsc"}},[a("v-card",[a("v-card-text",[a("unspsc",{attrs:{planadquisicion:t.codigo,necesidad:t.codigonecesidad,descripcionnecesidad:t.necesidadtxt,enviovobo:t.enviovobo},on:{"update:planadquisicion":function(e){t.codigo=e},"update:necesidad":function(e){t.codigonecesidad=e},"update:descripcionnecesidad":function(e){t.necesidadtxt=e},"update:enviovobo":function(e){t.enviovobo=e}}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_unspsc=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.dialog_actividades,callback:function(e){t.dialog_actividades=e},expression:"dialog_actividades"}},[a("v-card",[a("v-card-text",[a("actividades",{attrs:{planadquisicion:t.codigo,necesidad:t.codigonecesidad,descripcionnecesidad:t.necesidadtxt,moneda:t.moneda,valortotal:t.valortotalconvenio,proyecto:t.proyecto,convenio:t.convenio,valornecesidad:t.valornecesidad,tasa:t.tasa,enviovobo:t.enviovobo},on:{"update:planadquisicion":function(e){t.codigo=e},"update:necesidad":function(e){t.codigonecesidad=e},"update:descripcionnecesidad":function(e){t.necesidadtxt=e},"update:moneda":function(e){t.moneda=e},"update:valortotal":function(e){t.valortotalconvenio=e},"update:proyecto":function(e){t.proyecto=e},"update:convenio":function(e){t.convenio=e},"update:valornecesidad":function(e){t.valornecesidad=e},"update:tasa":function(e){t.tasa=e},"update:enviovobo":function(e){t.enviovobo=e}}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_actividades=!1}}},[t._v("Cancelar")])],1)],1)],1)],1)},i=[],n=a("a34a"),c=a.n(n),r=a("c032"),s=a("3bb9");a("38f9"),a("1711"),a("6181");function d(t,e,a,o,i,n,c){try{var r=t[n](c),s=r.value}catch(d){return void a(d)}r.done?e(s):Promise.resolve(s).then(o,i)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function c(t){d(n,o,i,c,r,"next",t)}function r(t){d(n,o,i,c,r,"throw",t)}c(void 0)}))}}function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v={name:"PlanesAdquisicionVer",props:["itemactual","hisplanadquisicion"],components:{unspsc:function(){return a.e("chunk-472c7470").then(a.bind(null,"3049"))},actividades:function(){return a.e("chunk-d2053682").then(a.bind(null,"7ebc"))}},data:function(){var t;return t={modulo:"PLANES DE ADQUISICIÓN VER",loading:!1,dialog:!1,processing:!1,search:"",valid:!1,dialog_unspsc:!1,dialog_actividades:!1,codigo:0,proyecto:0,convenio:0,valortotalconvenio:0,estadojurudico:0,aclaracionjurudica:"",estadoplaneacion:"",aclaracionplaneacion:"",moneda:"",enviovobo:"",basemoneda:"",tasa:"",numeroconvenio:"",nombreconvenio:""},u(t,"valortotalconvenio",0),u(t,"coordinador",""),u(t,"fechasuscripcion",""),u(t,"fechaterejecucion",""),u(t,"fechaincorporacion",""),u(t,"version",""),u(t,"arrProyectosGen",[]),u(t,"headerproyectogen",[{text:"Nombre Proyecto",align:"left",sortable:!1,value:"nombre"},{text:"No. Convenio",align:"left",sortable:!1,value:"convenio"},{text:"Nombre Convenio",value:"nombreconvenio",sortable:!1,align:"left"},{text:"Valor Total",value:"valortotal",sortable:!1,align:"left"},{text:"Tasa",value:"tasa",sortable:!1,align:"left"},{text:"Valor en Pesos",value:"valorpesos",sortable:!1,align:"left"}]),u(t,"edit_necesidad",-1),u(t,"itemactualnecesidad",""),u(t,"searchnecesidad",""),u(t,"datanecesidad",[]),u(t,"dataoriginalnecesidad",[]),u(t,"dialog_addupdnecesidad",!1),u(t,"valid_necesidad",!1),u(t,"codigonecesidad",0),u(t,"necesidadtxt",""),u(t,"valornecesidad",0),u(t,"descripcion",""),u(t,"valor",0),u(t,"metodoleccion",0),u(t,"fechasolcontrata",""),u(t,"estadocodigonecesidad",""),u(t,"estadonecesidadtxt",""),u(t,"formTitleNecesidad",""),u(t,"titulobtnuardaritem",""),u(t,"arrMetodosSeleccion",[]),u(t,"headersnecesidad",[{text:"No.",value:"codigo",sortable:!1,align:"left"},{text:"Descripción",value:"descripcion",sortable:!1,align:"left"},{text:"Valor",value:"valor",sortable:!1,align:"left"},{text:"Método de Selección",value:"metodolecciontxt",sortable:!1,align:"left"},{text:"Fecha de Solicitud de Contratación",value:"fechasolcontrata",sortable:!1,align:"left"},{text:"Estado",value:"estadotxt",sortable:!1,align:"left"},{text:"UNSPSC",value:"unspsc",sortable:!1,align:"left"},{text:"Actividades",value:"actividades",sortable:!1,align:"left"}]),u(t,"arrBaseMoneda",[{valor:"C",texto:"CONVENIO"},{valor:"P",texto:"PESOS"}]),u(t,"rules",{required:function(t){return!!t||"Campo requerido."},valor:function(t){return t>0||"El Valor debe ser mayor a 0."}}),t},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},traeProyectoGen:function(){var t=this;this.arrProyectosGen=[],this.numeroconvenio="",this.nombreconvenio="",this.coordinador="",this.valortotalconvenio=0,this.moneda="",this.fechasuscripcion="",this.fechaterejecucion="",this.fechaincorporacion="",s["a"].getDataXId(this.proyecto).then((function(e){e.request&&e.data&&(t.arrProyectosGen=e.data.data,t.numeroconvenio=t.arrProyectosGen[0].convenio,t.nombreconvenio=t.arrProyectosGen[0].nombreconvenio,t.coordinador=t.arrProyectosGen[0].codigocoordinador,t.valortotalconvenio="C"==t.basemoneda?t.arrProyectosGen[0].valortotal:0!=t.arrProyectosGen[0].tasa?t.arrProyectosGen[0].valortotal*t.arrProyectosGen[0].tasa:t.arrProyectosGen[0].valortotal,t.moneda="C"==t.basemoneda?t.arrProyectosGen[0].moneda:"$ ",t.fechasuscripcion=t.arrProyectosGen[0].fechasuscripcion,t.fechaterejecucion=t.arrProyectosGen[0].fechaterejecucion,t.fechaincorporacion=t.arrProyectosGen[0].fechaincorporacion)})).catch((function(t){}))},traeNecesidadXPlanAdq:function(){var t=this;t.datanecesidad=[],r["a"].getVersionesNecesidades(this.hisplanadquisicion).then((function(e){e.request&&e.data&&(t.datanecesidad=e.data.data)})).catch((function(t){}))},number_format:function(t,e){if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var a=t.split("."),o=/(\d+)(\d{3})/;while(o.test(a[0]))a[0]=a[0].replace(o,"$1.$2");return a.join(",")},limpiarMoneda:function(t){var e=t.toString().replace(",00","").replace(/[$.]/gi,"");return e=e.replace(/[,]/gi,"."),e},formatearValor:function(t){var e=t;e=this.limpiarMoneda(e),e=this.number_format(e,2),this.valor=e},cerrarDialogoNecesidad:function(){this.resetFormCategoria(),this.dialog_addupdnecesidad=!1,this.edit_necesidad=-1},abrirUnspsc:function(t,e){this.codigonecesidad=t,this.necesidadtxt=e,this.dialog_unspsc=!0},abrirActividad:function(t,e,a){this.codigonecesidad=t,this.necesidadtxt=e,this.valornecesidad=a,this.tasa=this.arrProyectosGen[0].tasa,this.dialog_actividades=!0},agregaDataActual:function(){this.codigo=this.itemactual.codigo,this.proyecto=this.itemactual.proyecto,this.convenio=this.itemactual.convenio,this.numeroconvenio=this.itemactual.numeroconvenio,this.nombreconvenio=this.itemactual.nombreconvenio,this.coordinador=this.itemactual.coordinador,this.estadojurudico=0,this.aclaracionjurudica="",this.estadoplaneacion="",this.aclaracionplaneacion="",this.moneda="C"==this.basemoneda?this.itemactual.moneda:"$ ",this.enviovobo=this.itemactual.enviovobo,this.basemoneda=this.itemactual.basemoneda,this.valortotalconvenio="C"==this.basemoneda?this.itemactual.valortotalconvenio:0!=this.itemactual.tasa?this.itemactual.valortotalconvenio*this.itemactual.tasa:this.itemactual.valortotalconvenio,this.fechasuscripcion=this.itemactual.fechasuscripcion,this.fechaterejecucion=this.itemactual.fechaterejecucion,this.fechaincorporacion=this.itemactual.fechaincorporacion,this.version=this.itemactual.version,this.traeProyectoGen(),this.traeNecesidadXPlanAdq(),this.traerActividadesUnspscXPlanAdq()},traerActividadesUnspscXPlanAdq:function(){var t=l(c.a.mark((function t(){var e,a;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit("setArrPlanAdqNecUnspsc",[]),this.$store.commit("setArrPlanAdqNecAct",[]),t.next=4,r["a"].getActividadXHisPlanCategoria(this.hisplanadquisicion);case 4:return e=t.sent,t.next=7,r["a"].getUnspscXHisPlanCategoria(this.hisplanadquisicion);case 7:a=t.sent,a=a.data.data,this.$store.commit("setArrPlanAdqNecUnspsc",a),this.$store.commit("setArrPlanAdqNecAct",e.data);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},watch:{itemactual:function(t){this.agregaDataActual()}},computed:{},mounted:function(){this.agregaDataActual()}},h=v,p=(a("4235"),a("2877")),m=Object(p["a"])(h,o,i,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-afb9bec2.3f79daa7.js.map