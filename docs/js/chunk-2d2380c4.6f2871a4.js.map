{"version":3,"sources":["webpack:///./src/components/CProyectosSegDetalle.vue?047b","webpack:///./src/servicios/ProyectosSegDetalleService.js","webpack:///src/components/CProyectosSegDetalle.vue","webpack:///./src/components/CProyectosSegDetalle.vue?61bc","webpack:///./src/components/CProyectosSegDetalle.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","getColor","obssubdircientifica","on","$event","dialog_vobosubdir","_s","txtactividad","anno","nombremes","soloLectura","model","value","callback","$$v","logros","expression","necesidades","alertas","ampliacioninfo","archivo","file_name","codigo","abrirDialogoElimFile","_e","saveitem","dialog_deletefile","filedelete","eliminarArchivo","readvbsubdir","actualizaObs","staticRenderFns","proyectosegdetService","Promise","resolve","reject","axios","method","url","configService","apiUrl","dataType","then","res","catch","err","mes","data","File","file","ruta","observacion","showMessage","usuaactual","$session","get","component"],"mappings":"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","file":"js/chunk-2d2380c4.6f2871a4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-form',[_c('v-card',{attrs:{\"color\":\"transparent\"}},[_c('v-card-title',[_vm._v(\"\\n                Detalle Seguimiento\\n            \\n                \"),_c('v-spacer'),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":_vm.getColor(_vm.obssubdircientifica)},on:{\"click\":function($event){_vm.dialog_vobosubdir=true}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"science\")])],1)],1),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"sm12\":\"\"}},[_c('b',[_vm._v(\"Actividad:\")]),_vm._v(\" \"+_vm._s(_vm.txtactividad)+\"\\n                    \")])],1),_c('v-row',[_c('v-col',{attrs:{\"sm6\":\"\"}},[_c('b',[_vm._v(\"Año:\")]),_vm._v(\" \"+_vm._s(_vm.anno)+\"\\n                    \")]),_c('v-col',{attrs:{\"sm6\":\"\"}},[_c('b',[_vm._v(\"Mes:\")]),_vm._v(\" \"+_vm._s(_vm.nombremes)+\"\\n                    \")])],1)],1)],1),_c('v-card',[_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"sm6\":\"\"}},[_c('v-textarea',{attrs:{\"filled\":\"\",\"name\":\"input-5-2\",\"label\":\"Logros\",\"readonly\":_vm.soloLectura},model:{value:(_vm.logros),callback:function ($$v) {_vm.logros=$$v},expression:\"logros\"}})],1),_c('v-col',{attrs:{\"sm6\":\"\"}},[_c('v-textarea',{attrs:{\"filled\":\"\",\"name\":\"input-5-2\",\"label\":\"Necesidades\",\"readonly\":_vm.soloLectura},model:{value:(_vm.necesidades),callback:function ($$v) {_vm.necesidades=$$v},expression:\"necesidades\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"sm6\":\"\"}},[_c('v-textarea',{attrs:{\"filled\":\"\",\"name\":\"input-5-2\",\"label\":\"Alertas\",\"readonly\":_vm.soloLectura},model:{value:(_vm.alertas),callback:function ($$v) {_vm.alertas=$$v},expression:\"alertas\"}})],1),_c('v-col',{attrs:{\"sm6\":\"\"}},[_c('v-textarea',{attrs:{\"filled\":\"\",\"name\":\"input-5-2\",\"label\":\"Ampliación de la información\",\"readonly\":_vm.soloLectura},model:{value:(_vm.ampliacioninfo),callback:function ($$v) {_vm.ampliacioninfo=$$v},expression:\"ampliacioninfo\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"sm12\":\"\"}},[_c('span',[_vm._v(\"Archivo de Soporte\")]),_c('adjuntarArchivos',{attrs:{\"item\":_vm.archivo,\"placeholder\":'Seleccione el Archivo de Soporte',\"tipoarchivo\":'.pdf'}}),(_vm.soloLectura == false)?_c('v-icon',{attrs:{\"color\":\"primary\",\"disabled\":_vm.archivo.file_name == '' || (_vm.codigo == '' || _vm.codigo == '0')},on:{\"click\":function($event){return _vm.abrirDialogoElimFile(_vm.archivo.file_name, 'archivo')}}},[_vm._v(\"\\n                            cancel\\n                        \")]):_vm._e()],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),(_vm.soloLectura == false)?_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.saveitem}},[_vm._v(\"Actualizar Detalle\")]):_vm._e()],1)],1)],1),_c('v-dialog',{attrs:{\"width\":\"550\"},model:{value:(_vm.dialog_deletefile),callback:function ($$v) {_vm.dialog_deletefile=$$v},expression:\"dialog_deletefile\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline red--text\"},[_vm._v(\"Eliminar Archivo\")])]),_c('v-card-text',[_vm._v(\"\\n                    ¿Esta seguro de eliminar el Archivo \"+_vm._s(_vm.filedelete)+\" definitivamente?.\\t\\t\\t\\t\\t\\n                \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog_deletefile=false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":_vm.eliminarArchivo}},[_vm._v(\"Eliminar\")])],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"800px\"},model:{value:(_vm.dialog_vobosubdir),callback:function ($$v) {_vm.dialog_vobosubdir=$$v},expression:\"dialog_vobosubdir\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"Observación SubDirección Científica\")])]),_c('v-card-text',[_c('v-row',[_c('v-textarea',{attrs:{\"filled\":\"\",\"name\":\"input-7-4\",\"label\":\"Observación\",\"readonly\":_vm.readvbsubdir},model:{value:(_vm.obssubdircientifica),callback:function ($$v) {_vm.obssubdircientifica=$$v},expression:\"obssubdircientifica\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),(!_vm.readvbsubdir)?_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){return _vm.actualizaObs('SC')}}},[_vm._v(\"Guardar\")]):_vm._e(),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog_vobosubdir=false}}},[_vm._v(\"Cancelar\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\nimport configService from './config'\r\n\r\nconst proyectosegdetService = {}\r\n\r\n  proyectosegdetService.getData = function(){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/ProyectosSegDet',\r\n        dataType: \"json\"\r\n        /*,\r\n        headers:authHeader*/\r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  proyectosegdetService.BuscarXItem = function(codigo,anno,mes){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/SegDetXItem',\r\n        dataType: \"json\",\r\n        data: {\r\n            codigo: codigo,\r\n            anno: anno,\r\n            mes:mes          \r\n        }\r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  proyectosegdetService.addupdData = function(data){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/addupdProyectoSegDet',\r\n        dataType: \"json\",       \r\n        data: {\r\n          data: data                 \r\n        }\r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  proyectosegdetService.uploadFile = function(codigo, File){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/addupdProyectoSegDet',\r\n        dataType: \"json\",\r\n        data: {\r\n          codigo: codigo,\r\n          anno:anno,\r\n          mes:mes,\r\n          file:File\r\n\r\n        }\r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  proyectosegdetService.deleteFile = function(codigo,anno,mes,ruta,archivo){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/deleteFileSegDet',\r\n        dataType: \"json\",       \r\n        data: {\r\n          codigo: codigo  ,\r\n          anno:anno,  \r\n          mes:mes,\r\n          ruta:ruta,\r\n          archivo:archivo     \r\n        }\r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  proyectosegdetService.obsSubDirCientifica = function(codigo,anno,mes,observacion){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/obsSubDirCientifica',\r\n        dataType: \"json\",       \r\n        data: {\r\n          codigo:codigo,\r\n          anno:anno,  \r\n          mes:mes,\r\n          obssubdircientifica:observacion\r\n        }\r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n  \r\n\r\n  export default proyectosegdetService","<template>\r\n  <v-container fluid>\r\n      <v-form>       \r\n        <v-card\r\n            color=\"transparent\"                \r\n        >\r\n            <v-card-title>\r\n                Detalle Seguimiento\r\n            \r\n                <v-spacer></v-spacer>\r\n\r\n                <v-btn class=\"mx-2\" fab dark small \r\n                    :color=\"getColor(obssubdircientifica)\"\t\r\n                    @click=\"dialog_vobosubdir=true\"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                >\r\n                    <v-icon dark>science</v-icon>\r\n                </v-btn>\r\n            \r\n            </v-card-title>                \r\n            <v-card-text>                        \r\n                <v-row>\r\n                    <v-col sm12>\r\n                        <b>Actividad:</b> {{ txtactividad }}\r\n                    </v-col>\r\n                </v-row>\r\n                <v-row>    \r\n                    <v-col sm6>\r\n                        <b>Año:</b> {{ anno }}\r\n                    </v-col>\r\n                    <v-col sm6>\r\n                        <b>Mes:</b> {{ nombremes }}\r\n                    </v-col>\r\n                </v-row>                  \r\n            </v-card-text>    \r\n        </v-card>\r\n        <v-card>\r\n            <v-card-text>\r\n                <v-row>\r\n                    <v-col sm6>\r\n                        <v-textarea\t\r\n                            filled\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                            name=\"input-5-2\"\r\n                            label=\"Logros\"\r\n                            v-model=\"logros\" \r\n                            :readonly=\"soloLectura\"\r\n                        ></v-textarea>\r\n                    </v-col>  \r\n                    <v-col sm6>\r\n                        <v-textarea\t\r\n                            filled\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                            name=\"input-5-2\"\r\n                            label=\"Necesidades\"\r\n                            v-model=\"necesidades\"   \r\n                            :readonly=\"soloLectura\"                                                    \r\n                        ></v-textarea>\r\n                    </v-col>   \r\n                </v-row>               \r\n                <v-row>\r\n                    <v-col sm6>\r\n                        <v-textarea\t\r\n                            filled\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                            name=\"input-5-2\"\r\n                            label=\"Alertas\"\r\n                            v-model=\"alertas\"   \r\n                            :readonly=\"soloLectura\"                                                 \r\n                        ></v-textarea>\r\n                    </v-col>\r\n                    <v-col sm6>\r\n                        <v-textarea\t\r\n                            filled\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                            name=\"input-5-2\"\r\n                            label=\"Ampliación de la información\"\r\n                            v-model=\"ampliacioninfo\" \r\n                            :readonly=\"soloLectura\"                                                    \r\n                        ></v-textarea>\r\n                    </v-col>    \r\n                </v-row>               \r\n                <v-row>\r\n                    <v-col sm12>\r\n                        <span>Archivo de Soporte</span>\r\n                        <adjuntarArchivos \r\n                            :item=\"archivo\" \r\n                            :placeholder=\"'Seleccione el Archivo de Soporte'\"\r\n                            :tipoarchivo=\"'.pdf'\"\t\t\t\t\t\t\t\t\t\t\t\t\r\n                        />\r\n                        <v-icon color=\"primary\" \r\n                            :disabled=\"archivo.file_name == '' || (codigo == '' || codigo == '0')\"\r\n                            @click=\"abrirDialogoElimFile(archivo.file_name, 'archivo')\"\r\n                            v-if=\"soloLectura == false\"\r\n                        >\r\n                            cancel\r\n                        </v-icon>                        \r\n                    </v-col>    \r\n                </v-row>    \r\n            </v-card-text>\r\n            <v-card-actions>\r\n                <v-spacer></v-spacer>                \r\n                <v-btn color=\"primary\" v-if=\"soloLectura == false\" text @click=\"saveitem\">Actualizar Detalle</v-btn>\r\n            </v-card-actions>\r\n        </v-card> \r\n        </v-form>\r\n\r\n        <v-dialog v-model=\"dialog_deletefile\" width=\"550\">\r\n\r\n            <v-card>\r\n\r\n                <v-card-title>\r\n                    <span class=\"headline red--text\">Eliminar Archivo</span>\r\n                </v-card-title>\r\n\r\n                <v-card-text>\r\n                    ¿Esta seguro de eliminar el Archivo {{ filedelete }} definitivamente?.\t\t\t\t\t\r\n                </v-card-text>\r\n\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"primary\" dark text @click=\"dialog_deletefile=false\">Cancelar</v-btn>\r\n                    <v-btn color=\"red\" text @click=\"eliminarArchivo\" >Eliminar</v-btn>\r\n                </v-card-actions>\r\n\r\n            </v-card>\r\n\r\n        </v-dialog>\r\n\r\n        <v-dialog v-model=\"dialog_vobosubdir\" persistent max-width=\"800px\">\r\n\r\n          \t<v-card>\r\n                <v-card-title>\r\n                    <span class=\"headline\">Observación SubDirección Científica</span>\r\n                </v-card-title>  \r\n\t\t\t\t<v-card-text>\r\n                    <v-row>\r\n                        <v-textarea\t\r\n                            filled\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                            name=\"input-7-4\"\r\n                            label=\"Observación\"\r\n                            v-model=\"obssubdircientifica\"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                            :readonly=\"readvbsubdir\"\r\n                        ></v-textarea>\r\n                    </v-row>\t\t\t\t\t\r\n\t\t\t\t</v-card-text>\r\n\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t<v-btn color=\"primary\" dark text @click=\"actualizaObs('SC')\" v-if=\"!readvbsubdir\">Guardar</v-btn>\r\n\t\t\t\t\t<v-btn color=\"primary\" dark text @click=\"dialog_vobosubdir=false\">Cancelar</v-btn>\t\t\t\t\r\n\t\t\t\t</v-card-actions>\r\n          \t</v-card>\r\n\r\n        </v-dialog>\t\r\n\r\n  </v-container>    \r\n</template>\r\n\r\n<script>\r\nimport proyectossegdetService from \"../servicios/ProyectosSegDetalleService\"\r\nimport ProyectosService from \"../servicios/ProyectosService\"\r\nimport FileExchange from '../servicios/FileExchange'\r\nimport areasService from \"../servicios/AreasService\"\r\n\r\nexport default {\r\n    name: 'SeguimientoDet',\r\n    props: ['proyecto','codigo','txtactividad','anno','mes','readonly'],\r\n    components: { \r\n        'adjuntarArchivos' : () => import('@/components/AdjuntarArchivos')\t\t\t \r\n    },\r\n    data(){\r\n\r\n        return {\r\n            loading: false,\r\n            convenioproyecto:'',\r\n            nombreproyecto:'',\r\n            codigocoordinador:'', \r\n            logros:'',\r\n            necesidades:'',\r\n            alertas:'',\r\n            ampliacioninfo:'',\r\n            archivo:{file_name:'',file_path:'',file_name_tmp:''},\r\n            nombremes:'',\r\n            rutasarchivogen:'',\r\n\r\n            filedelete:'',\r\n            tipofiledelete:'',\r\n            dialog_deletefile:'',\r\n\r\n            obssubdircientifica:'',\r\n            dialog_vobosubdir:false,\r\n            readvbsubdir:true,\r\n\r\n            usuarioDirCientifica:'',\r\n            usuarioPlaneacion:'',\r\n            usuaactual:'',\r\n            soloLectura:false,\r\n\r\n        }\r\n    },\r\n\r\n    methods: {\r\n\r\n         devolverMes(){\r\n            \r\n            let nommes = '' \r\n\r\n            switch (this.mes) {\r\n                case 1:\r\n\r\n                    nommes = 'ENERO'\r\n                    break\r\n\r\n                case 2:\r\n\r\n                    nommes = 'FEBRERO'\r\n                    break\r\n\r\n                case 3:\r\n                    \r\n                    nommes = 'MARZO'\r\n                    break\r\n\r\n                case 4:\r\n                    \r\n                    nommes = 'ABRIL'\r\n                    break    \r\n\r\n                case 5:\r\n                    \r\n                    nommes = 'MAYO'\r\n                    break    \r\n\r\n                case 6: \r\n                    \r\n                    nommes = 'JUNIO'\r\n                    break\r\n\r\n                case 7:\r\n                    \r\n                    nommes = 'JULIO'\r\n                    break\r\n\r\n                case 8:\r\n                    \r\n                    nommes = 'AGOSTO'\r\n                    break\r\n\r\n                case 9:\r\n                    \r\n                    nommes = 'SEPTIEMBRE'\r\n                    break \r\n\r\n                case 10:\r\n                    \r\n                    nommes = 'OCTUBRE'\r\n                    break\r\n\r\n                case 11:\r\n                    \r\n                    nommes = 'NOVIEMBRE'\r\n                    break\r\n\r\n                case 12:\r\n                    \r\n                    nommes = 'DICIEMBRE'\r\n                    break\r\n\r\n                default:\r\n                    break\r\n            }\r\n\r\n            this.nombremes = nommes\r\n        },\r\n\r\n        showMessage (snack, time, color, text) {\r\n\r\n           this.$root.$emit('showSnack', {snack: snack, time: time, color: color, text: text})\r\n\r\n        },\r\n        \r\n        envioNotificaciones(mensajenotificacion,asuntocorreo, mensajecorreo){\r\n\r\n            this.$emit('envioNotificaciones', {mensajenotificacion: mensajenotificacion,asuntocorreo: asuntocorreo, mensajecorreo: mensajecorreo})\r\n\r\n        },\r\n        \r\n        envionotificacionesUsuarios(values){ // mensajenotificacion,asuntocorreo, mensajecorreo){\r\n\t\t\t\t\t\t\t\t\r\n            //se envia notificacion al coordinador o encargado\r\n            var codigopersona = 0\r\n            var codigoopcion = 16 //proyectos\r\n            var numerointerno = this.convenioproyecto\t\t\t\t\r\n\r\n            //se envia notificacion a subdirección científica\t\t\t\t\r\n            if(this.usuarioDirCientifica != '' && this.usuarioDirCientifica != '0'){\r\n\r\n                codigopersona = this.usuarioDirCientifica\r\n                this.$root.$emit('enviarNotificaciones', {codigopersona: codigopersona, mensajenotificacion: values.mensajenotificacion, \r\n                                    asuntocorreo: values.asuntocorreo, mensajecorreo: values.mensajecorreo,\r\n                                    codigoopcion:codigoopcion,numerointerno:numerointerno})\r\n            } \r\n            \r\n        },\r\n            \r\n        traerDataProyecto(){\r\n\r\n            var _this = this\r\n           \r\n            _this.convenioproyecto = ''\r\n            _this.nombreproyecto = ''\r\n            _this.codigocoordinador = '' \r\n            \r\n            ProyectosService.getDataXId(this.proyecto)\r\n                .then(function(res) {\r\n\r\n                    if (res.request) {\r\n                                    \r\n                        if(res.data){\r\n\r\n                            _this.convenioproyecto = res.data.data[0].convenio\r\n                            _this.nombreproyecto = res.data.data[0].nombre\r\n                            _this.codigocoordinador = res.data.data[0].codigocoordinador                            \r\n\r\n                        }\r\n\r\n                    }                    \r\n                    \r\n            }).catch(function(err) {\r\n                    \r\n            })\r\n        },\r\n\r\n        traerData() {\r\n\r\n            var _this = this\r\n            this.loading = true\r\n\r\n            this.logros = ''\r\n            this.necesidades = ''\r\n            this.alertas = ''\r\n            this.ampliacioninfo = ''\r\n            this.archivo = {file_name:'',file_path:'',file_name_tmp:''}\r\n            this.rutasarchivogen = ''\r\n\r\n            proyectossegdetService.BuscarXItem(this.codigo,this.anno,this.mes)\r\n                .then(function(res) {\r\n\r\n                    if (res.request) {                       \r\n                       \r\n                        if(res.data){\r\n\r\n                            _this.dataseg = res.data.data\r\n\r\n                            console.log(_this.dataseg)\r\n                            _this.logros=_this.dataseg[0].logros\r\n                            _this.necesidades=_this.dataseg[0].necesidades\r\n                            _this.alertas=_this.dataseg[0].alertas\r\n                            _this.ampliacioninfo=_this.dataseg[0].ampliacioninfo\r\n                            _this.obssubdircientifica =_this.dataseg[0].obssubdircientifica  == null ? '' :  _this.dataseg[0].obssubdircientifica\r\n                            _this.rutasarchivogen = _this.dataseg[0].rutasarchivogen\r\n\r\n                            let archivogen =_this.dataseg[0].archivo                           \r\n                            \r\n                            _this.archivo={file_name:archivogen,file_path:(archivogen != '' ? _this.rutasarchivogen : ''),file_name_tmp:''}\r\n                            \r\n                            _this.traerDataActividades(_this.actividad.secuencia)\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                    _this.loading = false                \r\n                    \r\n            }).catch(function(err) {\r\n\r\n                    _this.loading = false                \r\n                \r\n            })\r\n\r\n        },\r\n\r\n        saveitem(){\r\n\r\n            this.loading = true             \r\n\r\n            var _this = this \r\n            var data = {codigo:this.codigo,anno:this.anno,mes:this.mes,logros: this.logros,\r\n                        necesidades:this.necesidades,alertas:this.alertas,\r\n                        ampliacioninfo:this.ampliacioninfo,archivo:this.archivo}\r\n\r\n            proyectossegdetService.addupdData(data)\r\n\t              .then(function(res) {\r\n\r\n\t              \t  if (res.response) {                           \r\n                            \r\n                          var error = res.response.data.message\r\n                          _this.showMessage(true,7000,'error',error)\r\n\r\n                      } else if(res.statusText){\r\n\t              \t  \t\t\r\n\t              \t  \t\tvar mensaje = ''\r\n\t\t\t\t\t\t\tvar accbitacora = ''\r\n\r\n\t              \t  \t\t_this.showMessage(true,3000,'success','Se Actualizó el Detalle del Seguimiento para la Actividad del Proyecto')\r\n                           \r\n                            _this.traerData()              \t  \t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n                            _this.agregaBitacora('ACTUALIZACION','SE ACTUALIZO EL DETALLE DEL SEGUIMIENTO DE LA ACTIVIDAD ' +\r\n                                                 _this.txtactividad + ', PARA EL AÑO ' + _this.anno + 'Y MES ' + _this.mes + \r\n                                                 ' DEL PROYECTO CON # DE CONVENIO: ' + _this.convenioproyecto + \r\n                                                 ' Y NOMBRE: ' + _this.nombreproyecto)                                                 \r\n                                                       \r\n                            var mensajecorreo = \"Cordial Saludo,<br><br> \" +\r\n                                            \"Se Actualizó el detalle del seguimiento de la actividad '\" + _this.txtactividad + \r\n                                            \"' para el año '\" + _this.anno + \"' y mes '\" + _this.mes + \"' del Proyecto con # de Convenio \" + \r\n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\r\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \r\n                                            \"<b>SINCHI</b><br><br> \" +\r\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\r\n                                            \"correo electrónico, no lo responda.</i> <br>\"\r\n                        \r\n                            var mensajenotifica = \"Se Actualizó el detalle del seguimiento de la actividad '\" + _this.txtactividad + \r\n                                                  \"' para el año '\" + _this.anno + \"' y mes '\" + _this.mes + \"' del Proyecto con # de Convenio \" + \r\n                                                  _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto\r\n\r\n                            _this.envioNotificaciones(mensajenotifica,'Actualización Detalle de Seguimiento de una Actividad de un Proyecto',mensajecorreo)\r\n                                \r\n                            _this.envionotificacionesUsuarios({mensajenotificacion:mensajenotifica, \r\n                                                   asuntocorreo: 'Actualización Detalle de Seguimiento de una Actividad de un Proyecto',\r\n                                                   mensajecorreo:mensajecorreo})\r\n                                                   \r\n\t              \t  }else{\t                                         \t\r\n\r\n\t                  \t\t_this.showMessage(true,3000,'error',res.message) \t                  \t\r\n\t                  }\r\n\r\n\t                    _this.loading = false\t                 \r\n\t                   \t\r\n\t          \t}).catch(function(err) {\r\n\r\n\t          \t\t_this.showMessage(true,3000,'error',err)\t    \r\n\t          \t\t_this.loading = false          \t\r\n\t          \t\t\r\n\t\t\t\t})\r\n\r\n        },        \r\n\r\n        abrirDialogoElimFile(file, tipoarchivo){\r\n\r\n            this.filedelete = file\r\n            this.tipofiledelete = tipoarchivo\r\n\r\n            this.dialog_deletefile = true\r\n\r\n\t\t},\r\n\r\n        async eliminarArchivo(){\r\n\r\n            let ruta = '\\proyectos\\\\S' + this.codigo.toString() + this.anno.toString() + this.mes.toString() + '\\\\'\r\n\r\n            const result = await proyectossegdetService.deleteFile(this.codigo,this.anno,this.mes,ruta, this.filedelete)\r\n            \r\n            if(result.data){\r\n                if(result.data.tipo == 'error'){\r\n\r\n                    this.showMessage(true,4000,'error',result.data.respuesta)\r\n\r\n                } else if(result.data.tipo == 'success'){\r\n                    \r\n                    switch (this.tipofiledelete) {\r\n\r\n                        case 'archivo':\r\n                            \r\n                            this.archivo = {file_name:'',file_path:'',file_name_tmp:''}\r\n                            break                       \t\r\n                    \r\n                        default:\r\n                            break\r\n                    }\r\n\r\n                    this.showMessage(true,4000,'success',result.data.respuesta)\r\n\r\n                } else {\r\n\r\n                    this.showMessage(true,4000,'error','Se presentó un error al intentar realizar la operación')\r\n\r\n                }\r\n            \r\n            } else {\r\n\r\n                this.showMessage(true,4000,'error','Se presentó un error al intentar realizar la operación')\r\n\r\n            }\r\n\r\n            this.dialog_deletefile = false\r\n\r\n        },\r\n        \r\n        getColor(observacion) {\r\n\r\n            if(observacion=='')  \r\n                return 'grey'\r\n            else {return 'blue'}           \r\n\r\n        },\r\n        \r\n        async traeUsuarios(){            \r\n\r\n            this.usuarioDirCientifica = 0\r\n            this.usuarioPlaneacion = 0\r\n\r\n            try{\r\n\r\n                let dircientifica = await areasService.getUserXArea(3) //dirección cientifica\r\n                let planeacion = await areasService.getUserXArea(4) //planeacion               \r\n\r\n                if(dircientifica.data)\r\n                    this.usuarioDirCientifica = dircientifica.data.data[0].userid\r\n                    \r\n                if(planeacion.data)\r\n                    this.usuarioPlaneacion = planeacion.data.data[0].userid    \r\n\r\n                this.usuaactual = this.$session.get('usuarioid')\r\n\r\n                this.readvbsubdir = true\r\n                this.soloLectura = false                               \r\n                    \r\n                if(this.usuaactual == this.usuarioDirCientifica){\r\n                    this.readvbsubdir = false\t\r\n                    this.soloLectura = true\r\n                }\r\n\r\n                if(this.usuaactual == this.usuarioPlaneacion){                    \t\r\n                    this.soloLectura = true\r\n                }\r\n\r\n\r\n            } catch (error) {\t\r\n\r\n            }\r\n            finally {\r\n\r\n            }\r\n\r\n        },\r\n        \r\n        actualizaObs(tipo){\r\n\r\n            var nombretipo = ''            \r\n            var observacion = ''\r\n\r\n            var datbit = ''\r\n\r\n            if(tipo == 'SC'){\r\n\r\n                nombretipo = 'DE SUBDIRECCIÓN CIENTÍFICA'                \r\n                observacion = this.obssubdircientifica\r\n\r\n            } \r\n\r\n            if(observacion == ''){\r\n\r\n                this.showMessage(true,4000,'error','Debe ingresar la Observación')\r\n                return\r\n            }\r\n\r\n            datbit = 'Observación ' + nombretipo + ', Observación: ' + observacion +')'\r\n\r\n            var _this = this\r\n            \r\n            console.log(this.codigo,this.anno,this.mes,observacion)\r\n\r\n            proyectossegdetService.obsSubDirCientifica(this.codigo,this.anno,this.mes,observacion)\r\n                .then(function(res) {\r\n\r\n                    if (res.response) {                           \r\n                        \r\n                        var error = res.response.data.message\r\n                        _this.showMessage(true,3000,'error',error)\r\n\r\n                    } else if(res.statusText){\r\n                        \r\n                        var mensaje = ''\r\n                        var accbitacora = ''                            \r\n\r\n                        _this.showMessage(true,3000,'success','Se actualizó la observación ' + nombretipo + ' con éxito')\r\n                            \r\n                        _this.agregaBitacora('OBSERVACIÓN ' + nombretipo ,datbit)                       \r\n                        \r\n                        var mensajecorreo = \"Cordial Saludo,<br><br> \" +\r\n                                            \"Se Actualizó la Observación \" + nombretipo + \" del seguimiento de la actividad '\" + _this.txtactividad + \r\n                                            \"' para el año '\" + _this.anno + \"' y mes '\" + _this.mes + \"' del Proyecto con # de Convenio \" + \r\n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto + \t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \r\n                                            \"<b>SINCHI</b><br><br> \" +\r\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\r\n                                            \"correo electrónico, no lo responda.</i> <br>\"\r\n\r\n                        var mensajenotifica = 'Se Actualizó la Observación ' + nombretipo + ' del seguimiento de la actividad ' + _this.txtactividad + \r\n                                              ' para el año ' + _this.anno + ' y mes ' + _this.mes + ' del Proyecto con # de Convenio ' + \r\n                                              _this.convenioproyecto + ', Nombre: ' + _this.nombreproyecto\r\n\r\n                         _this.envioNotificaciones(mensajenotifica,'Actualización de Observación de un Seguimiento de una Actividad',mensajecorreo)\r\n                        \r\n                        _this.dialog_vobosubdir = false\r\n\r\n                    }else{\t                                         \t\r\n\r\n                        _this.showMessage(true,3000,'error',res.message) \t                  \t\r\n                    }                                    \r\n                    \r\n            }).catch(function(err) {\r\n\r\n                _this.showMessage(true,3000,'error',err)                          \t\r\n                \r\n            })\r\n\r\n        },\r\n            \r\n        agregaBitacora(accion, detalle){              \r\n\r\n            var data = {modulo:'SEGUIMIENTO PLAN DE ACCION PROYECTOS',accion:accion,detalle:detalle}\r\n            \r\n            this.$root.$emit('agregaBitacora', data)\r\n\r\n        },\r\n    },\r\n\r\n    watch: {\r\n\r\n        proyecto: function (val) {\r\n\r\n            if(val!=0){   \r\n                \r\n                this.traerDataProyecto()               \r\n\r\n            }            \r\n        },\r\n\r\n        codigo: function (val) {\r\n\r\n            if(val!=0){\r\n                \r\n                this.traerData()               \r\n\r\n            }            \r\n        },\r\n        \r\n        anno: function (val) {\r\n\r\n            if(val!=0){\r\n                \r\n                this.traerData()               \r\n\r\n            }            \r\n        },\r\n\r\n        mes: function (val) {\r\n\r\n            if(val!=0){\r\n\r\n                this.devolverMes()\r\n                this.traerData()               \r\n\r\n            }            \r\n        },\r\n    },\r\n\r\n    mounted() {\r\n\r\n        this.traerDataProyecto()\r\n        this.traerData()\r\n        this.devolverMes()\r\n        this.traeUsuarios()\r\n        \r\n    },\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosSegDetalle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosSegDetalle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CProyectosSegDetalle.vue?vue&type=template&id=601aa720&\"\nimport script from \"./CProyectosSegDetalle.vue?vue&type=script&lang=js&\"\nexport * from \"./CProyectosSegDetalle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}