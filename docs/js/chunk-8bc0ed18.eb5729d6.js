(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8bc0ed18"],{7519:function(e,t,a){"use strict";var l=a("f718"),i=a.n(l);i.a},d61f:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-layout",{attrs:{"align-center":"","mb-3":""}},[a("h2",[e._v("Educación "+e._s(e.titulo))]),e.selRol?a("div",["seleccion"===e.criterio?a("v-layout",{attrs:{"ml-4":"","align-center":""}},[a("div",[e._v("%Peso: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.porcentaje,expression:"porcentaje"}],staticStyle:{"background-color":"white",padding:"5px","margin-left":"5px",width:"80px","border-radius":"5px"},attrs:{type:"number"},domProps:{value:e.porcentaje},on:{input:function(t){t.target.composing||(e.porcentaje=t.target.value)}}}),a("span",{staticClass:"ml-3",class:{errorClass:e.calcrestante>0}},[e._v("Pendiente por asignar: "+e._s(e.calcrestante)+"%")])]):e._e()],1):e._e()]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",{attrs:{"align-center":"",wrap:""}},[a("v-flex",[a("v-select",{staticClass:"eduInput",attrs:{items:e.tipoEd,label:"Tipo de educación",filled:"",rules:e.tipoEdRules,required:""},model:{value:e.selEd,callback:function(t){e.selEd=t},expression:"selEd"}})],1),a("v-flex",[a("v-select",{staticClass:"eduInput",attrs:{items:e.niveles,label:"Estudio realizado",filled:"",rules:e.selNivelRules,required:""},model:{value:e.selNivel,callback:function(t){e.selNivel=t},expression:"selNivel"}})],1),e.nivProf.includes(e.selNivel)?a("v-flex",[a("v-autocomplete",{staticClass:"eduInput",attrs:{items:e.titulos,label:"Profesión afínes",filled:""},model:{value:e.selTitulo,callback:function(t){e.selTitulo=t},expression:"selTitulo"}})],1):e._e(),e.nivPos.includes(e.selNivel)?a("v-flex",[a("v-select",{staticClass:"eduInput",attrs:{items:e.posgrados,label:"Tipo",filled:""},model:{value:e.selPosgrado,callback:function(t){e.selPosgrado=t},expression:"selPosgrado"}})],1):e._e(),e.textTituloObt?a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Digite profesión afínes",maxlength:"250",counter:"",filled:""},model:{value:e.selTitulo,callback:function(t){e.selTitulo=t},expression:"selTitulo"}})],1):e._e(),e.selRol&&"seleccion"===e.criterio?a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje unidad",type:"number",filled:"",rules:e.pUndRules,required:""},model:{value:e.puntajeUnd,callback:function(t){e.puntajeUnd=t},expression:"puntajeUnd"}})],1):e._e(),e.selRol&&"seleccion"===e.criterio?a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje max",type:"number",filled:"",rules:e.pMaxRules,required:""},model:{value:e.puntajeMax,callback:function(t){e.puntajeMax=t},expression:"puntajeMax"}})],1):e._e()],1)],1),a("v-layout",{attrs:{"justify-center":""}},[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:e.addEstudio}},[e._v("Agregar")])],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.compHeaders,items:e.educacion,"items-per-page":5,"item-key":"titulo + tipo","show-expand":""!==e.evaluacion,dense:""},scopedSlots:e._u([{key:"expanded-item",fn:function(t){var l=t.headers,i=t.item;return[a("td",{attrs:{colspan:l.length}},[a("v-textarea",{attrs:{label:"Observacion",rows:"3",maxlength:"200",counter:""},model:{value:i.observacion,callback:function(t){e.$set(i,"observacion",t)},expression:"item.observacion"}})],1)]}},{key:"item.actions",fn:function(t){var l=t.item;return[a("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error"},on:{click:function(t){return e.delEstudio(l)}}},[a("v-icon",{attrs:{small:"",left:""}},[e._v("delete")]),e._v("Eliminar\n        ")],1)]}},{key:"item.evaluacion",fn:function(t){var l=t.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",attrs:{label:l.cumple?"Cumple":"No cumple"},model:{value:l.cumple,callback:function(t){e.$set(l,"cumple",t)},expression:"item.cumple"}}),a("v-checkbox",{attrs:{label:"No aplica"},model:{value:l.noAplica,callback:function(t){e.$set(l,"noAplica",t)},expression:"item.noAplica"}})],1)]}}])}),a("v-checkbox",{staticClass:"ma-4",attrs:{label:"No aplica"},model:{value:e.noaplica,callback:function(t){e.noaplica=t},expression:"noaplica"}})],1)],1)},i=[],s={props:["selRol","educacion","evaluacion"],data:function(){var e=this;return{noaplica:!1,tipoEd:["Formal","No formal"],nivBasicos:["Sin formación académica","Básica primaria","Bachiller"],nivTec:["Técnico","Tecnológico"],nivProf:["Profesional"],nivPos:["Postgradual"],nivelesNoFormales:["curso","seminario","diplomado"],titulos:["Ingeniero en sistemas","Ingeniero civil","Arquitecto","Abogado"],posgrados:["Maestria","Especialización","Doctorado",""],selPosgrado:"",selEd:"",selNivel:"",selTitulo:"",puntajeMax:"",puntajeUnd:"",headerSelected:[],headers:[{text:"Obs",value:"data-table-expand"},{text:"Tipo estudio",align:"left",sortable:!1,value:"tipoEd"},{text:"Nivel",align:"left",sortable:!1,value:"tipo"},{text:"Titulo obtenido",align:"left",sortable:!1,value:"titulo",class:"wrap"},{text:"Puntaje und",align:"left",sortable:!1,value:"puntajeUnd"},{text:"Puntaje máx",align:"left",sortable:!1,value:"puntajeMax"},{text:"Evaluación",align:"center",sortable:!1,value:"evaluacion"},{text:"Acciones",align:"center",sortable:!1,value:"actions"}],valid:!0,tipoEdRules:[function(e){return!!e||"Tipo de educación es requerido"}],selNivelRules:[function(e){return!!e||"Nivel de educacion es requerido"}],pMaxRules:[function(t){return!(!t&&e.selRol)||"Puntaje maximo es requerido"},function(e){return!(isNaN(e)||e<0||e>100)||"Debe ser de 0 - 100"},function(t){return!(+t+ +e.acumExp>100)||"Acumulado es mayor a 100"}],pUndRules:[function(t){return!(!t&&e.selRol)||"Puntaje unidad es requerido"},function(e){return!(isNaN(e)||e<0||e>100)||"Debe ser de 0 - 100"}],obsDialog:!1}},methods:{addEstudio:function(){if(this.$refs.form.validate()){var e="".concat(this.selPosgrado,"  ").concat(this.selTitulo);e=e.trim();var t={tipoEd:this.selEd,tipo:this.selNivel,titulo:e,cumple:!1,noAplica:!1,observacion:"",puntajeUnd:this.puntajeUnd,puntajeMax:this.puntajeMax};console.log(t),this.selRol?this.$emit("addEstudioRol",t):this.$emit("addEstudio",t)}},resetForm:function(){this.selEd="",this.selNivel="",this.selTitulo="",this.selPosgrado="",this.puntajeUnd="",this.puntajeMax="",this.$refs.form.resetValidation()},delEstudio:function(e){console.log(e);var t=confirm("Desea eliminar este registro de estudio");if(t){var a=this.educacion.indexOf(e);this.selRol?this.$emit("delEstudioRol",a):this.$emit("delEstudio",a)}}},computed:{niveles:function(){if(!this.selEd)return[];var e=this.nivBasicos.concat(this.nivTec);return e=e.concat(this.nivProf),e=e.concat(this.nivPos),"Formal"===this.selEd?e:"No formal"===this.selEd?this.nivelesNoFormales:[]},nivTecPos:function(){return this.nivTec.concat(this.nivPos)},textTituloObt:function(){var e=this.nivBasicos;return!e.includes(this.selNivel)},porcentaje:{get:function(){return this.selRol?this.selRol.porcEdu:""},set:function(e){this.selRol&&(this.selRol.porcEdu=e)}},calcrestante:function(){if(this.selRol){var e=this.selRol;return 100-((e.porcEdu?Number(e.porcEdu):0)+(e.porcExp?Number(e.porcExp):0))}return 0},compHeaders:function(){var e=[];return"seleccion"!==this.criterio&&(e.push("puntajeUnd"),e.push("puntajeMax")),this.evaluacion||(e.push("data-table-expand"),e.push("evaluacion")),this.headers.filter((function(t){return!e.includes(t.value)}))},acumExp:function(){return this.educacion.reduce((function(e,t){return e+ +t.puntajeMax}),0)},titulo:function(){return this.selRol?" de ".concat(this.selRol.rol):""}}},o=s,n=(a("7519"),a("2877")),r=Object(n["a"])(o,l,i,!1,null,"258aff9e",null);t["default"]=r.exports},f718:function(e,t,a){}}]);
//# sourceMappingURL=chunk-8bc0ed18.eb5729d6.js.map