(function(t){function e(e){for(var o,i,s=e[0],c=e[1],l=e[2],d=0,u=[];d<s.length;d++)i=s[d],n[i]&&u.push(n[i][0]),n[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);p&&p(e);while(u.length)u.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,i=1;i<a.length;i++){var s=a[i];0!==n[s]&&(o=!1)}o&&(r.splice(e--,1),t=c(c.s=a[0]))}return t}var o={},i={app:0},n={app:0},r=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-01d25f0d":"3ac1834d","chunk-159b8c3b":"89d47e1e","chunk-1f76dbc1":"dad1bbe0","chunk-2d0af0a7":"6a3c0675","chunk-2d0b273b":"bfeb9312","chunk-2d0cf305":"dc48fda9","chunk-2d0da371":"adf36391","chunk-2d0dae63":"c3f6490d","chunk-2d0df2c6":"209d201f","chunk-2d0e57e2":"53c25871","chunk-2d21aef5":"799fe6d6","chunk-2d2245ed":"78af583b","chunk-2d225a13":"e0fe347a","chunk-2d22d799":"62619005","chunk-2d22d808":"ade8854e","chunk-62fadc7c":"a2be6398","chunk-71ce8316":"7b63e630","chunk-7712dcd0":"07d34471","chunk-7c55a8e9":"44e9f9c2","chunk-afb9bec2":"5c30064a","chunk-28543dde":"4ac8e217","chunk-c93501ec":"86abb4ee","chunk-2d0e1be2":"5213b083","chunk-2d20fa8a":"aaf2539a","chunk-78a1fb8c":"53a6a261","chunk-2d2380c4":"24a2e3d8","chunk-39c523ec":"8b3b9a14","chunk-0742f18b":"5c66b0a1","chunk-8e8671cc":"f3240297","chunk-2d0d0259":"7083f0bd","chunk-472c7470":"015745f2","chunk-d2053682":"7f6fd8f0"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-159b8c3b":1,"chunk-62fadc7c":1,"chunk-7c55a8e9":1,"chunk-afb9bec2":1,"chunk-28543dde":1,"chunk-c93501ec":1,"chunk-39c523ec":1,"chunk-0742f18b":1,"chunk-8e8671cc":1,"chunk-472c7470":1,"chunk-d2053682":1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=new Promise((function(e,a){for(var o="css/"+({}[t]||t)+"."+{"chunk-01d25f0d":"31d6cfe0","chunk-159b8c3b":"40d1679a","chunk-1f76dbc1":"31d6cfe0","chunk-2d0af0a7":"31d6cfe0","chunk-2d0b273b":"31d6cfe0","chunk-2d0cf305":"31d6cfe0","chunk-2d0da371":"31d6cfe0","chunk-2d0dae63":"31d6cfe0","chunk-2d0df2c6":"31d6cfe0","chunk-2d0e57e2":"31d6cfe0","chunk-2d21aef5":"31d6cfe0","chunk-2d2245ed":"31d6cfe0","chunk-2d225a13":"31d6cfe0","chunk-2d22d799":"31d6cfe0","chunk-2d22d808":"31d6cfe0","chunk-62fadc7c":"40d1679a","chunk-71ce8316":"31d6cfe0","chunk-7712dcd0":"31d6cfe0","chunk-7c55a8e9":"fe7c14f4","chunk-afb9bec2":"40d1679a","chunk-28543dde":"40d1679a","chunk-c93501ec":"40d1679a","chunk-2d0e1be2":"31d6cfe0","chunk-2d20fa8a":"31d6cfe0","chunk-78a1fb8c":"31d6cfe0","chunk-2d2380c4":"31d6cfe0","chunk-39c523ec":"ee0b1256","chunk-0742f18b":"40d1679a","chunk-8e8671cc":"40d1679a","chunk-2d0d0259":"31d6cfe0","chunk-472c7470":"40d1679a","chunk-d2053682":"40d1679a"}[t]+".css",n=c.p+o,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var l=r[s],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===o||d===n))return e()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){l=u[s],d=l.getAttribute("data-href");if(d===o||d===n)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var o=e&&e.target&&e.target.src||n,r=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete i[t],p.parentNode.removeChild(p),a(r)},p.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){i[t]=0})));var o=n[t];if(0!==o)if(o)e.push(o[2]);else{var r=new Promise((function(e,a){o=n[t]=[e,a]}));e.push(o[2]=r);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(t),l=function(e){d.onerror=d.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+o+": "+i+")");r.type=o,r.request=i,a[1](r)}n[t]=void 0}};var u=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(a,o,function(e){return t[e]}.bind(null,o));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var p=d;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var o=a("64a9"),i=a.n(o);i.a},"0772":function(t,e,a){},"0ab3":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getData:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/Ciudades",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getAllCiudades:function(){return new Promise((function(t,e){var a="".concat(n["a"].apiUrl,"/Ciudades");i.a.post(a).then((function(e){t(e)})).catch((function(t){e(t)}))}))},getDataxDepartamento:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/CiudadesxDepartamentos",dataType:"json",data:{departamento:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/guardarCiudad",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/delCiudad",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},"0ce6":function(t,e,a){"use strict";var o=a("c927"),i=a.n(o);i.a},"0eb0":function(t,e,a){"use strict";var o=a("bf63"),i=a.n(o);i.a},"0fd7":function(t,e,a){},"151a":function(t,e,a){},"15d3":function(t,e,a){},1711:function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getEstados:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/Estados",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getEstadosXTipo:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/EstadosXTipo",dataType:"json",data:{tipo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarEstado:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/guardarEstado",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelEstado:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/delEstado",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},"19ab":function(t,e,a){},"1d2c":function(t,e,a){"use strict";var o=a("cfa0"),i=a.n(o);i.a},"1dda":function(t,e,a){},"207e":function(t,e,a){"use strict";var o=a("27b2"),i=a.n(o);i.a},"20a0":function(t,e,a){},"223c":function(t,e,a){"use strict";var o=a("8398"),i=a.n(o);i.a},"27b2":function(t,e,a){},"289a":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getDataXId:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/AlertasXUsuario",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getDataXPersonal:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/AlertasXPersonal",dataType:"json",data:{codigopersonal:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/guardarUsuariosAlertas",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},"2a29":function(t,e,a){"use strict";a.r(e),a.d(e,"calcPuntaje",(function(){return n})),a.d(e,"getCarreras",(function(){return r})),a.d(e,"getMonth",(function(){return s}));var o=a("bc3a"),i=a.n(o);a("d89f");function n(t,e,a,o){return t>e?o>a?o:a:t===e?a:0}function r(){return new Promise((function(t,e){i.a.get("https://www.datos.gov.co/resource/shx5-k4uu.json").then((function(e){t(e)})).catch((function(t){e(t)}))}))}function s(t){var e=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return e[t]}},"2b41":function(t,e,a){"use strict";var o=a("78fe"),i=a.n(o);i.a},"2b9a":function(t,e,a){},"2d7e":function(t,e,a){"use strict";var o=a("20a0"),i=a.n(o);i.a},3006:function(t,e,a){},"31f1":function(t,e,a){"use strict";var o=a("9a37"),i=a.n(o);i.a},"340d":function(t,e,a){},"37bb":function(t,e,a){},"38f9":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getMetodosSeleccion:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/MetodosSeleccion",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarMetodoSeleccion:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/guardarMetodoSeleccion",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delMetodoSeleccion:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/delMetodoSeleccion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},"3bb9":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getData:function(t,e,a){return new Promise((function(o,r){i()({method:"POST",url:n["a"].apiUrl+"/ProyectosGrilla",dataType:"json",data:{tipo:t,convenio:e,nombreconvenio:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},getDataAll:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/Proyectos",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXId:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ProyectoXId",dataType:"json",data:{proyecto:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarData:function(t,e,a,o,r,s,c,l){return new Promise((function(d,u){i()({method:"POST",url:n["a"].apiUrl+"/guardarProyecto",dataType:"json",data:{data:e,poa:t,LineasInvPicia:a,AccionesPicia:o,IndicadoresPicia:r,LinInvPei:s,ProgramasPei:c,pilarespicia:l}}).then((function(t){d(t)})).catch((function(t){d(t)}))}))},DelData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/delProyecto",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},FtToPDF:function(t){return new Promise((function(e,a){i()({method:"get",url:n["a"].apiUrl+"/getFTPDF",data:{proyecto:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},actualizarTasa:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/actualizaTasa",dataType:"json",data:{proyecto:t,tasa:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},EstadoActual:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/EstadosActualProyecto",dataType:"json",data:{proyecto:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},actualizaVoBo:function(t,e,a){return new Promise((function(o,r){i()({method:"POST",url:n["a"].apiUrl+"/updateVoBoProyecto",dataType:"json",data:{proyecto:t,vistobueno:e,tipo:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},getDataXVoBo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/proyectosXVoBo",dataType:"json",data:{convenio:t,nombreconvenio:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},traePlanAdqXProyecto:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/buscarPlanAdqXproyecto",dataType:"json",data:{proyecto:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},proyectosFromSolicitud:function(t){return new Promise((function(e,a){i()({method:"GET",url:n["a"].apiUrl+"/proyectosFromSolicitud",dataType:"json",params:{id:t}}).then((function(t){e(t)})).catch((function(t){a(t)}))}))}};e["a"]=r},"42d3":function(t,e,a){},4306:function(t,e,a){},"434c":function(t,e,a){"use strict";var o=a("42d3"),i=a.n(o);i.a},4678:function(t,e,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return a(e)}function n(t){var e=o[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}i.keys=function(){return Object.keys(o)},i.resolve=n,t.exports=i,i.id="4678"},"499b":function(t,e,a){"use strict";var o=a("a012"),i=a.n(o);i.a},"4d90":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getData:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/ConveniosMarco",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXId:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/conveniomarcoXCodigo",dataType:"json",data:{convenio:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/guardarConvenioMarco",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/delConvenioMarco",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},"4e7b":function(t,e,a){"use strict";var o=a("dfda"),i=a.n(o);i.a},"4ffd":function(t,e,a){t.exports=a.p+"img/logo.758ed7bc.png"},5657:function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={BuscarPlanAdquisicion:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/BuscarPlanAdquisicion",dataType:"json",data:{planadquisicion:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},"56d7":function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var o=a("2b0e"),i=a("ce5b"),n=a.n(i),r=(a("bf40"),a("2e15")),s=a.n(r);o["default"].use(n.a);var c=new n.a({icons:{iconfont:"md"},lang:{locales:{es:s.a},current:"es"},theme:{themes:{light:{primary:"#943A4A",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}}}}),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[this.$session.get("logged")?a("toolbar"):t._e(),a("v-content",{attrs:{transition:"slide-x-transition"}},[a("router-view")],1),a("cfooter"),a("v-snackbar",{attrs:{right:"",timeout:t.timeout,top:"",vertical:"",color:t.snackColor,"multi-line":t.multiline},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("      \n      "+t._s(t.snackText)+"      \n  ")])],1)},d=[],u=a("bc3a"),p=a.n(u),m=a("d89f"),v={getBitacora:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Bitacora",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},addBitacora:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/AddBitacora",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},h=v,f={sendMail:function(t){return new Promise((function(e,a){p()({method:"get",url:m["a"].apiUrl+"/email",dataType:"json",params:{email:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},sendMailData:function(t,e,a,o,i){return new Promise((function(n,r){p()({method:"post",url:m["a"].apiUrl+"/email",dataType:"json",data:{email:t,nombre:e,asunto:a,mensaje:o,adjunto:i}}).then((function(t){n(t)})).catch((function(t){n(t)}))}))},sendMailDataExterno:function(t,e,a,o,i){return new Promise((function(n,r){p()({method:"post",url:m["a"].apiUrl+"/emailexterno",dataType:"json",data:{email:t,nombre:e,asunto:a,mensaje:o,adjunto:i}}).then((function(t){n(t)})).catch((function(t){n(t)}))}))}},g=f,b=a("7b20"),x=a("289a"),y={name:"App",components:{toolbar:function(){return a.e("chunk-1f76dbc1").then(a.bind(null,"d25a"))},cfooter:function(){return a.e("chunk-7c55a8e9").then(a.bind(null,"7eb1"))}},data:function(){return{snackbar:!1,timeout:3e3,snackText:"",snackColor:"info",multiline:!0}},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},showSnack:function(t){this.snackbar=t.snack,this.timeout=t.time,this.snackColor=t.color,this.snackText=t.text},agregaBitacora:function(t){var e=this.$session.get("usuarioid"),a=t.modulo,o=t.accion,i=t.detalle,n={iduser:e,modulo:a,accion:o,detalle:i};h.addBitacora(n).then((function(t){})).catch((function(t){}))},sendMail:function(t,e,a,o,i){g.sendMailData(t,e,a,o,i).then((function(t){})).catch((function(t){t.data.request.response?t.data.request.response:t.data.message}))},AdicionaNotificacion:function(t,e,a,o){var i={iduser:t,mensaje:e,codigoopcion:a,numerointerno:o};b["a"].adicionar(i).then((function(t){})).catch((function(t){}))},enviarNotificaciones:function(t){var e=t.codigopersona,a=t.mensajenotificacion,o=t.asuntocorreo,i=t.mensajecorreo,n=t.codigoopcion,r=t.numerointerno,s=this;x["a"].getDataXPersonal(e).then((function(t){if(t.request&&t.data){var e=t.data.data[0];e.issystem&&s.AdicionaNotificacion(e.codigo,a,n,r),e.isemail&&s.sendMail(e.correo,e.nombre,o,i,"")}})).catch((function(t){}))}},mounted:function(){var t=this;this.$root.$on("showSnack",(function(e){t.showSnack(e)})),this.$root.$on("agregaBitacora",(function(e){t.agregaBitacora(e)})),this.$root.$on("enviarNotificaciones",(function(e){t.enviarNotificaciones(e)})),this.$root.$on("sendMail",(function(e){t.sendMail(e)}))}},k=y,C=(a("034f"),a("2877")),S=Object(C["a"])(k,l,d,!1,null,null,null),w=S.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Myapp")},A=[],j=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},E=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fondo"},[a("br"),a("h2")])}],T={name:"ComponenteMyapp",data:function(){return{}},methods:{},mounted:function(){}},D=T,I=Object(C["a"])(D,j,E,!1,null,null,null),O=I.exports,N={components:{Myapp:O}},M=N,R=Object(C["a"])(M,P,A,!1,null,null,null),F=R.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":"","fill-height":""}},[a("v-flex",[a("Login",{on:{success:t.validarLogin}})],1)],1)},U=[],$=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-container",{attrs:{fluid:"","fill-height":""}},[o("v-layout",{attrs:{flex:"","align-center":"","justify-center":""}},[o("v-flex",{attrs:{xs12:"",sm4:""}},[o("v-toolbar",{staticClass:"pt-2 primary light-4"},[o("v-toolbar-title",{staticClass:"white--text"},[o("h4",[t._v("Iniciar Sesión")])])],1),o("v-card",{attrs:{"elevation-1":""}},[o("v-progress-linear",{attrs:{indeterminate:t.processing,"background-color":"transparent"}}),o("div",{attrs:{align:"center"}},[o("img",{staticStyle:{padding:"20px"},attrs:{src:a("4ffd"),height:"201px",width:"129px"}})]),o("v-card",[o("v-card-text",{staticClass:"pt-4"},[o("div",[o("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[o("v-text-field",{attrs:{"prepend-icon":"person",label:"Ingrese su Usuario",rules:t.emailRules,required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),o("v-text-field",{attrs:{"prepend-icon":"lock",label:"Ingrese su Contraseña",min:"8","append-icon":t.e1?"visibility":"visibility_off",type:t.e1?"password":"text",rules:t.passwordRules,required:""},on:{"click:append":function(e){t.e1=!t.e1}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),o("v-layout",{attrs:{"justify-space-between":""}},[o("v-btn",{class:{"primary light-4 white--text":t.valid,disabled:!t.valid},attrs:{loading:t.processing},on:{click:t.submit}},[t._v("Ingresar")]),o("a",{staticStyle:{"font-weight":"bold"},attrs:{color:"info"},on:{click:function(e){t.recuperar_pass=!0}}},[t._v("¿Olvidaste tú contraseña?")])],1)],1)],1)])],1)],1)],1)],1)],1),o("v-dialog",{attrs:{persistent:"","max-width":"490"},model:{value:t.recuperar_pass,callback:function(e){t.recuperar_pass=e},expression:"recuperar_pass"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[t._v("Por favor digite su email")]),o("v-card-text",[t._v("\n                  \n                  Le enviaremos un correo electrónico recordando su usuario y contraseña.\n\n                  "),o("v-text-field",{attrs:{"prepend-icon":"email",label:"Email",rules:[t.rules.email]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.recuperar_pass=!1,t.email=""}}},[t._v("Cancelar")]),o("v-btn",{attrs:{color:"primary",text:"",loading:t.btn_loading},on:{click:t.sendMail}},[t._v("Enviar")])],1)],1)],1)],1)},L=[];function B(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/login",dataType:"json",data:{username:t.email,password:t.password}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}var G={data:function(){return{modulo:"SISTEMA",processing:!1,recuperar_pass:!1,email:"",btn_loading:!1,user:{email:"",password:""},valid:!1,e1:!0,passwordRules:[function(t){return!!t||"Se requiere la contraseña"}],emailRules:[function(t){return!!t||"Se requiere el Usuario"}],rules:{required:function(t){return!!t||"Campo requerido."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"E-mail inválido."}}}},methods:{submit:function(){this.$refs.form.validate()&&this.login()},clear:function(){this.$refs.form.reset()},login:function(){var t=this;this.processing=!0,B(this.user).then((function(e){var a=!0;if(e.response){var o="";o=500==e.response.status?"Error 500. Error interno de servidor.":e.response.data.message,a=!1,t.showMessage(!0,3e3,"error",o)}else if(e.request){o="";e.data&&e.data.data[0]?(t.$session.start(),t.$session.set("logged",!0),t.$session.set("usuarioid",e.data.data[0].usuarioid),t.$session.set("usuario",e.data.data[0].usuario),t.$session.set("nombre",e.data.data[0].nombreusuario),t.$session.set("sexo",e.data.data[0].sexo),t.$session.set("codigopersonal",e.data.data[0].codigopersonal),t.$session.set("perfil",e.data.data[0].codigoperfil),t.$session.set("perfilpqr",e.data.data[0].perfilpqr),t.processing=!1,t.$emit("success",!0),t.$store.commit("setAvatar",e.data.data[0].sexo),t.agregaBitacora()):(o="Error Request. Error interno de servidor.",a=!1),0==a&&t.showMessage(!0,3e3,"error",o)}else e.message&&(a=!1,t.showMessage(!0,3e3,"error",e.message));0==a&&(t.processing=!1,t.$emit("success",!1))})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.$emit("success",!1)}))},sendMail:function(){this.btn_loading=!0;var t=this;g.sendMail(this.email).then((function(e){t.btn_loading=!1,!0===e.data.success?(t.showMessage(!0,3e3,"success",e.data.message),t.recuperar_pass=!1,t.email=""):t.showMessage(!0,3e3,"error",e.data.message)})).catch((function(e){t.btn_loading=!1;var a="";a=e.data.request.response?e.data.request.response:e.data.message,t.showMessage(!0,3e3,"error",a)}))},showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},agregaBitacora:function(){var t="INGRESO",e="INGRESO AL SISTEMA",a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}}},V=G,z=(a("c756"),Object(C["a"])(V,$,L,!1,null,"64abe08e",null)),X=z.exports,H={data:function(){return{}},components:{Login:X},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},validarLogin:function(t){t?(this.$root.$emit("reiniciaVariables"),this.$router.push("/myapp")):this.$router.push("/")}},beforeCreate:function(){this.$session.exists()?this.$session.get("logged")&&this.$router.push("/myapp"):this.$router.push("/")}},J=H,Y=Object(C["a"])(J,q,U,!1,null,null,null),Z=Y.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"600",height:"200"}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline mb-1"},[t._v("ERROR")]),a("v-list-item-subtitle",{staticClass:"text--primary"},[t._v("La Página que trata de acceder no existe")])],1)],1)],1)},Q=[],K={},tt=Object(C["a"])(K,W,Q,!1,null,null,null),et=(tt.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("Usuarios")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog_pwd=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tvpn_key\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-select",{attrs:{items:t.personal,"item-value":"codigo","item-text":"nombrecompleto",label:"Colaborador",rules:[t.rules.required],"return-object":!0},on:{change:t.traerDataPersona},model:{value:t.codigopersonal,callback:function(e){t.codigopersonal=e},expression:"codigopersonal"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Usuario",rules:[t.rules.required]},model:{value:t.usuario,callback:function(e){t.usuario=e},expression:"usuario"}})],1),a("v-flex",[a("v-select",{attrs:{items:t.sexoSel,label:"Sexo",rules:[t.rules.required]},model:{value:t.sexo,callback:function(e){t.sexo=e},expression:"sexo"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Email",rules:[t.rules.required,t.rules.email]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",[a("v-select",{attrs:{items:t.arrEstados,"item-value":"value","item-text":"text",label:"Estado",rules:[t.rules.required],"return-object":!0},model:{value:t.estado,callback:function(e){t.estado=e},expression:"estado"}})],1),a("v-flex",[a("v-select",{attrs:{items:t.perfiles,"item-value":"codigo","item-text":"nombre",label:"Perfil",rules:[t.rules.required],"return-object":!0},model:{value:t.perfil,callback:function(e){t.perfil=e},expression:"perfil"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Usuario")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Usuario seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_pwd,callback:function(e){t.dialog_pwd=e},expression:"dialog_pwd"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Resetear Contraseña")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de resetear la Contraseña del Usuario seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_pwd=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.updatePassword}},[t._v("Modificar")])],1)],1)],1)],1)}),at=[],ot={getUsuarios:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Usuarios",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},DelUsuario:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/DelUser",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarUsuario:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarUser",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},resetPassword:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/resetPassword",dataType:"json",data:{userid:t,nomusuario:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},personalFaltante:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/personalFaltanteUser",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getUsuariosXPerfil:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/usuariosXPerfil",dataType:"json",data:{codigoperfil:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},it=ot,nt={getPerfiles:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Perfiles",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarPerfil:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarPerfil",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelPerfil:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delPerfil",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},agregaPermisos:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/actualizaPermisos",dataType:"json",data:{perfilid:t,data:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))}},rt=nt,st=a("b14f");function ct(t){return ct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}var lt={data:function(){return{modulo:"USUARIOS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,dialog_pwd:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",codigopersonal:"0",nombre:"",usuario:"",sexo:"",email:"",estado:"",perfil:"",itemactual:"",data:[],perfiles:[],personal:[],usuarioidactual:"",usuarionombreactual:"",personalActual:[],headers:[{text:"Nombre",align:"left",sortable:!1,value:"nombreusuario"},{text:"Usuario",value:"usuario",sortable:!1,align:"left"},{text:"Sexo",value:"sexo",sortable:!1,align:"left"},{text:"Email",value:"email",sortable:!1,align:"left"},{text:"Estado",value:"nomestado",sortable:!1,align:"left"},{text:"Perfil",value:"nombreperfil",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],sexoSel:["F","M"],arrEstados:[{value:"A",text:"ACTIVO"},{value:"I",text:"INACTIVO"}],rules:{required:function(t){return!!t||"Campo requerido."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"E-mail inválido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre="",this.usuario="",this.sexo="",this.email="",this.estado="",this.perfil="",this.codigopersonal=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerUsuarios:function(){var t=this;this.loading=!0,it.getUsuarios().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traerPerfiles:function(){var t=this;this.loading=!0,rt.getPerfiles().then((function(e){e.request?e.data?t.perfiles=e.data.data:t.perfiles=[]:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,it.DelUsuario(t.itemactual.usuarioid).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Usuario con éxito"),t.del_item="",t.traerUsuarios(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL USUARIO CON CODIGO:"+t.itemactual.usuarioid+", NOMBRE:"+t.itemactual.nombreusuario)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaSave:function(){var t="object"==ct(this.perfil)?this.perfil.codigo:this.perfil,e="object"==ct(this.codigopersonal)?this.codigopersonal.codigo:this.codigopersonal,a="object"==ct(this.estado)?this.estado.value:this.estado;return this.itemactual.codigopersonal!=e||this.itemactual.usuario!=this.usuario||this.itemactual.sexo!=this.sexo||this.itemactual.email!=this.email||this.itemactual.estado!=a||this.itemactual.codigoperfil!=t},saveitem:function(){var t=this;this.loading=!0;var e="",a="object"==ct(this.perfil)?this.perfil.codigo:this.perfil,o="object"==ct(this.estado)?this.estado.value:this.estado,i="object"==ct(this.codigopersonal)?this.codigopersonal.codigo:this.codigopersonal,n="object"==ct(this.codigopersonal)?this.codigopersonal.nombrecompleto.toUpperCase():this.nombre,r={codigo:this.codigo,nombre:n,usuario:this.usuario,sexo:this.sexo,email:this.email,estado:o,perfil:a,codigopersonal:i};if(this.edit){var s=this.validaSave();if(!s)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);e="",this.itemactual.codigopersonal!=this.codigopersonal&&(e+="Colaborador: "+this.itemactual.nombrepersonal.toUpperCase()+" a "+this.codigopersonal.nombrecompleto.toUpperCase()),this.itemactual.usuario!=this.usuario&&(e+=""==e?"Usuario: "+this.itemactual.usuario+" a "+this.usuario:", Usuario: "+this.itemactual.usuario+" a "+this.usuario),this.itemactual.sexo!=this.sexo&&(e+=""==e?"Sexo: "+this.itemactual.sexo+" a "+this.sexo:", Sexo: "+this.itemactual.sexo+" a "+this.sexo),this.itemactual.email!=this.email&&(e+=""==e?"Email: "+this.itemactual.email+" a "+this.email:", Email: "+this.itemactual.email+" a "+this.email),this.itemactual.estado!=o&&(e+=""==e?"Estado: "+this.itemactual.nomestado+" a "+this.estado.text:", Estado: "+this.itemactual.nomestado+" a "+this.estado.text),this.itemactual.codigoperfil!=a&&(e+=""==e?"Perfil: "+this.itemactual.nombreperfil+" a "+this.perfil.nombre:", Perfil: "+this.itemactual.nombreperfil+" a "+this.perfil.nombre),e="NOMBRE: "+this.itemactual.nombreusuario+" ("+e+")"}else e+="COLABORADOR: "+this.codigopersonal.nombrecompleto.toUpperCase()+", USUARIO: "+this.usuario+", SEXO: "+this.sexo+", EMAIL: "+this.email+", ESTADO: "+this.estado.text+", PERFIL: "+this.perfil.nombre;it.guardarUsuario(r).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el Usuario con éxito"),t.del_item="",t.edit=-1,t.traerUsuarios(),t.resetForm(),t.dialog=!1,t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},updatePassword:function(){var t=this;this.loading=!0,it.resetPassword(t.itemactual.usuarioid,t.itemactual.usuario).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se modificó la Contraseña del usuario con éxito"),t.agregaBitacora("ACTUALIZACION CONTRASEÑA","SE ACTUALIZO LA CONTRASEÑA DEL USUARIO "+t.itemactual.nombreusuario+" CON EXITO"),t.traerUsuarios(),t.dialog_pwd=!1):t.showMessage(!0,3e3,"error",e.message),t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},traerPersonalFaltante:function(t){var e=this;this.loading=!0,it.personalFaltante(t).then((function(t){t.request&&t.data?e.personal=t.data:e.personal=[],e.loading=!1})).catch((function(t){e.personal=[],e.loading=!1}))},traerDataPersona:function(){var t="object"==ct(this.codigopersonal)?this.codigopersonal.codigo:this.codigopersonal,e=this;this.loading=!0,this.personalActual=[],st["a"].FiltroXId(t).then((function(t){t.request&&t.data&&(e.personalActual=t.data.data,e.sexo=e.personalActual[0].sexo,e.nombre=e.personalActual[0].nombrecompleto,e.email=e.personalActual[0].correo),e.loading=!1})).catch((function(t){e.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.usuarioid,this.nombre=this.itemactual.nombreusuario,this.usuario=this.itemactual.usuario,this.sexo=this.itemactual.sexo,this.email=this.itemactual.email,this.estado=this.itemactual.estado,this.perfil=this.itemactual.codigoperfil,this.codigopersonal=this.itemactual.codigopersonal):(this.resetForm(),this.formTitle="Nuevo"),this.traerPersonalFaltante(this.codigopersonal)}},mounted:function(){this.traerUsuarios(),this.traerPerfiles(),this.modulo="USUARIOS",this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},dt=lt,ut=Object(C["a"])(dt,et,at,!1,null,null,null),pt=ut.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("Perfiles")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o.codigo>11,expression:"item.codigo>11"}],staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:o.codigo>11,expression:"item.codigo>11"}],staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.AbrirDialogoPermiso(o.codigo,o.nombre)}}},[t._v("\n\t\t\t\t\t\t\t\tperson_add\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Nombre",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Perfil")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Perfil seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog_permiso,callback:function(e){t.dialog_permiso=e},expression:"dialog_permiso"}},[a("v-card",{attrs:{height:"100%"}},[a("v-subheader",{staticClass:"font-weight-bold"},[t._v("PERMISOS PARA '"+t._s(t.perfilnombreactual)+"' ")]),a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{staticClass:"my-2",attrs:{xs6:"",md6:"",lg6:""}},[a("v-card",{staticClass:"flexcard",attrs:{height:"100%"}},[a("v-list",[a("v-subheader",[t._v("PERMISOS ACTUALES")]),t._l(t.permisos,(function(e,o){return a("v-list-item",{key:e.codigo},[a("v-list-item-action",[a("v-checkbox",{attrs:{color:"primary"},model:{value:t.chkperactuales[o],callback:function(e){t.$set(t.chkperactuales,o,e)},expression:"chkperactuales[i]"}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.nombre))])],1)],1)}))],2)],1),a("v-layout",{staticClass:"mt-3 ml-3"},[a("v-btn",{attrs:{color:"red",dark:"",small:"",fab:""},on:{click:t.quitarPermiso}},[a("v-icon",[t._v("clear")])],1)],1)],1),a("v-flex",{staticClass:"my-2",attrs:{xs6:"",md6:"",lg6:""}},[a("v-card",{staticClass:"flexcard",attrs:{height:"100%"}},[a("v-list",[a("v-subheader",[t._v("PERMISOS POR SELECCIONAR")]),t._l(t.permisosFal,(function(e,o){return a("v-list-item",{key:e.codigo},[a("v-list-item-action",[a("v-checkbox",{attrs:{color:"primary"},model:{value:t.chkperfaltantes[o],callback:function(e){t.$set(t.chkperfaltantes,o,e)},expression:"chkperfaltantes[i]"}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.nombre))])],1)],1)}))],2)],1),a("v-layout",{staticClass:"mt-3 mr-3"},[a("v-btn",{attrs:{color:"primary",dark:"",small:"",fab:""},on:{click:t.agregaPermiso}},[a("v-icon",[t._v("add")])],1)],1)],1)],1),a("v-layout",{staticStyle:{"padding-top":"50px","padding-bottom":"10px","padding-right":"5px"},attrs:{"justify-end":""}},[a("v-flex",{attrs:{shrink:""}},[a("v-btn",{staticClass:"mr-3",attrs:{small:""},on:{click:t.closeDialogoPer}},[t._v("Cancelar")]),a("v-btn",{attrs:{small:"",color:"primary"},on:{click:t.actualizaPermisos}},[t._v("Actualizar")])],1)],1)],1)],1)],1)},vt=[],ht=a("7ea0"),ft={data:function(){return{modulo:"PERFILES",loading:!1,dialog:!1,edit:-1,dialog_del:!1,dialog_permiso:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",nombre:"",itemactual:"",data:[],perfilidactual:"",perfilnombreactual:"",permisos:[],permisosFal:[],chkperactuales:[],chkperfaltantes:[],headers:[{text:"Perfil",align:"left",sortable:!1,value:"nombre"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerData:function(){var t=this;this.loading=!0,rt.getPerfiles().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,rt.DelPerfil(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Perfil con éxito"),t.del_item="",t.traerData(),t.closeDialogoDel(),t.modulo="PERFILES",t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL PERFIL CON CODIGO:"+t.itemactual.codigo+", NOMBRE:"+t.itemactual.nombre)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaSave:function(){return this.itemactual.nombre!=this.nombre},saveitem:function(){var t=this;this.loading=!0;var e="",a={codigo:this.codigo,nombre:this.nombre};if(this.edit){var o=this.validaSave();if(!o)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);e="",this.itemactual.nombre!=this.nombre&&(e+="Nombre: "+this.itemactual.nombre.toUpperCase()+" a "+this.nombre.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"}else e+="NOMBRE: "+this.nombre.toUpperCase();rt.guardarPerfil(a).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el Perfil con éxito"),t.del_item="",t.edit=-1,t.traerData(),t.resetForm(),t.dialog=!1,t.modulo="PERFILES",t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},AbrirDialogoPermiso:function(t,e){this.traePermisosPerfil(t),this.traePermisosPerfilFal(t),this.perfilidactual=t,this.perfilnombreactual=e,this.dialog_permiso=!0},closeDialogoPer:function(){this.perfilidactual="",this.perfilnombreactual="",this.dialog_permiso=!1},traePermisosPerfil:function(t){var e=this;ht["a"].getPermisosActuales(t).then((function(t){if(t.request)if(t.data){e.permisos=t.data.data,e.chkperactuales=[];for(var a=0;a<e.permisos.length;a++)e.chkperactuales[a]=!1}else e.permisos=[],e.chkperactuales=[];else e.permisos=[],e.chkperactuales=[]})).catch((function(t){e.permisos=[]}))},traePermisosPerfilFal:function(t){var e=this;ht["a"].getPermisosFal(t).then((function(t){if(t.request)if(t.data){e.permisosFal=t.data.data,e.chkperfaltantes=[];for(var a=0;a<e.permisosFal.length;a++)e.chkperfaltantes[a]=!1}else e.permisosFal=[],e.chkperfaltantes=[];else e.permisosFal=[],e.chkperfaltantes=[]})).catch((function(t){e.permisosFal=[]}))},actualizarChkPermisos:function(){this.chkperfaltantes=[],this.chkperactuales=[];for(var t=0;t<this.permisos.length;t++)this.chkperactuales[t]=!1;for(var e=0;e<this.permisosFal.length;e++)this.chkperfaltantes[e]=!1},agregaPermiso:function(){for(var t=this.chkperfaltantes.length-1;t>=0;t--)1==this.chkperfaltantes[t]&&(this.permisos.push(this.permisosFal[t]),this.permisosFal.splice(t,1));this.actualizarChkPermisos()},quitarPermiso:function(){for(var t=this.chkperactuales.length-1;t>=0;t--)1==this.chkperactuales[t]&&(this.permisosFal.push(this.permisos[t]),this.permisos.splice(t,1));this.actualizarChkPermisos()},actualizaPermisos:function(){for(var t=[],e="",a=0;a<this.permisos.length;a++)t.push({perfcod:this.perfilidactual,opccod:this.permisos[a].codigo}),""==e?e=this.permisos[a].nombre:e+=", "+this.permisos[a].nombre;var o="SE ACTUALIZARON LOS PERMISOS DEL PERFIL "+this.perfilnombreactual+"("+e+")",i=this;this.loading=!0,rt.agregaPermisos(this.perfilidactual,t).then((function(t){if(t.response){var e=t.response.data.message;i.showMessage(!0,3e3,"error",e)}else t.statusText?(i.showMessage(!0,3e3,"success","Se actualizarón los permisos para el Perfil con éxito"),i.closeDialogoPer(),i.modulo="PERMISOS",i.agregaBitacora("CREACION/ACTUALIZACION",o)):i.showMessage(!0,3e3,"error",t.message);i.loading=!1})).catch((function(t){i.showMessage(!0,3e3,"error",t),i.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.nombre):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerData(),this.modulo="PERFILES",this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},gt=ft,bt=Object(C["a"])(gt,mt,vt,!1,null,null,null),xt=bt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-flex",[a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("Bitacora")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search}})],1)],1)],1)],1)},yt=[],kt={data:function(){return{modulo:"BITACORA",loading:!1,search:"",data:[],headers:[{text:"Fecha",align:"left",sortable:!1,value:"fecha"},{text:"Usuario",value:"usuario",sortable:!1,align:"left"},{text:"Modulo",value:"modulo",sortable:!1,align:"left"},{text:"Accion",value:"accion",sortable:!1,align:"left"},{text:"Detalle",value:"detalle",sortable:!1,align:"left"},{text:"Ip",value:"ip",sortable:!1,align:"left"},{text:"Host",value:"host",sortable:!1}]}},filters:{},methods:{traerData:function(){var t=this;this.loading=!0,h.getBitacora().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{},mounted:function(){this.traerData(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Ct=kt,St=Object(C["a"])(Ct,_t,yt,!1,null,null,null),wt=St.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tAreas\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),o.codigo>7?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")]):t._e()]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Nombre",rules:[t.rules.required],readonly:1==t.edit&&t.codigo<8},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",[a("v-select",{attrs:{items:t.arrPersonal,"item-value":"codigo","item-text":"nombrecompleto","return-object":!0,label:"Encargado"},model:{value:t.encargadocodigo,callback:function(e){t.encargadocodigo=e},expression:"encargadocodigo"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Area")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Area seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},At=[],jt=a("6181");function Et(t){return Et="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}var Tt={data:function(){return{modulo:"AREAS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",nombre:"0",nombreant:"0",encargadocodigo:0,encargadonombre:"",itemactual:"",data:[],arrPersonal:[],headers:[{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Encargado",align:"left",sortable:!1,value:"encargadonombre"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre="",this.nombreant="",this.encargadocodigo=0,this.encargadonombre=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerAreas:function(){var t=this;this.loading=!0,jt["a"].getAreas().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traePersonal:function(){var t=this;this.loading=!0,st["a"].FiltroXEstado(1).then((function(e){e.request&&e.data?t.arrPersonal=e.data.data:t.arrPersonal=[],t.loading=!1})).catch((function(e){t.arrPersonal=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,jt["a"].DelArea(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Area con éxito"),t.del_item="",t.traerAreas(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL AREA CON CODIGO:"+t.itemactual.codigo+", NOMBRE:"+t.itemactual.nombre)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){var t=0;return"object"==Et(this.encargadocodigo)?(t=this.encargadocodigo.codigo,this.encargadocodigo.nombrecompleto):(t=this.encargadocodigo,this.itemactual.encargadonombre),this.nombre==this.nombreant&&t==this.encargadonombre?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){var a=0,o="";"object"==Et(this.encargadocodigo)?(a=this.encargadocodigo.codigo,o=this.encargadocodigo.nombrecompleto):(a=this.encargadocodigo,o=this.itemactual.encargadonombre),this.edit?(this.itemactual.nombre!=this.nombre&&(e+="Nombre: "+this.itemactual.nombre.toUpperCase()+" a "+this.nombre.toUpperCase()),this.itemactual.encargadocodigo!=a&&(""==e?e="Encargado: "+this.itemactual.encargadonombre.toUpperCase()+" a "+o.toUpperCase():e+=", Encargado: "+this.itemactual.encargadonombre.toUpperCase()+" a "+o.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="NOMBRE: "+this.nombre.toUpperCase();var i=this;this.loading=!0;var n={codigo:this.codigo,nombre:this.nombre,encargadocodigo:a};jt["a"].guardarArea(n).then((function(t){if(t.response){var a=t.response.data.message;i.showMessage(!0,3e3,"error",a)}else if(t.statusText){var o="",n="";i.edit?(o="Actualizó",n="ACTUALIZACION"):(o="Agregó",n="CREACION"),i.showMessage(!0,3e3,"success","Se "+o+" el Area con éxito"),i.del_item="",i.edit=-1,i.traerAreas(),i.resetForm(),i.dialog=!1,i.agregaBitacora(n,e)}else i.showMessage(!0,3e3,"error",t.message);i.loading=!1})).catch((function(t){i.showMessage(!0,3e3,"error",t),i.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.nombre,this.nombreant=this.itemactual.nombre,this.encargadocodigo=this.itemactual.encargadocodigo,this.encargadonombre=this.itemactual.encargadonombre):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerAreas(),this.traePersonal(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Dt=Tt,It=Object(C["a"])(Dt,Pt,At,!1,null,null,null),Ot=It.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tCargos\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Nombre",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Cargo")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Cargo seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Mt=[],Rt={getCargos:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Cargos",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarCargo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarCargo",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelCargo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delCargo",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Ft=Rt,qt={data:function(){return{modulo:"CARGOS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",nombre:"",nombreant:"",itemactual:"",data:[],headers:[{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre="",this.nombreant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerCargos:function(){var t=this;this.loading=!0,Ft.getCargos().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,Ft.DelCargo(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Cargo con éxito"),t.del_item="",t.traerCargos(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL CARGO CON CODIGO:"+t.itemactual.codigo+", NOMBRE:"+t.itemactual.nombre)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.nombre==this.nombreant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.nombre!=this.nombre&&(e+="Nombre: "+this.itemactual.nombre.toUpperCase()+" a "+this.nombre.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="NOMBRE: "+this.nombre.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,nombre:this.nombre};Ft.guardarCargo(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el Cargo con éxito"),a.del_item="",a.edit=-1,a.traerCargos(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.nombre,this.nombreant=this.itemactual.nombre):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerCargos(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Ut=qt,$t=Object(C["a"])(Ut,Nt,Mt,!1,null,null,null),Lt=$t.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tCategorias\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Categoría")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Categoría seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Gt=[],Vt={getCategorias:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Categorias",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarCategoria:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarCategoria",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelCategoria:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delCategoria",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},zt=Vt,Xt={data:function(){return{modulo:"CATEGORIAS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",itemactual:"",data:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerCategorias:function(){var t=this;this.loading=!0,zt.getCategorias().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,zt.DelCategoria(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la Categoría con éxito"),t.del_item="",t.traerCategorias(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA CATEGORIA CON CODIGO:"+t.itemactual.codigo+", DESCRIPCION:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.descripcion==this.descripcionant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="DESCRIPCION: "+this.descripcion.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion};zt.guardarCategoria(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" la Categoría con éxito"),a.del_item="",a.edit=-1,a.traerCategorias(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerCategorias(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Ht=Xt,Jt=Object(C["a"])(Ht,Bt,Gt,!1,null,null,null),Yt=Jt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tTipos de Identificación\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Abreviatura",maxlength:"2",rules:[t.rules.required]},model:{value:t.letra,callback:function(e){t.letra=e},expression:"letra"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Tipo de Identificación")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Tipo de Identificación seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Wt=[],Qt={getTiposIde:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/TiposIde",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarTiposIde:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarTiposIde",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelTiposIde:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delTiposIde",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Kt=Qt,te={data:function(){return{modulo:"TIPOS DE IDENTIFICACION",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",letra:"",itemactual:"",data:[],headers:[{text:"Abreviatura",align:"left",sortable:!1,value:"letra"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.letra=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerTiposIde:function(){var t=this;this.loading=!0,Kt.getTiposIde().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,Kt.DelTiposIde(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Tipo de Identificación con éxito"),t.del_item="",t.traerTiposIde(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL TIPO DE IDENTIFICACION CON CODIGO:"+t.itemactual.codigo+", DESCRIPCION:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.itemactual.descripcion==this.descripcion&&this.itemactual.letra==this.letra?"No hay datos para actualizar":""},saveitem:function(){var t="";if(this.edit){var e=this.validaGuardar();if(""!=e)return void this.showMessage(!0,3e3,"error",e);this.itemactual.descripcion!=this.descripcion&&(t+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),this.itemactual.letra!=this.letra&&(t+=""==t?"Abreviatura: "+this.itemactual.letra.toUpperCase()+" a "+this.letra.toUpperCase():", Abreviatura: "+this.itemactual.letra.toUpperCase()+" a "+this.letra.toUpperCase()),t="CODIGO: "+this.codigo+" ("+t+")"}else t+="DESCRIPCION: "+this.descripcion.toUpperCase()+", ABREVIATURA: "+this.letra.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion,letra:this.letra};Kt.guardarTiposIde(o).then((function(e){if(e.response){var o=e.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(e.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el Tipo de Identificación con éxito"),a.del_item="",a.edit=-1,a.traerTiposIde(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,t)}else a.showMessage(!0,3e3,"error",e.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.letra=this.itemactual.letra):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerTiposIde(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},ee=te,ae=Object(C["a"])(ee,Zt,Wt,!1,null,null,null),oe=ae.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tTipos de Estados\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Tipo de Estado")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Tipo de Estado seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},ne=[],re={getTiposEstado:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/TiposEstados",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarTipoEstado:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarTipoEstado",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelTipoEstado:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delTipoEstado",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},se=re,ce={data:function(){return{modulo:"TIPOS DE ESTADO",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",itemactual:"",data:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerTiposEstado:function(){var t=this;this.loading=!0,se.getTiposEstado().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,se.DelTipoEstado(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Tipo de Estado con éxito"),t.del_item="",t.traerTiposEstado(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL TIPO DE ESTADO CON CODIGO:"+t.itemactual.codigo+", DESCRIPCION:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.itemactual.descripcion==this.descripcion?"No hay datos para actualizar":""},saveitem:function(){var t="";if(this.edit){var e=this.validaGuardar();if(""!=e)return void this.showMessage(!0,3e3,"error",e);this.itemactual.descripcion!=this.descripcion&&(t+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),t="CODIGO: "+this.codigo+" ("+t+")"}else t+="DESCRIPCION: "+this.descripcion.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion};se.guardarTipoEstado(o).then((function(e){if(e.response){var o=e.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(e.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el Tipo de Estado con éxito"),a.del_item="",a.edit=-1,a.traerTiposEstado(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,t)}else a.showMessage(!0,3e3,"error",e.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerTiposEstado(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},le=ce,de=Object(C["a"])(le,ie,ne,!1,null,null,null),ue=de.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("Estados")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Nombre",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",[a("v-select",{attrs:{items:t.arrTiposEstados,"item-value":"codigo","item-text":"descripcion",label:"Tipo de Estado",rules:[t.rules.required],"return-object":!0},model:{value:t.tipoestado,callback:function(e){t.tipoestado=e},expression:"tipoestado"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Estado")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Estado seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},me=[],ve=a("1711");function he(t){return he="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(t)}var fe={data:function(){return{modulo:"ESTADOS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",nombre:"",tipoestado:"",itemactual:"",data:[],arrTiposEstados:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Tipo de Estado",value:"tipodescripcion",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre="",this.tipoestado=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerEstados:function(){var t=this;this.loading=!0,ve["a"].getEstados().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traerTiposEstados:function(){var t=this;this.loading=!0,se.getTiposEstado().then((function(e){e.request&&e.data?t.arrTiposEstados=e.data.data:t.arrTiposEstados=[],t.loading=!1})).catch((function(e){t.arrTiposEstados=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,ve["a"].DelEstado(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Estado con éxito"),t.del_item="",t.traerEstados(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL ESTADO CON CODIGO:"+t.itemactual.codigo+", NOMBRE:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaSave:function(){var t="object"==he(this.tipoestado)?this.tipoestado.codigo:this.tipoestado;return this.itemactual.descripcion!=this.nombre||this.itemactual.tipocodigo!=t},saveitem:function(){var t=this;this.loading=!0;var e="",a="object"==he(this.tipoestado)?this.tipoestado.codigo:this.tipoestado,o={codigo:this.codigo,descripcion:this.nombre,tipocodigo:a};if(this.edit){var i=this.validaSave();if(!i)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);e="",this.itemactual.descripcion!=this.nombre&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.nombre.toUpperCase()),this.itemactual.tipocodigo!=a&&(e+=""==e?"Tipo de Estado: "+this.itemactual.tipodescripcion+" a "+this.tipoestado.descripcion:", Tipo de Estado: "+this.itemactual.tipodescripcion+" a "+this.tipoestado.descripcion),e="CODIGO: "+this.codigo+" ("+e+")"}else e+="DESCRIPCION: "+this.nombre.toUpperCase()+", TIPO DE ESTADO: "+this.tipoestado.descripcion;ve["a"].guardarEstado(o).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el Estado con éxito"),t.del_item="",t.edit=-1,t.traerEstados(),t.resetForm(),t.dialog=!1,t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.descripcion,this.tipoestado=this.itemactual.tipocodigo):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerEstados(),this.traerTiposEstados(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},ge=fe,be=Object(C["a"])(ge,pe,me,!1,null,null,null),xe=be.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("Programas de Investigación PENIA")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Programa de Investigación PENIA")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Programa de Investigación PENIA seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},ye=[],ke={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/ProgramasInvPenia",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarProInvPenia",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delProInvPenia",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Ce=ke,Se={data:function(){return{modulo:"PROGRAMAS DE INVESTIGACION PENIA",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",itemactual:"",data:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerDataPrincipal:function(){var t=this;this.loading=!0,Ce.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,Ce.DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Programa de Investigación PENIA con éxito"),t.del_item="",t.traerDataPrincipal(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL PROGRAMA DE INVESTIGACION PENIA CON CODIGO:"+t.itemactual.codigo+", DESCRIPCION:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaSave:function(){return this.itemactual.descripcion!=this.descripcion},saveitem:function(){var t=this;this.loading=!0;var e="",a={codigo:this.codigo,descripcion:this.descripcion};if(this.edit){var o=this.validaSave();if(!o)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);e="",this.itemactual.descripcion!=this.descripcion&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"}else e+="DESCRIPCION: "+this.descripcion.toUpperCase();Ce.guardarData(a).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el Programa de Investigación PENIA con éxito"),t.del_item="",t.edit=-1,t.traerDataPrincipal(),t.resetForm(),t.dialog=!1,t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerDataPrincipal(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},we=Se,Pe=Object(C["a"])(we,_e,ye,!1,null,null,null),Ae=Pe.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("Programas de Investigación PEI")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"450px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Programa de Investigación PEI")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Programa de Investigación PEI seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Ee=[],Te={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/ProgramasInvPei",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarProInvPei",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delProInvPei",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getSeleccionados:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/SelProgInvPeiProy",dataType:"json",data:{proyecto:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getDataXProyecto:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ProgramasInvPeiXProyecto",dataType:"json",data:{proyecto:t}}).then((function(t){e(t.data.data)})).catch((function(t){e(t)}))}))}},De=Te,Ie={data:function(){return{modulo:"PROGRAMAS DE INVESTIGACION PEI",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",itemactual:"",data:[],arrAreas:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerDataPrincipal:function(){var t=this;this.loading=!0,De.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,De.DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Programa de Investigación PEI con éxito"),t.del_item="",t.traerDataPrincipal(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL PROGRAMA DE INVESTIGACION PEI CON CODIGO:"+t.itemactual.codigo+", DESCRIPCION:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaSave:function(){return this.itemactual.descripcion!=this.descripcion},saveitem:function(){var t=this;this.loading=!0;var e="",a={codigo:this.codigo,descripcion:this.descripcion};if(this.edit){var o=this.validaSave();if(!o)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);e="",this.itemactual.descripcion!=this.descripcion&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"}else e+="DESCRIPCION: "+this.descripcion.toUpperCase();De.guardarData(a).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el Programa de Investigación PEI con éxito"),t.del_item="",t.edit=-1,t.traerDataPrincipal(),t.resetForm(),t.dialog=!1,t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerDataPrincipal(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Oe=Ie,Ne=Object(C["a"])(Oe,je,Ee,!1,null,null,null),Me=Ne.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("POAS")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.metasectorial",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.metasectorial,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.metainstitucional",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.metainstitucional,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{sm6:""}},[a("v-textarea",{attrs:{name:"input-7-4",label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-textarea",{attrs:{name:"input-7-4",label:"Estrategía",rules:[t.rules.required]},model:{value:t.estrategia,callback:function(e){t.estrategia=e},expression:"estrategia"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-textarea",{attrs:{name:"input-7-4",label:"Indicador",rules:[t.rules.required]},model:{value:t.indicador,callback:function(e){t.indicador=e},expression:"indicador"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-textarea",{attrs:{name:"input-7-4",label:"Unidad Medida",rules:[t.rules.required]},model:{value:t.unidadmedida,callback:function(e){t.unidadmedida=e},expression:"unidadmedida"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{type:"number",label:"Meta Sectorial",rules:[t.rules.required,t.rules.valor]},model:{value:t.metasectorial,callback:function(e){t.metasectorial=e},expression:"metasectorial"}}),a("span",[t._v(t._s(t._f("currency")(t.metasectorial,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{type:"number",label:"Meta Institucional",rules:[t.rules.required,t.rules.valor]},model:{value:t.metainstitucional,callback:function(e){t.metainstitucional=e},expression:"metainstitucional"}}),a("span",[t._v(t._s(t._f("currency")(t.metainstitucional,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])],1),a("v-flex",[a("v-textarea",{attrs:{name:"input-7-4",label:"Observación"},model:{value:t.observacion,callback:function(e){t.observacion=e},expression:"observacion"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{width:"250"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar POA")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el POA seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Fe=[],qe={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Poas",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarPoa",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delPoa",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Ue=qe,$e={data:function(){return{modulo:"POAS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",estrategia:"",indicador:"",unidadmedida:"",metasectorial:"",metainstitucional:"",observacion:"",itemactual:"",data:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Estrategía",value:"estrategia",sortable:!1,align:"left"},{text:"Indicador",value:"indicador",sortable:!1,align:"left"},{text:"Unidad Medida",value:"unidadmedida",sortable:!1,align:"left"},{text:"Meta Sectorial",value:"metasectorial",sortable:!1,align:"left"},{text:"Meta Institucional",value:"metainstitucional",sortable:!1,align:"left"},{text:"Observación",value:"observacion",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."},valor:function(t){return t>0||"El Valor debe ser mayor a 0."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.estrategia="",this.indicador="",this.unidadmedida="",this.metasectorial=0,this.metainstitucional=0,this.observacion=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerDataPrincipal:function(){var t=this;this.loading=!0,Ue.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,Ue.DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el POA con éxito"),t.del_item="",t.traerDataPrincipal(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL POA CON CODIGO:"+t.itemactual.codigo+", DESCRIPCION:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaSave:function(){return this.itemactual.descripcion!=this.descripcion||this.itemactual.indicador!=this.indicador||this.itemactual.unidadmedida!=this.unidadmedida||this.itemactual.metasectorial!=this.metasectorial||this.itemactual.metainstitucional!=this.metainstitucional||this.itemactual.observacion!=this.observacion||this.itemactual.estrategia!=this.estrategia},saveitem:function(){var t=this;this.loading=!0;var e="",a={codigo:this.codigo,descripcion:this.descripcion,indicador:this.indicador,unidadmedida:this.unidadmedida,metasectorial:this.metasectorial,metainstitucional:this.metainstitucional,observacion:this.observacion,estrategia:this.estrategia};if(this.edit){var o=this.validaSave();if(!o)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);e="",this.itemactual.descripcion!=this.descripcion&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),this.itemactual.indicador!=this.indicador&&(e+=""==e?"Indicador: "+this.itemactual.indicador+" a "+this.indicador:", Indicador: "+this.itemactual.indicador+" a "+this.indicador),this.itemactual.unidadmedida!=this.unidadmedida&&(e+=""==e?"Unidad Medida: "+this.itemactual.unidadmedida+" a "+this.unidadmedida:", Unidad Medida: "+this.itemactual.unidadmedida+" a "+this.unidadmedida),this.itemactual.metasectorial!=this.metasectorial&&(e+=""==e?"Meta Sectorial: "+this.itemactual.metasectorial+" a "+this.metasectorial:", Meta Sectorial: "+this.itemactual.metasectorial+" a "+this.metasectorial),this.itemactual.metainstitucional!=this.metainstitucional&&(e+=""==e?"Meta Institucional: "+this.itemactual.metainstitucional+" a "+this.metainstitucional:", Meta Institucional: "+this.itemactual.metainstitucional+" a "+this.metainstitucional),this.itemactual.observacion!=this.observacion&&(e+=""==e?"Observación: "+this.itemactual.observacion+" a "+this.observacion:", Observación: "+this.itemactual.observacion+" a "+this.observacion),e="CODIGO: "+this.codigo+" ("+e+")"}else e+="DESCRIPCION: "+this.descripcion.toUpperCase()+", Indicador: "+this.indicador+", UNIDAD MEDIDA: "+this.unidadmedida+", META SECTORIAL: "+this.metasectorial+", META INSTITUCIONAL: "+this.metainstitucional+", OBSERVACION: "+this.observacion;Ue.guardarData(a).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el POA con éxito"),t.del_item="",t.edit=-1,t.traerDataPrincipal(),t.resetForm(),t.dialog=!1,t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.estrategia=this.itemactual.estrategia,this.indicador=this.itemactual.indicador,this.unidadmedida=this.itemactual.unidadmedida,this.metasectorial=this.itemactual.metasectorial,this.metainstitucional=this.itemactual.metainstitucional,this.observacion=this.itemactual.observacion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerDataPrincipal(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Le=$e,Be=Object(C["a"])(Le,Re,Fe,!1,null,null,null),Ge=Be.exports,Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-flex",[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.readonly,expression:"!readonly"}],staticStyle:{"padding-bottom":"10px"}},["nrm"==t.tipoform?a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1):t._e()],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v(t._s(t.titulocomponente))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar por Nombre Convenio","single-line":"","hide-details":"",clearable:""},on:{"click:append":t.traerDataPrincipal,"click:clear":function(e){return t.limpiarBusqueda("search")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.traerDataPrincipal(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar por Nombre","single-line":"","hide-details":"",clearable:""},on:{"click:append":t.traerDataPrincipal,"click:clear":function(e){return t.limpiarBusqueda("searchNombre")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.traerDataPrincipal(e)}},model:{value:t.searchNombre,callback:function(e){t.searchNombre=e},expression:"searchNombre"}})],1)],1)],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.fechasuscripcion",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("anoSuscripcion")(o.fechasuscripcion))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.vbplaneacion",fn:function(e){var o=e.item;return[a("span",{class:[{ColorVBTrue:"1"==o.vbplaneacion},{ColorVBFalse:"0"==o.vbplaneacion}]},[t._v(t._s("1"==o.vbplaneacion?"SI":"NO")+"\n\t\t\t\t\t\t\t")])]}},{key:"item.vbdireccion",fn:function(e){var o=e.item;return[a("span",{class:[{ColorVBTrue:"1"==o.vbdireccion},{ColorVBFalse:"0"==o.vbdireccion}]},[t._v(t._s("1"==o.vbdireccion?"SI":"NO")+"\n\t\t\t\t\t\t\t")])]}},{key:"item.seguimientoplan",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){t.abrirSeguimientoPlan(o.codigo,o.vbplaneacion,o.vbdireccion),t.dialog_seguimientoplan=!0}}},[t._v("\n\t\t\t\t\t\t\t\tassignment_returned\n\t\t\t\t\t\t\t")])]}},{key:"item.tecnica",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.abrirFichaTecnica(o.codigo)}}},[t._v("\n\t\t\t\t\t\t\t\tlist_alt\n\t\t\t\t\t\t\t")])]}},{key:"item.actapi",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.abrirActaPI(o.codigo)}}},[t._v("\n\t\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t\t")])]}},{key:"item.vermas",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.traerDataXId(o.codigo,2)}}},[t._v("\n\t\t\t\t\t\t\t\tevent_note\n\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:!t.readonly&&("0"==o.vbplaneacion&&"0"==o.vbdireccion||"upd"==t.tipoform),expression:"!readonly && (((item.vbplaneacion == '0') && (item.vbdireccion == '0'))  || tipoform == 'upd')"}],staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.traerDataXId(o.codigo,1)}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"1400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("div",{directives:[{name:"show",rawName:"v-show",value:4==t.perfil,expression:"perfil==4"}]},[a("div",{directives:[{name:"show",rawName:"v-show",value:"nrm"==t.tipoform,expression:"tipoform=='nrm'"}]},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:4==t.perfil&&"nrm"==t.tipoform,expression:"perfil==4 && tipoform=='nrm'"}],attrs:{outlined:"",color:"primary",loading:t.loadvb},on:{click:t.validarVoBo}},[a("v-icon",{attrs:{dark:""}},[t._v(t._s(t.iconVoBo))]),t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.msgVoBo)+"\n\t\t\t\t\t\t\t\t\t")],1),a("br"),a("br")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"apb"==t.tipoform,expression:"tipoform=='apb'"}]},[a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){t.dialog_voboactualizacion=!0}}},[t._v("\n\t\t\t\t\t\t\t\t\t\tVo.Bo. Actualización\n\t\t\t\t\t\t\t\t\t")]),a("br"),a("br")],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:9==t.perfil,expression:"perfil==9"}]},[a("div",{directives:[{name:"show",rawName:"v-show",value:"nrm"==t.tipoform,expression:"tipoform=='nrm'"}]},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:9==t.perfil&&"nrm"==t.tipoform,expression:"perfil==9 && tipoform=='nrm'"}],attrs:{outlined:"",color:"primary",loading:t.loadvb},on:{click:t.validarVoBoDir}},[a("v-icon",{attrs:{dark:""}},[t._v(t._s(t.iconVoBoDir))]),t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.msgVoBoDir)+"\n\t\t\t\t\t\t\t\t\t")],1),a("br"),a("br")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"apb"==t.tipoform,expression:"tipoform=='apb'"}]},[a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){t.dialog_voboactualizacion=!0}}},[t._v("\n\t\t\t\t\t\t\t\t\t\tVo.Bo. Actualización\n\t\t\t\t\t\t\t\t\t")]),a("br"),a("br")],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:4!=t.perfil&&1==t.vbplaneacion,expression:"perfil!=4 && vbplaneacion==1"}],staticClass:"primary--text",staticStyle:{"font-size":"22px"}},[t._v("\n\t\t\t\t\t\t\t\tVisto Bueno de Planeación\n\t\t\t\t\t\t\t\t"),a("br"),a("br")]),a("div",{directives:[{name:"show",rawName:"v-show",value:9!=t.perfil&&1==t.vbdireccion,expression:"perfil!=9 && vbdireccion==1"}],staticClass:"primary--text",staticStyle:{"font-size":"22px"}},[t._v("\n\t\t\t\t\t\t\t\tVisto Bueno de dirección\n\t\t\t\t\t\t\t\t"),a("br"),a("br")]),a("v-row",{attrs:{justify:"space-around",align:"center"}},[a("v-chip",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],staticClass:"ma-2",class:{primary:1==t.e1},attrs:{"input-value":1==t.e1,filter:""},on:{click:function(e){t.e1=1}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t1. FORMUL. Y P.I.\n\t\t\t\t\t\t\t\t\t")]),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit&&(5==t.estadoactual||6==t.estadoactual||7==t.estadoactual||8==t.estadoactual),expression:"edit!=0 && (estadoactual==5 || estadoactual==6 || estadoactual==7 || estadoactual==8)"}],staticClass:"ma-2",class:{primary:2==t.e1},attrs:{"input-value":2==t.e1,filter:""},on:{click:function(e){t.e1=2}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t2. ESTADO ACTUAL\n\t\t\t\t\t\t\t\t\t")]),a("v-chip",{staticClass:"ma-2",class:{primary:3==t.e1},attrs:{"input-value":3==t.e1,filter:""},on:{click:function(e){t.e1=3}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t3. ARTIC. CON LA PLANIF.\n\t\t\t\t\t\t\t\t\t")]),a("v-chip",{staticClass:"ma-2",class:{primary:4==t.e1},attrs:{"input-value":4==t.e1,filter:""},on:{click:function(e){t.e1=4}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t4. PROYECTO\n\t\t\t\t\t\t\t\t\t")]),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],staticClass:"ma-2",class:{primary:5==t.e1},attrs:{"input-value":5==t.e1,filter:""},on:{click:function(e){t.e1=5}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t5. OBJET. ESPEC.\n\t\t\t\t\t\t\t\t\t")]),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],staticClass:"ma-2",class:{primary:6==t.e1},attrs:{"input-value":6==t.e1,filter:""},on:{click:function(e){t.e1=6}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t6. PRODUCTOS\n\t\t\t\t\t\t\t\t\t")]),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],staticClass:"ma-2",class:{primary:7==t.e1},attrs:{"input-value":7==t.e1,filter:""},on:{click:function(e){t.e1=7}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t7. ACTIVIDADES\n\t\t\t\t\t\t\t\t\t")]),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],staticClass:"ma-2",class:{primary:8==t.e1},attrs:{"input-value":8==t.e1,filter:""},on:{click:function(e){t.e1=8}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t8. CIUDADES\n\t\t\t\t\t\t\t\t\t")]),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],staticClass:"ma-2",class:{primary:9==t.e1},attrs:{"input-value":9==t.e1,filter:""},on:{click:function(e){t.e1=9}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t9. EQUIPO TÉCNICO\n\t\t\t\t\t\t\t\t\t")]),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],staticClass:"ma-2",class:{primary:10==t.e1},attrs:{"input-value":10==t.e1,filter:""},on:{click:function(e){t.e1=10}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t10. OBS. PLANEACIÓN\n\t\t\t\t\t\t\t\t\t")]),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],staticClass:"ma-2",class:{primary:11==t.e1},attrs:{"input-value":11==t.e1,filter:""},on:{click:function(e){t.e1=11}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t11. OBS. SUBDIR. CIENT.\n\t\t\t\t\t\t\t\t\t")])],1),a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("div",{staticStyle:{"max-width":"1200px"}},[a("v-stepper",{attrs:{vertical:!1},model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],attrs:{step:"1",editable:!0}}),a("v-divider",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}]}),a("v-stepper-step",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit&&(5==t.estadoactual||6==t.estadoactual||7==t.estadoactual||8==t.estadoactual),expression:"edit!=0 && (estadoactual==5 || estadoactual==6 || estadoactual==7 || estadoactual==8)"}],attrs:{step:"2",editable:!0}}),a("v-divider",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}]}),a("v-stepper-step",{attrs:{step:"3",editable:!0}}),a("v-divider"),a("v-stepper-step",{attrs:{step:"4",editable:!0}}),a("v-divider"),a("v-stepper-step",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],attrs:{step:"5",editable:!0}}),a("v-divider"),a("v-stepper-step",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],attrs:{step:"6",editable:!0}}),a("v-divider"),a("v-stepper-step",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],attrs:{step:"7",editable:!0}}),a("v-divider"),a("v-stepper-step",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],attrs:{step:"8",editable:!0}}),a("v-divider"),a("v-stepper-step",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],attrs:{step:"9",editable:!0}}),a("v-divider"),a("v-stepper-step",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],attrs:{step:"10",editable:!0}}),a("v-divider"),a("v-stepper-step",{directives:[{name:"show",rawName:"v-show",value:0!=t.edit,expression:"edit!=0"}],attrs:{step:"11",editable:!0}})],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("formulacionpi",{ref:"cformulacion",attrs:{proyecto:t.codigo,convenioproyecto:t.convenio,nombreproyecto:t.nombre,readonly:t.readonly},on:{"update:proyecto":function(e){t.codigo=e},"update:convenioproyecto":function(e){t.convenio=e},"update:nombreproyecto":function(e){t.nombre=e},"update:readonly":function(e){t.readonly=e},envioNotificaciones:function(e){return t.envioNotificaciones(e)}}})],1),a("v-stepper-content",{attrs:{step:"2"}},[a("estados",{ref:"cestados",attrs:{proyecto:t.codigo},on:{"update:proyecto":function(e){t.codigo=e}}})],1),a("v-stepper-content",{attrs:{step:"3"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("v-layout",{attrs:{wrap:""}},[a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan23"},[a("v-expansion-panel-header",[t._v("CONVENIOS")]),a("v-expansion-panel-content",[a("br"),a("v-row",[a("v-tabs",{staticClass:"elevation-2",attrs:{grow:!0,"icons-and-text":!1,"show-arrows":"",vertical:""},model:{value:t.tab1,callback:function(e){t.tab1=e},expression:"tab1"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tabcon-1"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tACUERDO ESPECIFICO\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tabcon-1"}},[a("v-row",[a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",text:"",disabled:t.readonly},on:{click:function(e){t.dialog_addconvenio=!0}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeleccionar Acuerdo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),a("v-icon",{attrs:{dark:"",right:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsend\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1),a("v-row",[a("div",{staticStyle:{width:"96%","text-align":"center","padding-left":"10px"}},[a("v-data-table",{attrs:{headers:t.headerconveiogen,items:t.arrConveniosGen,"disable-sort":!0,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.fechasuscripcion",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("anoSuscripcion")(o.fechasuscripcion))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("br")],1),a("v-tab",{attrs:{href:"#tabcon-2"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCONVENIO MARCO\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tabcon-2"}},[a("v-row",[a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",text:"",disabled:t.readonly},on:{click:function(e){t.dialog_addconveniomarco=!0}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeleccionar Convenio Marco\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),a("v-icon",{attrs:{dark:"",right:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsend\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1),a("v-row",[a("div",{staticStyle:{width:"96%","text-align":"center","padding-left":"20px"}},[a("v-data-table",{attrs:{headers:t.headerconvmarco,items:t.arrConveniosMarco,"disable-sort":!0,"disable-pagination":!0,"hide-default-footer":!0}})],1)]),a("br")],1)],1)],1),a("br")],1)],1)],1),a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan1"},[a("v-expansion-panel-header",[t._v("PLAN NACIONAL DE DESARROLLO")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",[a("v-flex",[a("v-select",{attrs:{items:t.arrCapitulos,"item-value":"codigo","item-text":"descripcion",label:"Capitulo","return-object":!1,readonly:t.readonly},on:{change:t.OnChangeCapitulos},model:{value:t.capitulo,callback:function(e){t.capitulo=e},expression:"capitulo"}})],1)],1),a("v-col",[a("v-flex",[a("v-select",{attrs:{items:t.arrLineas,"item-value":"codigo","item-text":"descripcion",label:"Línea estratégica","return-object":!1,readonly:t.readonly},on:{change:t.OnChangeLineasEstrategica},model:{value:t.linea,callback:function(e){t.linea=e},expression:"linea"}})],1)],1)],1),a("v-row",[a("v-col",[a("v-flex",[a("v-select",{attrs:{items:t.arrObjetivos,"item-value":"codigo","item-text":"descripcion",label:"Objetivo","return-object":!1,readonly:t.readonly},on:{change:t.OnChangeObjetivos},model:{value:t.objetivo,callback:function(e){t.objetivo=e},expression:"objetivo"}})],1)],1),a("v-col",[a("v-flex",[a("v-select",{attrs:{items:t.arrODS,"item-value":"codigo","item-text":"descripcion",label:"Objetivos de desarrollo sostenible","return-object":!1,readonly:t.readonly},model:{value:t.ods,callback:function(e){t.ods=e},expression:"ods"}})],1)],1)],1)],1)],1),a("v-expansion-panel",{key:"pan2"},[a("v-expansion-panel-header",[t._v("PLAN ESTRATEGICO NACIONAL DE INVESTIGACIÓN AMBIENTAL")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",[a("v-flex",[a("v-select",{attrs:{items:t.arrProyectosPenia,"item-value":"codigo","item-text":"descripcion",label:"Programa Investigación PENIA","return-object":!1,readonly:t.readonly},on:{change:t.OnChangeProgramasPenia},model:{value:t.proyectopenia,callback:function(e){t.proyectopenia=e},expression:"proyectopenia"}})],1)],1)],1),a("v-row",[a("v-col",[a("v-flex",[a("v-select",{attrs:{items:t.arrLIneasInvPenia,"item-value":"codigo","item-text":"descripcion",label:"Líneas Investigación PENIA","return-object":!1,readonly:t.readonly},on:{change:t.OnChangeLineasInvPenia},model:{value:t.lineainvpenia,callback:function(e){t.lineainvpenia=e},expression:"lineainvpenia"}})],1),a("v-flex",[a("v-select",{attrs:{items:t.arrMetas,"item-value":"codigo","item-text":"nombre",label:"Indicador","return-object":!1,readonly:t.readonly},model:{value:t.meta,callback:function(e){t.meta=e},expression:"meta"}})],1)],1)],1)],1)],1),a("v-expansion-panel",{key:"pan3"},[a("v-expansion-panel-header",[t._v("PLAN INSTITUCIONAL CUATRIENAL DE INVESTIGACIÓN AMBIENTAL")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",[a("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[a("v-card-title",[t._v("Pilares Picia")]),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headpilpicia,items:t.datapilpicia,"single-select":!1,"show-select":"","item-key":"codigo","hide-default-footer":!0,"items-per-page":-1},model:{value:t.selectedpilpic,callback:function(e){t.selectedpilpic=e},expression:"selectedpilpic"}})],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{sm4:""}},[a("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[a("v-card-title",[t._v("Líneas de Investigación")]),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headpilpicia,items:t.arrLIneasInvPicia,"single-select":!1,"show-select":"","item-key":"codigo","hide-default-footer":!0,"items-per-page":-1},model:{value:t.selectedlininvpic,callback:function(e){t.selectedlininvpic=e},expression:"selectedlininvpic"}})],1)],1)],1),a("v-col",{attrs:{sm4:""}},[a("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[a("v-card-title",[t._v("Acciones")]),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headpilpicia,items:t.arrAccionesPicia,"single-select":!1,"show-select":"","item-key":"codigo","hide-default-footer":!0,"items-per-page":-1},model:{value:t.selectedaccionespic,callback:function(e){t.selectedaccionespic=e},expression:"selectedaccionespic"}})],1)],1)],1),a("v-col",{attrs:{sm4:""}},[a("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[a("v-card-title",[t._v("Indicadores")]),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headpilpicia,items:t.arrIndicadoresPicia,"single-select":!1,"show-select":"","item-key":"codigo","hide-default-footer":!0,"items-per-page":-1},model:{value:t.selectedindicadorespic,callback:function(e){t.selectedindicadorespic=e},expression:"selectedindicadorespic"}})],1)],1)],1)],1)],1)],1),a("v-expansion-panel",{key:"pan4"},[a("v-expansion-panel-header",[t._v("PLAN ESTRATEGICO INSTITUCIONAL")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",{attrs:{sm6:""}},[a("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[a("v-card-title",[t._v("Programas de Investigación")]),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headpilpicia,items:t.arrProyectosPei,"single-select":!1,"show-select":"","item-key":"codigo","hide-default-footer":!0,"items-per-page":-1},model:{value:t.selectedproginvpei,callback:function(e){t.selectedproginvpei=e},expression:"selectedproginvpei"}})],1)],1)],1),a("v-col",{attrs:{sm6:""}},[a("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[a("v-card-title",[t._v("Líneas de Investigación")]),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headpilpicia,items:t.arrLIneasInvPei,"single-select":!1,"show-select":"","item-key":"codigo","hide-default-footer":!0,"items-per-page":-1},model:{value:t.selectedlininvpei,callback:function(e){t.selectedlininvpei=e},expression:"selectedlininvpei"}})],1)],1)],1)],1)],1)],1)],1),a("v-flex",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:t.readonly},model:{value:t.observacion,callback:function(e){t.observacion=e},expression:"observacion"}})],1)],1)],1)],1)],1),a("v-stepper-content",{attrs:{step:"4"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{sm12:""}},[a("v-text-field",{attrs:{label:"Nombre Corto",rules:[t.rules.required],readonly:t.readonly},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan5"},[a("v-expansion-panel-header",[t._v("Descripción")]),a("v-expansion-panel-content",[a("v-flex",{attrs:{sm12:""}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Descripción",rules:[t.rules.required],readonly:t.readonly},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1),a("v-flex",{attrs:{sm4:""}},[a("v-select",{attrs:{items:t.arrEstados,"item-value":"codigo","item-text":"descripcion",label:"Estado",rules:[t.rules.required],"return-object":!0,readonly:t.readonly},model:{value:t.codigoestado,callback:function(e){t.codigoestado=e},expression:"codigoestado"}})],1),a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan6"},[a("v-expansion-panel-header",[t._v("Alcance")]),a("v-expansion-panel-content",[a("v-flex",{attrs:{sm12:""}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Alcance",readonly:t.readonly},model:{value:t.objeto,callback:function(e){t.objeto=e},expression:"objeto"}})],1)],1)],1)],1),a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan8"},[a("v-expansion-panel-header",[t._v("Justificación")]),a("v-expansion-panel-content",[a("v-flex",{attrs:{sm12:""}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Importancia",readonly:t.readonly},model:{value:t.justificaimportancia,callback:function(e){t.justificaimportancia=e},expression:"justificaimportancia"}})],1),a("v-flex",{attrs:{sm12:""}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Pertenencia",readonly:t.readonly},model:{value:t.justificapertenencia,callback:function(e){t.justificapertenencia=e},expression:"justificapertenencia"}})],1),a("v-flex",{attrs:{sm12:""}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Impacto",readonly:t.readonly},model:{value:t.justificaimpacto,callback:function(e){t.justificaimpacto=e},expression:"justificaimpacto"}})],1)],1)],1)],1),a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan9"},[a("v-expansion-panel-header",[t._v("Objetivo General")]),a("v-expansion-panel-content",[a("v-flex",{attrs:{sm12:""}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Objetivo General",readonly:t.readonly},model:{value:t.objetivogeneral,callback:function(e){t.objetivogeneral=e},expression:"objetivogeneral"}})],1)],1)],1)],1),a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan10"},[a("v-expansion-panel-header",[t._v("Actores")]),a("v-expansion-panel-content",[a("v-flex",{attrs:{sm12:""}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Actores",readonly:t.readonly},model:{value:t.actores,callback:function(e){t.actores=e},expression:"actores"}})],1)],1)],1)],1),a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan11"},[a("v-expansion-panel-header",[t._v("Beneficiarios")]),a("v-expansion-panel-content",[a("v-flex",{attrs:{sm12:""}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Beneficiarios",readonly:t.readonly},model:{value:t.beneficiarios,callback:function(e){t.beneficiarios=e},expression:"beneficiarios"}})],1)],1)],1)],1),a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan12"},[a("v-expansion-panel-header",[t._v("Antecedentes")]),a("v-expansion-panel-content",[a("v-flex",{attrs:{sm12:""}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Antecedentes",readonly:t.readonly},model:{value:t.antecedentes,callback:function(e){t.antecedentes=e},expression:"antecedentes"}})],1)],1)],1)],1)],1)],1)],1)],1),a("v-stepper-content",{attrs:{step:"5"}},[a("objetivos",{ref:"cobjetivos",attrs:{proyecto:t.codigo,convenioproyecto:t.convenio,nombreproyecto:t.nombre,readonly:t.readonly},on:{"update:proyecto":function(e){t.codigo=e},"update:convenioproyecto":function(e){t.convenio=e},"update:nombreproyecto":function(e){t.nombre=e},"update:readonly":function(e){t.readonly=e},envioNotificaciones:function(e){return t.envioNotificaciones(e)}}})],1),a("v-stepper-content",{attrs:{step:"6"}},[a("productos",{ref:"cproductos",attrs:{proyecto:t.codigo,readonly:t.readonly,convenioproyecto:t.convenio,nombreproyecto:t.nombre},on:{"update:proyecto":function(e){t.codigo=e},"update:readonly":function(e){t.readonly=e},"update:convenioproyecto":function(e){t.convenio=e},"update:nombreproyecto":function(e){t.nombre=e},envioNotificaciones:function(e){return t.envioNotificaciones(e)}}})],1),a("v-stepper-content",{attrs:{step:"7"}},[a("actividades",{ref:"cactividades",attrs:{proyecto:t.codigo,readonly:t.readonly,convenioproyecto:t.convenio,nombreproyecto:t.nombre,fechaterejecucion:t.fechaterejecucion,tasa:t.tasa,activar:t.activar},on:{"update:proyecto":function(e){t.codigo=e},"update:readonly":function(e){t.readonly=e},"update:convenioproyecto":function(e){t.convenio=e},"update:nombreproyecto":function(e){t.nombre=e},"update:fechaterejecucion":function(e){t.fechaterejecucion=e},"update:tasa":function(e){t.tasa=e},"update:activar":function(e){t.activar=e},envioNotificaciones:function(e){return t.envioNotificaciones(e)}}})],1),a("v-stepper-content",{attrs:{step:"8"}},[a("ciudades",{ref:"cciudades",attrs:{proyecto:t.codigo,readonly:t.readonly,convenioproyecto:t.convenio,nombreproyecto:t.nombre},on:{"update:proyecto":function(e){t.codigo=e},"update:readonly":function(e){t.readonly=e},"update:convenioproyecto":function(e){t.convenio=e},"update:nombreproyecto":function(e){t.nombre=e},envioNotificaciones:function(e){return t.envioNotificaciones(e)}}})],1),a("v-stepper-content",{attrs:{step:"9"}},[a("equipo",{ref:"cequipo",attrs:{proyecto:t.codigo,readonly:t.readonly,convenioproyecto:t.convenio,nombreproyecto:t.nombre},on:{"update:proyecto":function(e){t.codigo=e},"update:readonly":function(e){t.readonly=e},"update:convenioproyecto":function(e){t.convenio=e},"update:nombreproyecto":function(e){t.nombre=e},envioNotificaciones:function(e){return t.envioNotificaciones(e)}}})],1),a("v-stepper-content",{attrs:{step:"10"}},[a("observacionespla",{ref:"cobservacionespla",attrs:{proyecto:t.codigo,convenioproyecto:t.convenio,nombreproyecto:t.nombre,readonly:t.readonly,perfil:t.perfil},on:{"update:proyecto":function(e){t.codigo=e},"update:convenioproyecto":function(e){t.convenio=e},"update:nombreproyecto":function(e){t.nombre=e},"update:readonly":function(e){t.readonly=e},"update:perfil":function(e){t.perfil=e},envioNotificaciones:function(e){return t.envioNotificaciones(e)}}})],1),a("v-stepper-content",{attrs:{step:"11"}},[a("observacionessubcie",{ref:"cobservacionessubcie",attrs:{proyecto:t.codigo,convenioproyecto:t.convenio,nombreproyecto:t.nombre,readonly:t.readonly,perfil:t.perfil},on:{"update:proyecto":function(e){t.codigo=e},"update:convenioproyecto":function(e){t.convenio=e},"update:nombreproyecto":function(e){t.nombre=e},"update:readonly":function(e){t.readonly=e},"update:perfil":function(e){t.perfil=e},envioNotificaciones:function(e){return t.envioNotificaciones(e)}}})],1)],1)],1)],1)])],1)],1)],1),a("v-card-actions",{staticClass:"flexcard"},[a("div",{staticStyle:{"text-align":"left"}},[a("v-spacer"),a("v-btn",{staticClass:"text-left",attrs:{color:"primary",text:"",disabled:2==t.edit},on:{click:t.saveitem}},[t._v("Guardar datos Proyecto")]),a("v-btn",{staticClass:"text-left",attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")])],1)])],1)],1),a("v-dialog",{attrs:{width:"250"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Proyecto")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Proyecto seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1),a("v-dialog",{attrs:{width:"1200"},model:{value:t.dialog_seguimientoplan,callback:function(e){t.dialog_seguimientoplan=e},expression:"dialog_seguimientoplan"}},[a("v-card",[a("v-card-text",[a("seguimientoplan",{attrs:{proyecto:t.codigo,onoffSeguimiento:t.onoffSeguimiento,readonly:t.readonlynuevo},on:{"update:proyecto":function(e){t.codigo=e},"update:onoffSeguimiento":function(e){t.onoffSeguimiento=e},"update:onoff-seguimiento":function(e){t.onoffSeguimiento=e},"update:readonly":function(e){t.readonlynuevo=e},envioNotificaciones:function(e){return t.envioNotificaciones(e)}}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.cerrarSeguimientoPlan}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{width:"1200"},model:{value:t.dialog_addconvenio,callback:function(e){t.dialog_addconvenio=e},expression:"dialog_addconvenio"}},[a("v-card",[a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchcongenadd,callback:function(e){t.searchcongenadd=e},expression:"searchcongenadd"}}),a("v-data-table",{attrs:{headers:t.headerconveiogenAdd,items:t.arrConveniosGenAll,"items-per-page":5,"disable-sort":!0,search:t.searchcongenadd},scopedSlots:t._u([{key:"item.fechasuscripcion",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("anoSuscripcion")(o.fechasuscripcion))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.seleccionarConvenioGen(o.codigo)}}},[t._v("\n\t\t\t\t\t\t\t\tsend\n\t\t\t\t\t\t\t")])]}}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_addconvenio=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{width:"1200"},model:{value:t.dialog_addconveniomarco,callback:function(e){t.dialog_addconveniomarco=e},expression:"dialog_addconveniomarco"}},[a("v-card",[a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchconmaradd,callback:function(e){t.searchconmaradd=e},expression:"searchconmaradd"}}),a("v-data-table",{attrs:{headers:t.headerconveiomarAdd,items:t.arrConveniosMarcoAll,"items-per-page":5,"disable-sort":!0,search:t.searchconmaradd},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.seleccionarConvenioMarco(o.codigo)}}},[t._v("\n\t\t\t\t\t\t\t\tsend\n\t\t\t\t\t\t\t")])]}}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_addconveniomarco=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{width:"900"},model:{value:t.dialog_errvobo,callback:function(e){t.dialog_errvobo=e},expression:"dialog_errvobo"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Resultado Visto Bueno Planeación")])]),a("v-card-text",[a("v-data-table",{attrs:{items:t.arrErrVoBo,headers:t.headErrVoBo,"disable-sort":!0,"items-per-page":7}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_errvobo=!1}}},[t._v("Aceptar")])],1)],1)],1),a("v-dialog",{attrs:{width:"900"},model:{value:t.dialog_voboactualizacion,callback:function(e){t.dialog_voboactualizacion=e},expression:"dialog_voboactualizacion"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Visto Bueno Actualización")])]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.voboactualza,"item-value":"valor","item-text":"texto",label:"Visto Bueno","return-object":!1},model:{value:t.voboactualizacion,callback:function(e){t.voboactualizacion=e},expression:"voboactualizacion"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación Actualización",rules:[t.rules.required]},model:{value:t.observavoboactualiza,callback:function(e){t.observavoboactualiza=e},expression:"observavoboactualiza"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-btn",{attrs:{outlined:"",color:"primary",disabled:"N"==t.voboactualizacion&&""==t.observavoboactualiza||""==t.voboactualizacion},on:{click:t.validarVoBo}},[t._v("\n\t\t\t\t\t\t\t\tGuardar VoBo Actualización\n\t\t\t\t\t\t\t")])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.guardarVoBoActualizacion}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_voboactualizacion=!1}}},[t._v("Cancelar")])],1)],1)],1)],1)},ze=[],Xe=a("a34a"),He=a.n(Xe),Je=a("716b"),Ye=a.n(Je),Ze=a("3bb9"),We={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Capitulos",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarCapitulo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarCapitulo",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delCapitulos:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delCapitulos",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Qe=We,Ke={getLineasEstrategicas:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/LineasEstrategicas",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXFiltro:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/LinEstrXCapitulos",dataType:"json",data:{capitulo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarLineaEstrategica:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarLineaEstrategica",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delLineaEstrategica:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delLineaEstrategica",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},ta=Ke,ea={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Objetivos",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXFiltro:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ObjetivoxLineaEst",dataType:"json",data:{linea:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarObjetivo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarObjetivo",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delObjetivo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delObjetivo",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},aa=ea,oa={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Ods",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXFiltro:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/OdsXFiltro",dataType:"json",data:{objetivo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarOds:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarOds",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delOds:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delOds",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},ia=oa,na={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Metas",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXLinInvPenia:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/MetasXLinvIngPenia",dataType:"json",data:{linea:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarMetas:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarMetas",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delMetas:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delMetas",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},ra=na,sa={getLineasInvPenia:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/LineasInvPenia",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getFiltroXProgInvPenia:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/LineasInvPeniaXProgInv",dataType:"json",data:{programa:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarLinInvPenia:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarLinInvPenia",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delLinInvPenia:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delLinInvPenia",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},ca=sa,la={getLineasInvPei:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/LineasInvPei",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarLineaInvPei:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarLineaInvPei",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delLineaInvPei:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delLineaInvPei",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getSeleccionados:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/SelLinInvPeiProy",dataType:"json",data:{proyecto:t,programas:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getDataXProyecto:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/LineasInvPeiXProyecto",dataType:"json",data:{proyecto:t}}).then((function(t){e(t.data.data)})).catch((function(t){e(t)}))}))}},da=la,ua={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/LineasInvPicia",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXProyecto:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/LineaInvPiciaXProyecto",dataType:"json",data:{proyecto:t}}).then((function(t){e(t.data.data)})).catch((function(t){e(t)}))}))},guardarData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/addupdLineaInvPicia",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delLineaInvPicia",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getSeleccionados:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/SelLineaInvPiciaProy",dataType:"json",data:{proyecto:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},pa=ua,ma={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/AccionesPicia",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXProyecto:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/AccionesPiciaXProyecto",dataType:"json",data:{proyecto:t}}).then((function(t){e(t.data.data)})).catch((function(t){e(t)}))}))},guardarData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/addupdAccionPicia",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delAccionPicia",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getSeleccionados:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/SelAccionesPiciaProy",dataType:"json",data:{proyecto:t,linvinv:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getXLinInvPicia:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/AccionPiciaXLinInv",dataType:"json",data:{lininvpicia:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getXLinInvPiciaAray:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/AccPicXLinInvArray",dataType:"json",data:{lininvpicia:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},va=ma,ha={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/IndicadoresPicia",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/addupdIndicadorPicia",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delIndicadorPicia",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getSeleccionados:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/SelIndicadoresPiciaProy",dataType:"json",data:{proyecto:t,acciones:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getDataXProyecto:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/IndicadoresPiciaXProyecto",dataType:"json",data:{proyecto:t}}).then((function(t){e(t.data.data)})).catch((function(t){e(t)}))}))}},fa=ha,ga=a("7ed2"),ba=a("4d90"),xa={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Monedas",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarMoneda",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delMoneda",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},_a=xa,ya={getSeleccionados:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/selPilaresPicia",dataType:"json",data:{proyecto:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getDataXProyecto:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/PilaresPiciaXProyecto",dataType:"json",data:{proyecto:t}}).then((function(t){e(t.data.data)})).catch((function(t){e(t)}))}))}},ka=ya,Ca=a("c088"),Sa=a("9d5e"),wa=a("d761"),Pa=a("68e7"),Aa=a("a1ab");function ja(t){return ja="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(t)}function Ea(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Ta(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Ea(n,o,i,r,s,"next",t)}function s(t){Ea(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Da,Ia={name:"Proyectos",components:{objetivos:function(){return a.e("chunk-2d0af0a7").then(a.bind(null,"0d41"))},productos:function(){return a.e("chunk-2d22d799").then(a.bind(null,"f83d"))},actividades:function(){return a.e("chunk-71ce8316").then(a.bind(null,"11ee"))},ciudades:function(){return a.e("chunk-2d0dae63").then(a.bind(null,"6e20"))},equipo:function(){return a.e("chunk-2d22d808").then(a.bind(null,"f888"))},seguimientoplan:function(){return a.e("chunk-2d0cf305").then(a.bind(null,"633e"))},estados:function(){return a.e("chunk-2d225a13").then(a.bind(null,"e4e3"))},observacionespla:function(){return a.e("chunk-2d0df2c6").then(a.bind(null,"897f"))},observacionessubcie:function(){return a.e("chunk-2d0e57e2").then(a.bind(null,"955e"))},formulacionpi:function(){return a.e("chunk-2d0b273b").then(a.bind(null,"23bf"))}},data:function(){var t=this;return{modulo:"PROYECTOS",money:{decimal:",",thousands:".",prefix:"$ ",suffix:"",precision:0,masked:!1},titulocomponente:"PROYECTOS",tipoform:"",e1:-1,loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",searchNombre:"",searchcongenadd:"",searchconmaradd:"",tab:null,tab1:null,readonly:!1,onoffSeguimiento:0,readonlynuevo:!1,dialog_seguimientoplan:!1,codigo:"0",descripcion:"",nombre:"",estrategia:"",indicador:"",unidadmedida:"",metasectorial:"",metainstitucional:"",observacion:"",capitulo:"",linea:"",objetivo:"",ods:"",meta:"",proyectopenia:"",lineainvpenia:"",codigopoa:"0",convenio:"",codigoconvenio:0,conveniomarco:"0",fechasuscripcion:"",fechaterejecucion:"",antecedentes:"",codigoestado:"",codigocoordinador:"",codigoencargado:"",objeto:"",justificaimportancia:"",justificapertenencia:"",justificaimpacto:"",objetivogeneral:"",actores:"",beneficiarios:"",codigociudad:"",itemactual:"",tasa:0,tipo:"",menuDate5:!1,menuDate6:!1,menuDate7:!1,data:[],arrCapitulos:[],arrLineas:[],arrObjetivos:[],arrODS:[],arrMetas:[],arrProyectosPenia:[],arrLIneasInvPenia:[],arrLIneasInvPicia:[],arrAccionesPicia:[],arrIndicadoresPicia:[],arrProyectosPei:[],arrLIneasInvPei:[],arrEstados:[],arrCoordinadores:[],arrCiudades:[],arrPersonal:[],arrMonedas:[],arrConveniosGen:[],arrConveniosGenAll:[],arrConveniosMarco:[],arrConveniosMarcoAll:[],tipoFecha:"",estadoactual:"",perfil:"",dialog_addconvenio:!1,dialog_addconveniomarco:!1,usuarioPlaneacion:"",usuarioSubDirCientifica:"",datapilpicia:[],selectedpilpic:[],selectedlininvpic:[],selectedaccionespic:[],selectedindicadorespic:[],selectedproginvpei:[],selectedlininvpei:[],vbplaneacion:!1,vbdireccion:!1,dialog_errvobo:!1,arrErrVoBo:[],msgVoBo:"",iconVoBo:"",msgVoBoDir:"",iconVoBoDir:"",loadvb:!1,vbplaneacionactual:0,vbdireccionnactual:0,headErrVoBo:[{text:"Error",align:"left",value:"errvobo",sortable:!1}],headers:[{text:"Nombre Convenio",align:"left",sortable:!1,value:"nombreconvenio"},{text:"Año Suscripc.",value:"fechasuscripcion",sortable:!1,align:"left"},{text:"Nombre Proyecto",value:"nombre",sortable:!1,align:"left"},{text:"Estado",value:"descripcionestado",sortable:!1,align:"left"},{text:"Valor Total",value:"valortotal",sortable:!1,align:"left"},{text:"Responsable",value:"nombrecoordinador",sortable:!1,align:"left"},{text:"Fecha Term. Ejecuc.",value:"fechaterejecucion",sortable:!1,align:"left"},{text:"Tasa",value:"tasa",sortable:!1,align:"left"},{text:"VoBo Planeación",value:"vbplaneacion",sortable:!1,align:"left"},{text:"VoBo Dirección",value:"vbdireccion",sortable:!1,align:"left"},{text:"Seguimiento Plan Acción",value:"seguimientoplan",sortable:!1,align:"left"},{text:"Detalle",value:"vermas",sortable:!1,align:"left"},{text:"Ficha Técnica",value:"tecnica",sortable:!1,align:"left"},{text:"Acta PI",value:"actapi",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],headerconveiogen:[{text:"Nombre Convenio",align:"left",sortable:!1,value:"nombre"},{text:"Año Suscripc.",value:"fechasuscripcion",sortable:!1,align:"left"},{text:"Estado",value:"descripcionestado",sortable:!1,align:"left"},{text:"Valor Total",value:"valortotal",sortable:!1,align:"left"},{text:"Responsable",value:"nombrecoordinador",sortable:!1,align:"left"},{text:"Fecha Term. Ejecuc.",value:"fechaterejecucion",sortable:!1,align:"left"},{text:"Tasa",value:"tasa",sortable:!1,align:"left"}],headerconveiogenAdd:[{text:"Nombre Convenio",align:"left",sortable:!1,value:"nombre"},{text:"Año Suscripc.",value:"fechasuscripcion",sortable:!1,align:"left"},{text:"Estado",value:"descripcionestado",sortable:!1,align:"left"},{text:"Valor Total",value:"valortotal",sortable:!1,align:"left"},{text:"Responsable",value:"nombrecoordinador",sortable:!1,align:"left"},{text:"Fecha Term. Ejecuc.",value:"fechaterejecucion",sortable:!1,align:"left"},{text:"Tasa",value:"tasa",sortable:!1,align:"left"},{text:"Seleccionar",value:"action",sortable:!1}],headerconvmarco:[{text:"Nombre Asociado",align:"left",sortable:!1,value:"nombreasociado"},{text:"Fecha Suscripción",value:"fechasuscripcion",sortable:!1,align:"left"},{text:"Fecha Inicio",value:"fechainicio",sortable:!1,align:"left"},{text:"Fecha Terminación",value:"fechaterminacion",sortable:!1,align:"left"},{text:"Estado",value:"descripcionestado",sortable:!1,align:"left"}],headerconveiomarAdd:[{text:"Nombre Asociado",align:"left",sortable:!1,value:"nombreasociado"},{text:"Fecha Suscripción",value:"fechasuscripcion",sortable:!1,align:"left"},{text:"Fecha Inicio",value:"fechainicio",sortable:!1,align:"left"},{text:"Fecha Terminación",value:"fechaterminacion",sortable:!1,align:"left"},{text:"Estado",value:"descripcionestado",sortable:!1,align:"left"},{text:"Seleccionar",value:"action",sortable:!1}],headpilpicia:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"}],voboactualza:[{valor:"N",texto:"NO"},{valor:"S",texto:"SI"}],observavoboactualiza:"",voboactualizacion:"",dialog_voboactualizacion:!1,activar:0,rules:{required:function(t){return!!t||"Campo requerido."},valor:function(e){return t.limpiarMoneda(e)>0||"El Valor debe ser mayor a 0."},minDate:function(t){return t<(new Date).toISOString()||"La fecha no puede ser superior al dia de hoy"},maxDate:function(t){return t>=(new Date).toISOString()||"La fecha no puede ser inferior al dia de hoy"}}}},filters:{anoSuscripcion:function(t){return t?(t=t.substring(0,4),t):""}},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},traeUsersPlaSubDirCient:function(){var t=Ta(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.usuarioPlaneacion=0,this.usuarioSubDirCientifica=0,t.prev=2,t.next=5,jt["a"].getXCodigo(4);case 5:return e=t.sent,t.next=8,jt["a"].getXCodigo(3);case 8:a=t.sent,e.data&&(this.usuarioPlaneacion=e.data.data[0].encargadocodigo),a.data&&(this.usuarioSubDirCientifica=a.data.data[0].encargadocodigo),t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](2);case 15:return t.prev=15,t.finish(15);case 17:case"end":return t.stop()}}),t,this,[[2,13,15,17]])})));function e(){return t.apply(this,arguments)}return e}(),envioNotificaciones:function(t){var e=0,a=16,o=this.convenio;e=""!=this.codigoencargado&&"0"!=this.codigoencargado?this.codigoencargado:this.codigocoordinador,this.$root.$emit("enviarNotificaciones",{codigopersona:e,mensajenotificacion:t.mensajenotificacion,asuntocorreo:t.asuntocorreo,mensajecorreo:t.mensajecorreo,codigoopcion:a,numerointerno:o});var i=0;i="object"==ja(this.codigoestado)?this.codigoestado.codigo:this.codigoestado,"3"==i&&""!=this.usuarioPlaneacion&&"0"!=this.usuarioPlaneacion&&this.$root.$emit("enviarNotificaciones",{codigopersona:this.usuarioPlaneacion,mensajenotificacion:t.mensajenotificacion,asuntocorreo:t.asuntocorreo,mensajecorreo:t.mensajecorreo,codigoopcion:a,numerointerno:o}),"5"==i&&""!=this.usuarioSubDirCientifica&&"0"!=this.usuarioSubDirCientifica&&this.$root.$emit("enviarNotificaciones",{codigopersona:this.usuarioSubDirCientifica,mensajenotificacion:t.mensajenotificacion,asuntocorreo:t.asuntocorreo,mensajecorreo:t.mensajecorreo,codigoopcion:a,numerointerno:o})},abrirSeguimientoPlan:function(t,e,a){this.onoffSeguimiento=0==this.onoffSeguimiento?1:0,this.codigo=t,this.readonlynuevo=this.readonly,"1"!=e&&1!=e&&"1"!=a&&1!=a||(this.readonlynuevo=!0),this.traerDataXId(t,-2)},cerrarSeguimientoPlan:function(){this.edit=-1,this.dialog_seguimientoplan=!1},resetForm:function(){this.codigo="0",this.codigoconvenio=0,this.convenio=0,this.codigopoa="0",this.descripcion="",this.nombre="",this.estrategia="",this.indicador="",this.unidadmedida="",this.metasectorial=0,this.metainstitucional=0,this.observacion="",this.capitulo="",this.linea="",this.objetivo="",this.ods="",this.meta="",this.proyectopenia="",this.lineainvpenia="",this.antecedentes="",this.codigoestado="",this.codigocoordinador="",this.codigoencargado="",this.objeto="",this.justificaimportancia="",this.justificapertenencia="",this.justificaimpacto="",this.objetivogeneral="",this.actores="",this.beneficiarios="",this.codigociudad="",this.tipo="",this.estadoactual="",this.fechasuscripcion="",this.fechaterejecucion="",this.conveniomarco=0,this.selectedlininvpic=[],this.selectedaccionespic=[],this.selectedindicadorespic=[],this.selectedproginvpei=[],this.selectedlininvpei=[],this.vbplaneacion=!1,this.vbdireccion=!1},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1,1!=this.perfil&&2!=this.perfil?this.readonly=!0:this.readonly=!1},traerDataXId:function(t,e){var a=this;this.loading=!0,console.log(t),Ze["a"].getDataXId(t).then((function(t){t.request&&t.data?a.itemactual=t.data.data[0]:a.itemactual="",a.loading=!1,a.edit=e})).catch((function(t){a.itemactual="",a.loading=!1,a.edit=e}))},traerDataPrincipal:function(){var t=this;this.loading=!0,Ze["a"].getData(this.tipoform,this.search,this.searchNombre).then((function(e){e.request&&e.data?t.data=e.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,Ze["a"].DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Proyecto con éxito"),t.del_item="",t.traerDataPrincipal(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL PROYECTO CON CODIGO:"+t.itemactual.codigo+", NO. CONVENIO:"+t.itemactual.convenio)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaSave:function(){return!0},number_format:function(t,e){if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var a=t.split("."),o=/(\d+)(\d{3})/;while(o.test(a[0]))a[0]=a[0].replace(o,"$1.$2");return a.join(",")},generaArrayUnicos:function(t,e){for(var a=[],o=0;o<t.length;o++){for(var i=t[o],n=1,r=0;r<a.length;r++){var s=a[r];if(i[e]==s[e]){n=0;break}}1==n&&a.push({codigo:i[e]})}return a},saveitem:function(){if(""!=this.codigoconvenio&&"0"!=this.codigoconvenio)if(""!=this.nombre)if(""!=this.descripcion)if(""!=this.codigoestado){var t=this;this.loading=!0;var e="",a="",o="";"object"==ja(this.codigoestado)?(a=this.codigoestado.codigo,o=this.codigoestado.descripcion):(a=this.codigoestado,o=this.itemactual.descripcionestado);for(var i=[],n=0;n<this.selectedpilpic.length;n++){var r=this.selectedpilpic[n];i.push({proyecto:this.codigo,codigo:r.codigo})}""==this.fechasuscripconmarco||this.fechasuscripconmarco,""==this.fechaterminaconmarco||this.fechaterminaconmarco,""==this.fechainicioconmarco||this.fechainicioconmarco;var s={codigo:this.codigopoa,descripcion:this.descripcion,estrategia:this.estrategia,indicador:this.indicador,unidadmedida:this.unidadmedida,metasectorial:this.metasectorial,metainstitucional:this.metainstitucional,observacion:this.observacion,capitulo:this.capitulo,linea:this.linea,objetivo:this.objetivo,ods:this.ods,meta:this.meta,proyectopenia:this.proyectopenia,lineainvpenia:this.lineainvpenia},c={codigo:this.codigo,descripcion:this.descripcion,nombre:this.nombre,convenio:this.convenio,antecedentes:this.antecedentes,codigoestado:a,objeto:this.objeto,objetivogeneral:this.objetivogeneral,actores:this.actores,beneficiarios:this.beneficiarios,justificaimportancia:this.justificaimportancia,justificapertenencia:this.justificapertenencia,justificaimpacto:this.justificaimpacto,tipo:this.tipo,codigoconvenio:this.codigoconvenio,conveniomarco:this.conveniomarco};if(this.edit){var l=this.validaSave();if(!l)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);e=""}e="No. CONVENIO: "+this.convenio+", NOMBRE: "+this.nombre+", ESTADO: "+o;var d=this.generaArrayUnicos(this.selectedaccionespic,"codigo"),u=this.generaArrayUnicos(this.selectedindicadorespic,"codigo"),p=this.generaArrayUnicos(this.selectedlininvpei,"codigo");Ze["a"].guardarData(s,c,this.selectedlininvpic,d,u,p,this.selectedproginvpei,i).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el Proyecto con éxito");var r=t.convenio,s=t.nombre;t.del_item="",t.edit=-1,t.traerDataPrincipal(),t.dialog=!1,t.agregaBitacora(n,e);var c="Cordial Saludo,<br><br> Se "+i+" el proyecto con # de convenio: "+r+", Nombre: "+s+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";t.envioNotificaciones({mensajenotificacion:"Se "+i+" el proyecto con # de convenio: "+r+", Nombre: "+s,asuntocorreo:"Creación o Modificación de Proyectos",mensajecorreo:c}),t.resetForm()}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}else this.showMessage(!0,3e3,"error","Debe ingresar el Estado del Proyecto");else this.showMessage(!0,3e3,"error","Debe ingresar la Descripción del Proyecto");else this.showMessage(!0,3e3,"error","Debe ingresar el Nombre Corto del Proyecto");else this.showMessage(!0,3e3,"error","Debe ingresar el Acuerdo Específico para el Proyecto")},traerCapitulos:function(){var t=this;this.loading=!0,Qe.getData().then((function(e){e.request&&e.data?t.arrCapitulos=e.data.data:t.arrCapitulos=[],t.loading=!1})).catch((function(e){t.arrCapitulos=[],t.loading=!1}))},OnChangeCapitulos:function(){this.linea=0,this.objetivo=0,this.ods=0,this.traerLineasEstrategicas()},traerLineasEstrategicas:function(){var t=this;this.loading=!0,ta.getDataXFiltro(this.capitulo).then((function(e){e.request&&e.data?t.arrLineas=e.data.data:t.arrLineas=[],t.loading=!1})).catch((function(e){t.arrLineas=[],t.loading=!1}))},OnChangeLineasEstrategica:function(){this.objetivo=0,this.ods=0,this.traerObjetivos()},traerObjetivos:function(){var t=this;this.loading=!0,aa.getDataXFiltro(this.linea).then((function(e){e.request&&e.data?t.arrObjetivos=e.data.data:t.arrObjetivos=[],t.loading=!1})).catch((function(e){t.arrObjetivos=[],t.loading=!1}))},OnChangeObjetivos:function(){this.ods=0,this.traerOds()},traerOds:function(){var t=this;this.loading=!0,ia.getDataXFiltro(this.objetivo).then((function(e){e.request&&e.data?t.arrODS=e.data.data:t.arrODS=[],t.loading=!1})).catch((function(e){t.arrODS=[],t.loading=!1}))},OnChangeLineasInvPenia:function(){this.meta=0,this.traerMetas()},traerMetas:function(){var t=this;this.loading=!0,ra.getDataXLinInvPenia(this.lineainvpenia).then((function(e){e.request&&e.data?t.arrMetas=e.data.data:t.arrMetas=[],t.loading=!1})).catch((function(e){t.arrMetas=[],t.loading=!1}))},traeProgramasInvPenia:function(){var t=this;this.loading=!0,Ce.getData().then((function(e){e.request&&e.data?t.arrProyectosPenia=e.data.data:t.arrProyectosPenia=[],t.loading=!1})).catch((function(e){t.arrProyectosPenia=[],t.loading=!1}))},OnChangeProgramasPenia:function(){this.meta=0,this.lineainvpenia=0,this.traeLineasInvPenia()},traeLineasInvPenia:function(){var t=this;this.loading=!0,ca.getFiltroXProgInvPenia(this.proyectopenia).then((function(e){e.request&&e.data?t.arrLIneasInvPenia=e.data.data:t.arrLIneasInvPenia=[],t.loading=!1})).catch((function(e){t.arrLIneasInvPenia=[],t.loading=!1}))},traeEstados:function(){var t=this;this.loading=!0,ve["a"].getEstadosXTipo(2).then((function(e){e.request&&e.data?t.arrEstados=e.data.data:t.arrEstados=[],t.loading=!1})).catch((function(e){t.arrEstados=[],t.loading=!1}))},traeLineasInvPicia:function(){var t=this;this.loading=!0,this.selectedlininvpic=[],pa.getSeleccionados(this.codigo).then((function(e){if(e.request)if(e.data){t.arrLIneasInvPicia=e.data;for(var a=0;a<t.arrLIneasInvPicia.length;a++){var o=t.arrLIneasInvPicia[a];1==o.Activo&&t.selectedlininvpic.push({codigo:o.codigo,descripcion:o.descripcion})}t.traeAccionesPicia()}else t.arrLIneasInvPicia=[];else t.arrLIneasInvPicia=[];t.loading=!1})).catch((function(e){t.arrLIneasInvPicia=[],t.loading=!1}))},traeAccionesPicia:function(){var t=this;this.loading=!0,this.selectedaccionespic=[],this.arrAccionesPicia=[];for(var e="",a=0;a<this.selectedlininvpic.length;a++){var o=this.selectedlininvpic[a];e+=""!=e?","+o.codigo:"("+o.codigo}""!=e&&(e+=")",va.getSeleccionados(this.codigo,e).then((function(e){if(e.request&&e.data){t.arrAccionesPicia=e.data;for(var a=0;a<t.arrAccionesPicia.length;a++){var o=t.arrAccionesPicia[a];1==o.Activo&&t.selectedaccionespic.push({codigo:o.codigo,descripcion:o.descripcion})}t.traeIndicadoresPicia()}t.loading=!1})).catch((function(e){t.loading=!1})))},traeIndicadoresPicia:function(){var t=this;this.loading=!0,this.selectedindicadorespic=[],this.arrIndicadoresPicia=[];for(var e="",a=0;a<this.selectedaccionespic.length;a++){var o=this.selectedaccionespic[a];e+=""!=e?","+o.codigo:"("+o.codigo}""!=e&&(e+=")",fa.getSeleccionados(this.codigo,e).then((function(e){if(e.request&&e.data){t.arrIndicadoresPicia=e.data;for(var a=0;a<t.arrIndicadoresPicia.length;a++){var o=t.arrIndicadoresPicia[a];1==o.Activo&&t.selectedindicadorespic.push({codigo:o.codigo,descripcion:o.descripcion})}}t.loading=!1})).catch((function(e){t.loading=!1})))},traeProgramasInvPei:function(){var t=this;this.loading=!0,this.selectedproginvpei=[],De.getSeleccionados(this.codigo).then((function(e){if(e.request)if(e.data){t.arrProyectosPei=e.data;for(var a=0;a<t.arrProyectosPei.length;a++){var o=t.arrProyectosPei[a];1==o.Activo&&t.selectedproginvpei.push({codigo:o.codigo,descripcion:o.descripcion})}t.traeLineasInvPei()}else t.arrProyectosPei=[];else t.arrProyectosPei=[];t.loading=!1})).catch((function(e){t.arrProyectosPei=[],t.loading=!1}))},traeLineasInvPei:function(){var t=this;this.loading=!0,this.selectedlininvpei=[],this.arrLIneasInvPei=[];for(var e="",a=0;a<this.selectedproginvpei.length;a++){var o=this.selectedproginvpei[a];e+=""!=e?","+o.codigo:"("+o.codigo}""!=e&&(e+=")",da.getSeleccionados(this.codigo,e).then((function(e){if(e.request&&e.data){t.arrLIneasInvPei=e.data;for(var a=0;a<t.arrLIneasInvPei.length;a++){var o=t.arrLIneasInvPei[a];"1"==o.Activo&&t.selectedlininvpei.push({codigo:o.codigo,descripcion:o.descripcion})}}t.loading=!1})).catch((function(e){t.loading=!1})))},traeConvenioGen:function(){var t=this;this.arrConveniosGen=[],ga["a"].getDataXId(this.codigoconvenio).then((function(e){e.request&&e.data&&(t.arrConveniosGen=e.data.data)})).catch((function(t){}))},traeConvenioAll:function(){var t=this;this.arrConveniosGenAll=[],ga["a"].getData().then((function(e){e.request&&e.data&&(t.arrConveniosGenAll=e.data.data)})).catch((function(t){}))},seleccionarConvenioGen:function(t){this.codigoconvenio=t,this.traeConvenioGen(),this.dialog_addconvenio=!1},traeConvenioMarco:function(){var t=this;this.arrConveniosMarco=[],ba["a"].getDataXId(this.conveniomarco).then((function(e){e.request&&e.data&&(t.arrConveniosMarco=e.data.data)})).catch((function(t){}))},traeConvenioMarcoAll:function(){var t=this;this.arrConveniosMarcoAll=[],ba["a"].getData().then((function(e){e.request&&e.data&&(t.arrConveniosMarcoAll=e.data.data)})).catch((function(t){}))},seleccionarConvenioMarco:function(t){this.conveniomarco=t,this.traeConvenioMarco(),this.dialog_addconveniomarco=!1},traePilaresPicia:function(){var t=this;this.selectedpilpic=[],this.datapilpicia=[],ka.getSeleccionados(this.codigo).then((function(e){if(e.request&&e.data){t.datapilpicia=e.data;for(var a=0;a<t.datapilpicia.length;a++){var o=t.datapilpicia[a];1==o.Activo&&t.selectedpilpic.push({codigo:o.codigo,descripcion:o.descripcion,Activo:1})}}})).catch((function(t){}))},abrirFichaTecnica:function(t){window.open(m["a"].apiUrl+"/getFTPDF?proyecto="+t,"_blank")},abrirActaPI:function(t){window.open(m["a"].apiUrl+"/getActaPI?proyecto="+t,"_blank")},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)},estadosVoBo:function(){var t=parseInt(this.vbplaneacion);t?(this.msgVoBo="Cancelar Visto Bueno de Planeación",this.iconVoBo="remove_circle_outline"):(this.msgVoBo="Visto Bueno de Planeación",this.iconVoBo="done"),t=parseInt(this.vbdireccion),t?(this.msgVoBoDir="Cancelar Visto Bueno de Dirección",this.iconVoBoDir="remove_circle_outline"):(this.msgVoBoDir="Visto Bueno de Dirección",this.iconVoBoDir="done")},valsInVoBo:function(){var t=Ta(He.a.mark((function t(){var e,a,o,i,n,r,s,c,l,d,u,p,m,v,h,f,g;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],0,a="",a="object"==ja(this.itemactual.codigoestado)?this.codigoestado.codigo:this.codigoestado,console.log(this.codigo),t.next=7,ka.getDataXProyecto(this.codigo);case 7:return o=t.sent,t.next=10,pa.getDataXProyecto(this.codigo);case 10:return i=t.sent,t.next=13,va.getDataXProyecto(this.codigo);case 13:return n=t.sent,t.next=16,fa.getDataXProyecto(this.codigo);case 16:return r=t.sent,t.next=19,De.getDataXProyecto(this.codigo);case 19:return s=t.sent,t.next=22,da.getDataXProyecto(this.codigo);case 22:return c=t.sent,t.next=25,Ca["a"].FiltroXProyectoAll(this.codigo);case 25:return l=t.sent,t.next=28,Sa["a"].FiltroXProyectoAll(this.codigo);case 28:return d=t.sent,t.next=31,wa["a"].FiltroXProyectoAll(this.codigo);case 31:return u=t.sent,t.next=34,Pa["a"].FiltroXProyectoAll(this.codigo);case 34:return p=t.sent,t.next=37,Aa["a"].FiltroXProyectoAll(this.codigo);case 37:if(m=t.sent,""!=this.itemactual.capitulocodigo&&"0"!=this.itemactual.capitulocodigo||e.push({errvobo:"No se ha ingresado el Capítulo en el Plan Nacional de Desarrollo"}),""!=this.itemactual.lineacodigo&&"0"!=this.itemactual.lineacodigo||e.push({errvobo:"No se ha ingresado la Línea estratégica en el Plan Nacional de Desarrollo"}),""!=this.itemactual.objetivocodigo&&"0"!=this.itemactual.objetivocodigo||e.push({errvobo:"No se ha ingresado el Objetivo en el Plan Nacional de Desarrollo"}),""!=this.itemactual.odscodigo&&"0"!=this.itemactual.odscodigo||e.push({errvobo:"No se ha ingresado el Objetivo de desarrollo Sostenible en el Plan Nacional de Desarrollo"}),""!=this.itemactual.proginvpeniacodigo&&"0"!=this.itemactual.proginvpeniacodigo||e.push({errvobo:"No se ha ingresado el Programa de Investigación en el Plan Estratégico Nacional de Investigación Ambiental"}),""!=this.itemactual.lininvpeniacodigo&&"0"!=this.itemactual.lininvpeniacodigo||e.push({errvobo:"No se ha ingresado la línea de Investigación en el Plan Estratégico Nacional de Investigación Ambiental"}),""!=this.itemactual.metacodigo&&"0"!=this.itemactual.metacodigo||e.push({errvobo:"No se ha ingresado el Indicador en el Plan Estratégico Nacional de Investigación Ambiental"}),o.length<=0&&e.push({errvobo:"No se ha ingresado ningún pilar en el Plan Institucional Cuatrienal de Investigación Ambiental"}),i.length<=0&&e.push({errvobo:"No se ha ingresado ninguna Línea de Investigación en el Plan Institucional Cuatrienal de Investigación Ambiental"}),n.length<=0&&e.push({errvobo:"No se ha ingresado ninguna Acción en el Plan Institucional Cuatrienal de Investigación Ambiental"}),r.length<=0&&e.push({errvobo:"No se ha ingresado ningún Indicador en el Plan Institucional Cuatrienal de Investigación Ambiental"}),s.length<=0&&e.push({errvobo:"No se ha ingresado ningún Programa de Investigación en el Plan Estratégico Institucional"}),c.length<=0&&e.push({errvobo:"No se ha ingresado ninguna Línea de Investigación en el Plan Estratégico Institucional"}),""!=this.codigoconvenio&&"0"!=this.codigoconvenio||e.push({errvobo:"No se ha ingresado el Acuerdo Específico para el Proyecto"}),""==this.itemactual.nombre&&e.push({errvobo:"No se ha ingresado el Nombre Corto del Proyecto"}),""==this.itemactual.descripcion&&e.push({errvobo:"No se haingresado la Descripción del Proyecto"}),""!=a&&"0"!=a||e.push({errvobo:"No se ha ingresado el Estado del Proyecto"}),""==this.itemactual.objeto&&e.push({errvobo:"No se ha ingresado el Alcance del Proyecto"}),""==this.itemactual.justificaimportancia&&e.push({errvobo:"No se ha ingresado la Importancia en la Justificación del Proyecto"}),""==this.itemactual.justificapertenencia&&e.push({errvobo:"No se ha ingresado la Pertenencia en la Justificación del Proyecto"}),""==this.itemactual.justificaimpacto&&e.push({errvobo:"No se ha ingresado el Impacto en la Justificación del Proyecto"}),""==this.itemactual.objetivogeneral&&e.push({errvobo:"No se ha ingresado el Objetivo General del Proyecto"}),""==this.itemactual.actores&&e.push({errvobo:"No se ha ingresado los Actores del Proyecto"}),""==this.itemactual.beneficiarios&&e.push({errvobo:"No se ha ingresado los Beneficiarios del Proyecto"}),""==this.itemactual.antecedentes&&e.push({errvobo:"No se ha ingresado los Antecedentes del Proyecto"}),l.length<=0&&e.push({errvobo:"No se ha ingresado ningún Objetivo Específico"}),d.length<=0&&e.push({errvobo:"No se ha ingresado ningún Producto"}),u.length<=0)e.push({errvobo:"No se ha ingresado ninguna Actividad"});else for(v=0;v<u.length;v++)h=u[v],""!=h.fechainicio&&"0000-00-00"!=h.fechainicio||e.push({errvobo:"No se ha ingresado la Fecha de Inicio de la Actividad No. '"+h.nactividad+" - "+h.descripcion+"' para el Producto '"+h.producto+"' del Objetivo '"+h.objetivo+"'"}),""!=h.fechafinal&&"0000-00-00"!=h.fechafinal||e.push({errvobo:"No se ha ingresado la Fecha de Final de la Actividad No. '"+h.nactividad+" - "+h.descripcion+"' para el Producto '"+h.producto+"' del Objetivo '"+h.objetivo+"'"}),""!=h.peso&&"0"!=h.peso||e.push({errvobo:"No se ha ingresado el Peso de la Actividad No. '"+h.nactividad+" - "+h.descripcion+"' para el Producto '"+h.producto+"' del Objetivo '"+h.objetivo+"'"});if(p.length<=0&&e.push({errvobo:"No se ha ingresado ninguna Ciudad"}),m.length<=0)e.push({errvobo:"No se ha ingresado ningún Integrante al equipo"});else for(f=0;f<m.length;f++)g=m[f],""!=g.fechainicio&&"0000-00-00"!=g.fechainicio||e.push({errvobo:"No se ha ingresado la Fecha de Inicio de la Actividad No. '"+g.nactividad+" - "+g.descripcion+"' para el Producto '"+g.producto+"' del Objetivo '"+g.objetivo+"'"}),""!=g.fechafinal&&"0000-00-00"!=g.fechafinal||e.push({errvobo:"No se ha ingresado la Fecha de Final de la Actividad No. '"+g.nactividad+" - "+g.descripcion+"' para el Producto '"+g.producto+"' del Objetivo '"+g.objetivo+"'"}),""!=g.peso&&"0"!=g.peso||e.push({errvobo:"No se ha ingresado el Peso de la Actividad No. '"+g.nactividad+" - "+g.descripcion+"' para el Producto '"+g.producto+"' del Objetivo '"+g.objetivo+"'"});return t.abrupt("return",e);case 69:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),validarVoBo:function(){var t=Ta(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loadvb=!0,!this.vbplaneacion){t.next=10;break}return this.vbplaneacion=!1,t.next=5,Ze["a"].actualizaVoBo(this.codigo,this.vbplaneacion,"planeacion");case 5:return t.sent,this.estadosVoBo(),this.loadvb=!1,this.traerDataPrincipal(),t.abrupt("return");case 10:return t.next=12,this.valsInVoBo();case 12:return e=t.sent,console.log(e),e.length>0?(this.arrErrVoBo=e,this.dialog_errvobo=!0,this.vbplaneacion=!1):this.vbplaneacion=!0,t.next=17,Ze["a"].actualizaVoBo(this.codigo,this.vbplaneacion,"planeacion");case 17:t.sent,this.estadosVoBo(),this.loadvb=!1,this.vbplaneacion&&this.showMessage(!0,3e3,"success","Se generó el Visto Bueno con éxito"),this.traerDataPrincipal();case 22:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),validarVoBoDir:function(){var t=Ta(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loadvb=!0,!this.vbdireccion){t.next=10;break}return this.vbdireccion=!1,t.next=5,Ze["a"].actualizaVoBo(this.codigo,this.vbdireccion,"direccion");case 5:return t.sent,this.estadosVoBo(),this.loadvb=!1,this.traerDataPrincipal(),t.abrupt("return");case 10:return t.next=12,this.valsInVoBo();case 12:return e=t.sent,e.length>0?(this.arrErrVoBo=e,this.dialog_errvobo=!0,this.vbdireccion=!1):this.vbdireccion=!0,t.next=16,Ze["a"].actualizaVoBo(this.codigo,this.vbdireccion,"direccion");case 16:t.sent,this.estadosVoBo(),this.loadvb=!1,console.log(this.data),console.log(this.codigo),this.vbdireccion&&this.showMessage(!0,3e3,"success","Se generó el Visto Bueno dela direccion con éxito"),this.traerDataPrincipal();case 23:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),guardarVoBoActualizacion:function(){},limpiarBusqueda:function(t){"search"==t?this.search="":"searchNombre"==t&&(this.searchNombre=""),this.traerDataPrincipal()}},watch:{"$route.params.tipo":function(t){this.tipoform=t,this.traerDataPrincipal(),"nrm"==this.tipoform?this.titulocomponente="PROYECTOS":"upd"==this.tipoform?this.titulocomponente="PROYECTOS (PARA ACTUALIZAR)":"apb"==this.tipoform&&(this.titulocomponente="PROYECTOS (APROBAR ACTUALIZACIÓN)")},e1:function(t){7==t&&(this.activar=0==this.activar?1:0)},selectedlininvpic:function(t){this.selectedaccionespic=[],this.arrAccionesPicia=[],this.traeAccionesPicia(),this.selectedindicadorespic=[]},selectedaccionespic:function(t){this.selectedindicadorespic=[],this.arrIndicadoresPicia=[],this.traeIndicadoresPicia()},selectedproginvpei:function(){this.selectedlininvpei=[],this.arrLIneasInvPei=[],this.traeLineasInvPei()},edit:function(t){"1"==t||"2"==t?(this.formTitle="1"==t?"Editar":"Detalle (Solo Consulta)",this.codigo=this.itemactual.codigo,this.codigoconvenio=this.itemactual.codigoconvenio,this.convenio=this.itemactual.convenio,this.descripcion=this.itemactual.descripcion,this.nombre=this.itemactual.nombre,this.estrategia=this.itemactual.estrategia,this.indicador=this.itemactual.indicador,this.unidadmedida=this.itemactual.unidadmedida,this.metasectorial=this.itemactual.metasectorial,this.metainstitucional=this.itemactual.metainstitucional,this.observacion=this.itemactual.observacion,this.codigopoa=this.itemactual.codigopoa,this.capitulo=this.itemactual.capitulocodigo,this.linea=this.itemactual.lineacodigo,this.objetivo=this.itemactual.objetivocodigo,this.ods=this.itemactual.odscodigo,this.meta=this.itemactual.metacodigo,this.proyectopenia=this.itemactual.proginvpeniacodigo,this.lineainvpenia=this.itemactual.lininvpeniacodigo,this.antecedentes=this.itemactual.antecedentes,this.codigoestado=this.itemactual.codigoestado,this.codigocoordinador=this.itemactual.codigocoordinador,this.codigoencargado=this.itemactual.codigoencargado,this.objeto=this.itemactual.objeto,this.justificaimportancia=this.itemactual.justificaimportancia,this.justificapertenencia=this.itemactual.justificapertenencia,this.justificaimpacto=this.itemactual.justificaimpacto,this.objetivogeneral=this.itemactual.objetivogeneral,this.actores=this.itemactual.actores,this.beneficiarios=this.itemactual.beneficiarios,this.codigociudad=this.itemactual.codigociudad,this.tipo=this.itemactual.tipo,this.fechasuscripcion=this.itemactual.fechasuscripcion,this.fechaterejecucion=this.itemactual.fechaterejecucion,this.conveniomarco=this.itemactual.conveniomarco,this.estadoactual=this.itemactual.codigoestado,this.vbplaneacion=this.itemactual.vbplaneacion,this.vbdireccion=this.itemactual.vbdireccion,this.readonly=1!=t,this.traerLineasEstrategicas(),this.traerObjetivos(),this.traerOds(),this.traeLineasInvPenia(),this.traerMetas()):0==t?(this.resetForm(),this.formTitle="Nuevo",this.readonly=!1,this.arrLineas=[],this.arrObjetivos=[],this.arrODS=[],this.arrLIneasInvPenia=[],this.arrMetas=[],this.selectedaccionespic=[],this.arrAccionesPicia=[],this.selectedindicadorespic=[],this.arrIndicadoresPicia=[],this.selectedlininvpei=[],this.arrLIneasInvPei=[]):"-2"==t&&(this.codigo=this.itemactual.codigo,this.codigoconvenio=this.itemactual.codigoconvenio,this.convenio=this.itemactual.convenio,this.descripcion=this.itemactual.descripcion,this.nombre=this.itemactual.nombre,this.estrategia=this.itemactual.estrategia,this.indicador=this.itemactual.indicador,this.unidadmedida=this.itemactual.unidadmedida,this.metasectorial=this.itemactual.metasectorial,this.metainstitucional=this.itemactual.metainstitucional,this.observacion=this.itemactual.observacion,this.codigopoa=this.itemactual.codigopoa,this.capitulo=this.itemactual.capitulocodigo,this.linea=this.itemactual.lineacodigo,this.objetivo=this.itemactual.objetivocodigo,this.ods=this.itemactual.odscodigo,this.meta=this.itemactual.metacodigo,this.proyectopenia=this.itemactual.proginvpeniacodigo,this.lineainvpenia=this.itemactual.lininvpeniacodigo,this.antecedentes=this.itemactual.antecedentes,this.codigoestado=this.itemactual.codigoestado,this.codigocoordinador=this.itemactual.codigocoordinador,this.codigoencargado=this.itemactual.codigoencargado,this.objeto=this.itemactual.objeto,this.justificaimportancia=this.itemactual.justificaimportancia,this.justificapertenencia=this.itemactual.justificapertenencia,this.justificaimpacto=this.itemactual.justificaimpacto,this.objetivogeneral=this.itemactual.objetivogeneral,this.actores=this.itemactual.actores,this.beneficiarios=this.itemactual.beneficiarios,this.codigociudad=this.itemactual.codigociudad,this.tipo=this.itemactual.tipo,this.fechasuscripcion=this.itemactual.fechasuscripcion,this.fechaterejecucion=this.itemactual.fechaterejecucion,this.conveniomarco=this.itemactual.conveniomarco,this.estadoactual=this.itemactual.codigoestado),this.tab="tab-1",this.traeLineasInvPicia(),this.traeProgramasInvPei(),this.traeConvenioGen(),this.traeConvenioMarco(),this.traePilaresPicia(),this.estadosVoBo()},codigoestado:function(t){"object"==ja(t)?this.estadoactual=this.codigoestado.codigo:this.estadoactual=this.codigoestado}},computed:{},mounted:function(){this.tipoform="nrm","nrm"==this.tipoform?this.titulocomponente="PROYECTOS":"upd"==this.tipoform?this.titulocomponente="PROYECTOS (PARA ACTUALIZAR)":"apb"==this.tipoform&&(this.titulocomponente="PROYECTOS (APROBAR ACTUALIZACIÓN)"),this.traerDataPrincipal(),this.agregaBitacora("INGRESO","INGRESO AL MODULO"),this.traerCapitulos(),this.traeProgramasInvPenia(),this.traeProgramasInvPei(),this.traeEstados(),this.traeConvenioAll(),this.traeConvenioMarcoAll(),this.perfil=this.$session.get("perfil"),1!=this.perfil&&2!=this.perfil&&(this.readonly=!0),this.traeUsersPlaSubDirCient()}},Oa=Ia,Na=(a("b59f"),Object(C["a"])(Oa,Ve,ze,!1,null,null,null)),Ma=Na.exports,Ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("ACUERDOS ESPECÍFICOS")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.fechasuscripcion",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("anoSuscripcion")(o.fechasuscripcion))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.otrosi",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){t.abrirOtroSi(o.codigo),t.dialog_otrosi=!0}}},[t._v("\n\t\t\t\t\t\t\t\tlibrary_add\n\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.itemactual=o,t.edit=1}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1300px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{sm6:""}},[a("v-text-field",{attrs:{type:"number",label:"No. de Acuerdo",rules:[t.rules.required,t.rules.valor]},model:{value:t.numero,callback:function(e){t.numero=e},expression:"numero"}})],1)],1),a("v-row",[a("v-col",{attrs:{sm12:""}},[a("v-text-field",{attrs:{label:"Nombre",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1)],1),a("v-row",[a("v-col",{attrs:{sm3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Suscripción","prepend-icon":"event",readonly:""},model:{value:t.fechasuscripcion,callback:function(e){t.fechasuscripcion=e},expression:"fechasuscripcion"}},o))]}}]),model:{value:t.menuDate,callback:function(e){t.menuDate=e},expression:"menuDate"}},[a("v-date-picker",{attrs:{type:"date"},on:{input:function(e){t.menuDate=!1}},model:{value:t.fechasuscripcion,callback:function(e){t.fechasuscripcion=e},expression:"fechasuscripcion"}})],1)],1),a("v-col",{attrs:{sm3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Inicio","prepend-icon":"event",readonly:""},model:{value:t.fechaincorporacion,callback:function(e){t.fechaincorporacion=e},expression:"fechaincorporacion"}},o))]}}]),model:{value:t.menuDate2,callback:function(e){t.menuDate2=e},expression:"menuDate2"}},[a("v-date-picker",{attrs:{type:"date"},on:{input:function(e){t.menuDate2=!1}},model:{value:t.fechaincorporacion,callback:function(e){t.fechaincorporacion=e},expression:"fechaincorporacion"}})],1)],1),a("v-col",{attrs:{sm3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Terminación","prepend-icon":"event",readonly:""},model:{value:t.fechaterejecucion,callback:function(e){t.fechaterejecucion=e},expression:"fechaterejecucion"}},o))]}}]),model:{value:t.menuDate1,callback:function(e){t.menuDate1=e},expression:"menuDate1"}},[a("v-date-picker",{attrs:{type:"date"},on:{input:function(e){t.menuDate1=!1}},model:{value:t.fechaterejecucion,callback:function(e){t.fechaterejecucion=e},expression:"fechaterejecucion"}})],1)],1),a("v-col",{attrs:{sm3:""}},[a("v-text-field",{attrs:{type:"number",label:"Tiempo Ejec. (Dias)",readonly:""},model:{value:t.tiempoejecucion,callback:function(e){t.tiempoejecucion=e},expression:"tiempoejecucion"}})],1)],1),a("v-row",[a("v-col",{attrs:{sm2:""}},[a("v-select",{attrs:{items:t.arrMonedas,"item-value":"codigo","item-text":"simbolo",label:"Moneda",rules:[t.rules.required],"return-object":!0,messages:"Tasa: $ "+this.number_format(t.tasa)},on:{change:t.getTasa},model:{value:t.codigomoneda,callback:function(e){t.codigomoneda=e},expression:"codigomoneda"}}),a("p",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.permisotasa,expression:"permisotasa"}],attrs:{small:"",text:"",color:"primary"},on:{click:function(e){t.txttasa=t.tasa,t.tasaanterior=t.tasa,t.dialog_tasa=!0}}},[t._v("\n                                                        Modificar Tasa")])],1)],1),a("v-col",{attrs:{sm2:""}},[a("v-text-field",{attrs:{label:"Cofinanciado",messages:t.calculaTasa(t.cofinanciado,"cofinanciado"),prefix:t.getsimboloMoneda},on:{blur:function(e){return t.formatearValor(t.cofinanciado,"cofinanciado")}},model:{value:t.cofinanciado,callback:function(e){t.cofinanciado=e},expression:"cofinanciado"}})],1),a("v-col",{attrs:{sm2:""}},[a("v-text-field",{attrs:{label:"Contrapartida",readonly:!0,messages:t.calculaTasa(t.contrapartida,"contrapartida"),prefix:t.getsimboloMoneda},on:{blur:function(e){return t.formatearValor(t.contrapartida,"contrapartida")}},model:{value:t.contrapartida,callback:function(e){t.contrapartida=e},expression:"contrapartida"}})],1),a("v-col",{attrs:{sm2:""}},[a("v-text-field",{attrs:{label:"Valor Total",rules:[t.rules.required],readonly:!0,prefix:t.getsimboloMoneda,messages:t.calculaTasa(t.valortotal)},model:{value:t.valortotal,callback:function(e){t.valortotal=e},expression:"valortotal"}})],1),a("v-col",{attrs:{sm2:""}},[a("v-text-field",{attrs:{label:"Total en Dinero",readonly:!0,messages:t.calculaTasa(t.totaldinero,"totaldinero"),"error-messages":t.errorTotalContrapartida,prefix:t.getsimboloMoneda},on:{blur:function(e){return t.formatearValor(t.totaldinero,"totaldinero")}},model:{value:t.totaldinero,callback:function(e){t.totaldinero=e},expression:"totaldinero"}})],1),a("v-col",{attrs:{sm2:""}},[a("v-text-field",{attrs:{label:"Total en Especie",readonly:!0,messages:t.calculaTasa(t.totalespecie,"txttotalespecie"),"error-messages":t.errorTotalContrapartida,prefix:t.getsimboloMoneda},on:{blur:function(e){return t.formatearValor(t.totalespecie,"totalespecie")}},model:{value:t.totalespecie,callback:function(e){t.totalespecie=e},expression:"totalespecie"}})],1)],1),a("v-row",[a("v-col",{attrs:{sm2:""}},[a("v-select",{attrs:{items:t.arrEstados,"item-value":"codigo","item-text":"descripcion",label:"Estado",rules:[t.rules.required],"return-object":!0},model:{value:t.codigoestado,callback:function(e){t.codigoestado=e},expression:"codigoestado"}})],1),a("v-col",{attrs:{sm5:""}},[a("v-autocomplete",{attrs:{items:t.arrCoordinadores,"item-value":"codigo","item-text":"nombrecompleto",label:"Coordinador",rules:[t.rules.required],"return-object":!0},model:{value:t.codigocoordinador,callback:function(e){t.codigocoordinador=e},expression:"codigocoordinador"}})],1),a("v-col",{attrs:{sm5:""}},[a("v-autocomplete",{attrs:{items:t.arrCoordinadores,"item-value":"codigo","item-text":"nombrecompleto",label:"Encargado","return-object":!1,clearable:""},model:{value:t.codigoencargado,callback:function(e){t.codigoencargado=e},expression:"codigoencargado"}})],1)],1),a("v-row",[a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan16"},[a("v-expansion-panel-header",[t._v("Objeto")]),a("v-expansion-panel-content",[a("v-flex",{attrs:{sm12:""}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Objeto"},model:{value:t.objeto,callback:function(e){t.objeto=e},expression:"objeto"}})],1)],1)],1)],1)],1),a("v-row",[a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan1"},[a("v-expansion-panel-header",[t._v("Contactos")]),a("v-expansion-panel-content",[a("v-flex",{attrs:{sm12:""}},[a("v-autocomplete",{attrs:{items:t.arrCoordinadores,"item-value":"codigo","item-text":"nombrecompleto",label:"Contacto administrativo y Financiero",rules:[t.rules.required]},model:{value:t.contactoafn,callback:function(e){t.contactoafn=e},expression:"contactoafn"}})],1),a("v-flex",{attrs:{sm12:""}},[a("v-text-field",{attrs:{label:"Contacto administrativo en la fuente de financiación",rules:[t.rules.required]},model:{value:t.contactoadmfuefin,callback:function(e){t.contactoadmfuefin=e},expression:"contactoadmfuefin"}})],1),a("v-flex",{attrs:{sm12:""}},[a("v-text-field",{attrs:{label:"Contacto tecnico en la fuente de financiación",rules:[t.rules.required]},model:{value:t.contactotecfuefin,callback:function(e){t.contactotecfuefin=e},expression:"contactotecfuefin"}})],1)],1)],1)],1)],1),a("v-row",[a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan2"},[a("v-expansion-panel-header",[t._v("CoFinanciador")]),a("v-expansion-panel-content",[a("v-flex",{attrs:{sm12:""}},[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialogSocios=!0,t.editsocios=0,t.itemactualsocios=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-data-table",{attrs:{headers:t.headerSocios,items:t.arrSocios},scopedSlots:t._u([{key:"item.cofinanciado",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.cofinanciado,{symbol:t.getsimboloMoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.contrapartida",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.contrapartida,{symbol:t.getsimboloMoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalespecie",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalespecie,{symbol:t.getsimboloMoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totaldinero",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totaldinero,{symbol:t.getsimboloMoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:t.getsimboloMoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialogSocios=!0,t.itemactualsocios=o,t.editsocios=1}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog_socio_del=!0,t.itemactualsocios=o}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{sm6:""}},[a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan3"},[a("v-expansion-panel-header",[t._v("Fechas de Presentación de Informes Técnicos")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación"},model:{value:t.obsfechastecnicos,callback:function(e){t.obsfechastecnicos=e},expression:"obsfechastecnicos"}})],1)],1),a("v-row",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{"prepend-icon":"event",readonly:""},model:{value:t.addfechapresinftec,callback:function(e){t.addfechapresinftec=e},expression:"addfechapresinftec"}},o))]}}]),model:{value:t.menuDate3,callback:function(e){t.menuDate3=e},expression:"menuDate3"}},[a("v-date-picker",{attrs:{type:"date"},on:{input:function(e){t.menuDate3=!1}},model:{value:t.addfechapresinftec,callback:function(e){t.addfechapresinftec=e},expression:"addfechapresinftec"}})],1),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:t.addfechapresinftec,expression:"addfechapresinftec"}],staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading},on:{click:function(e){return t.addFechasPI(t.addfechapresinftec,"1")}}},[t._v("\n                                                                    add\n                                                                ")])],1),a("v-row",[a("v-data-table",{attrs:{headers:t.headerFechasPIT,items:t.arrFechasPIT,"items-per-page":5},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading},on:{click:function(e){t.dialog_fechasPIT=!0,t.tipoFecha=1,t.itemactualfechaPIT=o}}},[t._v("\n                                                                            delete\n                                                                        ")])]}}])})],1)],1)],1)],1)],1),a("v-col",{attrs:{sm6:""}},[a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan4"},[a("v-expansion-panel-header",[t._v("Fechas de Presentación de Informes Financieros")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación"},model:{value:t.obsfechasfinanciera,callback:function(e){t.obsfechasfinanciera=e},expression:"obsfechasfinanciera"}})],1)],1),a("v-row",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{"prepend-icon":"event",readonly:""},model:{value:t.addfechapresinffin,callback:function(e){t.addfechapresinffin=e},expression:"addfechapresinffin"}},o))]}}]),model:{value:t.menuDate4,callback:function(e){t.menuDate4=e},expression:"menuDate4"}},[a("v-date-picker",{attrs:{type:"date"},on:{input:function(e){t.menuDate4=!1}},model:{value:t.addfechapresinffin,callback:function(e){t.addfechapresinffin=e},expression:"addfechapresinffin"}})],1),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:t.addfechapresinffin,expression:"addfechapresinffin"}],staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading},on:{click:function(e){return t.addFechasPI(t.addfechapresinffin,"2")}}},[t._v("\n                                                                    add\n                                                                ")])],1),a("v-row",[a("v-data-table",{attrs:{headers:t.headerFechasPIF,items:t.arrFechasPIF,"items-per-page":5},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading},on:{click:function(e){t.dialog_fechasPIT=!0,t.tipoFecha=2,t.itemactualfechaPIF=o}}},[t._v("\n                                                                            delete\n                                                                        ")])]}}])})],1)],1)],1)],1)],1)],1),a("v-row",[a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan5"},[a("v-expansion-panel-header",[t._v("Cargue de Soportes")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",{attrs:{sm4:""}},[a("span",[t._v("Archivos Convenio")]),a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_archivos=!0,t.editArchivos=0,t.itemactualArchivo="",t.tipoarchivo="C"}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-data-table",{attrs:{headers:t.headarcconvenio,items:t.dataarcconvenio,"disable-sort":!0,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.archivo.file_name",fn:function(e){var o=e.item;return[""!=o.archivo.file_path?a("a",{attrs:{target:"_blank",href:o.archivo.file_path}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(o.archivo.file_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):a("span",[t._v(t._s(o.archivo.file_name))])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.abrirDialogoElimFile("C",o)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1),a("v-col",{attrs:{sm4:""}},[a("span",[t._v("Archivos Contrapartida")]),a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_archivos=!0,t.editArchivos=0,t.itemactualArchivo="",t.tipoarchivo="P"}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-data-table",{attrs:{headers:t.headarcconvenio,items:t.dataarccontrapartida,"disable-sort":!0,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.archivo.file_name",fn:function(e){var o=e.item;return[""!=o.archivo.file_path?a("a",{attrs:{target:"_blank",href:o.archivo.file_path}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(o.archivo.file_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):a("span",[t._v(t._s(o.archivo.file_name))])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.abrirDialogoElimFile("P",o)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1),a("v-col",{attrs:{sm4:""}},[a("span",[t._v("Archivos Otros Datos")]),a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_archivos=!0,t.editArchivos=0,t.itemactualArchivo="",t.tipoarchivo="O"}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-data-table",{attrs:{headers:t.headarcconvenio,items:t.dataarcotrosdatos,"disable-sort":!0,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.archivo.file_name",fn:function(e){var o=e.item;return[""!=o.archivo.file_path?a("a",{attrs:{target:"_blank",href:o.archivo.file_path}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(o.archivo.file_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):a("span",[t._v(t._s(o.archivo.file_name))])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.abrirDialogoElimFile("O",o)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1),a("v-dialog",{attrs:{width:"600"},model:{value:t.dialog_archivos,callback:function(e){t.dialog_archivos=e},expression:"dialog_archivos"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v(t._s(t.formTitleArchivos))])]),a("v-card-text",[a("v-form",{ref:"validvbpreadd",model:{value:t.validarcadd,callback:function(e){t.validarcadd=e},expression:"validarcadd"}},[a("v-flex",[a("span",[t._v("Archivo")]),a("adjuntarArchivos",{attrs:{item:t.archivoactual,placeholder:"Cargar Archivo",tipoarchivo:".pdf"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_archivos=!1,t.editArchivos=-1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validarcadd},on:{click:t.adicionarArchivo}},[t._v("Agregar")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"flexcard"},[a("div",{staticStyle:{"text-align":"left"}},[a("v-spacer"),a("v-btn",{staticClass:"text-left",attrs:{color:"primary",text:"",disabled:!t.valid||2==t.edit},on:{click:t.saveitem}},[t._v("Guardar")]),a("v-btn",{staticClass:"text-left",attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")])],1)])],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:t.dialog_tasa,callback:function(e){t.dialog_tasa=e},expression:"dialog_tasa"}},[a("v-card",[a("v-card-title",[t._v("Modificar la Tasa")]),a("v-card-text",[a("v-text-field",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"}],model:{value:t.txttasa,callback:function(e){t.txttasa=e},expression:"txttasa"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.actualizarTaza}},[t._v("Actualizar")]),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_tasa=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{width:"450"},model:{value:t.dialog_fechasPIT,callback:function(e){t.dialog_fechasPIT=e},expression:"dialog_fechasPIT"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Fecha")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Fecha Seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_fechasPIT=!1,t.tipoFecha=""}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteFechaPI}},[t._v("Eliminar")])],1)],1)],1),a("v-dialog",{attrs:{width:"800"},model:{value:t.dialogSocios,callback:function(e){t.dialogSocios=e},expression:"dialogSocios"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle2))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form2",model:{value:t.validsocios,callback:function(e){t.validsocios=e},expression:"validsocios"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{sm12:""}},[a("v-text-field",{attrs:{label:"Fuente de Financiación",rules:[t.rules.required]},model:{value:t.fuentefinanciacionsocio,callback:function(e){t.fuentefinanciacionsocio=e},expression:"fuentefinanciacionsocio"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-text-field",{attrs:{label:"Cofinanciado",rules:[t.rules.required,t.rules.valor],messages:t.calculaTasa(t.cofinanciadosocio,"cofinanciadosocio"),prefix:t.getsimboloMoneda},on:{blur:function(e){return t.formatearValor(t.cofinanciadosocio,"cofinanciadosocio")}},model:{value:t.cofinanciadosocio,callback:function(e){t.cofinanciadosocio=e},expression:"cofinanciadosocio"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-text-field",{attrs:{label:"Contrapartida",rules:[t.rules.required],messages:t.calculaTasa(t.contrapartidasocio,"contrapartidasocio"),prefix:t.getsimboloMoneda},on:{blur:function(e){return t.formatearValor(t.contrapartidasocio,"contrapartidasocio")}},model:{value:t.contrapartidasocio,callback:function(e){t.contrapartidasocio=e},expression:"contrapartidasocio"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-text-field",{attrs:{label:"Valor Total",rules:[t.rules.required],readonly:!0,prefix:t.getsimboloMoneda,messages:t.calculaTasa(t.valortotalsocio)},model:{value:t.valortotalsocio,callback:function(e){t.valortotalsocio=e},expression:"valortotalsocio"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-text-field",{attrs:{label:"Total en Dinero",rules:[t.rules.required],messages:t.calculaTasa(t.totaldinerosocio,"totaldinerosocio"),"error-messages":t.errorTotalContrapartidasocio,prefix:t.getsimboloMoneda},on:{blur:function(e){return t.formatearValor(t.totaldinerosocio,"totaldinerosocio")}},model:{value:t.totaldinerosocio,callback:function(e){t.totaldinerosocio=e},expression:"totaldinerosocio"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-text-field",{attrs:{label:"Total en Especie",rules:[t.rules.required],messages:t.calculaTasa(t.totalespeciesocio,"totalespeciesocio"),"error-messages":t.errorTotalContrapartidasocio,prefix:t.getsimboloMoneda},on:{blur:function(e){return t.formatearValor(t.totalespeciesocio,"totalespeciesocio")}},model:{value:t.totalespeciesocio,callback:function(e){t.totalespeciesocio=e},expression:"totalespeciesocio"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogoSocios}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validsocios},on:{click:t.saveitemsocio}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{width:"550"},model:{value:t.dialog_socio_del,callback:function(e){t.dialog_socio_del=e},expression:"dialog_socio_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Fuente de Financiación")])]),a("v-card-text",[t._v("\t\t\t\t\t\n                    ¿Esta seguro de eliminar la Fuente de Financiación seleccionada?.\t\t\t\t\t\n                ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_socio_del=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItemSocio}},[t._v("Eliminar")])],1)],1)],1),a("v-dialog",{attrs:{width:"550"},model:{value:t.dialog_deletefile,callback:function(e){t.dialog_deletefile=e},expression:"dialog_deletefile"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Archivo")])]),a("v-card-text",[t._v("\n                    ¿Esta seguro de eliminar el Archivo seleccionado definitivamente?.\t\t\t\t\t\n                ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_deletefile=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.eliminarItemArchivos}},[t._v("Eliminar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:t.dialog_otrosi,callback:function(e){t.dialog_otrosi=e},expression:"dialog_otrosi"}},[a("v-card",[a("v-card-text",[a("otrosi",{attrs:{convenio:t.codigoconvenio},on:{"update:convenio":function(e){t.codigoconvenio=e},envioNotificaciones:function(e){return t.envioNotificaciones(e)}}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.cerrarOtroSi}},[t._v("Cancelar")])],1)],1)],1)],1)},Fa=[],qa={BuscarXConvenio:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/FechasPreInfTecXConvenio",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delData:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/delConvFechaPIT",dataType:"json",data:{codigo:t,fecha:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))}},Ua=qa,$a={BuscarXConvenio:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/FechasPreInfFinXConvenio",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delData:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/delConvFechaPIF",dataType:"json",data:{codigo:t,fecha:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))}},La=$a,Ba=a("831b");function Ga(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Va(t){return Va="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(t)}function za(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Xa(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){za(n,o,i,r,s,"next",t)}function s(t){za(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Ha={name:"Convenios",components:{adjuntarArchivos:function(){return a.e("chunk-2d2245ed").then(a.bind(null,"e09e"))},otrosi:function(){return a.e("chunk-01d25f0d").then(a.bind(null,"61e3"))}},data:function(){var t=this;return{modulo:"ACUERDOS ESPECÍFICOS",money:{decimal:",",thousands:".",suffix:"",precision:0,masked:!1},loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",menuDate:!1,menuDate1:!1,menuDate2:!1,dialog_tasa:!1,codigo:"0",numero:"",nombre:"",fechasuscripcion:"",fechaterejecucion:"",fechaincorporacion:"",valortotal:0,codigoestado:"",codigocoordinador:"",codigoencargado:"",objeto:"",fuentefinanciacion:"",cofinanciado:0,contrapartida:0,totaldinero:0,totalespecie:0,tiempo:0,contactoafn:"",contactoaff:"",contactotff:"",itemactual:"",codigomoneda:0,tasa:0,simbolomoneda:"",contactotecfuefin:"",contactoadmfuefin:"",obsfechasfinanciera:"",obsfechastecnicos:"",tasaanterior:0,txttasa:"0",archivogeneral:{file_name:"",file_path:"",file_name_tmp:""},archivootda:{file_name:"",file_path:"",file_name_tmp:""},archivocont:{file_name:"",file_path:"",file_name_tmp:""},menuDate4:!1,addfechapresinffin:"",menuDate3:!1,addfechapresinftec:"",data:[],arrEstados:[],arrCoordinadores:[],arrPersonal:[],arrMonedas:[],permisotasa:!1,arrFechasPIT:[],arrFechasPIF:[],dialog_fechasPIT:!1,tipoFecha:"",estadoactual:"",perfil:"",arrSocios:[],dialogSocios:!1,validsocios:!1,editsocios:-1,itemactualsocios:"",formTitle2:"",valortotalsocio:"",fuentefinanciacionsocio:"",cofinanciadosocio:"",contrapartidasocio:"",totaldinerosocio:"",totalespeciesocio:"",dialog_socio_del:!1,usuarioUnidadFinanciera:0,itemactualfechaPIT:"",itemactualfechaPIF:"",filedelete:"",tipofiledelete:"",dialog_deletefile:!1,dataarcconvenio:[],dataarccontrapartida:[],dataarcotrosdatos:[],formTitleArchivos:"",dialog_archivos:!1,tipoarchivo:"",validarcadd:!1,editArchivos:-1,codigoarchivo:0,itemactualArchivo:"",archivoactual:{file_name:"",file_path:"",file_name_tmp:""},dialog_otrosi:!1,codigoconvenio:0,headerSocios:[{text:"Fuent. Financiación",align:"left",sortable:!1,value:"fuentefinanciacion"},{text:"Cofinanciado",value:"cofinanciado",sortable:!1,align:"left"},{text:"Contrapartida",value:"contrapartida",sortable:!1,align:"left"},{text:"Total",value:"valortotal",sortable:!1,align:"left"},{text:"Total Dinero",value:"totaldinero",sortable:!1,align:"left"},{text:"Total Especie",value:"totalespecie",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],headers:[{text:"No. Convenio",align:"left",sortable:!1,value:"numero"},{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Año Suscripc.",value:"fechasuscripcion",sortable:!1,align:"left"},{text:"Estado",value:"descripcionestado",sortable:!1,align:"left"},{text:"Valor Total",value:"valortotal",sortable:!1,align:"left"},{text:"Responsable",value:"nombrecoordinador",sortable:!1,align:"left"},{text:"Fecha Term. Ejecuc.",value:"fechaterejecucion",sortable:!1,align:"left"},{text:"Tasa",value:"tasa",sortable:!1,align:"left"},{text:"Otro Si",value:"otrosi",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],headerFechasPIT:[{text:"Fecha",align:"left",sortable:!1,value:"fechapresentacion"},{text:"Accion",value:"action",sortable:!1}],headerFechasPIF:[{text:"Fecha",align:"left",sortable:!1,value:"fechapresentacion"},{text:"Accion",value:"action",sortable:!1}],headarcconvenio:[{text:"No.",align:"left",sortable:!1,value:"codigo"},{text:"Archivo",align:"left",sortable:!1,value:"archivo.file_name"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."},valor:function(e){return t.limpiarMoneda(e)>0||"El Valor debe ser mayor a 0."},minDate:function(t){return t<(new Date).toISOString()||"La fecha no puede ser superior al dia de hoy"},maxDate:function(t){return t>=(new Date).toISOString()||"La fecha no puede ser inferior al dia de hoy"}}}},filters:{anoSuscripcion:function(t){return t?(t=t.substring(0,4),t):""}},methods:(Da={showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},traeUsuarioUFinanciera:function(){var t=Xa(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.usuarioUnidadFinanciera=0,t.prev=1,t.next=4,jt["a"].getXCodigo(6);case 4:e=t.sent,e.data&&(this.usuarioUnidadFinanciera=e.data.data[0].encargadocodigo),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,this,[[1,8,10,12]])})));function e(){return t.apply(this,arguments)}return e}(),envioNotificaciones:function(t){var e=0,a=44,o=this.numero;""!=this.usuarioUnidadFinanciera&&"0"!=this.usuarioUnidadFinanciera&&(e=this.usuarioUnidadFinanciera),this.$root.$emit("enviarNotificaciones",{codigopersona:e,mensajenotificacion:t.mensajenotificacion,asuntocorreo:t.asuntocorreo,mensajecorreo:t.mensajecorreo,codigoopcion:a,numerointerno:o})},getPermisoTasa:function(){var t=this;this.permisotasa=0,ht["a"].getOpcion(this.$session.get("usuarioid"),18).then((function(e){e.request&&e.data&&e.data.data.length&&(t.permisotasa=1)})).catch((function(t){}))},resetForm:function(){this.codigo="0",this.numero="",this.nombre="",this.fechasuscripcion="",this.fechaterejecucion="",this.fechaincorporacion="",this.valortotal=0,this.codigoestado="",this.codigocoordinador="",this.codigoencargado="",this.objeto="",this.fuentefinanciacion="",this.cofinanciado=0,this.contrapartida=0,this.totaldinero=0,this.totalespecie=0,this.tiempo="0",this.contactoafn="",this.contactoaff="",this.contactotff="",this.codigomoneda=0,this.tasa=0,this.estadoactual="",this.simbolomoneda="",this.contactotecfuefin="",this.contactoadmfuefin="",this.obsfechasfinanciera="",this.obsfechastecnicos="",this.arrSocios=[],this.arrFechasPIT=[],this.arrFechasPIF=[],this.dataarcconvenio=[],this.dataarccontrapartida=[],this.dataarcotrosdatos=[]},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},cerrarDialogoSocios:function(){this.resetFormSocios(),this.dialogSocios=!1,this.editsocios=-1},traerDataPrincipal:function(){var t=this;this.loading=!0,ga["a"].getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},validaSave:function(){return!0},number_format:function(t,e){if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var a=t.split("."),o=/(\d+)(\d{3})/;while(o.test(a[0]))a[0]=a[0].replace(o,"$1.$2");return a.join(",")},saveitem:function(){var t=this;this.loading=!0;var e="",a="",o="",i="",n="",r="",s="";"object"==Va(this.codigoestado)?(a=this.codigoestado.codigo,o=this.codigoestado.descripcion):(a=this.codigoestado,o=this.itemactual.descripcionestado),"object"==Va(this.codigocoordinador)?(i=this.codigocoordinador.codigo,n=this.codigocoordinador.nombrecompleto):(i=this.codigocoordinador,n=this.itemactual.nombrecoordinador),"object"==Va(this.codigomoneda)?(r=this.codigomoneda.codigo,s=this.codigomoneda.simbolo):(r=this.codigomoneda,s=this.itemactual.moneda);var c="";c=void 0===this.codigoencargado?0:this.codigoencargado;""==this.fechasuscripcion||this.fechasuscripcion,""==this.fechaterejecucion||this.fechaterejecucion,""==this.fechaincorporacion||this.fechaincorporacion;var l={codigo:this.codigo,numero:this.numero,fechasuscripcion:this.fechasuscripcion,fechaterejecucion:this.fechaterejecucion,fechaincorporacion:this.fechaincorporacion,valortotal:this.limpiarMoneda(this.valortotal),codigoestado:a,codigocoordinador:i,codigoencargado:c,objeto:this.objeto,fuentefinanciacion:this.fuentefinanciacion,cofinanciado:this.limpiarMoneda(this.cofinanciado),contrapartida:this.limpiarMoneda(this.contrapartida),totaldinero:this.limpiarMoneda(this.totaldinero),totalespecie:this.limpiarMoneda(this.totalespecie),tiempo:this.tiempo,contactoafn:this.contactoafn,contactoaff:this.contactoaff,contactotff:this.contactotff,moneda:r,tasa:this.tasa,contactotecfuefin:this.contactotecfuefin,contactoadmfuefin:this.contactoadmfuefin,archivogeneral:this.archivogeneral,archivootda:this.archivootda,nombre:this.nombre,archivocont:this.archivocont,obsfechasfinanciera:this.obsfechasfinanciera,obsfechastecnicos:this.obsfechastecnicos};if(this.edit){var d=this.validaSave();if(!d)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);e=""}var u=this.validaFechas();if(""!=u)return this.showMessage(!0,5e3,"error",u),void(this.loading=!1);var p=this.validarTotalContrapartida();if(""!=p)return this.showMessage(!0,5e3,"error",p),void(this.loading=!1);e="No. CONVENIO: "+this.numero+", NOMBRE: "+this.nombre+", FECHA SUSCRIPCION: "+this.fechasuscripcion+", ESTADO: "+o+", VALOR TOTAL: $ "+this.number_format(this.valortotal,2)+", RESPONSABLE: "+n+", FECHA TERM. EJECUCION: "+this.fechaterejecucion+", MONEDA: "+s+", TASA: "+this.tasa,ga["a"].guardarData(l,this.arrFechasPIT,this.arrFechasPIF,this.arrSocios,this.dataarcconvenio,this.dataarccontrapartida,this.dataarcotrosdatos).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el Acuerdo Específico con éxito"),t.del_item="",t.edit=-1,t.traerDataPrincipal();var r="Cordial Saludo,<br><br> Se "+i+" el Acuerdo Específico # : "+t.numero+", Nombre: "+t.nombre+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";t.envioNotificaciones({mensajenotificacion:"Se "+i+" el Acuerdo Específico # : "+t.numero+", Nombre: "+t.nombre,asuntocorreo:"Creación o Modificación de Acuerdos Específicos",mensajecorreo:r}),t.resetForm(),t.dialog=!1,t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},traeEstados:function(){var t=this;this.loading=!0,ve["a"].getEstadosXTipo(2).then((function(e){e.request&&e.data?t.arrEstados=e.data.data:t.arrEstados=[],t.loading=!1})).catch((function(e){t.arrEstados=[],t.loading=!1}))},traePersonal:function(){var t=this;this.loading=!0,st["a"].FiltroXEstado(1).then((function(e){e.request&&e.data?t.arrCoordinadores=e.data.data:t.arrCoordinadores=[],t.loading=!1})).catch((function(e){t.arrCoordinadores=[],t.loading=!1}))},traeMonedas:function(){var t=this;this.loading=!0,_a.getData().then((function(e){e.request&&e.data?t.arrMonedas=e.data.data:t.arrMonedas=[],t.loading=!1})).catch((function(e){t.arrMonedas=[],t.loading=!1}))},traeFechasPIT:function(){var t=this;this.loading=!0,this.arrFechasPIT=[],Ua.BuscarXConvenio(this.codigo).then((function(e){e.request&&e.data&&(t.arrFechasPIT=e.data.data),t.loading=!1})).catch((function(e){t.loading=!1}))},traeFechasPIF:function(){var t=this;this.loading=!0,this.arrFechasPIF=[],La.BuscarXConvenio(this.codigo).then((function(e){e.request&&e.data&&(t.arrFechasPIF=e.data.data),t.loading=!1})).catch((function(e){t.loading=!1}))},addFechasPI:function(t,e){if(t)if("1"==e){for(var a=this.arrFechasPIT,o=0;o<a.length;o++){var i=a[o];if(i.fechapresentacion==t)return this.showMessage(!0,4e3,"error","La Fecha ya existe"),void(this.addfechapresinftec="")}this.arrFechasPIT.push({codigo:this.codigo,fechapresentacion:this.addfechapresinftec}),this.addfechapresinftec=""}else if("2"==e){a=this.arrFechasPIF;for(var n=0;n<a.length;n++){var r=a[n];if(r.fechapresentacion==t)return this.showMessage(!0,4e3,"error","La Fecha ya existe"),void(this.addfechapresinffin="")}this.arrFechasPIF.push({codigo:this.codigo,fechapresentacion:this.addfechapresinffin}),this.addfechapresinffin=""}},deleteFechaPI:function(){var t=this;if(this.loading=!0,1==this.tipoFecha){for(var e=0;e<this.arrFechasPIT.length;e++){var a=this.arrFechasPIT[e];if(a.fechapresentacion==this.itemactualfechaPIT.fechapresentacion){this.arrFechasPIT.splice(e,1);break}}Ua.delData(this.codigo,this.itemactualfechaPIT.fechapresentacion).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la Fecha con éxito"),t.dialog_fechasPIT=!1):t.showMessage(!0,3e3,"error",e.message),t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}else if(2==this.tipoFecha){for(var o=0;o<this.arrFechasPIF.length;o++){var i=this.arrFechasPIF[o];if(i.fechapresentacion==this.itemactualfechaPIF.fechapresentacion){this.arrFechasPIF.splice(o,1);break}}La.delData(this.codigo,this.itemactualfechaPIF.fechapresentacion).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la Fecha con éxito"),t.dialog_fechasPIT=!1):t.showMessage(!0,3e3,"error",e.message),t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}},traeOtrosPersonal:function(){var t=this;this.loading=!0,st["a"].getData().then((function(e){e.request&&e.data?t.arrPersonal=e.data.data:t.arrPersonal=[],t.loading=!1})).catch((function(e){t.arrPersonal=[],t.loading=!1}))},limpiarMoneda:function(t){var e=t.toString().replace(/[$.]/gi,"");return e=e.replace(/[,]/gi,"."),e},calculaTasa:function(t,e){var a=this.limpiarMoneda(t),o=this.tasa,i=0,n="";return i=0==o?a:a*o,n="$ "+this.number_format(i,2),n},getTasa:function(){this.tasa=this.codigomoneda.tasa},resetFormSocios:function(){this.valortotalsocio=0,this.fuentefinanciacionsocio="",this.cofinanciadosocio=0,this.contrapartidasocio=0,this.totaldinerosocio=0,this.totalespeciesocio=0},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)},validaFechas:function(){if(""==this.fechasuscripcion||""==this.fechaincorporacion||""==this.fechaterejecucion)return"";var t=new Date(this.fechasuscripcion),e=new Date(this.fechaincorporacion),a=new Date(this.fechaterejecucion);return e<t?"La Fecha de Inicio debe ser mayor a la Fecha de Suscripción":a<=t?"La Fecha de Terminación debe ser superior a la Fecha de Suscripción":a<=e?"La Fecha de Terminación debe ser superior a la Fecha de Inicio":""},validarTotalContrapartida:function(){var t=parseFloat(this.limpiarMoneda(this.contrapartida)),e=parseFloat(this.limpiarMoneda(this.totaldinero)),a=parseFloat(this.limpiarMoneda(this.totalespecie)),o=e+a;return o>t?"El Total en Especie y en Dinero, no puede superar el valor de la Contrapartida":""},actualizarTaza:function(){this.loading=!0;var t=this;this.tasa=parseFloat(this.limpiarMoneda(this.txttasa)),ga["a"].actualizarTasa(this.codigo,this.tasa).then((function(e){if(e.response){var a=e.response.data.message;t.showMessage(!0,7e3,"error",a)}else if(e.statusText){t.showMessage(!0,3e3,"success","Se Actualizó la Tasa con éxito"),t.agregaBitacora("ACTUALIZACION","SE ACTUALIZO LA TASA. VALOR ANTERIOR "+t.tasaanterior+", NUEVA TASA "+t.tasa+". DEL CONVENIO CON # : "+t.numero+"NOMBRE: "+t.nombre),t.txttasa="",t.dialog_tasa=!1}else t.showMessage(!0,3e3,"error",e.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},traesimboloMoneda:function(){return"object"==Va(this.codigomoneda)?this.codigomoneda.simbolo:this.simbolomoneda},traeSocios:function(t){var e=this;this.arrSocios=[],ga["a"].getSocios(t).then((function(t){t.request&&t.data&&(e.arrSocios=t.data.data)})).catch((function(t){}))},validarTotalContrapartidaSocio:function(){var t=parseFloat(this.limpiarMoneda(this.contrapartidasocio)),e=parseFloat(this.limpiarMoneda(this.totaldinerosocio)),a=parseFloat(this.limpiarMoneda(this.totalespeciesocio)),o=e+a;return o>t?"El Total en Especie y en Dinero, no puede superar el valor de la Contrapartida":""},saveitemsocio:function(){for(var t=0;t<this.arrSocios.length;t++){var e=this.arrSocios[t];if(this.fuentefinanciacionsocio==e.fuentefinanciacion&&this.itemactualsocios.fuentefinanciacion!=e.fuentefinanciacion)return void this.showMessage(!0,4e3,"error","La Fuente de Financiación, ya fué ingresada")}var a=this.limpiarMoneda(this.contrapartidasocio),o=this.limpiarMoneda(this.totaldinerosocio),i=this.limpiarMoneda(this.totalespeciesocio),n=parseFloat(o)+parseFloat(i);if(parseFloat(a)==parseFloat(n)){for(var r=parseFloat(this.limpiarMoneda(this.contrapartidasocio)),s=parseFloat(this.limpiarMoneda(this.cofinanciadosocio)),c=parseFloat(this.limpiarMoneda(this.valortotalsocio)),l=parseFloat(this.limpiarMoneda(this.totaldinerosocio)),d=parseFloat(this.limpiarMoneda(this.totalespeciesocio)),u=0;u<this.arrSocios.length;u++){var p=this.arrSocios[u];this.itemactualsocios.fuentefinanciacion!=p.fuentefinanciacion&&(r+=parseFloat(p.contrapartida.toString().replace(".00","")),s+=parseFloat(p.cofinanciado.toString().replace(".00","")),c+=parseFloat(p.valortotal.toString().replace(".00","")),l+=parseFloat(p.totaldinero.toString().replace(".00","")),d+=parseFloat(p.totalespecie.toString().replace(".00","")))}if(0==this.editsocios)this.arrSocios.push({fuentefinanciacion:this.fuentefinanciacionsocio,valortotal:this.limpiarMoneda(this.valortotalsocio),contrapartida:this.limpiarMoneda(this.contrapartidasocio),cofinanciado:this.limpiarMoneda(this.cofinanciadosocio),totaldinero:this.limpiarMoneda(this.totaldinerosocio),totalespecie:this.limpiarMoneda(this.totalespeciesocio)});else for(var m=0;m<this.arrSocios.length;m++){var v=this.arrSocios[m];this.itemactualsocios.fuentefinanciacion==v.fuentefinanciacion&&(v.valortotal=this.limpiarMoneda(this.valortotalsocio),v.contrapartida=this.limpiarMoneda(this.contrapartidasocio),v.cofinanciado=this.limpiarMoneda(this.cofinanciadosocio),v.totaldinero=this.limpiarMoneda(this.totaldinerosocio),v.totalespecie=this.limpiarMoneda(this.totalespeciesocio),v.fuentefinanciacion=this.limpiarMoneda(this.fuentefinanciacionsocio))}this.cofinanciado=this.number_format(s.toString().replace(".00",""),2),this.contrapartida=this.number_format(r.toString().replace(".00",""),2),this.valortotal=this.number_format(c.toString().replace(".00",""),2),this.totalespecie=this.number_format(d.toString().replace(".00",""),2),this.totaldinero=this.number_format(l.toString().replace(".00",""),2),this.resetFormSocios(),this.editsocios=-1,this.dialogSocios=!1}else this.showMessage(!0,4e3,"error","La suma del total en dinero y especie debe coincidir con el valor de la contrapartida")}},Ga(Da,"number_format",(function(t,e){if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var a=t.split("."),o=/(\d+)(\d{3})/;while(o.test(a[0]))a[0]=a[0].replace(o,"$1.$2");return a.join(",")})),Ga(Da,"formatearValor",(function(t,e){var a=t;switch(a=this.limpiarMoneda(a),a=this.number_format(a,2),e){case"cofinanciadosocio":this.cofinanciadosocio=a;break;case"contrapartidasocio":this.contrapartidasocio=a;break;case"totaldinerosocio":this.totaldinerosocio=a;break;case"totalespeciesocio":this.totalespeciesocio=a;break;case"cofinanciado":this.cofinanciado=a;break;case"contrapartida":this.contrapartida=a;break;case"totaldinero":this.totaldinero=a;break;case"totalespecie":this.totalespecie=a;break;default:break}})),Ga(Da,"TotalizarSocio",(function(){for(var t=0,e=0;e<this.arrSocios.length;e++){var a=this.arrSocios[e];t+=parseFloat(this.limpiarMoneda(a.valortotal.toString().replace(".00","")))}return t})),Ga(Da,"deleteItemSocio",(function(){for(var t=0;t<this.arrSocios.length;t++){var e=this.arrSocios[t];if(e.fuentefinanciacion==this.itemactualsocios.fuentefinanciacion){this.arrSocios.splice(t,1);break}}this.dialog_socio_del=!1})),Ga(Da,"abrirDialogoElimFile",(function(t,e){this.tipoarchivo=t,this.itemactualArchivo=e,this.dialog_deletefile=!0})),Ga(Da,"resetArchivos",(function(){this.codigoarchivo=0,this.rutaarchivo="",this.archivoactual={file_name:"",file_path:"",file_name_tmp:""}})),Ga(Da,"eliminarItemArchivos",function(){var t=Xa(He.a.mark((function t(){var e,a,o,i,n,r,s;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ga["a"].eliminarArchivoXTipo(this.codigo,this.tipoarchivo,this.itemactualArchivo.codigo,this.itemactualArchivo.archivo);case 3:if(e=t.sent,!e.response){t.next=7;break}return this.showMessage(!0,4e3,"error",e.response.data.message),t.abrupt("return");case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t["catch"](0),this.showMessage(!0,4e3,"error",t.t0),t.abrupt("return");case 13:t.t1=this.tipoarchivo,t.next="C"===t.t1?16:"P"===t.t1?27:"O"===t.t1?38:49;break;case 16:a=0;case 17:if(!(a<this.dataarcconvenio.length)){t.next=26;break}if(o=this.dataarcconvenio[a],o.codigo!=this.itemactualArchivo.codigo){t.next=23;break}return this.dataarcconvenio.splice(a,1),this.showMessage(!0,4e3,"success","Se eliminó el archivo con éxito"),t.abrupt("break",26);case 23:a++,t.next=17;break;case 26:return t.abrupt("break",50);case 27:i=0;case 28:if(!(i<this.dataarccontrapartida.length)){t.next=37;break}if(n=this.dataarccontrapartida[i],n.codigo!=this.itemactualArchivo.codigo){t.next=34;break}return this.dataarccontrapartida.splice(i,1),this.showMessage(!0,4e3,"success","Se eliminó el archivo con éxito"),t.abrupt("break",37);case 34:i++,t.next=28;break;case 37:return t.abrupt("break",50);case 38:r=0;case 39:if(!(r<this.dataarcotrosdatos.length)){t.next=48;break}if(s=this.dataarcotrosdatos[r],s.codigo!=this.itemactualArchivo.codigo){t.next=45;break}return this.dataarcotrosdatos.splice(r,1),this.showMessage(!0,4e3,"success","Se eliminó el archivo con éxito"),t.abrupt("break",48);case 45:r++,t.next=39;break;case 48:return t.abrupt("break",50);case 49:return t.abrupt("break",50);case 50:this.dialog_deletefile=!1;case 51:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}()),Ga(Da,"adicionarArchivo",function(){var t=Xa(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.archivoactual.file_name){t.next=3;break}return this.showMessage(!0,3e3,"error","Debe seleccionar el Archivo"),t.abrupt("return");case 3:if(0!=this.editArchivos){t.next=45;break}e=0,t.t0=this.tipoarchivo,t.next="C"===t.t0?8:"P"===t.t0?11:"O"===t.t0?14:17;break;case 8:return e=this.dataarcconvenio.reduce((function(t,e){return Math.max(t,e.codigo)}),0),e+=1,t.abrupt("break",19);case 11:return e=this.dataarccontrapartida.reduce((function(t,e){return Math.max(t,e.codigo)}),0),e+=1,t.abrupt("break",19);case 14:return e=this.dataarcotrosdatos.reduce((function(t,e){return Math.max(t,e.codigo)}),0),e+=1,t.abrupt("break",19);case 17:return e=-1,t.abrupt("break",19);case 19:if(0==parseFloat(this.codigo)){t.next=33;break}return t.prev=20,t.next=23,ga["a"].adicionarArchivo(this.codigo,this.tipoarchivo,e,this.archivoactual);case 23:if(a=t.sent,!a.response){t.next=27;break}return this.showMessage(!0,4e3,"error",a.response.data.message),t.abrupt("return");case 27:t.next=33;break;case 29:return t.prev=29,t.t1=t["catch"](20),this.showMessage(!0,4e3,"error",t.t1),t.abrupt("return");case 33:t.t2=this.tipoarchivo,t.next="C"===t.t2?36:"P"===t.t2?38:"O"===t.t2?40:42;break;case 36:return this.dataarcconvenio.push({codigo:e,archivo:this.archivoactual}),t.abrupt("break",44);case 38:return this.dataarccontrapartida.push({codigo:e,archivo:this.archivoactual}),t.abrupt("break",44);case 40:return this.dataarcotrosdatos.push({codigo:e,archivo:this.archivoactual}),t.abrupt("break",44);case 42:return e=-1,t.abrupt("break",44);case 44:this.showMessage(!0,4e3,"success","Se agregó el archivo con éxito");case 45:this.editArchivos=-1,this.dialog_archivos=!1;case 47:case"end":return t.stop()}}),t,this,[[20,29]])})));function e(){return t.apply(this,arguments)}return e}()),Ga(Da,"traerDatosArchivos",(function(t){var e=this;ga["a"].getDataArchivos(this.codigo,t).then((function(a){if(a.request&&a.data){var o=a.data.data;if(o.length>0)for(var i=0;i<o.length;i++){var n=o[i],r=n.archivo,s=n.rutaarchivo,c={file_name:r,file_path:""!=s?s:"",file_name_tmp:""};switch(t){case"C":e.dataarcconvenio.push({codigo:n.codigo,archivo:c});break;case"P":e.dataarccontrapartida.push({codigo:n.codigo,archivo:c});break;case"O":e.dataarcotrosdatos.push({codigo:n.codigo,archivo:c});break;default:break}}}})).catch((function(t){}))})),Ga(Da,"abrirOtroSi",(function(t){this.codigoconvenio=t,this.traerDataXId(t,-2)})),Ga(Da,"cerrarOtroSi",(function(){this.edit=-1,this.dialog_otrosi=!1})),Ga(Da,"traerDataXId",(function(t,e){var a=this;this.loading=!0,ga["a"].getDataXId(t).then((function(t){t.request&&t.data?a.itemactual=t.data.data[0]:a.itemactual="",a.loading=!1,a.edit=e})).catch((function(t){a.itemactual="",a.loading=!1,a.edit=e}))})),Da),watch:{edit:function(t){"1"==t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.numero=this.itemactual.numero,this.nombre=this.itemactual.nombre,this.fechasuscripcion="1000-01-01"==this.itemactual.fechasuscripcion?"":this.itemactual.fechasuscripcion,this.fechaterejecucion="1000-01-01"==this.itemactual.fechaterejecucion?"":this.itemactual.fechaterejecucion,this.fechaincorporacion="1000-01-01"==this.itemactual.fechaincorporacion?"":this.itemactual.fechaincorporacion,this.valortotal=this.number_format(this.itemactual.valortotal),this.codigoestado=this.itemactual.codigoestado,this.codigocoordinador=this.itemactual.codigocoordinador,this.codigoencargado=this.itemactual.codigoencargado,this.objeto=this.itemactual.objeto,this.fuentefinanciacion=this.itemactual.fuentefinanciacion,this.cofinanciado=this.number_format(this.itemactual.cofinanciado),this.contrapartida=this.number_format(this.itemactual.contrapartida),this.totaldinero=this.number_format(this.itemactual.totaldinero),this.totalespecie=this.number_format(this.itemactual.totalespecie),this.tiempo=this.itemactual.tiempo,this.contactoafn=this.itemactual.codigocontactoafn,this.contactoaff=this.itemactual.codigocontactoaff,this.contactotff=this.itemactual.codigocontactotff,this.codigomoneda=this.itemactual.codigomoneda,this.tasa=this.itemactual.tasa,this.contactotecfuefin=this.itemactual.contactotecfuefin,this.contactoadmfuefin=this.itemactual.contactoadmfuefin,this.obsfechasfinanciera=this.itemactual.obsfechasfinanciera,this.obsfechastecnicos=this.itemactual.obsfechastecnicos,this.simbolomoneda=this.itemactual.moneda,this.traeFechasPIT(),this.traeFechasPIF(),this.traeSocios(this.codigo),this.dataarcconvenio=[],this.dataarccontrapartida=[],this.dataarcotrosdatos=[],this.traerDatosArchivos("C"),this.traerDatosArchivos("P"),this.traerDatosArchivos("O")):(this.resetForm(),this.formTitle="Nuevo")},codigoestado:function(t){"object"==Va(t)?this.estadoactual=this.codigoestado.codigo:this.estadoactual=this.codigoestado},editsocios:function(t){"1"==t?(this.formTitle2="Editar",this.valortotalsocio=this.number_format(this.itemactualsocios.valortotal),this.fuentefinanciacionsocio=this.itemactualsocios.fuentefinanciacion,this.cofinanciadosocio=this.number_format(this.itemactualsocios.cofinanciado),this.contrapartidasocio=this.number_format(this.itemactualsocios.contrapartida),this.totaldinerosocio=this.number_format(this.itemactualsocios.totaldinero),this.totalespeciesocio=this.number_format(this.itemactualsocios.totalespecie)):(this.resetFormSocios(),this.formTitle2="Nuevo")},cofinanciadosocio:function(t){var e=this.limpiarMoneda(t),a=this.limpiarMoneda(this.contrapartidasocio),o=parseFloat(e)+parseFloat(a);this.valortotalsocio=this.number_format(o.toString().replace(".00",""),2)},contrapartidasocio:function(t){var e=this.limpiarMoneda(this.cofinanciadosocio),a=this.limpiarMoneda(t),o=parseFloat(e)+parseFloat(a);this.valortotalsocio=this.number_format(o.toString().replace(".00",""),2)},editArchivos:function(t){if(!t){var e="C"==this.tipoarchivo?" Convenio":"P"==this.tipoarchivo?" Contrapartida":"O"==this.tipoarchivo?" Otros Datos":"";this.formTitleArchivos="Nuevo Archivo "+e,this.resetArchivos()}}},computed:{getsimboloMoneda:function(){return"object"==Va(this.codigomoneda)?this.codigomoneda.simbolo:this.simbolomoneda},errorTotalContrapartida:function(){var t=this.limpiarMoneda(this.contrapartida),e=this.limpiarMoneda(this.totaldinero),a=this.limpiarMoneda(this.totalespecie);return parseFloat(e)+parseFloat(a)>parseFloat(t)?"El Total en Especie y en Dinero, no puede superar el valor de la Contrapartida":""},tiempoejecucion:function(){if(""!=this.fechasuscripcion&&""!=this.fechaterejecucion){var t=new Date(this.fechaterejecucion),e=new Date(this.fechasuscripcion),a=t.getTime()-e.getTime(),o=a/864e5;return this.tiempo=o,o}return this.tiempo=0,0},errorTotalContrapartidasocio:function(){var t=this.limpiarMoneda(this.contrapartidasocio),e=this.limpiarMoneda(this.totaldinerosocio),a=this.limpiarMoneda(this.totalespeciesocio);return parseFloat(e)+parseFloat(a)>parseFloat(t)?"El Total en Especie y en Dinero, no puede superar el valor de la Contrapartida":""}},mounted:function(){this.getPermisoTasa(),this.traerDataPrincipal(),this.agregaBitacora("INGRESO","INGRESO AL MODULO"),this.traeEstados(),this.traePersonal(),this.traeOtrosPersonal(),this.traeMonedas(),this.traeUsuarioUFinanciera()}},Ja=Ha,Ya=Object(C["a"])(Ja,Ra,Fa,!1,null,null,null),Za=Ya.exports,Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("CONVENIOS MARCO")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.otrosi",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){t.abrirOtroSi(o.codigo),t.dialog_otrosi=!0}}},[t._v("\n\t\t\t\t\t\t\t\tlibrary_add\n\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.itemactual=o,t.edit=1}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1300px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Nombre Asociado",rules:[t.rules.required]},model:{value:t.nombreasociado,callback:function(e){t.nombreasociado=e},expression:"nombreasociado"}})],1)],1),a("v-row",[a("v-col",{attrs:{sm3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha de Suscripción","prepend-icon":"event",readonly:"",rules:[t.rules.required]},model:{value:t.fechasuscripcion,callback:function(e){t.fechasuscripcion=e},expression:"fechasuscripcion"}},o))]}}]),model:{value:t.menuDate,callback:function(e){t.menuDate=e},expression:"menuDate"}},[a("v-date-picker",{attrs:{type:"date"},on:{input:function(e){t.menuDate=!1}},model:{value:t.fechasuscripcion,callback:function(e){t.fechasuscripcion=e},expression:"fechasuscripcion"}})],1)],1),a("v-col",{attrs:{sm3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Inicio","prepend-icon":"event",readonly:"",rules:[t.rules.required]},model:{value:t.fechainicio,callback:function(e){t.fechainicio=e},expression:"fechainicio"}},o))]}}]),model:{value:t.menuDate2,callback:function(e){t.menuDate2=e},expression:"menuDate2"}},[a("v-date-picker",{attrs:{type:"date"},on:{input:function(e){t.menuDate2=!1}},model:{value:t.fechainicio,callback:function(e){t.fechainicio=e},expression:"fechainicio"}})],1)],1),a("v-col",{attrs:{sm3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Terminación","prepend-icon":"event",readonly:"",rules:[t.rules.required]},model:{value:t.fechaterminacion,callback:function(e){t.fechaterminacion=e},expression:"fechaterminacion"}},o))]}}]),model:{value:t.menuDate1,callback:function(e){t.menuDate1=e},expression:"menuDate1"}},[a("v-date-picker",{attrs:{type:"date"},on:{input:function(e){t.menuDate1=!1}},model:{value:t.fechaterminacion,callback:function(e){t.fechaterminacion=e},expression:"fechaterminacion"}})],1)],1),a("v-col",{attrs:{sm3:""}},[a("v-select",{attrs:{items:t.arrEstados,"item-value":"codigo","item-text":"descripcion",label:"Estado",rules:[t.rules.required],"return-object":!0},model:{value:t.codigoestado,callback:function(e){t.codigoestado=e},expression:"codigoestado"}})],1)],1),a("v-row",[a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan16"},[a("v-expansion-panel-header",[t._v("Objeto")]),a("v-expansion-panel-content",[a("v-flex",{attrs:{sm12:""}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Objeto"},model:{value:t.objeto,callback:function(e){t.objeto=e},expression:"objeto"}})],1)],1)],1)],1)],1),a("v-row",[a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan2"},[a("v-expansion-panel-header",[t._v("Observación")]),a("v-expansion-panel-content",[a("v-flex",{attrs:{sm12:""}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación"},model:{value:t.observacion,callback:function(e){t.observacion=e},expression:"observacion"}})],1)],1)],1)],1)],1),a("v-row",[a("v-expansion-panels",{attrs:{focusable:""}},[a("v-expansion-panel",{key:"pan5"},[a("v-expansion-panel-header",[t._v("Cargue de Soportes")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",{attrs:{sm6:""}},[a("v-file-input",{directives:[{name:"show",rawName:"v-show",value:t.codigo,expression:"codigo"}],ref:"fileconvenio",attrs:{label:"Convenio",accept:".pdf",placeholder:"Agregar Convenio",id:"fileconvenio",name:"fileconvenio"}})],1),a("v-col",{attrs:{sm6:""}},[a("v-file-input",{directives:[{name:"show",rawName:"v-show",value:t.codigo,expression:"codigo"}],ref:"fileotrosdatos",attrs:{label:"Otros Datos",accept:".pdf",placeholder:"Agregar Otros Datos",id:"fileotrosdatos",name:"fileotrosdatos"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"flexcard"},[a("div",{staticStyle:{"text-align":"left"}},[a("v-spacer"),a("v-btn",{staticClass:"text-left",attrs:{color:"primary",text:"",disabled:!t.valid||2==t.edit},on:{click:t.saveitem}},[t._v("Guardar")]),a("v-btn",{staticClass:"text-left",attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")])],1)])],1)],1),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:t.dialog_otrosi,callback:function(e){t.dialog_otrosi=e},expression:"dialog_otrosi"}},[a("v-card",[a("v-card-text",[a("otrosi",{attrs:{convenio:t.codigoconvenio},on:{"update:convenio":function(e){t.codigoconvenio=e}}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.cerrarOtroSi}},[t._v("Cancelar")])],1)],1)],1)],1)},Qa=[];function Ka(t){return Ka="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(t)}var to={name:"ConveniosMarco",components:{otrosi:function(){return a.e("chunk-2d0da371").then(a.bind(null,"6b3b"))}},data:function(){var t=this;return{modulo:"CONVENIOS MARCO",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",menuDate:!1,menuDate1:!1,menuDate2:!1,codigo:"0",nombreasociado:"",fechasuscripcion:"",fechaterminacion:"",fechainicio:"",codigoestado:"",objeto:"",observacion:"",archivogeneral:"",archivootda:"",data:[],arrEstados:[],estadoactual:"",dialog_otrosi:!1,codigoconvenio:0,headers:[{text:"Nombre Asociado",align:"left",sortable:!1,value:"nombreasociado"},{text:"Fecha Suscripción",value:"fechasuscripcion",sortable:!1,align:"left"},{text:"Fecha Inicio",value:"fechainicio",sortable:!1,align:"left"},{text:"Fecha Terminación",value:"fechaterminacion",sortable:!1,align:"left"},{text:"Estado",value:"descripcionestado",sortable:!1,align:"left"},{text:"Otro Si",value:"otrosi",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."},valor:function(e){return t.limpiarMoneda(e)>0||"El Valor debe ser mayor a 0."},minDate:function(t){return t<(new Date).toISOString()||"La fecha no puede ser superior al dia de hoy"},maxDate:function(t){return t>=(new Date).toISOString()||"La fecha no puede ser inferior al dia de hoy"}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.numero="",this.fechasuscripcion="",this.fechaterminacion="",this.fechainicio="",this.codigoestado="",this.objeto="",this.observacion="",this.estadoactual="",this.archivogeneral="",this.archivootda=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerDataPrincipal:function(){var t=this;this.loading=!0,ba["a"].getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},validaSave:function(){return!0},number_format:function(t,e){if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var a=t.split("."),o=/(\d+)(\d{3})/;while(o.test(a[0]))a[0]=a[0].replace(o,"$1.$2");return a.join(",")},saveitem:function(){var t=this;this.loading=!0;var e="",a="",o="";"object"==Ka(this.codigoestado)?(a=this.codigoestado.codigo,o=this.codigoestado.descripcion):(a=this.codigoestado,o=this.itemactual.descripcionestado);""==this.fechasuscripcion||this.fechasuscripcion,""==this.fechaterminacion||this.fechaterminacion,""==this.fechainicio||this.fechainicio;var i={codigo:this.codigo,nombreasociado:this.nombreasociado,fechasuscripcion:this.fechasuscripcion,fechaterminacion:this.fechaterminacion,fechainicio:this.fechainicio,codigoestado:a,objeto:this.objeto,observacion:this.observacion,archivogeneral:this.archivogeneral,archivootda:this.archivootda};if(this.edit){var n=this.validaSave();if(!n)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);e=""}var r=this.validaFechas();if(""!=r)return this.showMessage(!0,5e3,"error",r),void(this.loading=!1);e="NOMBRE ASOCIADO CONVENIO: "+this.nombreasociado+", FECHA SUSCRIPCION: "+this.fechasuscripcion+", ESTADO: "+o+", FECHA TERMINACION: "+this.fechaterminacion,ba["a"].guardarData(i).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el Convenio Marco con éxito"),t.del_item="",t.edit=-1,t.traerDataPrincipal(),t.resetForm(),t.dialog=!1,t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},traeEstados:function(){var t=this;this.loading=!0,ve["a"].getEstadosXTipo(2).then((function(e){e.request&&e.data?t.arrEstados=e.data.data:t.arrEstados=[],t.loading=!1})).catch((function(e){t.arrEstados=[],t.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)},validaFechas:function(){if(""==this.fechasuscripcion||""==this.fechainicio||""==this.fechaterminacion)return"";var t=new Date(this.fechasuscripcion),e=new Date(this.fechainicio),a=new Date(this.fechaterminacion);return a<=t?"La Fecha de Terminación debe ser superior a la Fecha de Inicio":a<=e?"La Fecha de Terminación debe ser superior a la Fecha de Incorporación":""},abrirOtroSi:function(t){this.codigoconvenio=t,this.traerDataXId(t,-2)},cerrarOtroSi:function(){this.edit=-1,this.dialog_otrosi=!1},traerDataXId:function(t,e){var a=this;this.loading=!0,ba["a"].getDataXId(t).then((function(t){t.request&&t.data?a.itemactual=t.data.data[0]:a.itemactual="",a.loading=!1,a.edit=e})).catch((function(t){a.itemactual="",a.loading=!1,a.edit=e}))}},watch:{edit:function(t){"1"==t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombreasociado=this.itemactual.nombreasociado,this.fechasuscripcion="1000-01-01"==this.itemactual.fechasuscripcion?"":this.itemactual.fechasuscripcion,this.fechaterminacion="1000-01-01"==this.itemactual.fechaterminacion?"":this.itemactual.fechaterminacion,this.fechainicio="1000-01-01"==this.itemactual.fechainicio?"":this.itemactual.fechainicio,this.codigoestado=this.itemactual.codigoestado,this.objeto=this.itemactual.objeto,this.observacion=this.itemactual.observacion):(this.resetForm(),this.formTitle="Nuevo")},codigoestado:function(t){"object"==Ka(t)?this.estadoactual=this.codigoestado.codigo:this.estadoactual=this.codigoestado}},computed:{},mounted:function(){this.traerDataPrincipal(),this.agregaBitacora("INGRESO","INGRESO AL MODULO"),this.traeEstados()}},eo=to,ao=Object(C["a"])(eo,Wa,Qa,!1,null,null,null),oo=ao.exports,io=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tCapitulos\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Capitulo")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Capitulo seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},no=[],ro={data:function(){return{modulo:"CAPITULOS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",itemactual:"",data:[],headers:[{text:"descripcion",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerCapitulos:function(){var t=this;this.loading=!0,Qe.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,Qe.delCapitulos(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Capítulo con éxito"),t.del_item="",t.traerCapitulos(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL CAPÍTULO CON CODIGO:"+t.itemactual.codigo+", Descripción:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.descripcion==this.descripcionant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="Descripción: "+this.descripcion.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion};Qe.guardarCapitulo(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el Capitulo con éxito"),a.del_item="",a.edit=-1,a.traerCapitulos(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerCapitulos(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},so=ro,co=Object(C["a"])(so,io,no,!1,null,null,null),lo=co.exports,uo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tCausales Contratación\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"descripcion",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Causal de Contratacion")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Causal de Contratacion seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},po=[],mo={getCausalesContrataciones:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/CausalesContratacion",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarCausalContratacion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarCausalContratacion",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delCausalContratacion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delCausalContratacion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},vo=mo,ho={data:function(){return{modulo:"CAUSALES CONTRATACION",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",itemactual:"",data:[],headers:[{text:"descripcion",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerCausalesContratacion:function(){var t=this;this.loading=!0,vo.getCausalesContrataciones().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,vo.delCausalContratacion(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó La Causal de Contratacion con éxito"),t.del_item="",t.traerCausalesContratacion(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA CAUSAL CONTRATACION CON CODIGO:"+t.itemactual.codigo+", descripcion:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.descripcion==this.descripcionant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="descripcion: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="descripcion: "+this.descripcion.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion};vo.guardarCausalContratacion(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" la Causal Contratacion con éxito"),a.del_item="",a.edit=-1,a.traerCausalesContratacion(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerCausalesContratacion(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},fo=ho,go=Object(C["a"])(fo,uo,po,!1,null,null,null),bo=go.exports,xo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tCriterios Evaluación\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"descripcion",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Criterios Evaluación")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar Criterios Evaluación seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},_o=[],yo={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/CriteriosEvaluacion",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarCriteriosEvaluacion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarCriteriosEvaluacion",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delCriteriosEvaluacion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delCriteriosEvaluacion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},ko=yo,Co={data:function(){return{modulo:"CRITERIOS EVALUACION",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",itemactual:"",data:[],headers:[{text:"descripcion",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerCriteriosEvaluacion:function(){var t=this;this.loading=!0,ko.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,ko.delCriteriosEvaluacion(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Criterio Evaluación con éxito"),t.del_item="",t.traerCriteriosEvaluacion(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL CRITERIO EVALUACIÓN CON codigo:"+t.itemactual.codigo+", descripcion:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.descripcion==this.descripcionant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="descripcion: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),e="codigo: "+this.codigo+" ("+e+")"):e+="descripcion: "+this.descripcion.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion};ko.guardarCriteriosEvaluacion(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el Criterio Evaluación con éxito"),a.del_item="",a.edit=-1,a.traerCriteriosEvaluacion(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerCriteriosEvaluacion(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},So=Co,wo=Object(C["a"])(So,xo,_o,!1,null,null,null),Po=wo.exports,Ao=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tFormas de Pagos\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"descripcion",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Forma Pago")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Forma Pago seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},jo=[],Eo={getFormasPago:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/FormasPago",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarFormasPago:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarFormasPago",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delFormasPago:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delFormasPago",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},To=Eo,Do={data:function(){return{modulo:"FORMAS DE PAGO",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",itemactual:"",data:[],headers:[{text:"descripcion",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerFormasPago:function(){var t=this;this.loading=!0,To.getFormasPago().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,To.delFormasPago(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la forma de pago con éxito"),t.del_item="",t.traerFormasPago(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA FORMA DE PAGO CON codigo:"+t.itemactual.codigo+", descripcion:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.descripcion==this.descripcionant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="descripcion: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),e="codigo: "+this.codigo+" ("+e+")"):e+="descripcion: "+this.descripcion.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion};To.guardarFormasPago(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el FormaPago con éxito"),a.del_item="",a.edit=-1,a.traerFormasPago(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerFormasPago(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Io=Do,Oo=Object(C["a"])(Io,Ao,jo,!1,null,null,null),No=Oo.exports,Mo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tLineas Estrategicas\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",[a("v-autocomplete",{attrs:{items:t.arrCapitulos,"item-value":"codigo","item-text":"descripcion","return-object":!0,label:"Capítulo",rules:[t.rules.required]},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("br"),t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.item.descripcion)+"\n\t\t\t\t\t\t\t\t\t\t")]}},{key:"item",fn:function(e){return[a("v-list-item-content",{domProps:{textContent:t._s(e.item.descripcion)}})]}}]),model:{value:t.codigocapitulo,callback:function(e){t.codigocapitulo=e},expression:"codigocapitulo"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Línea Estratégica")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Línea Estratégica seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Ro=[];function Fo(t){return Fo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(t)}var qo={data:function(){return{modulo:"LÍNEAS ESTRATÉGICAS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",codigocapitulo:0,descripcionant:"",itemactual:"",data:[],arrCapitulos:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Capítulo",align:"left",sortable:!1,value:"descripcioncapitulo"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant="",this.codigocapitulo=0},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerLineasEstrategicas:function(){var t=this;this.loading=!0,ta.getLineasEstrategicas().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traerCapitulos:function(){this.arrCapitulos=[];var t=this;Qe.getData().then((function(e){e.request&&e.data&&(t.arrCapitulos=e.data.data)})).catch((function(t){}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,ta.delLineaEstrategica(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la Línea Estratégica con éxito"),t.del_item="",t.traerLineasEstrategicas(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA LÍNEA ESTRATÉGICA CON CÓDIGO:"+t.itemactual.codigo+", DESCRIPCIÓN:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){var t="object"==Fo(this.codigocapitulo)?this.codigocapitulo.codigo:this.codigocapitulo;return this.descripcion==this.descripcionant&&t==this.itemactual.codigocapitulo?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){var a="object"==Fo(this.codigocapitulo)?this.codigocapitulo.codigo:this.codigocapitulo,o="object"==Fo(this.codigocapitulo)?this.codigocapitulo.descripcion:this.itemactual.descripcioncapitulo;this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),this.itemactual.codigocapitulo!=a&&(e+=""==e?"Capítulo: "+this.itemactual.descripcioncapitulo+" a "+o:", Capítulo: "+this.itemactual.descripcioncapitulo+" a "+o),e="CODIGO: "+this.codigo+" ("+e+")"):e+="Descripción: "+this.descripcion.toUpperCase();var i=this;this.loading=!0;var n={codigo:this.codigo,descripcion:this.descripcion,codigocapitulo:a};ta.guardarLineaEstrategica(n).then((function(t){if(t.response){var a=t.response.data.message;i.showMessage(!0,3e3,"error",a)}else if(t.statusText){var o="",n="";i.edit?(o="Actualizó",n="ACTUALIZACION"):(o="Agregó",n="CREACION"),i.showMessage(!0,3e3,"success","Se "+o+" la Línea Estratégica con éxito"),i.del_item="",i.edit=-1,i.traerLineasEstrategicas(),i.resetForm(),i.dialog=!1,i.agregaBitacora(n,e)}else i.showMessage(!0,3e3,"error",t.message);i.loading=!1})).catch((function(t){i.showMessage(!0,3e3,"error",t),i.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion,this.codigocapitulo=this.itemactual.codigocapitulo):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerLineasEstrategicas(),this.traerCapitulos(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Uo=qo,$o=Object(C["a"])(Uo,Mo,Ro,!1,null,null,null),Lo=$o.exports,Bo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tLineas Investigación Pei\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",[a("v-autocomplete",{attrs:{items:t.arrProInv,"item-value":"codigo","item-text":"descripcion","return-object":!0,label:"Programa de Investigación",rules:[t.rules.required]},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("br"),t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.item.descripcion)+"\n\t\t\t\t\t\t\t\t\t\t")]}},{key:"item",fn:function(e){return[a("v-list-item-content",{domProps:{textContent:t._s(e.item.descripcion)}})]}}]),model:{value:t.codigoproginv,callback:function(e){t.codigoproginv=e},expression:"codigoproginv"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar línea de investigación Pei")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la líneas investigación Pei seleccionada ?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Go=[];function Vo(t){return Vo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(t)}var zo={data:function(){return{modulo:"LINEAS INVESTIGACION PEI",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",codigoproginv:0,itemactual:"",data:[],arrProInv:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Progr. Inv. PEI",align:"left",sortable:!1,value:"descripcionproginv"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant="",this.codigoproginv=0},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerLineasInvPei:function(){var t=this;this.loading=!0,da.getLineasInvPei().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traerProgramaInvestigacion:function(){var t=this;this.arrProInv=[],De.getData().then((function(e){e.request&&e.data&&(t.arrProInv=e.data.data)})).catch((function(t){}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,da.delLineaInvPei(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la Línea de Investigación Pei con éxito"),t.del_item="",t.traerLineasInvPei(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA LÍNEA INVESTIGACIÓN PEI CON CODIGO:"+t.itemactual.codigo+", DESCRIPCIÓN:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){var t="object"==Vo(this.codigoproginv)?this.codigoproginv.codigo:this.codigoproginv;return this.descripcion==this.descripcionant&&t==this.itemactual.codigoproginv?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){var a="object"==Vo(this.codigoproginv)?this.codigoproginv.codigo:this.codigoproginv,o="object"==Vo(this.codigoproginv)?this.codigoproginv.descripcion:this.itemactual.descripcionproginv;this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),this.itemactual.codigoproginv!=a&&(e+=""==e?"Programa de Investigación PEI: "+this.itemactual.descripcionproginv+" a "+o:", Programa de Investigación PEI: "+this.itemactual.descripcionproginv+" a "+o),e="CODIGO: "+this.codigo+" ("+e+")"):e+="descripcion: "+this.descripcion.toUpperCase();var i=this;this.loading=!0;var n={codigo:this.codigo,descripcion:this.descripcion,codigoproginv:a};da.guardarLineaInvPei(n).then((function(t){if(t.response){var a=t.response.data.message;i.showMessage(!0,3e3,"error",a)}else if(t.statusText){var o="",n="";i.edit?(o="Actualizó",n="ACTUALIZACION"):(o="Agregó",n="CREACION"),i.showMessage(!0,3e3,"success","Se "+o+" la Línea de Investigación con éxito"),i.del_item="",i.edit=-1,i.traerLineasInvPei(),i.resetForm(),i.dialog=!1,i.agregaBitacora(n,e)}else i.showMessage(!0,3e3,"error",t.message);i.loading=!1})).catch((function(t){i.showMessage(!0,3e3,"error",t),i.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion,this.codigoproginv=this.itemactual.codigoproginv):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerLineasInvPei(),this.traerProgramaInvestigacion(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Xo=zo,Ho=Object(C["a"])(Xo,Bo,Go,!1,null,null,null),Jo=Ho.exports,Yo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tLíneas de Investigación Penia\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",[a("v-autocomplete",{attrs:{items:t.arrProyInvPenia,"item-value":"codigo","item-text":"descripcion","return-object":!0,label:"Programa de Investigación",rules:[t.rules.required]},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("br"),t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.item.descripcion)+"\n\t\t\t\t\t\t\t\t\t\t")]}},{key:"item",fn:function(e){return[a("v-list-item-content",{domProps:{textContent:t._s(e.item.descripcion)}})]}}]),model:{value:t.codigoproinvpenia,callback:function(e){t.codigoproinvpenia=e},expression:"codigoproinvpenia"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar línea de investigación Penia")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la línea de investigación Penia seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Zo=[];function Wo(t){return Wo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(t)}var Qo={data:function(){return{modulo:"LINEA DE INVESTIGACION PENIA",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",codigoproinvpenia:0,itemactual:"",data:[],arrProyInvPenia:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Progr. Inv. Penia",align:"left",sortable:!1,value:"descripcionproinvpenia"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant="",this.codigoproinvpenia=0},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerlineainvPenia:function(){var t=this;this.loading=!0,ca.getLineasInvPenia().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traerProyInvPENIA:function(){var t=this;this.arrProyInvPenia=[],Ce.getData().then((function(e){e.request&&e.data&&(t.arrProyInvPenia=e.data.data)})).catch((function(t){}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,ca.delLinInvPenia(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la línea de investigación penia con éxito"),t.del_item="",t.traerlineainvPenia(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA LINEA DE INVESTIGACIÓN PENIA CON CÓDIGO:"+t.itemactual.codigo+", DESCRIPCIÓN:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){var t="object"==Wo(this.codigoproinvpenia)?this.codigoproinvpenia.codigo:this.codigoproinvpenia;return this.descripcion==this.descripcionant&&t==this.itemactual.codigoproinvpenia?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){var a="object"==Wo(this.codigoproinvpenia)?this.codigoproinvpenia.codigo:this.codigoproinvpenia,o="object"==Wo(this.codigoproinvpenia)?this.codigoproinvpenia.descripcion:this.itemactual.descripcionproinvpenia;this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),this.itemactual.codigoproinvpenia!=a&&(e+=""==e?"Programa de Investigación PENIA: "+this.itemactual.descripcionproinvpenia+" a "+o:", Programa de Investigación PENIA: "+this.itemactual.descripcionproinvpenia+" a "+o),e="CODIGO: "+this.codigo+" ("+e+")"):e+="Descripción: "+this.descripcion.toUpperCase();var i=this;this.loading=!0;var n={codigo:this.codigo,descripcion:this.descripcion,codigoproinvpenia:a};ca.guardarLinInvPenia(n).then((function(t){if(t.response){var a=t.response.data.message;i.showMessage(!0,3e3,"error",a)}else if(t.statusText){var o="",n="";i.edit?(o="Actualizó",n="ACTUALIZACION"):(o="Agregó",n="CREACION"),i.showMessage(!0,3e3,"success","Se "+o+" La línea Investigación Penia con éxito"),i.del_item="",i.edit=-1,i.traerlineainvPenia(),i.resetForm(),i.dialog=!1,i.agregaBitacora(n,e)}else i.showMessage(!0,3e3,"error",t.message);i.loading=!1})).catch((function(t){i.showMessage(!0,3e3,"error",t),i.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion,this.codigoproinvpenia=this.itemactual.codigoproinvpenia):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerlineainvPenia(),this.traerProyInvPENIA(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Ko=Qo,ti=Object(C["a"])(Ko,Yo,Zo,!1,null,null,null),ei=ti.exports,ai=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tLineas Investigación Picia\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"descripcion",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Línea Investigación Picia")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Línea Investigación Picia seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},oi=[],ii={data:function(){return{modulo:"LÍNEAS DE INVESTIGACIÓN PICIA",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",itemactual:"",data:[],headers:[{text:"descripcion",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerLineaInvPicia:function(){var t=this;this.loading=!0,pa.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,pa.DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó La Linea de Investigación Picia con éxito"),t.del_item="",t.traerLineaInvPicia(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA LINEA DE INVESTIGACIÓN PICIA CON codigo:"+t.itemactual.codigo+", descripcion:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.descripcion==this.descripcionant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="descripcion: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),e="codigo: "+this.codigo+" ("+e+")"):e+="descripcion: "+this.descripcion.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion};pa.guardarData(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" La Linea de Investigación Picia con éxito"),a.del_item="",a.edit=-1,a.traerLineaInvPicia(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerLineaInvPicia(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},ni=ii,ri=Object(C["a"])(ni,ai,oi,!1,null,null,null),si=ri.exports,ci=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tIndicadores PENIA\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Nombre",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",[a("v-autocomplete",{attrs:{items:t.arrLinInvPENIA,"item-value":"codigo","item-text":"descripcion","return-object":!0,label:"Línea de Investigación",rules:[t.rules.required]},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("br"),t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.item.descripcion)+"\n\t\t\t\t\t\t\t\t\t\t")]}},{key:"item",fn:function(e){return[a("v-list-item-content",{domProps:{textContent:t._s(e.item.descripcion)}})]}}]),model:{value:t.codigolininvpenia,callback:function(e){t.codigolininvpenia=e},expression:"codigolininvpenia"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Indicador")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Indicador seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},li=[];function di(t){return di="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},di(t)}var ui={data:function(){return{modulo:"INDICADORES PENIA",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",nombre:"",nombreant:"",codigolininvpenia:0,itemactual:"",data:[],arrLinInvPENIA:[],headers:[{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Lín. Inv. Penia",align:"left",sortable:!1,value:"descripcionlininvpenia"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre="",this.nombreant="",this.codigolininvpenia=0},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerMetas:function(){var t=this;this.loading=!0,ra.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traerLineaInvPenia:function(){var t=this;this.arrLinInvPENIA=[],ca.getLineasInvPenia().then((function(e){e.request&&e.data&&(t.arrLinInvPENIA=e.data.data)})).catch((function(t){}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,ra.delMetas(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Indicador con éxito"),t.del_item="",t.traerMetas(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL INDICADOR CON CODIGO:"+t.itemactual.codigo+", NOMBRE:"+t.itemactual.nombre)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){var t="object"==di(this.codigolininvpenia)?this.codigolininvpenia.codigo:this.codigolininvpenia;return this.nombre==this.nombreant&&t==this.itemactual.codigolininvpenia?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){var a="object"==di(this.codigolininvpenia)?this.codigolininvpenia.codigo:this.codigolininvpenia,o="object"==di(this.codigolininvpenia)?this.codigolininvpenia.descripcion:this.itemactual.descripcionlininvpenia;this.edit?(this.itemactual.nombre!=this.nombre&&(e+="Nombre: "+this.itemactual.nombre.toUpperCase()+" a "+this.nombre.toUpperCase()),this.itemactual.codigolininvpenia!=a&&(e+=""==e?"Línea Inv. Penia: "+this.itemactual.descripcionlininvpenia+" a "+o:", Línea Inv. Penia: "+this.itemactual.descripcionlininvpenia+" a "+o),e="CODIGO: "+this.codigo+" ("+e+")"):e+="NOMBRE: "+this.nombre.toUpperCase();var i=this;this.loading=!0;var n={codigo:this.codigo,nombre:this.nombre,codigolininvpenia:a};ra.guardarMetas(n).then((function(t){if(t.response){var a=t.response.data.message;i.showMessage(!0,3e3,"error",a)}else if(t.statusText){var o="",n="";i.edit?(o="Actualizó",n="ACTUALIZACION"):(o="Agregó",n="CREACION"),i.showMessage(!0,3e3,"success","Se "+o+" el Indicador con éxito"),i.del_item="",i.edit=-1,i.traerMetas(),i.resetForm(),i.dialog=!1,i.agregaBitacora(n,e)}else i.showMessage(!0,3e3,"error",t.message);i.loading=!1})).catch((function(t){i.showMessage(!0,3e3,"error",t),i.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.nombre,this.nombreant=this.itemactual.nombre,this.codigolininvpenia=this.itemactual.codigolininvpenia):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerMetas(),this.traerLineaInvPenia(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},pi=ui,mi=Object(C["a"])(pi,ci,li,!1,null,null,null),vi=mi.exports,hi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tMétodos de Selección\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"descripcion",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Método Selección")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Método Selección seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},fi=[],gi=a("38f9"),bi={data:function(){return{modulo:"METODOS DE SELECCION",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",itemactual:"",data:[],headers:[{text:"descripcion",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerMetodosSeleccion:function(){var t=this;this.loading=!0,gi["a"].getMetodosSeleccion().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,gi["a"].delMetodoSeleccion(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Método Selección con éxito"),t.del_item="",t.traerMetodosSeleccion(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL MÉTODO DE SELECCIÓN CON CODIGO:"+t.itemactual.codigo+", descripcion:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.descripcion==this.descripcionant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="descripcion: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="descripcion: "+this.descripcion.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion};gi["a"].guardarMetodoSeleccion(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el MetodoSeleccion con éxito"),a.del_item="",a.edit=-1,a.traerMetodosSeleccion(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerMetodosSeleccion(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},xi=bi,_i=Object(C["a"])(xi,hi,fi,!1,null,null,null),yi=_i.exports,ki=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tObjetivos\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",[a("v-autocomplete",{attrs:{items:t.arrLineas,"item-value":"codigo","item-text":"descripcion","return-object":!0,label:"Línea Estratégica",rules:[t.rules.required]},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("br"),t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.item.descripcion)+"\n\t\t\t\t\t\t\t\t\t\t")]}},{key:"item",fn:function(e){return[a("v-list-item-content",{domProps:{textContent:t._s(e.item.descripcion)}})]}}]),model:{value:t.codigolinest,callback:function(e){t.codigolinest=e},expression:"codigolinest"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Objetivo")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Objetivo seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Ci=[];function Si(t){return Si="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(t)}var wi={data:function(){return{modulo:"OBJETIVOS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",codigolinest:0,itemactual:"",data:[],arrLineas:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Línea Estratégica",align:"left",sortable:!1,value:"descripcionlinest"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant="",this.codigolinest=0},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerObjetivos:function(){var t=this;this.loading=!0,aa.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traerLineas:function(){var t=this;this.arrLineas=[],ta.getLineasEstrategicas().then((function(e){e.request&&e.data&&(t.arrLineas=e.data.data)})).catch((function(t){}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,aa.delObjetivo(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Objetivo con éxito"),t.del_item="",t.traerObjetivos(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL OBJETIVO CON CÓDIGO:"+t.itemactual.codigo+", DESCRIPCIÓN:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){var t="object"==Si(this.codigolinest)?this.codigolinest.codigo:this.codigolinest;return this.descripcion==this.descripcionant&&t==this.itemactual.codigolinest?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){var a="object"==Si(this.codigolinest)?this.codigolinest.codigo:this.codigolinest,o="object"==Si(this.codigolinest)?this.codigolinest.descripcion:this.itemactual.descripcionlinest;this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),this.itemactual.codigolinest!=a&&(e+=""==e?"Línea Estratégica: "+this.itemactual.descripcionlinest+" a "+o:", Línea Estratégica: "+this.itemactual.descripcionlinest+" a "+o),e="CODIGO: "+this.codigo+" ("+e+")"):e+="Descripción: "+this.descripcion.toUpperCase();var i=this;this.loading=!0;var n={codigo:this.codigo,descripcion:this.descripcion,codigolinest:a};aa.guardarObjetivo(n).then((function(t){if(t.response){var a=t.response.data.message;i.showMessage(!0,3e3,"error",a)}else if(t.statusText){var o="",n="";i.edit?(o="Actualizó",n="ACTUALIZACION"):(o="Agregó",n="CREACION"),i.showMessage(!0,3e3,"success","Se "+o+" el Objetivo con éxito"),i.del_item="",i.edit=-1,i.traerObjetivos(),i.resetForm(),i.dialog=!1,i.agregaBitacora(n,e)}else i.showMessage(!0,3e3,"error",t.message);i.loading=!1})).catch((function(t){i.showMessage(!0,3e3,"error",t),i.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion,this.codigolinest=this.itemactual.codigolinest):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerObjetivos(),this.traerLineas(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Pi=wi,Ai=Object(C["a"])(Pi,ki,Ci,!1,null,null,null),ji=Ai.exports,Ei=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tOds\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",[a("v-autocomplete",{attrs:{items:t.arrObjetivo,"item-value":"codigo","item-text":"descripcion","return-object":!0,label:"Objetivo",rules:[t.rules.required]},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("br"),t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.item.descripcion)+"\n\t\t\t\t\t\t\t\t\t\t")]}},{key:"item",fn:function(e){return[a("v-list-item-content",{domProps:{textContent:t._s(e.item.descripcion)}})]}}]),model:{value:t.codigoobjetivo,callback:function(e){t.codigoobjetivo=e},expression:"codigoobjetivo"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Ods")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Ods seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Ti=[];function Di(t){return Di="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(t)}var Ii={data:function(){return{modulo:"ODS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",codigoobjetivo:0,itemactual:"",data:[],arrObjetivo:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Objetivo",align:"left",sortable:!1,value:"nombreobjetivo"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant="",this.codigoobjetivo=0},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerOds:function(){var t=this;this.loading=!0,ia.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traerObjetivos:function(){var t=this;this.arrObjetivo=[],aa.getData().then((function(e){e.request&&e.data&&(t.arrObjetivo=e.data.data)})).catch((function(t){}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,ia.delOds(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Ods con éxito"),t.del_item="",t.traerOds(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL ODS CON CODIGO:"+t.itemactual.codigo+", DESCRIPCIÓN:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){var t="object"==Di(this.codigoobjetivo)?this.codigoobjetivo.codigo:this.codigoobjetivo;return this.descripcion==this.descripcionant&&t==this.itemactual.codigoobjetivo?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){var a="object"==Di(this.codigoobjetivo)?this.codigoobjetivo.codigo:this.codigoobjetivo,o="object"==Di(this.codigoobjetivo)?this.codigoobjetivo.descripcion:this.itemactual.nombreobjetivo;this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="descripcion: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),this.itemactual.codigoobjetivo!=a&&(e+=""==e?"Objetivo: "+this.itemactual.nombreobjetivo+" a "+o:", Objetivo: "+this.itemactual.nombreobjetivo+" a "+o),e="CODIGO: "+this.codigo+" ("+e+")"):e+="descripcion: "+this.descripcion.toUpperCase();var i=this;this.loading=!0;var n={codigo:this.codigo,descripcion:this.descripcion,codigoobjetivo:a};ia.guardarOds(n).then((function(t){if(t.response){var a=t.response.data.message;i.showMessage(!0,3e3,"error",a)}else if(t.statusText){var o="",n="";i.edit?(o="Actualizó",n="ACTUALIZACION"):(o="Agregó",n="CREACION"),i.showMessage(!0,3e3,"success","Se "+o+" el Ods con éxito"),i.del_item="",i.edit=-1,i.traerOds(),i.resetForm(),i.dialog=!1,i.agregaBitacora(n,e)}else i.showMessage(!0,3e3,"error",t.message);i.loading=!1})).catch((function(t){i.showMessage(!0,3e3,"error",t),i.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion,this.codigoobjetivo=this.itemactual.codigoobjetivo):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerOds(),this.traerObjetivos(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Oi=Ii,Ni=Object(C["a"])(Oi,Ei,Ti,!1,null,null,null),Mi=Ni.exports,Ri=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("PERSONAL")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{sm6:""}},[a("v-autocomplete",{attrs:{items:t.arrTiposId,"item-value":"codigo","item-text":"descripcion",label:"Tipo Identificación",rules:[t.rules.required],"return-object":!0},model:{value:t.tipoid,callback:function(e){t.tipoid=e},expression:"tipoid"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{type:"number",label:"Identificación",rules:[t.rules.required,t.rules.valor]},model:{value:t.identificacion,callback:function(e){t.identificacion=e},expression:"identificacion"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Apellidos",rules:[t.rules.required]},model:{value:t.apellido,callback:function(e){t.apellido=e},expression:"apellido"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Nombres",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-autocomplete",{attrs:{items:t.arrCargos,"item-value":"codigo","item-text":"nombre",label:"Cargo",rules:[t.rules.required],"return-object":!0},model:{value:t.codigocargo,callback:function(e){t.codigocargo=e},expression:"codigocargo"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-autocomplete",{attrs:{items:t.arrAreas,"item-value":"codigo","item-text":"nombre",label:"Area",rules:[t.rules.required],"return-object":!0},model:{value:t.codigoarea,callback:function(e){t.codigoarea=e},expression:"codigoarea"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-autocomplete",{attrs:{items:t.arrCiudades,"item-value":"codigo","item-text":"nombrecompleto",label:"Ciudad",rules:[t.rules.required],"return-object":!0},model:{value:t.codigociudad,callback:function(e){t.codigociudad=e},expression:"codigociudad"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-text-field",{attrs:{label:"Teléfono",type:"number"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-select",{attrs:{items:t.sexoSel,label:"Sexo",rules:[t.rules.required]},model:{value:t.sexo,callback:function(e){t.sexo=e},expression:"sexo"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Nacimiento","prepend-icon":"event",readonly:"",rules:[t.rules.required]},model:{value:t.fechanacimiento,callback:function(e){t.fechanacimiento=e},expression:"fechanacimiento"}},o))]}}]),model:{value:t.menuDate,callback:function(e){t.menuDate=e},expression:"menuDate"}},[a("v-date-picker",{attrs:{type:"date",rules:[t.rules.required]},on:{input:function(e){t.menuDate=!1}},model:{value:t.fechanacimiento,callback:function(e){t.fechanacimiento=e},expression:"fechanacimiento"}})],1)],1),a("v-flex",{attrs:{sm12:""}},[a("v-text-field",{attrs:{label:"Correo",rules:[t.rules.required,t.rules.email]},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}})],1),a("v-flex",{attrs:{sm3:""}},[a("v-autocomplete",{attrs:{items:t.arrEstados,"item-value":"codigo","item-text":"descripcion",label:"Estado",rules:[t.rules.required],"return-object":!0},model:{value:t.codigoestado,callback:function(e){t.codigoestado=e},expression:"codigoestado"}})],1),a("v-flex",{attrs:{sm3:""}},[a("v-autocomplete",{attrs:{items:t.arrTiposContrato,"item-value":"codigo","item-text":"descripcion",label:"Tipo Contrato",rules:[t.rules.required],"return-object":!0},model:{value:t.codigotipocont,callback:function(e){t.codigotipocont=e},expression:"codigotipocont"}})],1),a("v-flex",{attrs:{sm3:""}},[a("v-text-field",{attrs:{label:"Horas Semanales",type:"number",min:"0",rules:[t.rules.required,t.rules.valor]},model:{value:t.horasemanales,callback:function(e){t.horasemanales=e},expression:"horasemanales"}})],1),a("v-flex",{attrs:{sm3:""}},[a("v-text-field",{attrs:{label:"Salario Básico",prefix:"$ ",rules:[t.rules.required]},on:{blur:function(e){return t.formatearValor()},focus:function(e){return t.quitarFormato()}},model:{value:t.salariobasico,callback:function(e){t.salariobasico=e},expression:"salariobasico"}})],1),a("v-flex",{attrs:{sm3:""}},[a("v-autocomplete",{attrs:{items:t.arrTipoSalario,"item-value":"value","item-text":"text",label:"Tipo Contrato",rules:[t.rules.required],"return-object":!1},model:{value:t.tiposalario,callback:function(e){t.tiposalario=e},expression:"tiposalario"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{width:"250"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Personal")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Personal seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Fi=[],qi=a("0ab3"),Ui={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/TiposContrato",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarTipoContrato",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delTipoContrato",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},$i=Ui;function Li(t){return Li="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(t)}var Bi={data:function(){return{modulo:"PERSONAL",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",search:"",valid:!1,codigo:0,tipoid:"",identificacion:"",apellido:"",nombre:"",codigocargo:"",codigoarea:"",direccion:"",telefono:"",codigociudad:"",correo:"",codigoestado:"",codigotipocont:"",horasemanales:0,sexo:"",fechanacimiento:"",salariobasico:0,tiposalario:"",menuDate:!1,arrTiposId:[],arrCargos:[],arrAreas:[],arrCiudades:[],arrEstados:[],arrTiposContrato:[],sexoSel:["F","M"],arrTipoSalario:[{text:"INTEGRAL",value:"I"},{text:"ORDINARIO",value:"O"}],itemactual:"",data:[],headers:[{text:"Tipo Ident.",align:"left",sortable:!1,value:"nombretipoid"},{text:"Identificación",value:"identificacion",sortable:!1,align:"left"},{text:"Nombre",value:"nombrecompleto",sortable:!1,align:"left"},{text:"Sexo",value:"sexo",sortable:!1,align:"left"},{text:"Cargo",value:"nombrecargo",sortable:!1,align:"left"},{text:"Area",value:"nombrearea",sortable:!1,align:"left"},{text:"Estado",value:"nombreestado",sortable:!1,align:"left"},{text:"Tipo Contrato",value:"descripciontipocont",sortable:!1,align:"left"},{text:"Horas Semanales (Invst.)",value:"horasemanales",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."},valor:function(t){return t>0||"El Valor debe ser mayor a 0."},horassemana:function(t){return t<=40||"Las Horas semanales no pueden superar las 40"},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"E-mail inválido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo=0,this.tipoid="",this.identificacion="",this.apellido="",this.nombre="",this.codigocargo="",this.codigoarea="",this.direccion="",this.telefono="",this.codigociudad="",this.correo="",this.codigoestado="",this.codigotipocont="",this.horasemanales=0,this.sexo="",this.fechanacimiento="",this.salariobasico=0,this.tiposalario=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerDataPrincipal:function(){var t=this;this.loading=!0,st["a"].getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traeEstados:function(){var t=this;this.loading=!0,ve["a"].getEstadosXTipo(1).then((function(e){e.request&&e.data?t.arrEstados=e.data.data:t.arrEstados=[],t.loading=!1})).catch((function(e){t.arrEstados=[],t.loading=!1}))},traeTiposId:function(){var t=this;Kt.getTiposIde().then((function(e){e.request&&e.data?t.arrTiposId=e.data.data:t.arrTiposId=[]})).catch((function(e){t.arrTiposId=[]}))},traeCargos:function(){var t=this;Ft.getCargos().then((function(e){e.request&&e.data?t.arrCargos=e.data.data:t.arrCargos=[]})).catch((function(e){t.arrCargos=[]}))},traeAreas:function(){var t=this;jt["a"].getAreas().then((function(e){e.request&&e.data?t.arrAreas=e.data.data:t.arrAreas=[]})).catch((function(e){t.arrAreas=[]}))},traeCiudades:function(){var t=this;qi["a"].getData().then((function(e){e.request&&e.data?t.arrCiudades=e.data.data:t.arrCiudades=[]})).catch((function(e){t.arrCiudades=[]}))},traeTiposContrato:function(){var t=this;$i.getData().then((function(e){e.request&&e.data?t.arrTiposContrato=e.data.data:t.arrTiposContrato=[]})).catch((function(e){t.arrTiposContrato=[]}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,st["a"].DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó los datos con éxito"),t.del_item="",t.traerDataPrincipal(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL PERSONAL CON CODIGO:"+t.itemactual.codigo+", NOMBRE:"+t.itemactual.nombre+" "+t.itemactual.apellido)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaSave:function(){var t=0,e=0,a=0,o=0,i=0,n=0;return t="object"==Li(this.tipoid)?this.tipoid.codigo:this.tipoid,e="object"==Li(this.codigocargo)?this.codigocargo.codigo:this.codigocargo,a="object"==Li(this.codigoarea)?this.codigoarea.codigo:this.codigoarea,i="object"==Li(this.codigoestado)?this.codigoestado.codigo:this.codigoestado,o="object"==Li(this.codigoarea)?this.codigociudad.codigo:this.codigociudad,n="object"==Li(this.codigotipocont)?this.codigotipocont.codigo:this.codigotipocont,this.itemactual.tipoid!=t||this.itemactual.identificacion!=this.identificacion||this.itemactual.apellido!=this.apellido||this.itemactual.nombre!=this.nombre||this.itemactual.codigocargo!=e||this.itemactual.codigoarea!=a||this.itemactual.direccion!=this.direccion||this.itemactual.telefono!=this.telefono||this.itemactual.codigociudad!=o||this.itemactual.correo!=this.correo||this.itemactual.codigoestado!=i||this.itemactual.codigotipocont!=n||this.itemactual.horasemanales!=this.horasemanales||this.itemactual.sexo!=this.sexo||this.itemactual.fechanacimiento!=this.fechanacimiento||this.itemactual.salariobasico!=this.limpiarMoneda(this.salariobasico)||this.itemactual.tiposalario!=this.tiposalario},saveitem:function(){var t=this;this.loading=!0;var e="",a=0,o="",i=0,n="",r=0,s="",c=0,l="",d=0,u="",p=0,m="";"object"==Li(this.tipoid)?(a=this.tipoid.codigo,o=this.tipoid.descripcion):(a=this.tipoid,o=this.nombretipoid),"object"==Li(this.codigocargo)?(i=this.codigocargo.codigo,n=this.codigocargo.nombre):(i=this.codigocargo,n=this.nombrecargo),"object"==Li(this.codigoarea)?(r=this.codigoarea.codigo,s=this.codigoarea.nombre):(r=this.codigoarea,s=this.nombrearea),"object"==Li(this.codigociudad)?(c=this.codigociudad.codigo,l=this.codigociudad.nombrecompleto):(c=this.codigociudad,l=this.nombreciudad),"object"==Li(this.codigoestado)?(d=this.codigoestado.codigo,u=this.codigoestado.descripcion):(d=this.codigoestado,u=this.nombreestado),"object"==Li(this.codigotipocont)?(p=this.codigotipocont.codigo,m=this.codigotipocont.descripcion):(p=this.codigotipocont,m=this.descripciontipocont);var v={codigo:this.codigo,tipoid:a,identificacion:this.identificacion,apellido:this.apellido,nombre:this.nombre,codigocargo:i,codigoarea:r,direccion:this.direccion,telefono:this.telefono,codigociudad:c,correo:this.correo,codigoestado:d,codigotipocont:p,horasemanales:this.horasemanales,sexo:this.sexo,fechanacimiento:this.fechanacimiento,salariobasico:this.limpiarMoneda(this.salariobasico),tiposalario:this.tiposalario};if(this.edit){var h=this.validaSave();if(!h)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);if(e="",this.itemactual.tipoid!=a&&(e+="Tipo Ident.: "+this.itemactual.nombretipoid.toUpperCase()+" a "+o.toUpperCase()),this.itemactual.identificacion!=this.identificacion&&(e+=""==e?"Identificación: "+this.itemactual.identificacion+" a "+this.identificacion:", Identificación: "+this.itemactual.identificacion+" a "+this.identificacion),this.itemactual.apellido!=this.apellido&&(e+=""==e?"Apellidos: "+this.itemactual.apellido+" a "+this.apellido:", Apellidos: "+this.itemactual.apellido+" a "+this.apellido),this.itemactual.nombre!=this.nombre&&(e+=""==e?"Nombres: "+this.itemactual.nombre+" a "+this.nombre:", Nombres: "+this.itemactual.nombre+" a "+this.nombre),this.itemactual.sexo!=this.sexo&&(e+=""==e?"Sexo: "+this.itemactual.sexo+" a "+this.sexo:", Sexo: "+this.itemactual.sexo+" a "+this.sexo),this.itemactual.codigocargo!=i&&(e+=""==e?"Cargo: "+this.itemactual.nombrecargo+" a "+n:", Cargo: "+this.itemactual.nombrecargo+" a "+n),this.itemactual.codigoarea!=r&&(e+=""==e?"Area: "+this.itemactual.nombrearea+" a "+s:", Area: "+this.itemactual.nombrearea+" a "+s),this.itemactual.direccion!=this.direccion&&(e+=""==e?"Dirección: "+this.itemactual.direccion+" a "+this.direccion:", Dirección: "+this.itemactual.direccion+" a "+this.direccion),this.itemactual.telefono!=this.telefono&&(e+=""==e?"Teléfono: "+this.itemactual.telefono+" a "+this.telefono:", Teléfono: "+this.itemactual.telefono+" a "+this.telefono),this.itemactual.codigociudad!=c&&(e+=""==e?"Ciudad: "+this.itemactual.nombreciudad+" a "+l:", Ciudad: "+this.itemactual.nombreciudad+" a "+l),this.itemactual.correo!=this.correo&&(e+=""==e?"Correo: "+this.itemactual.correo+" a "+this.correo:", Correo: "+this.itemactual.correo+" a "+this.correo),this.itemactual.codigoestado!=d&&(e+=""==e?"Estado: "+this.itemactual.nombreestado+" a "+u:", Estado: "+this.itemactual.nombreestado+" a "+u),this.itemactual.codigotipocont!=p&&(e+=""==e?"Tipo de Contrato: "+this.itemactual.descripciontipocont+" a "+m:", Tipo de Contrato: "+this.itemactual.descripciontipocont+" a "+m),this.itemactual.horasemanales!=this.horasemanales&&(e+=""==e?"Horas Semanales: "+this.itemactual.horasemanales+" a "+this.horasemanales:", Horas Semanales: "+this.itemactual.horasemanales+" a "+this.horasemanales),this.itemactual.fechanacimiento!=this.fechanacimiento&&(e+=""==e?"Fecha Nacimiento: "+this.itemactual.fechanacimiento+" a "+this.fechanacimiento:", Fecha Nacimiento: "+this.itemactual.fechanacimiento+" a "+this.fechanacimiento),this.itemactual.salariobasico!=this.limpiarMoneda(this.salariobasico)&&(e+=""==e?"Salario Básico: "+this.itemactual.salariobasico+" a "+this.salariobasico:", Salario Básico: "+this.itemactual.salariobasico+" a "+this.salariobasico),this.itemactual.tiposalario!=this.tiposalario){var f="I"==this.itemactual.tiposalario?"INTEGRAL":"ORDINARIO",g="I"==this.tiposalario?"INTEGRAL":"ORDINARIO";e+=""==e?"Tipo Salario: "+f+" a "+g:", Tipo Salario: "+f+" a "+g}e="CODIGO: "+this.codigo+" ("+e+")"}else e+="NOMBRE: "+this.nombre.toUpperCase()+" "+this.apellido.toUpperCase()+", Cargo: "+n+", AREA: "+s;st["a"].guardarData(v).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" la Persona con éxito"),t.del_item="",t.edit=-1,t.traerDataPrincipal(),t.resetForm(),t.dialog=!1,t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},formatearValor:function(){var t=this.salariobasico;t=this.limpiarMoneda(t),t=this.number_format(t,2),this.salariobasico=t},quitarFormato:function(){this.salariobasico=this.limpiarMoneda(this.salariobasico)},limpiarMoneda:function(t){var e=t.toString().replace(",00","").replace(/[$.]/gi,"");return e=e.replace(/[,]/gi,"."),e},number_format:function(t,e){if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var a=t.split("."),o=/(\d+)(\d{3})/;while(o.test(a[0]))a[0]=a[0].replace(o,"$1.$2");return a.join(",")},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.tipoid=this.itemactual.tipoid,this.identificacion=this.itemactual.identificacion,this.apellido=this.itemactual.apellido,this.nombre=this.itemactual.nombre,this.codigocargo=this.itemactual.codigocargo,this.codigoarea=this.itemactual.codigoarea,this.direccion=this.itemactual.direccion,this.telefono=this.itemactual.telefono,this.codigociudad=this.itemactual.codigociudad,this.correo=this.itemactual.correo,this.codigoestado=this.itemactual.codigoestado,this.codigotipocont=this.itemactual.codigotipocont,this.horasemanales=this.itemactual.horasemanales,this.sexo=this.itemactual.sexo,this.fechanacimiento="0000-00-00"==this.itemactual.fechanacimiento?"":this.itemactual.fechanacimiento,this.salariobasico=this.number_format(this.limpiarMoneda(this.itemactual.salariobasico),2),this.tiposalario=this.itemactual.tiposalario):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerDataPrincipal(),this.traeEstados(),this.traeTiposId(),this.traeCargos(),this.traeAreas(),this.traeCiudades(),this.traeTiposContrato(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Gi=Bi,Vi=Object(C["a"])(Gi,Ri,Fi,!1,null,null,null),zi=Vi.exports,Xi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tRoles\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"descripcion",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Rol")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Rol seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Hi=[],Ji=a("699c"),Yi={data:function(){return{modulo:"ROLES",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",itemactual:"",data:[],headers:[{text:"descripcion",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerRoles:function(){var t=this;this.loading=!0,Ji["a"].getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,Ji["a"].DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Rol con éxito"),t.del_item="",t.traerRoles(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL rol CON CODIGO:"+t.itemactual.codigo+", descripcion:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.descripcion==this.descripcionant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="descripcion: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="descripcion: "+this.descripcion.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion};Ji["a"].guardarData(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el Rol con éxito"),a.del_item="",a.edit=-1,a.traerRoles(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerRoles(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Zi=Yi,Wi=Object(C["a"])(Zi,Xi,Hi,!1,null,null,null),Qi=Wi.exports,Ki=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tTipos Contratación\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Nombre",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Tipo Contratacion")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Tipo contratacion seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},tn=[],en={getTiposContratacion:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/TiposContratacion",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarContrato:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarTipoContratacion",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelContrato:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delTipoContratacion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},an=en,on={data:function(){return{modulo:"TIPOS CONTRATACION",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",nombre:"",nombreant:"",itemactual:"",data:[],headers:[{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre="",this.nombreant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerTiposContratacion:function(){var t=this;this.loading=!0,an.getTiposContratacion().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,an.delTipoContratacion(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Tipo Contratacion con éxito"),t.del_item="",t.traerTiposContratacion(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL TIPO CONTRATACION CON CODIGO:"+t.itemactual.codigo+", NOMBRE:"+t.itemactual.nombre)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.nombre==this.nombreant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.nombre!=this.nombre&&(e+="Nombre: "+this.itemactual.nombre.toUpperCase()+" a "+this.nombre.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="NOMBRE: "+this.nombre.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,nombre:this.nombre};an.guardarTipoContratacion(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el Tipo Contratacion con éxito"),a.del_item="",a.edit=-1,a.traerTiposContratacion(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.nombre,this.nombreant=this.itemactual.nombre):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerTiposContratacion(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},nn=on,rn=Object(C["a"])(nn,Ki,tn,!1,null,null,null),sn=rn.exports,cn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tTipos Contrato\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"descripcion",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Tipo Contrato")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Tipo Contrato seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},ln=[],dn={data:function(){return{modulo:"TIPOS CONTRATO",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",itemactual:"",data:[],headers:[{text:"descripcion",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerTiposContrato:function(){var t=this;this.loading=!0,$i.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,$i.DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Tipo Contrato con éxito"),t.del_item="",t.traerTiposContrato(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL TIPO CONTRATO CON CODIGO:"+t.itemactual.codigo+", descripcion:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.descripcion==this.descripcionant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="descripcion: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="descripcion: "+this.descripcion.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion};$i.guardarData(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el TipoContrato con éxito"),a.del_item="",a.edit=-1,a.traerTiposContrato(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerTiposContrato(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},un=dn,pn=Object(C["a"])(un,cn,ln,!1,null,null,null),mn=pn.exports,vn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tTipos de Novedades\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Abreviatura",maxlength:"2",rules:[t.rules.required]},model:{value:t.letra,callback:function(e){t.letra=e},expression:"letra"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Tipo Novedad")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Tipo Novedad seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},hn=[],fn={getTiposNovedad:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/TiposNovedad",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarTipoNovedad:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarTipoNovedad",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delTipoNovedad:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delTipoNovedad",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},gn=fn,bn={data:function(){return{modulo:"TIPOS DE NOVEDADES",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",letra:"",itemactual:"",data:[],headers:[{text:"Abreviatura",align:"left",sortable:!1,value:"letra"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.letra=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerTipoNovedad:function(){var t=this;this.loading=!0,gn.getTiposNovedad().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,gn.delTipoNovedad(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Tipo Novedad con éxito"),t.del_item="",t.traerTipoNovedad(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL TIPO DE NOVEDAD CON CODIGO:"+t.itemactual.codigo+", DESCRIPCION:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.itemactual.descripcion==this.descripcion&&this.itemactual.letra==this.letra?"No hay datos para actualizar":""},saveitem:function(){var t="";if(this.edit){var e=this.validaGuardar();if(""!=e)return void this.showMessage(!0,3e3,"error",e);this.itemactual.descripcion!=this.descripcion&&(t+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),this.itemactual.letra!=this.letra&&(t+=""==t?"Abreviatura: "+this.itemactual.letra.toUpperCase()+" a "+this.letra.toUpperCase():", Abreviatura: "+this.itemactual.letra.toUpperCase()+" a "+this.letra.toUpperCase()),t="CODIGO: "+this.codigo+" ("+t+")"}else t+="DESCRIPCION: "+this.descripcion.toUpperCase()+", ABREVIATURA: "+this.letra.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion,letra:this.letra};gn.guardarTipoNovedad(o).then((function(e){if(e.response){var o=e.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(e.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el Tipo Novedad con éxito"),a.del_item="",a.edit=-1,a.traerTipoNovedad(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,t)}else a.showMessage(!0,3e3,"error",e.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.letra=this.itemactual.letra):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerTipoNovedad(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},xn=bn,_n=Object(C["a"])(xn,vn,hn,!1,null,null,null),yn=_n.exports,kn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tUnspsc\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Nombre",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Unspsc")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Unspsc seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Cn=[],Sn=a("ef00"),wn={data:function(){return{modulo:"UNSPSC",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",nombre:"",nombreant:"",itemactual:"",data:[],headers:[{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre="",this.nombreant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerUnspsc:function(){var t=this;this.loading=!0,Sn["a"].getUnspsc().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,Sn["a"].delUnspsc(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Unspsc con éxito"),t.del_item="",t.traerUnspsc(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL UNSPSC CON CODIGO:"+t.itemactual.codigo+", NOMBRE:"+t.itemactual.nombre)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.nombre==this.nombreant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.nombre!=this.nombre&&(e+="Nombre: "+this.itemactual.nombre.toUpperCase()+" a "+this.nombre.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="NOMBRE: "+this.nombre.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,nombre:this.nombre};Sn["a"].guardarUnspsc(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el Unspsc con éxito"),a.del_item="",a.edit=-1,a.traerUnspsc(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.nombre,this.nombreant=this.itemactual.nombre):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerUnspsc(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Pn=wn,An=Object(C["a"])(Pn,kn,Cn,!1,null,null,null),jn=An.exports,En=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tIndicadores Picia\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",[a("v-autocomplete",{attrs:{items:t.arrAccPicia,"item-value":"codigo","item-text":"descripcion","return-object":!0,label:"Acción",rules:[t.rules.required]},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("br"),t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.item.descripcion)+"\n\t\t\t\t\t\t\t\t\t\t")]}},{key:"item",fn:function(e){return[a("v-list-item-content",{domProps:{textContent:t._s(e.item.descripcion)}})]}}]),model:{value:t.codigoaccion,callback:function(e){t.codigoaccion=e},expression:"codigoaccion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Indicador Picia")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Indicador Picia seleccionado ?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Tn=[];function Dn(t){return Dn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(t)}var In={data:function(){return{modulo:"INDICADORES PICIA",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",codigoaccion:0,itemactual:"",data:[],arrAccPicia:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Acción",align:"left",sortable:!1,value:"descripcionaccion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant="",this.codigoaccion=0},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerindicadoresPicia:function(){var t=this;this.loading=!0,fa.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traerAccionesPicia:function(){var t=this;this.arrAccPicia=[],va.getData().then((function(e){e.request&&e.data&&(t.arrAccPicia=e.data.data)})).catch((function(t){_}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,fa.DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Indicador Picia con éxito"),t.del_item="",t.traerindicadoresPicia(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL INDICADOR CON CODIGO:"+t.itemactual.codigo+", DESCRIPCION:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){var t="object"==Dn(this.codigoaccion)?this.codigoaccion.codigo:this.codigoaccion;return this.descripcion==this.descripcionant&&t==this.itemactual.codigoaccion?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){var a="object"==Dn(this.codigoaccion)?this.codigoaccion.codigo:this.codigoaccion,o="object"==Dn(this.codigoaccion)?this.codigoaccion.descripcion:this.itemactual.descripcionaccion;this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),this.itemactual.codigoaccion!=a&&(e+=""==e?"Acción PICIA: "+this.itemactual.descripcionaccion+" a "+o:", Acción PICIA: "+this.itemactual.descripcionaccion+" a "+o),e="CODIGO: "+this.codigo+" ("+e+")"):e+="DESCRIPCION: "+this.descripcion.toUpperCase();var i=this;this.loading=!0;var n={codigo:this.codigo,descripcion:this.descripcion,codigoaccion:a};fa.guardarData(n).then((function(t){if(t.response){var a=t.response.data.message;i.showMessage(!0,3e3,"error",a)}else if(t.statusText){var o="",n="";i.edit?(o="Actualizó",n="ACTUALIZACION"):(o="Agregó",n="CREACION"),i.showMessage(!0,3e3,"success","Se "+o+" el Indicador Picia con éxito"),i.del_item="",i.edit=-1,i.traerindicadoresPicia(),i.resetForm(),i.dialog=!1,i.agregaBitacora(n,e)}else i.showMessage(!0,3e3,"error",t.message);i.loading=!1})).catch((function(t){i.showMessage(!0,3e3,"error",t),i.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion,this.codigoaccion=this.itemactual.codigoaccion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerindicadoresPicia(),this.traerAccionesPicia(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},On=In,Nn=Object(C["a"])(On,En,Tn,!1,null,null,null),Mn=Nn.exports,Rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tAcciones Picia\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Descripción",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",[a("v-autocomplete",{attrs:{items:t.arrLinInvPICIA,"item-value":"codigo","item-text":"descripcion","return-object":!0,label:"Línea de Investigación",rules:[t.rules.required]},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("br"),t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.item.descripcion)+"\n\t\t\t\t\t\t\t\t\t\t")]}},{key:"item",fn:function(e){return[a("v-list-item-content",{domProps:{textContent:t._s(e.item.descripcion)}})]}}]),model:{value:t.codigolininvpicia,callback:function(e){t.codigolininvpicia=e},expression:"codigolininvpicia"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Acciones Picia")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Acción Picia seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Fn=[];function qn(t){return qn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(t)}var Un={data:function(){return{modulo:"ACCIONES PICIA",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"0",descripcionant:"0",codigolininvpicia:0,itemactual:"",data:[],arrLinInvPICIA:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Lín. Inv. Picia",align:"left",sortable:!1,value:"nombrelininvpicia"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant="",this.codigolininvpicia=0},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerAccionesPicia:function(){var t=this;this.loading=!0,va.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traerLineaInvPicia:function(){var t=this;this.arrLinInvPICIA=[],pa.getData().then((function(e){e.request&&e.data&&(t.arrLinInvPICIA=e.data.data)})).catch((function(t){_}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,va.DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la Accion Picia con éxito"),t.del_item="",t.traerAccionesPicia(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA ACCION PICIA CON CODIGO:"+t.itemactual.codigo+", DESCRIPCIÓN:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){var t="object"==qn(this.codigolininvpicia)?this.codigolininvpicia.codigo:this.codigolininvpicia;return this.descripcion==this.descripcionant&&t==this.itemactual.codigolininvpicia?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){var a="object"==qn(this.codigolininvpicia)?this.codigolininvpicia.codigo:this.codigolininvpicia,o="object"==qn(this.codigolininvpicia)?this.codigolininvpicia.descripcion:this.itemactual.nombrelininvpicia;this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="descripcion: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),this.itemactual.codigolininvpicia!=a&&(e+=""==e?"Línea de Investigación PICIA: "+this.itemactual.nombrelininvpicia+" a "+o:", Línea de Investigación PICIA: "+this.itemactual.nombrelininvpicia+" a "+o),e="CODIGO: "+this.codigo+" ("+e+")"):e+="descripcion: "+this.descripcion.toUpperCase();var i=this;this.loading=!0;var n={codigo:this.codigo,descripcion:this.descripcion,codigolininvpicia:a};va.guardarData(n).then((function(t){if(t.response){var a=t.response.data.message;i.showMessage(!0,3e3,"error",a)}else if(t.statusText){var o="",n="";i.edit?(o="Actualizó",n="ACTUALIZACION"):(o="Agregó",n="CREACION"),i.showMessage(!0,3e3,"success","Se "+o+" la Accion Picia con éxito"),i.del_item="",i.edit=-1,i.traerAccionesPicia(),i.resetForm(),i.dialog=!1,i.agregaBitacora(n,e)}else i.showMessage(!0,3e3,"error",t.message);i.loading=!1})).catch((function(t){i.showMessage(!0,3e3,"error",t),i.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion,this.codigolininvpicia=this.itemactual.codigolininvpicia):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerAccionesPicia(),this.traerLineaInvPicia(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},$n=Un,Ln=Object(C["a"])($n,Rn,Fn,!1,null,null,null),Bn=Ln.exports,Gn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("PRESUPUESTOS")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"1200px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{sm12:""}},[a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_addconvenio=!0}}},[t._v("\n                                            Seleccionar Acuerdo\n                                            "),a("v-icon",{attrs:{dark:"",right:""}},[t._v("\n                                                send\n                                            ")])],1),a("div",{staticStyle:{width:"96%","text-align":"center","padding-left":"10px"}},[a("v-data-table",{attrs:{headers:t.headerconveniogen,items:t.arrConveniosGen,"disable-sort":!0,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.fechasuscripcion",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("anoSuscripcion")(o.fechasuscripcion))+"\n                                                    ")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n                                                    ")])]}},{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n                                                    ")])]}}])})],1)],1),a("v-flex",{attrs:{sm12:""}},[a("v-radio-group",{attrs:{label:"Fuente Financiación",mandatory:!1,rules:[t.rules.required]},model:{value:t.fuefinancia,callback:function(e){t.fuefinancia=e},expression:"fuefinancia"}},[a("v-radio",{attrs:{color:"primary",label:"Presupuesto general de la Nación",value:"fuefinanciacionpgn"}}),a("v-radio",{attrs:{color:"primary",label:"Sistema General de Regalías",value:"fuefinanciacionsgr"}}),a("v-radio",{attrs:{color:"primary",label:"Cofinanciado",value:"fuefinanciacioncof"}}),a("v-radio",{attrs:{color:"primary",label:"Funcionamiento",value:"fuefinanciacionfun"}})],1)],1),a("v-flex",{attrs:{sm6:""}},[a("v-select",{attrs:{items:t.topeactividadesSel,label:"Tope de Actividades?","item-value":"value","item-text":"text","return-object":!0},model:{value:t.topeactividades,callback:function(e){t.topeactividades=e},expression:"topeactividades"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-select",{attrs:{items:t.tipotopecatgastoSel,label:"Tipo Tope Categoría del Gasto","item-value":"value","item-text":"text","return-object":!0,clearable:!0},model:{value:t.tipotopecatgasto,callback:function(e){t.tipotopecatgasto=e},expression:"tipotopecatgasto"}})],1),a("v-flex",{attrs:{sm12:""}},[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_addupdcategoria=!0,t.edit_catgasto=0,t.itemactualcatgasto=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("CATEGORÍA DEL GASTO")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchcategoria,callback:function(e){t.searchcategoria=e},expression:"searchcategoria"}})],1),a("v-data-table",{attrs:{headers:t.headerscategoria,items:t.datacategoria,"items-per-page":5,"disable-sort":!0,search:t.searchcategoria},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog_addupdcategoria=!0,t.edit_catgasto=1,t.itemactualcatgasto=o}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){t.dialog_categorias_del=!0,t.itemactualcatgasto=o}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.topemaximo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t.formatoTopeCategoria(o.topemaximo))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{width:"1200"},model:{value:t.dialog_addconvenio,callback:function(e){t.dialog_addconvenio=e},expression:"dialog_addconvenio"}},[a("v-card",[a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchcongenadd,callback:function(e){t.searchcongenadd=e},expression:"searchcongenadd"}}),a("v-data-table",{attrs:{headers:t.headerconveniogenAdd,items:t.arrConveniosGenAll,"items-per-page":5,"disable-sort":!0,search:t.searchcongenadd},scopedSlots:t._u([{key:"item.fechasuscripcion",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("anoSuscripcion")(o.fechasuscripcion))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.seleccionarConvenioGen(o.codigo)}}},[t._v("\n\t\t\t\t\t\t\t\tsend\n\t\t\t\t\t\t\t")])]}}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_addconvenio=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog_addupdcategoria,callback:function(e){t.dialog_addupdcategoria=e},expression:"dialog_addupdcategoria"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitleCategoria))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form2",model:{value:t.valid_categoria,callback:function(e){t.valid_categoria=e},expression:"valid_categoria"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Categoría del Gasto",readonly:0!=t.edit_catgasto},model:{value:t.nombrecategoriagasto,callback:function(e){t.nombrecategoriagasto=e},expression:"nombrecategoriagasto"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Tope Máximo",readonly:t.readonlytope,suffix:t.sufijoCatGasto,prefix:t.prefijocatGasto},on:{blur:function(e){return t.formatearValor(t.topemaximocategoria)}},model:{value:t.topemaximocategoria,callback:function(e){t.topemaximocategoria=e},expression:"topemaximocategoria"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogoCategoria}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid_categoria},on:{click:t.saveitemcategoria}},[t._v(t._s(t.titulobtnuardaritem))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog_categorias_del,callback:function(e){t.dialog_categorias_del=e},expression:"dialog_categorias_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Categoría del Gasto")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Categoría del Gasto del Presupuesto seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDelCategoria}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItemcategoria}},[t._v("Eliminar")])],1)],1)],1)],1)},Vn=[],zn=a("59e1"),Xn={getCategoriasGasto:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/CategoriasGasto",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarCategoriaGasto:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarCategoriaGasto",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelCategoriaGasto:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delCategoriaGasto",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Hn=Xn;function Jn(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Yn(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Jn(n,o,i,r,s,"next",t)}function s(t){Jn(n,o,i,r,s,"throw",t)}r(void 0)}))}}function Zn(t){return Zn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zn(t)}var Wn={data:function(){return{modulo:"PRESUPUESTOS",loading:!1,dialog:!1,edit:-1,processing:!1,formTitle:"",search:"",valid:!1,codigo:0,convenio:0,fuefinanciacionpgn:"",fuefinanciacionsgr:"",fuefinanciacioncof:"",fuefinanciacionfun:"",topeactividades:"",tipotopecatgasto:"",valortotalconvenio:0,fuefinancia:"",moneda:"",topeactividadesSel:[{text:"NO",value:0},{text:"SI",value:1}],tipotopecatgastoSel:[{text:"DINERO",value:"M"},{text:"PORCENTAJE",value:"P"}],itemactual:"",data:[],arrConveniosGenAll:[],arrConveniosGen:[],dialog_addconvenio:!1,searchcongenadd:"",titulobtnuardaritem:"",headerconveniogen:[{text:"Nombre Convenio",align:"left",sortable:!1,value:"nombre"},{text:"Año Suscripc.",value:"fechasuscripcion",sortable:!1,align:"left"},{text:"Estado",value:"descripcionestado",sortable:!1,align:"left"},{text:"Valor Total",value:"valortotal",sortable:!1,align:"left"},{text:"Responsable",value:"nombrecoordinador",sortable:!1,align:"left"},{text:"Fecha Term. Ejecuc.",value:"fechaterejecucion",sortable:!1,align:"left"},{text:"Tasa",value:"tasa",sortable:!1,align:"left"}],headerconveniogenAdd:[{text:"Nombre Convenio",align:"left",sortable:!1,value:"nombre"},{text:"Año Suscripc.",value:"fechasuscripcion",sortable:!1,align:"left"},{text:"Estado",value:"descripcionestado",sortable:!1,align:"left"},{text:"Valor Total",value:"valortotal",sortable:!1,align:"left"},{text:"Responsable",value:"nombrecoordinador",sortable:!1,align:"left"},{text:"Fecha Term. Ejecuc.",value:"fechaterejecucion",sortable:!1,align:"left"},{text:"Tasa",value:"tasa",sortable:!1,align:"left"},{text:"Seleccionar",value:"action",sortable:!1}],headers:[{text:"No. Convenio",align:"left",sortable:!1,value:"convenio"},{text:"Nombre Convenio",value:"nombre",sortable:!1,align:"left"},{text:"Fecha Creac.",value:"fecha",sortable:!1,align:"left"},{text:"FUE. FINAN. PGN",value:"txtfuefinpgn",sortable:!1,align:"left"},{text:"FUE. FINAN. SGR",value:"txtfuefinsgr",sortable:!1,align:"left"},{text:"FUE. FINAN. Cofinanciado",value:"txtfuefincof",sortable:!1,align:"left"},{text:"FUE. FINAN. Funcionamiento",value:"txtfuefinfun",sortable:!1,align:"left"},{text:"Tope Activ.",value:"txttopeactividad",sortable:!1,align:"left"},{text:"Tipo Tope Cat. Gasto",value:"txttiptopcatgas",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],dialog_categoriagasto:!1,edit_catgasto:-1,itemactualcatgasto:"",searchcategoria:"",datacategoria:[],dialog_categorias_del:!1,dialog_addupdcategoria:!1,valid_categoria:!1,categoriagasto:"",nombrecategoriagasto:"",topemaximocategoria:"0",readonlytope:!1,formTitleCategoria:"",arrCategoriasGasto:[],sufijoCatGasto:"",prefijocatGasto:"",headerscategoria:[{text:"Código",value:"codigo",sortable:!1,align:"left"},{text:"Categoría",value:"nombre",sortable:!1,align:"left"},{text:"Tope Máximo",value:"topemaximo",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],numeroconvenio:"",nombreconvenio:"",coordinador:"",rules:{required:function(t){return!!t||"Campo requerido."},valor:function(t){return t>0||"El Valor debe ser mayor a 0."}}}},filters:{anoSuscripcion:function(t){return t?(t=t.substring(0,4),t):""}},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},envioNotificaciones:function(t){var e=0,a=45,o=this.numeroconvenio;""!=this.coordinador&&"0"!=this.coordinador&&(e=this.coordinador),this.$root.$emit("enviarNotificaciones",{codigopersona:e,mensajenotificacion:t.mensajenotificacion,asuntocorreo:t.asuntocorreo,mensajecorreo:t.mensajecorreo,codigoopcion:a,numerointerno:o})},formatoTopeCategoria:function(t){if(!t)return"";var e="",a="",o="";return o="object"==Zn(this.tipotopecatgasto)?this.tipotopecatgasto.value:this.tipotopecatgasto,"M"==o?e=this.moneda+" ":"P"==o&&(a=" % "),t=e+this.number_format(t)+a,t},resetForm:function(){this.codigo=0,this.convenio=0,this.fuefinanciacionpgn="",this.fuefinanciacionsgr="",this.fuefinanciacioncof="",this.fuefinanciacionfun="",this.topeactividades="",this.tipotopecatgasto="",this.fuefinancia="",this.arrConveniosGen=[],this.moneda="",this.valortotalconvenio=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerDataPrincipal:function(){var t=this;this.loading=!0,zn["a"].getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},validaSave:function(){var t=0;return t="object"==Zn(this.topeactividades)?this.topeactividades.value:this.topeactividades,"object"==Zn(this.tipotopecatgasto)?this.tipotopecatgasto.value:this.tipotopecatgasto,this.itemactual.convenio==this.convenio&&this.itemactual.fuefinanciacionpgn==this.fuefinanciacionpgn&&this.itemactual.fuefinanciacionsgr==this.fuefinanciacionsgr&&this.itemactual.fuefinanciacioncof==this.fuefinanciacioncof&&this.itemactual.fuefinanciacionfun==this.fuefinanciacionfun&&this.itemactual.topeactividades==t&&this.itemactual.tipotopecatgasto,!0},saveitem:function(){if(""!=this.convenio&&"0"!=this.convenio)if(""!=this.fuefinancia){var t=this;this.loading=!0;var e="",a=0,o="",i=0,n="",r="",s="";"object"==Zn(this.topeactividades)?(a=this.topeactividades.value,o=this.topeactividades.text):(a=this.topeactividades,o="1"==this.topeactividades?"SI":"NO"),void 0==this.tipotopecatgasto?(i="N",n="NINGUNO"):"object"==Zn(this.tipotopecatgasto)?(i=this.tipotopecatgasto.value,n=this.tipotopecatgasto.text):(i=this.tipotopecatgasto,n="M"==this.tipotopecatgasto?"DINERO":"P"==this.tipotopecatgasto?"PORCENTAJE":"NINGUNO"),r="1"==this.itemactual.topeactividades?"SI":"NO",s="M"==this.tipotopecatgasto?"DINERO":"P"==this.tipotopecatgasto?"PORCENTAJE":"NINGUNO";var c="0",l="0",d="0",u="0";switch(this.fuefinancia){case"fuefinanciacionpgn":c="1";break;case"fuefinanciacionsgr":l="1";break;case"fuefinanciacioncof":d="1";break;case"fuefinanciacionfun":u="1";break;default:break}var p={codigo:this.codigo,convenio:this.convenio,fuefinanciacionpgn:c,fuefinanciacionsgr:l,fuefinanciacioncof:d,fuefinanciacionfun:u,topeactividades:a,tipotopecatgasto:i};if(this.edit){var m=this.validaSave();if(!m)return this.showMessage(!0,3e3,"error","No hay datos para actualizar"),void(this.loading=!1);e="",this.itemactual.convenio!=this.convenio&&(e+="Convenio: "+this.itemactual.numero+" - "+this.itemactual.nombre+" a "+this.arrConveniosGen[0].numero+" - "+this.arrConveniosGen[0].nombre),this.itemactual.fuefinanciacionpgn!=c&&(e+=""==e?"Fuen. Financ. PGN: "+this.itemactual.fuefinanciacionpgn+" a "+this.fuefinanciacionpgn:", Fuen. Financ. PGN: "+this.itemactual.fuefinanciacionpgn+" a "+this.fuefinanciacionpgn),this.itemactual.fuefinanciacionsgr!=l&&(e+=""==e?"Fuen. Financ. SGR: "+this.itemactual.fuefinanciacionsgr+" a "+this.fuefinanciacionsgr:", Fuen. Financ. SGR: "+this.itemactual.fuefinanciacionsgr+" a "+this.fuefinanciacionsgr),this.itemactual.fuefinanciacioncof!=d&&(e+=""==e?"Fuen. Financ. Cofinanciado: "+this.itemactual.fuefinanciacioncof+" a "+this.fuefinanciacioncof:", Fuen. Financ. Cofinanciado: "+this.itemactual.fuefinanciacioncof+" a "+this.fuefinanciacioncof),this.itemactual.fuefinanciacionfun!=u&&(e+=""==e?"Fuen. Financ. Funcionamiento: "+this.itemactual.fuefinanciacionfun+" a "+this.fuefinanciacionfun:", Fuen. Financ. Funcionamiento: "+this.itemactual.fuefinanciacionfun+" a "+this.fuefinanciacionfun),this.itemactual.topeactividades!=a&&(e+=""==e?"Tope de Actividades: "+r+" a "+o:", Tope de Actividades: "+r+" a "+o),this.itemactual.tipotopecatgasto!=i&&(e+=""==e?"Tipo Categoría del Gasto: "+s+" a "+n:", Tipo Categoría del Gasto: "+s+" a "+n),e="CODIGO: "+this.codigo+" ("+e+")"}else e+="CONVENIO NO.: "+this.arrConveniosGen[0].numero+", NOMBRE: "+this.arrConveniosGen[0].nombre;zn["a"].guardarData(p,t.datacategoria).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";if(t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el Presupuesto con éxito"),0==t.edit){var r="Cordial Saludo,<br><br> Se creó el Presupuesto para el Acuerdo Específico # : "+t.numeroconvenio+", Nombre: "+t.nombreconvenio+"<br><br>Ya se puede crear el Proyecto.<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";t.envioNotificaciones({mensajenotificacion:"Se creó el Presupuesto para el Acuerdo Específico # : "+t.numeroconvenio+", Nombre: "+t.nombreconvenio+". Ya se puede crear el Proyecto.",asuntocorreo:"Creación o Modificación de Presupuesto para un Acuerdo Específico",mensajecorreo:r})}t.edit=-1,t.traerDataPrincipal(),t.resetForm(),t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}else this.showMessage(!0,3e3,"error","Debe seleccionar la Fuente de Financiación");else this.showMessage(!0,3e3,"error","No ha seleccionado el Convenio")},seleccionarConvenioGen:function(t){this.convenio=t,this.traeConvenioGen(),this.dialog_addconvenio=!1},traeConvenioGen:function(){var t=this;this.arrConveniosGen=[],this.numeroconvenio="",this.nombreconvenio="",this.coordinador="",ga["a"].getDataXId(this.convenio).then((function(e){e.request&&e.data&&(t.arrConveniosGen=e.data.data,t.numeroconvenio=t.arrConveniosGen[0].numero,t.nombreconvenio=t.arrConveniosGen[0].nombre,t.coordinador=t.arrConveniosGen[0].codigocoordinador)})).catch((function(t){}))},traeConvenioAll:function(){var t=this;this.arrConveniosGenAll=[],ga["a"].getData().then((function(e){e.request&&e.data&&(t.arrConveniosGenAll=e.data.data)})).catch((function(t){}))},traeCatGasXPresupuesto:function(){var t=this;t.datacategoria=[],zn["a"].getCatGasXPresupuesto(this.codigo).then((function(e){e.request&&e.data&&(t.datacategoria=e.data.data)})).catch((function(t){}))},number_format:function(t,e){if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var a=t.split("."),o=/(\d+)(\d{3})/;while(o.test(a[0]))a[0]=a[0].replace(o,"$1.$2");return a.join(",")},closeDialogoDelCategoria:function(){this.dialog_categorias_del=!1},deleteItemcategoria:function(){var t=Yn(He.a.mark((function t(){var e,a,o,i,n;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e="",a="",o=0;case 3:if(!(o<this.datacategoria.length)){t.next=13;break}if(i=this.datacategoria[o],i.codigo!=this.itemactualcatgasto.codigo){t.next=10;break}return e=i.codigo,a=o,0==e&&this.datacategoria.splice(o,1),t.abrupt("break",13);case 10:o++,t.next=3;break;case 13:if(0==e){t.next=24;break}return t.prev=14,t.next=17,zn["a"].delCategoriaPresupuesto(this.codigo,e);case 17:n=t.sent,n.statusText?(this.showMessage(!0,3e3,"success","Se eliminó la Categoría del Gasto con éxito"),this.datacategoria.splice(a,1),this.traeCatGasXPresupuesto()):this.showMessage(!0,4e3,"error",n.response.data.message),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](14),this.showMessage(!0,3e3,"error",t.t0);case 24:return this.dialog_categorias_del=!1,t.abrupt("return");case 26:case"end":return t.stop()}}),t,this,[[14,21]])})));function e(){return t.apply(this,arguments)}return e}(),saveitemcategoria:function(){for(var t=0;t<this.datacategoria.length;t++){var e=this.datacategoria[t];if(e.nombre==this.nombrecategoriagasto&&this.itemactualcatgasto.nombre!=e.nombre)return void this.showMessage(!0,3e3,"error","La categoría del Gasto ya existe")}var a=0,o=0;if(a="object"==Zn(this.tipotopecatgasto)?this.tipotopecatgasto.value:this.tipotopecatgasto,"M"==a||"P"==a){var i=0,n=parseFloat(this.limpiarMoneda(this.topemaximocategoria));0==this.edit_catgasto&&(i+=n);for(var r=0;r<this.datacategoria.length;r++){var s=this.datacategoria[r];this.itemactualcatgasto.codigo==s.codigo?i+=n:i+=parseFloat(this.limpiarMoneda(s.topemaximo.toString().replace(this.moneda,""))),o=s.codigo}if("M"==a){if(parseFloat(i)>parseFloat(this.valortotalconvenio))return void this.showMessage(!0,5e3,"error","El total de los topes no puede superar el valor total del convenio ("+this.moneda+" "+this.number_format(this.valortotalconvenio)+")")}else if("P"==a&&parseFloat(i)>100)return void this.showMessage(!0,5e3,"error","El total de los topes no puede exceder el 100%")}var c=this.datacategoria.reduce((function(t,e){return Math.max(t,e.codigo)}),0);if(c+=1,o=c,0==this.edit_catgasto)this.datacategoria.push({codigo:o,nombre:this.nombrecategoriagasto,topemaximo:this.limpiarMoneda(this.topemaximocategoria)});else for(var l=0;l<this.datacategoria.length;l++){var d=this.datacategoria[l];if(this.itemactualcatgasto.codigo==d.codigo){d.nombre=this.nombrecategoriagasto,d.topemaximo=this.limpiarMoneda(this.topemaximocategoria);break}}this.edit_catgasto=-1,this.dialog_addupdcategoria=!1},resetFormCategoria:function(){this.categoriagasto="",this.nombrecategoriagasto="",this.topemaximocategoria="0"},cerrarDialogoCategoria:function(){this.resetFormCategoria(),this.dialog_addupdcategoria=!1,this.edit_catgasto=-1},traerCategoriaGasto:function(){var t=this;this.arrCategoriasGasto=[],Hn.getCategoriasGasto().then((function(e){e.request&&e.data&&(t.arrCategoriasGasto=e.data.data)})).catch((function(t){}))},limpiarMoneda:function(t){var e=t.toString().replace(",00","").replace(/[$.]/gi,"");return e=e.replace(/[,]/gi,"."),e},formatearValor:function(t){var e=t;e=this.limpiarMoneda(e),e=this.number_format(e,2),this.topemaximocategoria=e},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.convenio=this.itemactual.convenio,this.fuefinanciacionpgn=this.itemactual.fuefinanciacionpgn,this.fuefinanciacionsgr=this.itemactual.fuefinanciacionsgr,this.fuefinanciacioncof=this.itemactual.fuefinanciacioncof,this.fuefinanciacionfun=this.itemactual.fuefinanciacionfun,this.topeactividades="1"==this.itemactual.topeactividades?1:0,this.tipotopecatgasto=this.itemactual.tipotopecatgasto,this.moneda=this.itemactual.moneda,this.valortotalconvenio=this.itemactual.valortotal,"1"==this.fuefinanciacionpgn&&(this.fuefinancia="fuefinanciacionpgn"),"1"==this.fuefinanciacionsgr&&(this.fuefinancia="fuefinanciacionsgr"),"1"==this.fuefinanciacioncof&&(this.fuefinancia="fuefinanciacioncof"),"1"==this.fuefinanciacionfun&&(this.fuefinancia="fuefinanciacionfun"),this.traeConvenioGen()):(this.resetForm(),this.formTitle="Nuevo",this.topeactividades=0),this.traeCatGasXPresupuesto()},edit_catgasto:function(t){t?(this.formTitleCategoria="Editar",this.categoriagasto=this.itemactualcatgasto.codigo,this.nombrecategoriagasto=this.itemactualcatgasto.nombre,this.topemaximocategoria=this.number_format(this.itemactualcatgasto.topemaximo,2),this.titulobtnuardaritem="Actualizar Item"):(this.resetFormCategoria(),this.formTitleCategoria="Nuevo",this.titulobtnuardaritem="Agregar Item");var e=0;e="object"==Zn(this.tipotopecatgasto)?this.tipotopecatgasto.value:this.tipotopecatgasto,this.readonlytope=!1,this.prefijocatGasto="",this.sufijoCatGasto="","N"==e||""==e||void 0==e?(this.readonlytope=!0,this.topemaximocategoria=0):"M"==e?this.prefijocatGasto=this.moneda+" ":"P"==e&&(this.sufijoCatGasto=" %")},arrConveniosGen:function(t){t.length>0&&(this.moneda=t[0].moneda,this.valortotalconvenio=t[0].valortotal)}},mounted:function(){this.traerDataPrincipal(),this.traeConvenioAll(),this.traerCategoriaGasto(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Qn=Wn,Kn=Object(C["a"])(Qn,Gn,Vn,!1,null,null,null),tr=Kn.exports,er=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tPilares Picia\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"descripcion",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Pilares Picia")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar Pilares Picia seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},ar=[],or={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/PilaresPicia",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarPilarPicia:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarPilarPicia",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delPilaresPicia:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delPilaresPicia",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},ir=or,nr={data:function(){return{modulo:"PILARES PICIA",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",descripcionant:"",itemactual:"",data:[],headers:[{text:"descripcion",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.descripcionant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerPilaresPicia:function(){var t=this;this.loading=!0,ir.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,ir.delPilaresPicia(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó Pilares Picia con éxito"),t.del_item="",t.traerPilaresPicia(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ PILARES PICIA CON CODIGO:"+t.itemactual.codigo+", descripcion:"+t.itemactual.descripcion)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.descripcion==this.descripcionant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="descripcion: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="descripcion: "+this.descripcion.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion};ir.guardarPilarPicia(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el Pilares Picia con éxito"),a.del_item="",a.edit=-1,a.traerPilaresPicia(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.descripcionant=this.itemactual.descripcion):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerPilaresPicia(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},rr=nr,sr=Object(C["a"])(rr,er,ar,!1,null,null,null),cr=sr.exports,lr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tCategorías Gasto\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Nombre",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Categoría Gasto")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Categoría Gasto seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},dr=[],ur={data:function(){return{modulo:"CATEGORIAS GASTO",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",nombre:"",nombreant:"",itemactual:"",data:[],headers:[{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre="",this.nombreant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerCategoriasGasto:function(){var t=this;this.loading=!0,Hn.getCategoriasGasto().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,Hn.DelCategoriaGasto(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la Categoría Gasto con éxito"),t.del_item="",t.traerCategoriasGasto(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA CATEGORÍA CON CODIGO:"+t.itemactual.codigo+", NOMBRE:"+t.itemactual.nombre)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.nombre==this.nombreant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.nombre!=this.nombre&&(e+="Nombre: "+this.itemactual.nombre.toUpperCase()+" a "+this.nombre.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="NOMBRE: "+this.nombre.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,nombre:this.nombre};Hn.guardarCategoriaGasto(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" la Categoría Gasto con éxito"),a.del_item="",a.edit=-1,a.traerCategoriasGasto(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.nombre,this.nombreant=this.itemactual.nombre):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerCategoriasGasto(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},pr=ur,mr=Object(C["a"])(pr,lr,dr,!1,null,null,null),vr=mr.exports,hr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("PLANES DE ADQUISICIÓN")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.valortotalconvenio",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotalconvenio,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:"$ ",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.valorpesos",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valorpesos,{symbol:"$ ",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.enviovobo",fn:function(e){var o=e.item;return[a("span",{class:[{ColorVBTrue:"S"===o.enviovobo},{ColorVBFalse:"N"==o.enviovobo}]},[t._v(t._s("S"==o.enviovobo?"SI":"NO")+"\n\t\t\t\t\t\t\t")])]}},{key:"item.version",fn:function(e){var o=e.item;return[a("span",{staticStyle:{color:"blue","font-weight":"bold"}},[t._v(" "+t._s(o.version)+"\n\t\t\t\t\t\t\t")])]}},{key:"item.resumen",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.abrirresumen(o.codigo,o.proyecto,o.basemoneda)}}},[t._v("\n\t\t\t\t\t\t\t\tfunctions\n\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")])]}},{key:"item.modvobo",fn:function(e){var o=e.item;return["S"==o.enviovobo?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.abrirModEnVoBo(o)}}},[t._v("\n\t\t\t\t\t\t\t\tevent_note\n\t\t\t\t\t\t\t")]):t._e()]}},{key:"item.vobomod",fn:function(e){var o=e.item;return["S"==o.enviovobo?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.abrirModAprobacionVoBo(o)}}},[t._v("\n\t\t\t\t\t\t\t\tplaylist_add_check\n\t\t\t\t\t\t\t")]):t._e()]}},{key:"item.dataversion",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.abrirVersiones(o)}}},[t._v("\n\t\t\t\t\t\t\t\tbookmarks\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"1400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{sm12:""}},["S"!=t.enviovobo?a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_addproyecto=!0}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\tSeleccionar Proyecto\n\t\t\t\t\t\t\t\t\t\t\t\t"),a("v-icon",{attrs:{dark:"",right:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\tsend\n\t\t\t\t\t\t\t\t\t\t\t\t")])],1):t._e(),a("div",{staticStyle:{width:"96%","text-align":"center","padding-left":"10px"}},[a("v-data-table",{attrs:{headers:t.headerproyectogen,items:t.arrProyectosGen,"disable-sort":!0,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:"$ ",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.valorpesos",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valorpesos,{symbol:"$ ",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1),a("v-flex",{attrs:{sm3:""}},[a("v-select",{attrs:{items:t.arrBaseMoneda,label:"Base Moneda","item-value":"valor","item-text":"texto","return-object":!1,readonly:"S"==t.enviovobo},model:{value:t.basemoneda,callback:function(e){t.basemoneda=e},expression:"basemoneda"}})],1),a("v-flex",{attrs:{sm12:""}},[a("div",{staticStyle:{"padding-bottom":"10px"}},["S"!=t.enviovobo?a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_addupdnecesidad=!0,t.edit_necesidad=0,t.itemactualnecesidad=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1):t._e()],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("NECESIDADES")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchnecesidad,callback:function(e){t.searchnecesidad=e},expression:"searchnecesidad"}})],1),a("v-data-table",{attrs:{headers:t.headersnecesidad,items:t.datanecesidad,"items-per-page":5,"disable-sort":!0,search:t.searchnecesidad},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.vistos",fn:function(e){var o=e.item;return["S"==o.enviovobo?a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:t.getColor(o.voboplaneacion)},on:{click:function(e){return t.abrirVoBo("P",o)}}},[a("v-icon",{attrs:{dark:""}},[t._v("settings")])],1):t._e(),"S"==o.enviovobo?a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:t.getColor(o.vobofinanciador)},on:{click:function(e){return t.abrirVoBo("F",o)}}},[a("v-icon",{attrs:{dark:""}},[t._v("attach_money")])],1):t._e(),t.visibleVoBoJuridica(o.vobofinanciador,o.voboplaneacion,o.enviovobo)?a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:t.getColor(o.vobojuridica)},on:{click:function(e){return t.abrirVoBo("J",o)}}},[a("v-icon",{attrs:{dark:""}},[t._v("work")])],1):t._e()]}},{key:"item.action",fn:function(e){var o=e.item;return["S"!=t.enviovobo?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog_addupdnecesidad=!0,t.edit_necesidad=1,t.itemactualnecesidad=o}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),"S"!=t.enviovobo?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){t.dialog_necesidad_del=!0,t.itemactualnecesidad=o}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()]}},{key:"item.unspsc",fn:function(e){var o=e.item;return[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:0!=o.codigo,expression:"item.codigo != 0"}],staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.abrirUnspsc(o.codigo,o.descripcion)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlibrary_add\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.actividades",fn:function(e){var o=e.item;return[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:0!=o.codigo,expression:"item.codigo != 0"}],staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.abrirActividad(o.codigo,o.descripcion,o.valor)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taccount_tree\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),"S"!=t.enviovobo?a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")]):t._e(),1==t.edit&&"S"!=t.enviovobo?a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.enviarParaVoBo}},[t._v("Enviar para VoBo")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{width:"1200"},model:{value:t.dialog_addproyecto,callback:function(e){t.dialog_addproyecto=e},expression:"dialog_addproyecto"}},[a("v-card",[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar por No. de Convenio","single-line":"","hide-details":"",clearable:""},on:{"click:append":t.traeProyectosAll,"click:clear":function(e){return t.limpiarBusqueda("searchcongenadd")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.traeProyectosAll(e)}},model:{value:t.searchcongenadd,callback:function(e){t.searchcongenadd=e},expression:"searchcongenadd"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar por Nombre","single-line":"","hide-details":"",clearable:""},on:{"click:append":t.traeProyectosAll,"click:clear":function(e){return t.limpiarBusqueda("searchcongenadd_nombre")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.traeProyectosAll(e)}},model:{value:t.searchcongenadd_nombre,callback:function(e){t.searchcongenadd_nombre=e},expression:"searchcongenadd_nombre"}})],1)],1),a("v-data-table",{attrs:{headers:t.headerproyectogenAdd,items:t.arrProyectosGenAll,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:"$ ",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.seleccionarProyectoGen(o.codigo)}}},[t._v("\n\t\t\t\t\t\t\t\tsend\n\t\t\t\t\t\t\t")])]}}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_addproyecto=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{width:"1200"},model:{value:t.dialog_addproyecto,callback:function(e){t.dialog_addproyecto=e},expression:"dialog_addproyecto"}},[a("v-card",[a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchcongenadd,callback:function(e){t.searchcongenadd=e},expression:"searchcongenadd"}}),a("v-data-table",{attrs:{headers:t.headerproyectogenAdd,items:t.arrProyectosGenAll,"items-per-page":5,"disable-sort":!0,search:t.searchcongenadd},scopedSlots:t._u([{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:"$ ",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.valorpesos",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valorpesos,{symbol:"$ ",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.seleccionarProyectoGen(o.codigo)}}},[t._v("\n\t\t\t\t\t\t\t\tsend\n\t\t\t\t\t\t\t")])]}}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_addproyecto=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog_addupdnecesidad,callback:function(e){t.dialog_addupdnecesidad=e},expression:"dialog_addupdnecesidad"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitleNecesidad))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form2",model:{value:t.valid_necesidad,callback:function(e){t.valid_necesidad=e},expression:"valid_necesidad"}},[a("v-flex",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Descripción",rules:[t.rules.required],readonly:0!=t.edit_necesidad},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"valor",rules:[t.rules.required],prefix:t.moneda},on:{blur:function(e){return t.formatearValor(t.valor)}},model:{value:t.valor,callback:function(e){t.valor=e},expression:"valor"}})],1),a("v-flex",[a("v-select",{attrs:{items:t.arrMetodosSeleccion,"item-value":"codigo","item-text":"descripcion","return-object":!0,label:"Método de Selección",rules:[t.rules.required],clearable:""},model:{value:t.metodoleccion,callback:function(e){t.metodoleccion=e},expression:"metodoleccion"}})],1),a("v-flex",[a("v-text-field",{attrs:{type:"date",label:"Fecha de Solicitud de Contratación",rules:[t.rules.required],clearable:""},model:{value:t.fechasolcontrata,callback:function(e){t.fechasolcontrata=e},expression:"fechasolcontrata"}})],1),a("v-flex",[t._v("\n\t\t\t\t\t\t\t\t\tEstado: "+t._s(t.estadonecesidadtxt)+"\n\t\t\t\t\t\t\t\t")])],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogoNecesidad}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid_necesidad},on:{click:t.saveitemnecesidad}},[t._v(t._s(t.titulobtnuardaritem))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog_necesidad_del,callback:function(e){t.dialog_necesidad_del=e},expression:"dialog_necesidad_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Necesidad")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Necesidad seleccionada?. Recuerde que eliminará las \n\t\t\t\t\tactividades y los códigos UNSPSC asociados a ella. \t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDelNecesidad}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItemnecesidad}},[t._v("Eliminar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog_unspsc,callback:function(e){t.dialog_unspsc=e},expression:"dialog_unspsc"}},[a("v-card",[a("v-card-text",[a("unspsc",{attrs:{planadquisicion:t.codigo,necesidad:t.codigonecesidad,descripcionnecesidad:t.necesidadtxt,enviovobo:t.enviovobo},on:{"update:planadquisicion":function(e){t.codigo=e},"update:necesidad":function(e){t.codigonecesidad=e},"update:descripcionnecesidad":function(e){t.necesidadtxt=e},"update:enviovobo":function(e){t.enviovobo=e}}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_unspsc=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.dialog_actividades,callback:function(e){t.dialog_actividades=e},expression:"dialog_actividades"}},[a("v-card",[a("v-card-text",[a("actividades",{attrs:{planadquisicion:t.codigo,necesidad:t.codigonecesidad,descripcionnecesidad:t.necesidadtxt,moneda:t.moneda,valortotal:t.valortotalconvenio,proyecto:t.proyecto,convenio:t.convenio,valornecesidad:t.valornecesidad,tasa:t.tasa,enviovobo:t.enviovobo},on:{"update:planadquisicion":function(e){t.codigo=e},"update:necesidad":function(e){t.codigonecesidad=e},"update:descripcionnecesidad":function(e){t.necesidadtxt=e},"update:moneda":function(e){t.moneda=e},"update:valortotal":function(e){t.valortotalconvenio=e},"update:proyecto":function(e){t.proyecto=e},"update:convenio":function(e){t.convenio=e},"update:valornecesidad":function(e){t.valornecesidad=e},"update:tasa":function(e){t.tasa=e},"update:enviovobo":function(e){t.enviovobo=e}}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_actividades=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.dialog_vobofinanciera,callback:function(e){t.dialog_vobofinanciera=e},expression:"dialog_vobofinanciera"}},[a("v-card",[a("v-card-text",[a("br"),a("v-tabs",{staticClass:"elevation-2 full-height-tab",attrs:{grow:!0,"icons-and-text":!1,"show-arrows":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-resumen"}},[t._v("\n\t\t\t\t\t\t\tRESUMEN\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tab-resumen"}},[a("div",{staticStyle:{width:"97%","padding-left":"20px"}},[a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",[t._v("NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisFinNecesidades,items:t.vistanecesidades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tValor Convenio: "+t._s(""+("C"==t.basemoneda?t.arrProyectosGen[0].moneda:"$ "+t.number_format(t.valortotalconvenio,2)))+"\n\t\t\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tTotal Necesidades: "+t._s(t.valortotalnecesidades)+"\n\t\t\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tSaldo: "+t._s(("C"==t.basemoneda?t.arrProyectosGen[0].moneda:"$ "+t.number_format(t.valortotalconvenio-t.limpiarMoneda(t.valortotalnecesidades),2))+" ")+"\n\t\t\t\t\t\t\t\t\t\t")])])],1),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("RESUMEN ACTIVIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActividades,items:t.vistaactividades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.total",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.total,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",[t._v("ACTIVIDADES - NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActNec,items:t.vistaactividadnecesidad,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center"}},[t._v("ACTIVIDADES - CATEGORIAS DEL GASTO")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActCat,items:t.vistaactividadcatalogo,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.topecategoria",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.topecategoria,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)])],1)]),a("v-tab",{attrs:{href:"#tab-vobo"}},[t._v("\n\t\t\t\t\t\t\tVISTO BUENO\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tab-vobo"}},[a("div",{staticStyle:{width:"97%","padding-left":"20px"}},[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.arrVoBo,"item-value":"valor","item-text":"texto",label:"Visto Bueno",rules:[t.rules.required],"return-object":!1,readonly:t.readvbfinanciera},model:{value:t.vobofinanciadoractual,callback:function(e){t.vobofinanciadoractual=e},expression:"vobofinanciadoractual"}})],1)],1),a("v-row",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:t.readvbfinanciera},model:{value:t.obsfinanciadoractual,callback:function(e){t.obsfinanciadoractual=e},expression:"obsfinanciadoractual"}})],1)],1)])],1)],1),a("v-card-actions",[a("v-spacer"),t.readvbfinanciera?t._e():a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){return t.actualizaVoBo("F")}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_vobofinanciera=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.dialog_vobojuridica,callback:function(e){t.dialog_vobojuridica=e},expression:"dialog_vobojuridica"}},[a("v-card",[a("v-card-text",[a("br"),a("v-tabs",{staticClass:"elevation-2 full-height-tab",attrs:{grow:!0,"icons-and-text":!1,"show-arrows":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-resumen"}},[t._v("\n\t\t\t\t\t\t\tRESUMEN\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tab-resumen"}},[a("div",{staticStyle:{width:"97%","padding-left":"20px"}},[a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",[t._v("NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisFinNecesidades,items:t.vistanecesidades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tValor Convenio: "+t._s(""+("C"==t.basemoneda?t.arrProyectosGen[0].moneda:"$ "+t.number_format(t.valortotalconvenio,2)))+"\n\t\t\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tTotal Necesidades: "+t._s(t.valortotalnecesidades)+"\n\t\t\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tSaldo: "+t._s(("C"==t.basemoneda?t.arrProyectosGen[0].moneda:"$ "+t.number_format(t.valortotalconvenio-t.limpiarMoneda(t.valortotalnecesidades),2))+" ")+"\n\t\t\t\t\t\t\t\t\t\t")])])],1),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("RESUMEN ACTIVIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActividades,items:t.vistaactividades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.total",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.total,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",[t._v("ACTIVIDADES - NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActNec,items:t.vistaactividadnecesidad,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center"}},[t._v("ACTIVIDADES - CATEGORIAS DEL GASTO")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActCat,items:t.vistaactividadcatalogo,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.topecategoria",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.topecategoria,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)])],1)]),a("v-tab",{attrs:{href:"#tab-vobo"}},[t._v("\n\t\t\t\t\t\t\tVISTO BUENO\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tab-vobo"}},[a("div",{staticStyle:{width:"97%","padding-left":"20px"}},[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.arrVoBo,"item-value":"valor","item-text":"texto",label:"Visto Bueno",rules:[t.rules.required],"return-object":!1,readonly:t.readvbjuridica},model:{value:t.vobojuridicaactual,callback:function(e){t.vobojuridicaactual=e},expression:"vobojuridicaactual"}})],1)],1),a("v-row",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:t.readvbjuridica},model:{value:t.obsjuridicaactual,callback:function(e){t.obsjuridicaactual=e},expression:"obsjuridicaactual"}})],1)],1)])],1)],1),a("v-card-actions",[a("v-spacer"),t.readvbjuridica?t._e():a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){return t.actualizaVoBo("J")}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_vobojuridica=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.dialog_voboplaneacion,callback:function(e){t.dialog_voboplaneacion=e},expression:"dialog_voboplaneacion"}},[a("v-card",[a("v-card-text",[a("br"),a("v-tabs",{staticClass:"elevation-2 full-height-tab",attrs:{grow:!0,"icons-and-text":!1,"show-arrows":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-resumen"}},[t._v("\n\t\t\t\t\t\t\tRESUMEN\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tab-resumen"}},[a("div",{staticStyle:{width:"97%","padding-left":"20px"}},[a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",[t._v("NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisFinNecesidades,items:t.vistanecesidades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tValor Convenio: "+t._s(""+("C"==t.basemoneda?t.arrProyectosGen[0].moneda:"$ "+t.number_format(t.valortotalconvenio,2)))+"\n\t\t\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tTotal Necesidades: "+t._s(t.valortotalnecesidades)+"\n\t\t\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tSaldo: "+t._s(("C"==t.basemoneda?t.arrProyectosGen[0].moneda:"$ "+t.number_format(t.valortotalconvenio-t.limpiarMoneda(t.valortotalnecesidades),2))+" ")+"\n\t\t\t\t\t\t\t\t\t\t")])])],1),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("RESUMEN ACTIVIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActividades,items:t.vistaactividades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.total",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.total,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",[t._v("ACTIVIDADES - NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActNec,items:t.vistaactividadnecesidad,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center"}},[t._v("ACTIVIDADES - CATEGORIAS DEL GASTO")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActCat,items:t.vistaactividadcatalogo,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.topecategoria",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.topecategoria,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)])],1)]),a("v-tab",{attrs:{href:"#tab-vobo"}},[t._v("\n\t\t\t\t\t\t\tVISTO BUENO\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tab-vobo"}},[a("div",{staticStyle:{width:"97%","padding-left":"20px"}},[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.arrVoBo,"item-value":"valor","item-text":"texto",label:"Visto Bueno",rules:[t.rules.required],"return-object":!1,readonly:t.readvbplaneacion},model:{value:t.voboplaneacionactual,callback:function(e){t.voboplaneacionactual=e},expression:"voboplaneacionactual"}})],1)],1),a("v-row",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:t.readvbplaneacion},model:{value:t.obsplaneacionactual,callback:function(e){t.obsplaneacionactual=e},expression:"obsplaneacionactual"}})],1)],1)])],1)],1),a("v-card-actions",[a("v-spacer"),t.readvbplaneacion?t._e():a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){return t.actualizaVoBo("P")}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_voboplaneacion=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:t.dialog_validavobo,callback:function(e){t.dialog_validavobo=e},expression:"dialog_validavobo"}},[a("v-card",[a("v-card-text",[a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("Necesidades cuyo Total de las Actividades no han utilizado todo el valor de las mismas")]),a("br"),a("v-data-table",{attrs:{headers:t.headerErrActNec,items:t.arrErrActivNecesidades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t")])]}}])})],1),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("Categorías del Gasto cuyo Total de las Actividades no han utilizado todo el valor de las mismas")]),a("br"),a("v-data-table",{attrs:{headers:t.headerErrActCat,items:t.arrErrActivCategorias,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.topecategoria",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.topecategoria,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t")])]}}])})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_validavobo=!1}}},[t._v("Aceptar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.dialog_resumen,callback:function(e){t.dialog_resumen=e},expression:"dialog_resumen"}},[a("v-card",[a("v-card-text",[a("div",{staticStyle:{width:"97%","padding-left":"20px"}},[a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisFinNecesidades,items:t.vistanecesidades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\tValor Convenio: "+t._s(""+("C"==t.basemoneda?t.arrProyectosGen[0].moneda:"$ "+t.number_format(t.valortotalconvenio,2)))+"\n\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\tTotal Necesidades: "+t._s(t.valortotalnecesidades)+"\n\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\tSaldo: "+t._s(("C"==t.basemoneda?t.arrProyectosGen[0].moneda:"$ "+t.number_format(t.valortotalconvenio-t.limpiarMoneda(t.valortotalnecesidades),2))+" ")+"\n\t\t\t\t\t\t\t\t")])])],1),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("RESUMEN ACTIVIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActividades,items:t.vistaactividades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.total",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.total,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("ACTIVIDADES - NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActNec,items:t.vistaactividadnecesidad,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("ACTIVIDADES - CATEGORIAS DEL GASTO")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActCat,items:t.vistaactividadcatalogo,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.topecategoria",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.topecategoria,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)])],1)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_resumen=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"1300px"},model:{value:t.dialog_modificaciones,callback:function(e){t.dialog_modificaciones=e},expression:"dialog_modificaciones"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Edición con Visto Bueno")])]),a("v-card-text",[a("modificacionesvb",{attrs:{itemactual:t.itemactual,nuevo:t.nuevadatamodificaciones,tmplanadquisicion:t.tmplanadquisicion},on:{"update:itemactual":function(e){t.itemactual=e},"update:nuevo":function(e){t.nuevadatamodificaciones=e},"update:tmplanadquisicion":function(e){t.tmplanadquisicion=e}}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_modificaciones=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"700px"},model:{value:t.dialog_versiones,callback:function(e){t.dialog_versiones=e},expression:"dialog_versiones"}},[a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("VERSIONES")]),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headersversion,items:t.dataversiones,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.detalle",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.abrirVersionesDet(o)}}},[t._v("\n\t\t\t\t\t\t\t\t\tevent_note\n\t\t\t\t\t\t\t\t")])]}}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_versiones=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"1300px"},model:{value:t.dialog_versionesdet,callback:function(e){t.dialog_versionesdet=e},expression:"dialog_versionesdet"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"blue--text headline"},[t._v("Detalle Versión No. "+t._s(t.numeroversion))])]),a("v-card-text",[a("versiones",{attrs:{itemactual:t.itemactual,hisplanadquisicion:t.hisplanadquisicion},on:{"update:itemactual":function(e){t.itemactual=e},"update:hisplanadquisicion":function(e){t.hisplanadquisicion=e}}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_versionesdet=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"1300px"},model:{value:t.dialog_vobodet,callback:function(e){t.dialog_vobodet=e},expression:"dialog_vobodet"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Vistos Buenos para la Aprobación de Modificaciones Solicitadas")]),a("v-spacer"),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:t.getColor(t.vobotmpplaneacion)},on:{click:function(e){return t.abrirtmpVoBo("P",t.tmpdataitem)}}},[a("v-icon",{attrs:{dark:""}},[t._v("science")])],1),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:t.getColor(t.vobotmpfinanciera)},on:{click:function(e){return t.abrirtmpVoBo("F",t.tmpdataitem)}}},[a("v-icon",{attrs:{dark:""}},[t._v("attach_money")])],1),t.visibleVoBoJuridica(t.vobotmpfinanciera,t.vobotmpplaneacion,"S")?a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:t.getColor(t.vobotmpjuridica)},on:{click:function(e){return t.abrirtmpVoBo("J",t.tmpdataitem)}}},[a("v-icon",{attrs:{dark:""}},[t._v("work")])],1):t._e()],1),a("v-card-text",[a("vobo",{attrs:{itemactual:t.tmpdataitem,nuevo:t.nuevadatamodificaciones,tmplanadquisicion:t.tmplanadquisicion},on:{"update:itemactual":function(e){t.tmpdataitem=e},"update:nuevo":function(e){t.nuevadatamodificaciones=e},"update:tmplanadquisicion":function(e){t.tmplanadquisicion=e}}})],1),a("v-card-actions",[t.visibleVoBoJuridica(t.vobotmpfinanciera,t.vobotmpplaneacion,"S")&&!t.readvbjuridica?a("v-btn",{attrs:{small:"",color:"blue",dark:"",loading:t.loadingversion},on:{click:t.crearVersion}},[t._v("Aprobar")]):t._e(),t.visibleVoBoJuridica(t.vobotmpfinanciera,t.vobotmpplaneacion,"S")&&!t.readvbjuridica?a("v-btn",{attrs:{small:"",color:"error",dark:"",loading:t.loadingrechazo},on:{click:t.rechazarModificacion}},[t._v("\n\t\t\t\t\t\tRechazar\n\t\t\t\t\t")]):t._e(),a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_vobodet=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.dialog_vobotmpfinanciera,callback:function(e){t.dialog_vobotmpfinanciera=e},expression:"dialog_vobotmpfinanciera"}},[a("v-card",[a("v-card-text",[a("br"),a("v-tabs",{staticClass:"elevation-2 full-height-tab",attrs:{grow:!0,"icons-and-text":!1,"show-arrows":""},model:{value:t.tabtmp,callback:function(e){t.tabtmp=e},expression:"tabtmp"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-tmpresumen"}},[t._v("\n\t\t\t\t\t\t\tRESUMEN\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tab-tmpresumen"}},[a("div",{staticStyle:{width:"97%","padding-left":"20px"}},[a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisFinNecesidades,items:t.vistanecesidades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tValor Convenio: "+t._s(""+("C"==t.tmpdataitem.basemoneda?t.tmpdataitem.moneda:"$ "+t.number_format(t.tmpvalortotalconvenio,2)))+"\n\t\t\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tTotal Necesidades: "+t._s(t.valortotalnecesidades)+"\n\t\t\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tSaldo: "+t._s(("C"==t.tmpdataitem.basemoneda?t.tmpdataitem.moneda:"$ "+t.number_format(t.tmpvalortotalconvenio-t.limpiarMoneda(t.valortotalnecesidades),2))+" ")+"\n\t\t\t\t\t\t\t\t\t\t")])])],1),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("RESUMEN ACTIVIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActividades,items:t.vistaactividades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.total",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.total,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("ACTIVIDADES - NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActNec,items:t.vistaactividadnecesidad,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("ACTIVIDADES - CATEGORIAS DEL GASTO")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActCat,items:t.vistaactividadcatalogo,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.topecategoria",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.topecategoria,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)])],1)]),a("v-tab",{attrs:{href:"#tab-tmpvobo"}},[t._v("\n\t\t\t\t\t\t\tVISTO BUENO\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tab-tmpvobo"}},[a("div",{staticStyle:{width:"97%","padding-left":"20px"}},[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.arrVoBo,"item-value":"valor","item-text":"texto",label:"Visto Bueno",rules:[t.rules.required],"return-object":!1,readonly:t.readvbfinanciera},model:{value:t.vobotmpfinanciera,callback:function(e){t.vobotmpfinanciera=e},expression:"vobotmpfinanciera"}})],1)],1),a("v-row",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:t.readvbfinanciera},model:{value:t.obstmpfinanciera,callback:function(e){t.obstmpfinanciera=e},expression:"obstmpfinanciera"}})],1)],1)])],1)],1),a("v-card-actions",[a("v-spacer"),t.readvbfinanciera?t._e():a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){return t.actualizatmpVoBo("F")}}},[t._v("\n\t\t\t\t\t\tGuardar\n\t\t\t\t\t")]),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_vobotmpfinanciera=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.dialog_vobotmpjuridica,callback:function(e){t.dialog_vobotmpjuridica=e},expression:"dialog_vobotmpjuridica"}},[a("v-card",[a("v-card-text",[a("br"),a("v-tabs",{staticClass:"elevation-2 full-height-tab",attrs:{grow:!0,"icons-and-text":!1,"show-arrows":""},model:{value:t.tabtmp,callback:function(e){t.tabtmp=e},expression:"tabtmp"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-tmpresumen"}},[t._v("\n\t\t\t\t\t\t\tRESUMEN\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tab-tmpresumen"}},[a("div",{staticStyle:{width:"97%","padding-left":"20px"}},[a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisFinNecesidades,items:t.vistanecesidades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tValor Convenio: "+t._s(""+("C"==t.tmpdataitem.basemoneda?t.tmpdataitem.moneda:"$ "+t.number_format(t.tmpvalortotalconvenio,2)))+"\n\t\t\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tTotal Necesidades: "+t._s(t.valortotalnecesidades)+"\n\t\t\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tSaldo: "+t._s(("C"==t.tmpdataitem.basemoneda?t.tmpdataitem.moneda:"$ "+t.number_format(t.tmpvalortotalconvenio-t.limpiarMoneda(t.valortotalnecesidades),2))+" ")+"\n\t\t\t\t\t\t\t\t\t\t")])])],1),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("RESUMEN ACTIVIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActividades,items:t.vistaactividades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.total",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.total,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("ACTIVIDADES - NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActNec,items:t.vistaactividadnecesidad,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("ACTIVIDADES - CATEGORIAS DEL GASTO")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActCat,items:t.vistaactividadcatalogo,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.topecategoria",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.topecategoria,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)])],1)]),a("v-tab",{attrs:{href:"#tab-tmpvobo"}},[t._v("\n\t\t\t\t\t\t\tVISTO BUENO\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tab-tmpvobo"}},[a("div",{staticStyle:{width:"97%","padding-left":"20px"}},[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.arrVoBo,"item-value":"valor","item-text":"texto",label:"Visto Bueno",rules:[t.rules.required],"return-object":!1,readonly:t.readvbjuridica},model:{value:t.vobotmpjuridica,callback:function(e){t.vobotmpjuridica=e},expression:"vobotmpjuridica"}})],1)],1),a("v-row",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:t.readvbjuridica},model:{value:t.obstmpjuridica,callback:function(e){t.obstmpjuridica=e},expression:"obstmpjuridica"}})],1)],1)])],1)],1),a("v-card-actions",[a("v-spacer"),t.readvbjuridica?t._e():a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){return t.actualizatmpVoBo("J")}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_vobotmpjuridica=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.dialog_vobotmpplaneacion,callback:function(e){t.dialog_vobotmpplaneacion=e},expression:"dialog_vobotmpplaneacion"}},[a("v-card",[a("v-card-text",[a("br"),a("v-tabs",{staticClass:"elevation-2 full-height-tab",attrs:{grow:!0,"icons-and-text":!1,"show-arrows":""},model:{value:t.tabtmp,callback:function(e){t.tabtmp=e},expression:"tabtmp"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-tmpresumen"}},[t._v("\n\t\t\t\t\t\t\tRESUMEN\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tab-tmpresumen"}},[a("div",{staticStyle:{width:"97%","padding-left":"20px"}},[a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisFinNecesidades,items:t.vistanecesidades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tValor Convenio: "+t._s(""+("C"==t.tmpdataitem.basemoneda?t.tmpdataitem.moneda:"$ "+t.number_format(t.tmpvalortotalconvenio,2)))+"\n\t\t\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tTotal Necesidades: "+t._s(t.valortotalnecesidades)+"\n\t\t\t\t\t\t\t\t\t\t")])]),a("v-col",{attrs:{cols:"4"}},[a("span",{staticStyle:{color:"black"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tSaldo: "+t._s(("C"==t.tmpdataitem.basemoneda?t.tmpdataitem.moneda:"$ "+t.number_format(t.tmpvalortotalconvenio-t.limpiarMoneda(t.valortotalnecesidades),2))+" ")+"\n\t\t\t\t\t\t\t\t\t\t")])])],1),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("RESUMEN ACTIVIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActividades,items:t.vistaactividades,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.total",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.total,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("ACTIVIDADES - NECESIDADES")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActNec,items:t.vistaactividadnecesidad,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)]),a("v-row",{staticStyle:{width:"100%","justify-content":"center"}},[a("div",{staticStyle:{width:"100%","justify-content":"center"}},[a("h3",{staticStyle:{"text-align":"center",color:"black"}},[t._v("ACTIVIDADES - CATEGORIAS DEL GASTO")]),a("br"),a("v-data-table",{attrs:{headers:t.headerVisActCat,items:t.vistaactividadcatalogo,"disable-sort":!0,"items-per-page":3},scopedSlots:t._u([{key:"item.topecategoria",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.topecategoria,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.totalactividades",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.totalactividades,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:t.tmpmoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)])],1)]),a("v-tab",{attrs:{href:"#tab-tmpvobo"}},[t._v("\n\t\t\t\t\t\t\tVISTO BUENO\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t")]),a("v-tab-item",{attrs:{value:"tab-tmpvobo"}},[a("div",{staticStyle:{width:"97%","padding-left":"20px"}},[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.arrVoBo,"item-value":"valor","item-text":"texto",label:"Visto Bueno",rules:[t.rules.required],"return-object":!1,readonly:t.readvbdircientifica},model:{value:t.vobotmpplaneacion,callback:function(e){t.vobotmpplaneacion=e},expression:"vobotmpplaneacion"}})],1)],1),a("v-row",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:t.readvbdircientifica},model:{value:t.obstmpplaneacion,callback:function(e){t.obstmpplaneacion=e},expression:"obstmpplaneacion"}})],1)],1)])],1)],1),a("v-card-actions",[a("v-spacer"),t.readvbdircientifica?t._e():a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){return t.actualizatmpVoBo("P")}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_vobotmpplaneacion=!1}}},[t._v("Cancelar")])],1)],1)],1)],1)},fr=[],gr=a("c032"),br=a("5657");function xr(t){return xr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(t)}function _r(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function yr(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){_r(n,o,i,r,s,"next",t)}function s(t){_r(n,o,i,r,s,"throw",t)}r(void 0)}))}}function kr(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Cr={name:"PlanesAdquisicion",components:{unspsc:function(){return a.e("chunk-2d21aef5").then(a.bind(null,"be40"))},actividades:function(){return a.e("chunk-7712dcd0").then(a.bind(null,"bb5d5"))},modificacionesvb:function(){return a.e("chunk-62fadc7c").then(a.bind(null,"ba58"))},versiones:function(){return a.e("chunk-afb9bec2").then(a.bind(null,"da91"))},vobo:function(){return a.e("chunk-159b8c3b").then(a.bind(null,"d85a"))}},data:function(){var t;return t={modulo:"PLANES DE ADQUISICIÓN",loading:!1,dialog:!1,edit:-1,processing:!1,formTitle:"",search:"",valid:!1,dialog_unspsc:!1,dialog_actividades:!1,codigo:0,proyecto:0,convenio:0,valortotalconvenio:0,estadojurudico:0,aclaracionjurudica:"",estadoplaneacion:"",aclaracionplaneacion:"",moneda:"",enviovobo:"",basemoneda:"",tasa:"",numeroconvenio:"",nombreconvenio:""},kr(t,"valortotalconvenio",0),kr(t,"coordinador",""),kr(t,"fechasuscripcion",""),kr(t,"fechaterejecucion",""),kr(t,"fechaincorporacion",""),kr(t,"itemactual",""),kr(t,"data",[]),kr(t,"arrProyectosGenAll",[]),kr(t,"arrProyectosGen",[]),kr(t,"dialog_addproyecto",!1),kr(t,"searchcongenadd",""),kr(t,"searchcongenadd_nombre",""),kr(t,"arrEstadosNecesidad",[]),kr(t,"headerproyectogen",[{text:"Nombre Proyecto",align:"left",sortable:!1,value:"nombre"},{text:"No. Convenio",align:"left",sortable:!1,value:"convenio"},{text:"Nombre Convenio",value:"nombreconvenio",sortable:!1,align:"left"},{text:"Valor Total",value:"valortotal",sortable:!1,align:"left"},{text:"Tasa",value:"tasa",sortable:!1,align:"left"},{text:"Valor en Pesos",value:"valorpesos",sortable:!1,align:"left"}]),kr(t,"headerproyectogenAdd",[{text:"Nombre Proyecto",align:"left",sortable:!1,value:"nombre"},{text:"No. Convenio",align:"left",sortable:!1,value:"convenio"},{text:"Nombre Convenio",value:"nombreconvenio",sortable:!1,align:"left"},{text:"Valor Total",value:"valortotal",sortable:!1,align:"left"},{text:"Tasa",value:"tasa",sortable:!1,align:"left"},{text:"Valor en Pesos",value:"valorpesos",sortable:!1,align:"left"},{text:"Seleccionar",value:"action",sortable:!1}]),kr(t,"headers",[{text:"Fecha Creac.",align:"left",sortable:!1,value:"fecha"},{text:"Fecha Mod.",align:"left",sortable:!1,value:"ultimafecha"},{text:"No. Convenio",value:"numeroconvenio",sortable:!1,align:"left"},{text:"Nombre Convenio",value:"nombreconvenio",sortable:!1,align:"left"},{text:"Valor Total Convenio",value:"valortotalconvenio",sortable:!1,align:"left"},{text:"Tasa",value:"tasa",sortable:!1,align:"left"},{text:"Valor en Pesos",value:"valorpesos",sortable:!1,align:"left"},{text:"Version",value:"version",sortable:!1,align:"left"},{text:"Envio VoBo",value:"enviovobo",sortable:!1,align:"left"},{text:"Resumen",value:"resumen",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1},{text:"Mod. con VoBo",value:"modvobo",sortable:!1},{text:"VoBo para las Mod.",value:"vobomod",sortable:!1},{text:"Versiones",value:"dataversion",sortable:!1}]),kr(t,"dialog_categoriagasto",!1),kr(t,"edit_necesidad",-1),kr(t,"itemactualnecesidad",""),kr(t,"searchnecesidad",""),kr(t,"datanecesidad",[]),kr(t,"dialog_necesidad_del",!1),kr(t,"dialog_addupdnecesidad",!1),kr(t,"valid_necesidad",!1),kr(t,"codigonecesidad",0),kr(t,"necesidadtxt",""),kr(t,"valornecesidad",0),kr(t,"descripcion",""),kr(t,"valor",0),kr(t,"metodoleccion",0),kr(t,"fechasolcontrata",""),kr(t,"estadocodigonecesidad",""),kr(t,"estadonecesidadtxt",""),kr(t,"formTitleNecesidad",""),kr(t,"titulobtnuardaritem",""),kr(t,"arrMetodosSeleccion",[]),kr(t,"headersnecesidad",[{text:"No.",value:"codigo",sortable:!1,align:"left"},{text:"Descripción",value:"descripcion",sortable:!1,align:"left"},{text:"Valor",value:"valor",sortable:!1,align:"left"},{text:"Método de Selección",value:"metodolecciontxt",sortable:!1,align:"left"},{text:"Fecha de Solicitud de Contratación",value:"fechasolcontrata",sortable:!1,align:"left"},{text:"Estado",value:"estadotxt",sortable:!1,align:"left"},{text:"UNSPSC",value:"unspsc",sortable:!1,align:"left"},{text:"Actividades",value:"actividades",sortable:!1,align:"left"},{text:"Vistos Buenos",value:"vistos",sortable:!1,align:"left",width:200},{text:"Accion",value:"action",sortable:!1}]),kr(t,"perfil",""),kr(t,"dialog_vobofinanciera",!1),kr(t,"dialog_vobojuridica",!1),kr(t,"dialog_voboplaneacion",!1),kr(t,"vobofinanciadoractual",""),kr(t,"vobojuridicaactual",""),kr(t,"voboplaneacionactual",""),kr(t,"obsfinanciadoractual",""),kr(t,"obsplaneacionactual",""),kr(t,"obsjuridicaactual",""),kr(t,"usuarioFinanciera",0),kr(t,"usuarioJuridica",0),kr(t,"usuarioPlaneacion",0),kr(t,"usuarioDirCientifica",0),kr(t,"usuaactual",0),kr(t,"readvbfinanciera",!0),kr(t,"readvbjuridica",!0),kr(t,"readvbplaneacion",!0),kr(t,"readvbdircientifica",!0),kr(t,"codigonecesidadactual",""),kr(t,"arrErrActivNecesidades",[]),kr(t,"arrErrActivCategorias",[]),kr(t,"dialog_validavobo",!1),kr(t,"arrBaseMoneda",[{valor:"C",texto:"CONVENIO"},{valor:"P",texto:"PESOS"}]),kr(t,"headerErrActNec",[{text:"Necesidad",value:"necesidad",sortable:!1,align:"left"},{text:"Valor",value:"valor",sortable:!1,align:"left",width:200},{text:"Total Actividades",value:"totalactividades",sortable:!1}]),kr(t,"headerErrActCat",[{text:"Categoría del Gasto",value:"categoriagasto",sortable:!1,align:"left"},{text:"Tope Categoría",value:"topecategoria",sortable:!1,align:"left",width:200},{text:"Total Actividades",value:"totalactividades",sortable:!1}]),kr(t,"rules",{required:function(t){return!!t||"Campo requerido."},valor:function(t){return t>0||"El Valor debe ser mayor a 0."}}),kr(t,"arrVoBo",[{valor:"N",texto:"NO"},{valor:"S",texto:"SI"}]),kr(t,"vistanecesidades",[]),kr(t,"vistaactividadnecesidad",[]),kr(t,"vistaactividadcatalogo",[]),kr(t,"vistaactividades",[]),kr(t,"headerVisFinNecesidades",[{text:"Descripcion",value:"descripcion",sortable:!1,align:"left"},{text:"Valor",value:"valor",sortable:!1,align:"left"},{text:"Val. Comprometido",value:"comprometido",sortable:!1},{text:"Saldo",value:"saldo",sortable:!1}]),kr(t,"headerVisActNec",[{text:"Necesidad",value:"necesidad",sortable:!1,align:"left"},{text:"Valor",value:"valor",sortable:!1,align:"left",width:200},{text:"Total Actividades",value:"totalactividades",sortable:!1},{text:"Val. Comprometido",value:"comprometido",sortable:!1},{text:"Saldo",value:"saldo",sortable:!1}]),kr(t,"headerVisActCat",[{text:"Categoría del Gasto",value:"categoriagasto",sortable:!1,align:"left"},{text:"Tope Categoría",value:"topecategoria",sortable:!1,align:"left",width:200},{text:"Total Actividades",value:"totalactividades",sortable:!1},{text:"Saldo",value:"saldo",sortable:!1}]),kr(t,"headerVisActividades",[{text:"Actividad",value:"actividad",sortable:!1,align:"left"},{text:"Total",value:"total",sortable:!1,align:"left",width:200},{text:"Val. Comprometido",value:"comprometido",sortable:!1},{text:"Saldo",value:"saldo",sortable:!1}]),kr(t,"tab",null),kr(t,"valortotalnecesidades",0),kr(t,"dialog_resumen",!1),kr(t,"dialog_modificaciones",!1),kr(t,"nuevadatamodificaciones",0),kr(t,"tmplanadquisicion",""),kr(t,"dialog_versiones",!1),kr(t,"dataversiones",[]),kr(t,"headersversion",[{text:"Version",value:"version",sortable:!1,align:"left"},{text:"Ultima Fecha",value:"fecha",sortable:!1,align:"left"},{text:"Detalle",value:"detalle",sortable:!1,align:"left"}]),kr(t,"dialog_versionesdet",!1),kr(t,"hisplanadquisicion",0),kr(t,"numeroversion",0),kr(t,"dialog_vobodet",0),kr(t,"tmpdataitem",[]),kr(t,"vobotmpplaneacion",""),kr(t,"obstmpplaneacion",""),kr(t,"vobotmpfinanciera",""),kr(t,"obstmpfinanciera",""),kr(t,"vobotmpjuridica",""),kr(t,"obstmpjuridica",""),kr(t,"dialog_vobotmpfinanciera",!1),kr(t,"dialog_vobotmpjuridica",!1),kr(t,"dialog_vobotmpplaneacion",!1),kr(t,"tabtmp",null),kr(t,"tmpvalortotalconvenio",0),kr(t,"tmpmoneda",""),kr(t,"loadingversion",!1),kr(t,"loadingrechazo",!1),t},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},envioNotificaciones:function(t){var e=0,a=46,o=this.numeroconvenio;""!=this.coordinador&&"0"!=this.coordinador&&(e=this.coordinador),this.$root.$emit("enviarNotificaciones",{codigopersona:e,mensajenotificacion:t.mensajenotificacion,asuntocorreo:t.asuntocorreo,mensajecorreo:t.mensajecorreo,codigoopcion:a,numerointerno:o})},envioNotificacionesVoBo:function(t){var e=0,a=46,o=this.numeroconvenio;""!=this.usuarioPlaneacion&&"0"!=this.usuarioPlaneacion&&(e=this.usuarioPlaneacion,this.$root.$emit("enviarNotificaciones",{codigopersona:e,mensajenotificacion:t.mensajenotificacion,asuntocorreo:t.asuntocorreo,mensajecorreo:t.mensajecorreo,codigoopcion:a,numerointerno:o})),""!=this.usuarioFinanciera&&"0"!=this.usuarioFinanciera&&(e=this.usuarioFinanciera,this.$root.$emit("enviarNotificaciones",{codigopersona:e,mensajenotificacion:t.mensajenotificacion,asuntocorreo:t.asuntocorreo,mensajecorreo:t.mensajecorreo,codigoopcion:a,numerointerno:o})),""!=this.coordinador&&"0"!=this.coordinador&&(e=this.coordinador),this.$root.$emit("enviarNotificaciones",{codigopersona:e,mensajenotificacion:t.mensajenotificacion,asuntocorreo:t.asuntocorreo,mensajecorreo:t.mensajecorreo,codigoopcion:a,numerointerno:o})},resetForm:function(){this.codigo=0,this.proyecto=0,this.convenio=0,this.numeroconvenio="",this.nombreconvenio="",this.valortotalconvenio=0,this.coordinador="",this.estadojurudico=0,this.aclaracionjurudica="",this.estadoplaneacion="",this.aclaracionplaneacion="",this.moneda="",this.basemoneda="",this.fechasuscripcion="",this.fechaterejecucion="",this.fechaincorporacion="",this.arrProyectosGen=[],this.enviovobo=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerDataPrincipal:function(){var t=this;this.loading=!0,gr["a"].getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},saveitem:function(){if(""!=this.proyecto&&"0"!=this.proyecto){var t=this;this.loading=!0;var e="",a={codigo:this.codigo,proyecto:this.proyecto,estadojurudico:this.estadojurudico,aclaracionjurudica:this.aclaracionjurudica,estadoplaneacion:this.estadoplaneacion,aclaracionplaneacion:this.aclaracionplaneacion,basemoneda:this.basemoneda};this.edit?(e="",e="CODIGO: "+this.codigo+" (Se modificó el Plan de Adquisición con éxito)"):e+="PROYECTO: "+this.arrProyectosGen[0].nombre+", CONVENIO NO.: "+this.arrProyectosGen[0].convenio+", NOMBRE: "+this.arrProyectosGen[0].nombreconvenio,gr["a"].guardarData(a,t.datanecesidad).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";if(t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el Plan de Adquisición con éxito"),0==t.edit){var r="Cordial Saludo,<br><br> Se "+i+" el Plan de Adquisiciones para el Acuerdo Específico # : "+t.numeroconvenio+", Nombre: "+t.nombreconvenio+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";t.envioNotificaciones({mensajenotificacion:"Se "+i+" el Plan de Adquisiciones para el Acuerdo Específico # : "+t.numeroconvenio+", Nombre: "+t.nombreconvenio,asuntocorreo:"Creación o Modificación de Plan de Adquisiciones para un Acuerdo Específico",mensajecorreo:r})}t.edit=-1,t.traerDataPrincipal(),t.resetForm(),t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}else this.showMessage(!0,3e3,"error","No ha seleccionado el Proyecto")},seleccionarProyectoGen:function(t){this.proyecto=t,this.traeProyectoGen(),this.dialog_addproyecto=!1},traeProyectoGen:function(){var t=this;this.arrProyectosGen=[],this.numeroconvenio="",this.nombreconvenio="",this.coordinador="",this.valortotalconvenio=0,this.moneda="",this.fechasuscripcion="",this.fechaterejecucion="",this.fechaincorporacion="",Ze["a"].getDataXId(this.proyecto).then((function(e){e.request&&e.data&&(t.arrProyectosGen=e.data.data,t.numeroconvenio=t.arrProyectosGen[0].convenio,t.nombreconvenio=t.arrProyectosGen[0].nombreconvenio,t.coordinador=t.arrProyectosGen[0].codigocoordinador,t.valortotalconvenio="C"==t.basemoneda?t.arrProyectosGen[0].valortotal:0!=t.arrProyectosGen[0].tasa?t.arrProyectosGen[0].valortotal*t.arrProyectosGen[0].tasa:t.arrProyectosGen[0].valortotal,t.moneda="C"==t.basemoneda?t.arrProyectosGen[0].moneda:"$ ",t.fechasuscripcion=t.arrProyectosGen[0].fechasuscripcion,t.fechaterejecucion=t.arrProyectosGen[0].fechaterejecucion,t.fechaincorporacion=t.arrProyectosGen[0].fechaincorporacion)})).catch((function(t){}))},traeProyectosAll:function(){var t=this;this.arrProyectosGenAll=[],Ze["a"].getDataXVoBo(this.searchcongenadd,this.searchcongenadd_nombre).then((function(e){e.request&&e.data&&(t.arrProyectosGenAll=e.data.data)})).catch((function(t){}))},traeNecesidadXPlanAdq:function(){var t=this;t.datanecesidad=[],gr["a"].getNecesidadXPlanAdq(this.codigo).then((function(e){e.request&&e.data&&(t.datanecesidad=e.data.data)})).catch((function(t){}))},number_format:function(t,e){if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var a=t.split("."),o=/(\d+)(\d{3})/;while(o.test(a[0]))a[0]=a[0].replace(o,"$1.$2");return a.join(",")},limpiarMoneda:function(t){var e=t.toString().replace(",00","").replace(/[$.]/gi,"");return e=e.replace(/[,]/gi,"."),e},formatearValor:function(t){var e=t;e=this.limpiarMoneda(e),e=this.number_format(e,2),this.valor=e},closeDialogoDelNecesidad:function(){this.dialog_necesidad_del=!1},deleteItemnecesidad:function(){var t=yr(He.a.mark((function t(){var e,a,o,i,n;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e="",a="",o=0;case 3:if(!(o<this.datanecesidad.length)){t.next=13;break}if(i=this.datanecesidad[o],i.descripcion!=this.itemactualnecesidad.descripcion){t.next=10;break}return e=i.codigo,a=o,0==e&&this.datanecesidad.splice(o,1),t.abrupt("break",13);case 10:o++,t.next=3;break;case 13:if(0==e){t.next=24;break}return t.prev=14,t.next=17,gr["a"].DelNecesidad(this.codigo,e);case 17:n=t.sent,n.statusText?(this.showMessage(!0,3e3,"success","Se eliminó la Necesidad con éxito"),this.datanecesidad.splice(a,1),this.traeNecesidadXPlanAdq()):this.showMessage(!0,4e3,"error",n.response.data.message),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](14),this.showMessage(!0,3e3,"error",t.t0);case 24:return this.dialog_necesidad_del=!1,t.abrupt("return");case 26:case"end":return t.stop()}}),t,this,[[14,21]])})));function e(){return t.apply(this,arguments)}return e}(),saveitemnecesidad:function(){var t=0,e="",a=0,o="";if(""!=this.limpiarMoneda(this.valor)&&"0"!=this.limpiarMoneda(this.valor.toString().replace(".00",""))){"object"==xr(this.metodoleccion)?(t=this.metodoleccion.codigo,e=this.metodoleccion.descripcion):(t=this.metodoleccion,e=this.itemactualnecesidad.metodolecciontxt),"object"==xr(this.estadocodigonecesidad)?(a=this.estadocodigonecesidad.codigo,o=this.estadocodigonecesidad.descripcion):(a=this.estadocodigonecesidad,o=this.itemactualnecesidad.estadotxt);for(var i=0;i<this.datanecesidad.length;i++){var n=this.datanecesidad[i];if(n.descripcion==this.descripcion&&this.itemactualnecesidad.descripcion!=n.descripcion)return void this.showMessage(!0,3e3,"error","La Descripción ya existe")}var r=new Date(this.fechasolcontrata),s=new Date(this.fechasuscripcion),c=new Date(this.fechaincorporacion);if(r<s||r<c)this.showMessage(!0,5e3,"error","La Fecha de Solicitud de la Contratación No puede ser menor a la Fecha de Inicio Ni de Suscripción ("+this.fechaincorporacion+" - "+this.fechasuscripcion+")");else{var l=0,d=0;d=parseFloat(this.limpiarMoneda(this.valor)),0==this.edit_necesidad&&(l+=parseFloat(d));for(var u=0;u<this.datanecesidad.length;u++){var p=this.datanecesidad[u];this.itemactualnecesidad.descripcion==p.descripcion?l+=d:l+=parseFloat(this.limpiarMoneda(p.valor.toString().replace(this.moneda,"")))}if(parseFloat(l)>parseFloat(this.valortotalconvenio))this.showMessage(!0,5e3,"error","El Valor total de las Necesidades no puede superar el valor total del convenio ("+this.moneda+" "+this.number_format(this.valortotalconvenio)+")");else{if(0==this.edit_necesidad)this.datanecesidad.push({codigo:0,descripcion:this.descripcion,valor:this.limpiarMoneda(this.valor),metodoleccion:t,metodolecciontxt:e,fechasolcontrata:this.fechasolcontrata,estadocodigo:a,estadotxt:o,modificada:"U"});else for(var m=0;m<this.datanecesidad.length;m++){var v=this.datanecesidad[m];if(this.itemactualnecesidad.descripcion==v.descripcion){v.valor=this.limpiarMoneda(this.valor),v.metodoleccion=t,v.metodolecciontxt=e,v.fechasolcontrata=this.fechasolcontrata,v.estadocodigo=a,v.estadotxt=o,"N"==v.modificada&&(v.modificada="S");break}}this.edit_necesidad=-1,this.dialog_addupdnecesidad=!1}}}else this.showMessage(!0,3e3,"error","Debe ingresar el valor de la Necesidad")},resetFormCategoria:function(){this.descripcion="",this.valor=0,this.metodoleccion="",this.fechasolcontrata="",this.estadocodigonecesidad=""},cerrarDialogoNecesidad:function(){this.resetFormCategoria(),this.dialog_addupdnecesidad=!1,this.edit_necesidad=-1},traerMetodosSeleccion:function(){var t=this;this.arrMetodosSeleccion=[],gi["a"].getMetodosSeleccion().then((function(e){e.request&&e.data&&(t.arrMetodosSeleccion=e.data.data)})).catch((function(t){}))},abrirUnspsc:function(t,e){this.codigonecesidad=t,this.necesidadtxt=e,this.dialog_unspsc=!0},abrirActividad:function(t,e,a){this.codigonecesidad=t,this.necesidadtxt=e,this.valornecesidad=a,this.tasa=this.arrProyectosGen[0].tasa,this.dialog_actividades=!0},traeEstadosNecesidad:function(){var t=this;this.loading=!0,this.arrEstadosNecesidad=[],ve["a"].getEstadosXTipo(4).then((function(e){e.request&&e.data&&(t.arrEstadosNecesidad=e.data.data)})).catch((function(t){}))},getColor:function(t){return""==t?"grey":"S"==t?"blue":"pink"},traeUsuarios:function(){var t=yr(He.a.mark((function t(){var e,a,o,i;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.usuarioFinanciera=0,this.usuarioJuridica=0,this.usuarioPlaneacion=0,this.usuarioDirCientifica=0,t.prev=4,t.next=7,jt["a"].getUserXArea(2);case 7:return e=t.sent,t.next=10,jt["a"].getUserXArea(7);case 10:return a=t.sent,t.next=13,jt["a"].getUserXArea(4);case 13:return o=t.sent,t.next=16,jt["a"].getUserXArea(3);case 16:i=t.sent,e.data&&(this.usuarioFinanciera=e.data.data[0].userid),a.data&&(this.usuarioJuridica=a.data.data[0].userid),o.data&&(this.usuarioPlaneacion=o.data.data[0].userid),i.data&&(this.usuarioDirCientifica=i.data.data[0].userid),this.usuaactual=this.$session.get("usuarioid"),console.log("usu jur: "+this.usuarioJuridica),this.readvbfinanciera=!0,this.readvbjuridica=!0,this.readvbplaneacion=!0,this.readvbdircientifica=!0,this.usuaactual==this.usuarioFinanciera&&(this.readvbfinanciera=!1),this.usuaactual==this.usuarioJuridica&&(this.readvbjuridica=!1),this.usuaactual==this.usuarioPlaneacion&&(this.readvbplaneacion=!1),this.usuaactual==this.usuarioDirCientifica&&(this.readvbdircientifica=!1),t.next=35;break;case 33:t.prev=33,t.t0=t["catch"](4);case 35:return t.prev=35,t.finish(35);case 37:case"end":return t.stop()}}),t,this,[[4,33,35,37]])})));function e(){return t.apply(this,arguments)}return e}(),abrirVoBo:function(t,e){this.dataVistasFinanciera(),"F"==t?(this.vobofinanciadoractual=e.vobofinanciador,this.obsfinanciadoractual=e.obsfinanciador,this.dialog_vobofinanciera=!0,this.codigonecesidadactual=e.codigo,this.tab="tab-resumen"):"J"==t?(this.vobojuridicaactual=e.vobojuridica,this.obsjuridicaactual=e.obsjuridica,this.dialog_vobojuridica=!0,this.codigonecesidadactual=e.codigo):"P"==t&&(this.voboplaneacionactual=e.voboplaneacion,this.obsplaneacionactual=e.obsplaneacion,this.dialog_voboplaneacion=!0,this.codigonecesidadactual=e.codigo)},actualizaVoBo:function(t){var e="",a=0,o="",i="";if("F"==t?(e="DE FINANCIERA",a=this.vobofinanciadoractual,o=this.obsfinanciadoractual):"J"==t?(e="DE JURÍDICA",a=this.vobojuridicaactual,o=this.obsjuridicaactual):"P"==t&&(e="DE PLANEACIÓN",a=this.voboplaneacionactual,o=this.obsplaneacionactual),"N"!=a||""!=o){i="Visto Bueno "+e+" ("+("S"==a?"SI":"NO")+", Observación: "+o+")";var n=this;this.loading=!0,gr["a"].updVoBoNecesidad(this.codigo,this.codigonecesidadactual,t,a,o).then((function(a){if(a.response){var o=a.response.data.message;n.showMessage(!0,3e3,"error",o)}else if(a.statusText){n.showMessage(!0,3e3,"success","Se actualizó el Visto Bueno "+e+" con éxito"),n.agregaBitacora("VISTO BUENO "+e,i),"F"==t?n.dialog_vobofinanciera=!1:"J"==t?n.dialog_vobojuridica=!1:"P"==t&&(n.dialog_voboplaneacion=!1),n.traeNecesidadXPlanAdq();var r="Cordial Saludo,<br><br> Se Actualizó el Visto Bueno "+e+" para el Plan de Adquisiciones del Acuerdo Específico # : "+n.numeroconvenio+", Nombre: "+n.nombreconvenio+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";n.envioNotificaciones({mensajenotificacion:"Se Actualizó el Visto Bueno "+e+" para el Plan de Adquisiciones del Acuerdo Específico # : "+n.numeroconvenio+", Nombre: "+n.nombreconvenio,asuntocorreo:"Visto Bueno del Plan de Adquisiciones para un Acuerdo Específico",mensajecorreo:r})}else n.showMessage(!0,3e3,"error",a.message);n.loading=!1})).catch((function(t){n.showMessage(!0,3e3,"error",t),n.loading=!1}))}else this.showMessage(!0,4e3,"error","Debe ingresar una Observación si no se da el Visto Bueno")},visibleVoBoJuridica:function(t,e,a){return"S"==e&&"S"==t&&"S"==a},enviarParaVoBo:function(){var t=yr(He.a.mark((function t(){var e,a,o,i,n,r,s,c,l,d,u,p,m;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=parseFloat(this.arrProyectosGen[0].tasa),t.next=4,gr["a"].validaNecesidades(this.codigo);case 4:return a=t.sent,t.next=7,gr["a"].ValidaUnspsc(this.codigo);case 7:return o=t.sent,t.next=10,gr["a"].ValidaActividadNecesidad(this.codigo);case 10:return i=t.sent,t.next=13,gr["a"].ValidaActividadCategoria(this.codigo,this.basemoneda,e);case 13:if(n=t.sent,r=a.data[0],s=o.data[0],c=parseFloat(this.limpiarMoneda(this.valortotalconvenio)),!(parseFloat(parseFloat(r.total))<=0)){t.next=22;break}return this.showMessage(!0,5e3,"error","No se ha ingresado ninguna Necesidad"),t.abrupt("return");case 22:if(l=parseFloat(this.limpiarMoneda(r.totalvalor)),!(l<c)){t.next=27;break}return d=c-l,this.showMessage(!0,5e3,"error","El total de las Necesidades no compromete el valor total del Convenio.Saldo: $ "+this.number_format(d,0)),t.abrupt("return");case 27:if(!(parseFloat(parseFloat(s.total))<=0)){t.next=30;break}return this.showMessage(!0,5e3,"error","No se ha ingresado ningun Código Unspsc"),t.abrupt("return");case 30:if(this.arrErrActivNecesidades=i.data,this.arrErrActivCategorias=n.data,!(this.arrErrActivNecesidades.length>0||this.arrErrActivCategorias>0)){t.next=35;break}return this.dialog_validavobo=!0,t.abrupt("return");case 35:return t.next=37,gr["a"].enviarParaVoBo(this.codigo);case 37:u=t.sent,u.statusText?(this.showMessage(!0,3e3,"success","Se envió para Visto Bueno el Plan de Adquiciones"),p="Se envió para Visto Bueno Plan de Adquisiciones. Convenio "+this.numeroconvenio+" - "+this.nombreconvenio,this.agregaBitacora("VISTO BUENO",p),m="Cordial Saludo,<br><br> Se envío para su respectivo Visto Bueno el Plan de Adquisiciones para el Acuerdo Específico # : "+this.numeroconvenio+", Nombre: "+this.nombreconvenio+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>",this.envioNotificacionesVoBo({mensajenotificacion:"Se envío para su respectivo Visto Bueno el Plan de Adquisiciones para el Acuerdo Específico # : "+this.numeroconvenio+", Nombre: "+this.nombreconvenio,asuntocorreo:"Envío para Visto Bueno de Plan de Adquisiciones para un Acuerdo Específico",mensajecorreo:m}),this.traeNecesidadXPlanAdq(),this.traerDataPrincipal(),this.dialog=!1):u.message?this.showMessage(!0,5e3,"error",u.message):this.showMessage(!0,5e3,"error","Error desconocido"),t.next=44;break;case 41:t.prev=41,t.t0=t["catch"](0),this.showMessage(!0,5e3,"error",t.t0);case 44:return t.prev=44,t.finish(44);case 46:case"end":return t.stop()}}),t,this,[[0,41,44,46]])})));function e(){return t.apply(this,arguments)}return e}(),dataVistasFinanciera:function(){var t=yr(He.a.mark((function t(){var e,a,o,i,n,r,s;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=parseFloat(this.arrProyectosGen[0].tasa),t.next=4,gr["a"].VistaFinNecesidades(this.codigo);case 4:return a=t.sent,t.next=7,gr["a"].VistaFinActNec(this.codigo);case 7:return o=t.sent,t.next=10,gr["a"].VistaFinActCat(this.codigo,this.basemoneda,e);case 10:return i=t.sent,t.next=13,gr["a"].VistaFinResActividades(this.codigo);case 13:n=t.sent,this.vistanecesidades=a.data,this.vistaactividadnecesidad=o.data,this.vistaactividadcatalogo=i.data,this.vistaactividades=n.data,r=function(t,e){return parseFloat(t)+parseFloat(e.valor)},s=0,this.valortotalnecesidades=this.vistanecesidades.reduce(r,s),this.valortotalnecesidades="C"==this.basemoneda?this.arrProyectosGen[0].moneda:"$ "+this.number_format(this.valortotalnecesidades,2),t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](0),this.showMessage(!0,5e3,"error",t.t0);case 27:return t.prev=27,t.finish(27);case 29:case"end":return t.stop()}}),t,this,[[0,24,27,29]])})));function e(){return t.apply(this,arguments)}return e}(),abrirresumen:function(){var t=yr(He.a.mark((function t(e,a,o){var i;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.vistanecesidades=[],this.vistaactividadnecesidad=[],this.vistaactividadcatalogo=[],this.vistaactividades=[],this.codigo=e,this.proyecto=a,this.basemoneda=o,t.next=9,Ze["a"].getDataXId(this.proyecto);case 9:i=t.sent,this.arrProyectosGen=i.data.data,this.dataVistasFinanciera(),this.dialog_resumen=!0;case 13:case"end":return t.stop()}}),t,this)})));function e(e,a,o){return t.apply(this,arguments)}return e}(),limpiarBusqueda:function(t){"searchcongenadd"==t?this.searchcongenadd="":"searchcongenadd_nombre"==t&&(this.searchcongenadd_nombre=""),this.traeProyectosAll()},abrirModEnVoBo:function(){var t=yr(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,br["a"].BuscarPlanAdquisicion(e.codigo);case 2:a=t.sent,a.data?a.data.data.length>0?(this.itemactual=a.data.data,this.nuevadatamodificaciones=0,this.tmplanadquisicion=this.itemactual[0].tmpcod):(this.tmplanadquisicion=0,this.nuevadatamodificaciones=1,this.itemactual=e,this.numeroconvenio=this.itemactual[0].convenio,this.nombreconvenio=this.itemactual[0].nombreconvenio,this.coordinador=this.itemactual[0].coordinador):(this.tmplanadquisicion=0,this.nuevadatamodificaciones=1,this.itemactual=e),this.itemactual=e,this.dialog_modificaciones=!0;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),abrirModAprobacionVoBo:function(){var t=yr(He.a.mark((function t(e){var a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,br["a"].BuscarPlanAdquisicion(e.codigo);case 2:a=t.sent,o=!1,a.data&&a.data.data.length>0&&(this.tmpdataitem=a.data.data,this.nuevadatamodificaciones=0,this.tmpdataitem=this.tmpdataitem[0],this.tmplanadquisicion=this.tmpdataitem.tmpcod,o=!0),1==o?(this.vobotmpplaneacion=this.tmpdataitem.voboplaneacion,this.obstmpplaneacion=this.tmpdataitem.obsplaneacion,this.vobotmpfinanciera=this.tmpdataitem.vobofinanciera,this.obstmpfinanciera=this.tmpdataitem.obsfinanciera,this.vobotmpjuridica=this.tmpdataitem.vobojuridica,this.obstmpjuridica=this.tmpdataitem.obsjuridica,this.numeroconvenio=this.tmpdataitem.convenio,this.nombreconvenio=this.tmpdataitem.nombreconvenio,this.coordinador=this.tmpdataitem.coordinador,this.dialog_vobodet=!0):this.showMessage(!0,5e3,"error","No se encontró ninguna Modificación para ser aprobada");case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),cerrarDialogoModEnVoBo:function(){this.dialog_modificaciones=!1},abrirVersiones:function(){var t=yr(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,gr["a"].getVersiones(e.codigo);case 2:a=t.sent,this.dataversiones=[],a.data&&(this.dataversiones=a.data.data),this.dialog_versiones=!0;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),abrirVersionesDet:function(){var t=yr(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,gr["a"].getVersionActual(e.codigo,e.version);case 2:a=t.sent,this.itemactual=[],a.data&&(this.itemactual=a.data.data[0]),this.hisplanadquisicion=0,this.numeroversion=0,this.itemactual.hiscod&&(this.hisplanadquisicion=this.itemactual.hiscod,this.numeroversion=this.itemactual.version),this.dialog_versionesdet=!0;case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),abrirtmpVoBo:function(t,e){"F"==t?(this.dataVistasTmpFinanciera(),this.dialog_vobotmpfinanciera=!0,this.tab="tab-tmpresumen"):"J"==t?this.dialog_vobotmpjuridica=!0:"P"==t&&(this.dialog_vobotmpplaneacion=!0)},dataVistasTmpFinanciera:function(){var t=yr(He.a.mark((function t(){var e,a,o,i,n,r;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gr["a"].VistaFinTmpNecesidades(this.tmplanadquisicion);case 3:return e=t.sent,t.next=6,gr["a"].VistaFinTmpActNec(this.tmplanadquisicion);case 6:return a=t.sent,t.next=9,gr["a"].VistaFinTmpActCat(this.tmplanadquisicion,this.tmpdataitem.basemoneda,this.tmpdataitem.tasa);case 9:return o=t.sent,t.next=12,gr["a"].VistaFinResTmpActividades(this.tmplanadquisicion);case 12:i=t.sent,this.vistanecesidades=e.data,this.vistaactividadnecesidad=a.data,this.vistaactividadcatalogo=o.data,this.vistaactividades=i.data,n=function(t,e){return parseFloat(t)+parseFloat(e.valor)},r=0,this.tmpmoneda="C"==this.tmpdataitem.basemoneda?this.tmpdataitem.moneda:"$ ",this.tmpvalortotalconvenio="C"==this.tmpdataitem.basemoneda?this.tmpdataitem.valortotalconvenio:0!=this.tmpdataitem.tasa?this.tmpdataitem.valortotalconvenio*this.tmpdataitem.tasa:this.tmpdataitem.valortotalconvenio,this.valortotalnecesidades=this.vistanecesidades.reduce(n,r),this.valortotalnecesidades="C"==this.tmpdataitem.basemoneda?this.tmpdataitem.moneda:"$ "+this.number_format(this.valortotalnecesidades,2),t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](0),this.showMessage(!0,5e3,"error",t.t0);case 28:return t.prev=28,t.finish(28);case 30:case"end":return t.stop()}}),t,this,[[0,25,28,30]])})));function e(){return t.apply(this,arguments)}return e}(),actualizatmpVoBo:function(t){var e="",a=0,o="",i="";if("F"==t?(e="DE FINANCIERA",a=this.vobotmpfinanciera,o=this.obstmpfinanciera):"J"==t?(e="DE JURÍDICA",a=this.vobotmpjuridica,o=this.obstmpjuridica):"P"==t&&(e="DE SUBDIRECCIÓN CIENTÍFICA",a=this.vobotmpplaneacion,o=this.obstmpplaneacion),"N"!=a||""!=o){i="Visto Bueno "+e+" ("+("S"==a?"SI":"NO")+", Observación: "+o+")";var n=this;this.loading=!0,gr["a"].ActualizarTmpVoBo(this.tmplanadquisicion,t,a,o).then((function(a){if(a.response){var o=a.response.data.message;n.showMessage(!0,3e3,"error",o)}else if(a.statusText){n.showMessage(!0,3e3,"success","Se actualizó el Visto Bueno "+e+" para una solicitud de modificación de Plan de Adquisición"),n.agregaBitacora("VISTO BUENO PARA SOLICITUD DE MODIFICACION DE PLAN DE ADQUISICION"+e,i),"F"==t?n.dialog_vobotmpfinanciera=!1:"J"==t?n.dialog_vobotmpjuridica=!1:"P"==t&&(n.dialog_vobotmpplaneacion=!1),n.traeNecesidadXPlanAdq();var r="Cordial Saludo,<br><br> Se Actualizó el Visto Bueno "+e+" para solicitud de modificación del Plan de Adquisiciones del Acuerdo Específico # : "+n.numeroconvenio+", Nombre: "+n.nombreconvenio+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";n.envioNotificaciones({mensajenotificacion:"Se Actualizó el Visto Bueno "+e+" para solicitud de modificación del Plan de Adquisiciones del Acuerdo Específico # : "+n.numeroconvenio+", Nombre: "+n.nombreconvenio,asuntocorreo:"Visto Bueno para solicitud de modificación de un Plan de Adquisiciones para un Acuerdo Específico",mensajecorreo:r})}else n.showMessage(!0,3e3,"error",a.message);n.loading=!1})).catch((function(t){n.showMessage(!0,3e3,"error",t),n.loading=!1}))}else this.showMessage(!0,4e3,"error","Debe ingresar una Observación si no se da el Visto Bueno")},crearVersion:function(){this.loadingversion=!0;var t=this,e="Acuerdo Específico # : "+this.numeroconvenio+", Nombre: "+t.nombreconvenio;gr["a"].creaVersion(this.tmplanadquisicion,this.tmpdataitem.codigo).then((function(a){if(a.data)if("1"!=a.data)t.showMessage(!0,3e3,"error",a.data);else{t.showMessage(!0,3e3,"success","Se creó la Nueva versión del Plan de Adquisición"),t.agregaBitacora("VERSION PLAN DE ADQUISICIONES",e);var o="Cordial Saludo,<br><br> Se creó la Nueva versión del Plan de Adquisiciones del Acuerdo Específico # : "+t.numeroconvenio+", Nombre: "+t.nombreconvenio+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";t.envioNotificaciones({mensajenotificacion:"Se creó la Nueva versión del Plan de Adquisiciones del Acuerdo Específico # : "+t.numeroconvenio+", Nombre: "+t.nombreconvenio,asuntocorreo:"Nueva versión de un Plan de Adquisiciones",mensajecorreo:o}),t.dialog_vobodet=!1,t.traerDataPrincipal()}else if(a.response){var i=a.response.data.message;t.showMessage(!0,3e3,"error",i)}else if(a.statusText){t.showMessage(!0,3e3,"success","Se creó la Nueva versión del Plan de Adquisición"),t.agregaBitacora("VERSION PLAN DE ADQUISICIONES",e);o="Cordial Saludo,<br><br> Se creó la Nueva versión del Plan de Adquisiciones del Acuerdo Específico # : "+t.numeroconvenio+", Nombre: "+t.nombreconvenio+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";t.envioNotificaciones({mensajenotificacion:"Se creó la Nueva versión del Plan de Adquisiciones del Acuerdo Específico # : "+t.numeroconvenio+", Nombre: "+t.nombreconvenio,asuntocorreo:"Nueva versión de un Plan de Adquisiciones",mensajecorreo:o}),t.dialog_vobodet=!1,t.traerDataPrincipal()}else t.showMessage(!0,3e3,"error",a.message);t.loadingversion=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loadingversion=!1}))},rechazarModificacion:function(){this.loadingrechazo=!0;var t=this,e="Acuerdo Específico # : "+this.numeroconvenio+", Nombre: "+t.nombreconvenio;gr["a"].delTemporalRechazo(this.tmplanadquisicion).then((function(a){if(a.data)if("1"!=a.data)t.showMessage(!0,3e3,"error",a.data);else{t.showMessage(!0,3e3,"success","Se rechazó las modificaciones para el Plan de Adquisiciones"),t.agregaBitacora("RECHAZO MODIFICACIONES PLAN DE ADQUISICIONES",e);var o="Cordial Saludo,<br><br> Se rechazó las modificaciones del Plan de Adquisiciones del Acuerdo Específico # : "+t.numeroconvenio+", Nombre: "+t.nombreconvenio+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";t.envioNotificaciones({mensajenotificacion:"Se rechazó las modificaciones del Plan de Adquisiciones del Acuerdo Específico # : "+t.numeroconvenio+", Nombre: "+t.nombreconvenio,asuntocorreo:"Rechazo Modificaciones de un Plan de Adquisiciones",mensajecorreo:o}),t.dialog_vobodet=!1,t.traerDataPrincipal()}else if(a.response){var i=a.response.data.message;t.showMessage(!0,3e3,"error",i)}else if(a.statusText){t.showMessage(!0,3e3,"success","Se rechazó las modificaciones para el Plan de Adquisiciones"),t.agregaBitacora("RECHAZO MODIFICACIONES PLAN DE ADQUISICIONES",e);o="Cordial Saludo,<br><br> Se rechazó las modificaciones del Plan de Adquisiciones del Acuerdo Específico # : "+t.numeroconvenio+", Nombre: "+t.nombreconvenio+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";t.envioNotificaciones({mensajenotificacion:"Se rechazó las modificaciones del Plan de Adquisiciones del Acuerdo Específico # : "+t.numeroconvenio+", Nombre: "+t.nombreconvenio,asuntocorreo:"Rechazo Modificaciones de un Plan de Adquisiciones",mensajecorreo:o}),t.dialog_vobodet=!1,t.traerDataPrincipal()}else t.showMessage(!0,3e3,"error",a.message);t.loadingrechazo=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loadingrechazo=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.proyecto=this.itemactual.proyecto,this.convenio=this.itemactual.convenio,this.numeroconvenio=this.itemactual.numeroconvenio,this.nombreconvenio=this.itemactual.nombreconvenio,this.coordinador=this.itemactual.coordinador,this.estadojurudico=0,this.aclaracionjurudica="",this.estadoplaneacion="",this.aclaracionplaneacion="",this.moneda="C"==this.basemoneda?this.itemactual.moneda:"$ ",this.enviovobo=this.itemactual.enviovobo,this.basemoneda=this.itemactual.basemoneda,this.valortotalconvenio="C"==this.basemoneda?this.itemactual.valortotalconvenio:0!=this.itemactual.tasa?this.itemactual.valortotalconvenio*this.itemactual.tasa:this.itemactual.valortotalconvenio,this.fechasuscripcion=this.itemactual.fechasuscripcion,this.fechaterejecucion=this.itemactual.fechaterejecucion,this.fechaincorporacion=this.itemactual.fechaincorporacion,this.traeProyectoGen()):(this.resetForm(),this.formTitle="Nuevo",this.basemoneda="P"),this.traeNecesidadXPlanAdq()},edit_necesidad:function(t){t?(this.formTitleNecesidad="Editar",this.descripcion=this.itemactualnecesidad.descripcion,this.valor=this.number_format(this.itemactualnecesidad.valor,2),this.metodoleccion=this.itemactualnecesidad.metodoleccion,this.fechasolcontrata=this.itemactualnecesidad.fechasolcontrata,this.estadocodigonecesidad=this.itemactualnecesidad.estadocodigo,this.estadonecesidadtxt=this.itemactualnecesidad.estadotxt,this.titulobtnuardaritem="Actualizar Item"):(this.resetFormCategoria(),this.formTitleNecesidad="Nuevo",this.titulobtnuardaritem="Agregar Item",this.estadocodigonecesidad="15",this.estadonecesidadtxt="NUEVA")},arrProyectosGen:function(t){t.length>0&&(this.moneda="C"==this.basemoneda?t[0].moneda:"$ ",this.valortotalconvenio="C"==this.basemoneda?t[0].valortotal:0!=t[0].tasa?t[0].valortotal*t[0].tasa:t[0].valortotal)}},computed:{},mounted:function(){var t=this;this.traerDataPrincipal(),this.traeProyectosAll(),this.traerMetodosSeleccion(),this.traeEstadosNecesidad(),this.agregaBitacora("INGRESO","INGRESO AL MODULO"),this.traeUsuarios(),this.$root.$on("cerrarDialogoModEnVoBo",(function(){t.cerrarDialogoModEnVoBo()}))}},Sr=Cr,wr=(a("cf22"),Object(C["a"])(Sr,hr,fr,!1,null,null,null)),Pr=wr.exports,Ar=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-flex",[0==t.readonlyData?a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual="",t.e1=1}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1):t._e(),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("DESPLAZAMIENTOS")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o,t.e1=1}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"1300px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle)+"\n\t\t\t\t\t\t"),a("div",{staticClass:"warning-msg"},[a("i",{staticClass:"fa fa-warning"},[a("v-icon",[t._v("warning")])],1),t._v("\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tRecuerde dar click en el botón de Guardar. Todos los procesos que se realicen \n\t\t\t\t\t\t\tson temporales y se pueden perder, hasta que se le indique al sistema que \n\t\t\t\t\t\t\tdeben ser guardados definitivamente.\n\t\t\t\t\t\t")])])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",[a("span",[a("h3",[t._v("Consecutivo: "+t._s(t.codigo))])])]),a("v-flex",[a("table",[a("tr",[a("td",[a("span",[a("h3",[t._v("Fecha: "+t._s(t.fecha))])])]),a("td",[t.esUsuarioPlanViaticos&&1==t.edit?a("v-icon",{on:{click:t.abrirCambioFecha}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\tevent\n\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],1)])])]),0!=t.edit?a("v-flex",[a("span",[a("h3",[t._v("Estado: "+t._s(t.estadotxt))])])]):t._e(),a("v-row",{attrs:{justify:"space-around",align:"center"}},[a("v-chip",{staticClass:"ma-2",class:{primary:1==t.e1},attrs:{"input-value":1==t.e1,filter:""},on:{click:function(e){t.e1=1}}},[t._v("\n\t\t\t\t\t\t\t\t\t1. RUBRO PRESUPUESTAL\n\t\t\t\t\t\t\t\t")]),a("v-chip",{staticClass:"ma-2",class:{primary:2==t.e1},attrs:{"input-value":2==t.e1,filter:"",disabled:!(t.totalrubros>0)},on:{click:function(e){t.e1=2}}},[t._v("\n\t\t\t\t\t\t\t\t\t2. SOLICITUD\n\t\t\t\t\t\t\t\t")]),a("v-chip",{staticClass:"ma-2",class:{primary:3==t.e1},attrs:{"input-value":2==t.e1,filter:""},on:{click:function(e){t.e1=3}}},[t._v("\n\t\t\t\t\t\t\t\t\t3. LUGARES\n\t\t\t\t\t\t\t\t")]),0!=t.edit?a("v-chip",{staticClass:"ma-2",class:{primary:4==t.e1},attrs:{"input-value":3==t.e1,filter:""},on:{click:function(e){t.e1=4}}},[t._v("\n\t\t\t\t\t\t\t\t\t4. VISTO BUENO PLANEACIÓN\n\t\t\t\t\t\t\t\t")]):t._e(),0!=t.edit?a("v-chip",{staticClass:"ma-2",class:{primary:5==t.e1},attrs:{"input-value":4==t.e1,filter:""},on:{click:function(e){t.e1=5}}},[t._v("\n\t\t\t\t\t\t\t\t\t5. VALIDACIÓN DE TIQUETES\n\t\t\t\t\t\t\t\t")]):t._e(),0!=t.edit?a("v-chip",{staticClass:"ma-2",class:{primary:6==t.e1},attrs:{"input-value":5==t.e1,filter:""},on:{click:function(e){t.e1=6}}},[t._v("\n\t\t\t\t\t\t\t\t\t6. LIQUIDACIÓN DE VIÁTICOS\n\t\t\t\t\t\t\t\t")]):t._e(),0!=t.edit?a("v-chip",{staticClass:"ma-2",class:{primary:7==t.e1},attrs:{"input-value":6==t.e1,filter:""},on:{click:function(e){t.e1=7}}},[t._v("\n\t\t\t\t\t\t\t\t\t7. VIABILIDAD TÉCNICA\n\t\t\t\t\t\t\t\t")]):t._e(),0!=t.edit?a("v-chip",{staticClass:"ma-2",class:{primary:8==t.e1},attrs:{"input-value":7==t.e1,filter:""},on:{click:function(e){t.e1=8}}},[t._v("\n\t\t\t\t\t\t\t\t\t8. VISTO BUENO DIRECCIÓN\n\t\t\t\t\t\t\t\t")]):t._e(),0!=t.edit?a("v-chip",{staticClass:"ma-2",class:{primary:9==t.e1},attrs:{"input-value":8==t.e1,filter:""},on:{click:function(e){t.e1=9}}},[t._v("\n\t\t\t\t\t\t\t\t\t9. DATOS PRESUPUESTO\n\t\t\t\t\t\t\t\t")]):t._e(),0!=t.edit&&1==t.enviovobo&&1==t.esUsuarioTES&&29==parseInt(t.vobopresupuesto)?a("v-chip",{staticClass:"ma-2",class:{primary:10==t.e1},attrs:{"input-value":9==t.e1,filter:""},on:{click:function(e){t.e1=10}}},[t._v("\n\t\t\t\t\t\t\t\t\t10. PAGO TESORERÍA\n\t\t\t\t\t\t\t\t")]):t._e()],1),a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-stepper",{attrs:{vertical:!1},model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:"1",editable:!0}}),a("v-divider"),a("v-stepper-step",{attrs:{step:"2",editable:t.totalrubros>0}}),a("v-divider"),a("v-stepper-step",{attrs:{step:"3",editable:!0}}),a("v-divider"),0!=t.edit?a("v-stepper-step",{attrs:{step:"4",editable:!0}}):t._e(),a("v-divider"),0!=t.edit&&22==t.voboplaneacion?a("v-stepper-step",{attrs:{step:"5",editable:!0}}):t._e(),a("v-divider"),0!=t.edit&&22==t.voboplaneacion?a("v-stepper-step",{attrs:{step:"6",editable:!0}}):t._e(),a("v-divider"),0!=t.edit&&22==t.voboplaneacion?a("v-stepper-step",{attrs:{step:"7",editable:!0}}):t._e(),a("v-divider"),0!=t.edit&&22==t.voboplaneacion?a("v-stepper-step",{attrs:{step:"8",editable:!0}}):t._e(),a("v-divider"),0!=t.edit&&22==t.voboplaneacion?a("v-stepper-step",{attrs:{step:"9",editable:!0}}):t._e(),a("v-divider"),0!=t.edit&&1==t.enviovobo&&1==t.esUsuarioTES&&29==parseInt(t.vobopresupuesto)?a("v-stepper-step",{attrs:{step:"10",editable:!0}}):t._e()],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-flex",{attrs:{sm12:""}},[0==t.enviovobo&&0==t.readonlyData?a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",text:""},on:{click:function(e){t.selected=[],t.dialog_addrubro=!0}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\tSeleccionar Rubro\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),a("v-icon",{attrs:{dark:"",right:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsend\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1):t._e(),a("div",{staticStyle:{width:"96%","text-align":"center","padding-left":"10px"}},[a("v-data-table",{attrs:{headers:t.headerrubrogen,items:t.arrRubrosGen,"disable-sort":!0,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[0==t.enviovobo&&0==t.readonlyData?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.eliminaItem(o)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()]}}])})],1)],1),a("br"),a("h3",[t._v("Total Disponible: "+t._s("$ "+t.number_format(t.totalrubros,2))+" ")])],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{sm6:""}},[a("v-select",{attrs:{items:t.tipobeneficiarioSel,label:"Tipo de Beneficiario","item-value":"value","item-text":"text","return-object":!1,readonly:1==t.enviovobo||1==t.readonlyData},on:{change:t.limpiarBeneficiario},model:{value:t.tipobeneficiario,callback:function(e){t.tipobeneficiario=e},expression:"tipobeneficiario"}})],1),a("v-flex",{attrs:{sm6:""}},["T"!=t.tipobeneficiario&&"C"!=t.tipobeneficiario||0!=t.enviovobo||0!=t.readonlyData?t._e():a("v-autocomplete",{attrs:{items:t.arrBeneficiarios,"item-value":"codigo","item-text":"nombrecompleto",label:"Seleccione el Beneficiario","return-object":!0},on:{change:t.traeDatosPersona},model:{value:t.selPersona,callback:function(e){t.selPersona=e},expression:"selPersona"}})],1),a("v-flex",{attrs:{sm3:""}},[a("v-autocomplete",{attrs:{items:t.arrTiposId,"item-value":"codigo","item-text":"descripcion",label:"Tipo Identificación",rules:[t.rules.required],"return-object":!0,readonly:"T"==t.tipobeneficiario||"C"==t.tipobeneficiario||1==t.enviovobo||1==t.readonlyData},model:{value:t.tipoidentcodigo,callback:function(e){t.tipoidentcodigo=e},expression:"tipoidentcodigo"}})],1),a("v-flex",{attrs:{sm3:""}},[a("v-text-field",{attrs:{readonly:"T"==t.tipobeneficiario||"C"==t.tipobeneficiario||1==t.enviovobo||1==t.readonlyData,label:"identificación",rules:[t.rules.required]},model:{value:t.identificacion,callback:function(e){t.identificacion=e},expression:"identificacion"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{readonly:"T"==t.tipobeneficiario||"C"==t.tipobeneficiario||1==t.enviovobo||1==t.readonlyData,label:"Nombre Beneficiario",rules:[t.rules.required]},model:{value:t.beneficiario,callback:function(e){t.beneficiario=e},expression:"beneficiario"}})],1),a("v-flex",{attrs:{sm12:""}},[a("v-text-field",{attrs:{readonly:"T"==t.tipobeneficiario||"C"==t.tipobeneficiario||1==t.enviovobo||1==t.readonlyData,label:"Dirección",rules:[t.rules.required]},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-text-field",{attrs:{readonly:"T"==t.tipobeneficiario||"C"==t.tipobeneficiario||1==t.enviovobo||1==t.readonlyData,label:"Teléfono",rules:[t.rules.required]},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha Nacimiento","prepend-icon":"event",readonly:""},model:{value:t.fechanacimiento,callback:function(e){t.fechanacimiento=e},expression:"fechanacimiento"}},o))]}}]),model:{value:t.menuDate,callback:function(e){t.menuDate=e},expression:"menuDate"}},[a("v-date-picker",{attrs:{readonly:"T"==t.tipobeneficiario||"C"==t.tipobeneficiario||1==t.enviovobo||1==t.readonlyData,type:"date",rules:[t.rules.required]},on:{input:function(e){t.menuDate=!1}},model:{value:t.fechanacimiento,callback:function(e){t.fechanacimiento=e},expression:"fechanacimiento"}})],1)],1),a("v-flex",{attrs:{sm4:""}},[a("v-text-field",{attrs:{readonly:"T"==t.tipobeneficiario||"C"==t.tipobeneficiario||1==t.enviovobo||1==t.readonlyData,label:"Email",rules:[t.rules.required,t.rules.email]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),"I"!=t.tipobeneficiario?a("v-flex",{attrs:{sm6:""}},[a("v-autocomplete",{attrs:{items:t.arrCargos,"item-value":"codigo","item-text":"nombre",label:"Cargo",rules:[t.rules.required],readonly:"T"==t.tipobeneficiario||"C"==t.tipobeneficiario||1==t.enviovobo||1==t.readonlyData,"return-object":!1},model:{value:t.cargocodigo,callback:function(e){t.cargocodigo=e},expression:"cargocodigo"}})],1):a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Rol",readonly:"T"==t.tipobeneficiario||"C"==t.tipobeneficiario||1==t.enviovobo||1==t.readonlyData},model:{value:t.rolinvitado,callback:function(e){t.rolinvitado=e},expression:"rolinvitado"}})],1),"I"==t.tipobeneficiario||"C"==t.tipobeneficiario?a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Valor Base",rules:[t.rules.required],prefix:"$ ",readonly:"T"==t.tipobeneficiario||"C"==t.tipobeneficiario||1==t.enviovobo||1==t.readonlyData},on:{blur:function(e){return t.formatearValor(t.valorbaseben,"valorbaseben")},focus:function(e){return t.quitarFormato("valorbaseben")}},model:{value:t.valorbaseben,callback:function(e){t.valorbaseben=e},expression:"valorbaseben"}})],1):a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Tipo Salario",readonly:""},model:{value:t.txttiposalario,callback:function(e){t.txttiposalario=e},expression:"txttiposalario"}})],1),a("v-flex",{attrs:{sm6:""}},["C"==t.tipobeneficiario?a("v-text-field",{attrs:{readonly:"",label:"Valor Contrato",prefix:"$ "},on:{blur:function(e){return t.formatearValor(t.valorcontrato,"valorcontrato")},focus:function(e){return t.quitarFormato("valorcontrato")}},model:{value:t.valorcontrato,callback:function(e){t.valorcontrato=e},expression:"valorcontrato"}}):t._e()],1),a("v-flex",{attrs:{sm6:""}},["C"==t.tipobeneficiario?a("v-text-field",{attrs:{type:"number",readonly:"",label:"Meses Contrato"},model:{value:t.mesescontrato,callback:function(e){t.mesescontrato=e},expression:"mesescontrato"}}):t._e()],1),a("v-flex",{attrs:{sm12:""}},[a("v-text-field",{attrs:{label:"Objetivo General",rules:[t.rules.required],readonly:1==t.enviovobo||1==t.readonlyData},model:{value:t.objetivogeneral,callback:function(e){t.objetivogeneral=e},expression:"objetivogeneral"}})],1),a("v-flex",{attrs:{sm2:""}},[a("v-select",{attrs:{items:t.sinoSel,label:"Requiere Tiquetes","item-value":"value","item-text":"text","return-object":!1,readonly:1==t.enviovobo||1==t.readonlyData},on:{change:function(e){return t.limpiavalores("requieretiquetes")}},model:{value:t.requieretiquetes,callback:function(e){t.requieretiquetes=e},expression:"requieretiquetes"}})],1),a("v-flex",{attrs:{sm2:""}},[a("v-text-field",{attrs:{label:"Valor Tiquetes",readonly:!t.tiquetesok||1==t.enviovobo||1==t.readonlyData,prefix:"$ "},on:{blur:function(e){return t.formatearValor(t.valortiquetes,"valortiquetes")},focus:function(e){return t.quitarFormato("valortiquetes")}},model:{value:t.valortiquetes,callback:function(e){t.valortiquetes=e},expression:"valortiquetes"}})],1),a("v-flex",{attrs:{sm2:""}},[a("v-select",{attrs:{items:t.sinoSel,label:"Viáticos","item-value":"value","item-text":"text","return-object":!1,readonly:1==t.enviovobo||1==t.readonlyData},on:{change:function(e){return t.limpiavalores("viaticos")}},model:{value:t.viaticos,callback:function(e){t.viaticos=e},expression:"viaticos"}})],1),a("v-flex",{attrs:{sm2:""}},[a("v-text-field",{attrs:{readonly:!t.viaticosok||1==t.enviovobo||1==t.readonlyData,label:" Valor Viáticos",prefix:"$ "},on:{blur:function(e){return t.formatearValor(t.valorviaticos,"valorviaticos")},focus:function(e){return t.quitarFormato("valorviaticos")}},model:{value:t.valorviaticos,callback:function(e){t.valorviaticos=e},expression:"valorviaticos"}})],1),a("v-flex",{attrs:{sm2:""}},["C"==t.tipobeneficiario&&t.viaticosok?a("v-select",{attrs:{items:t.sinoSel,label:"Pago Anticipado","item-value":"value","item-text":"text","return-object":!1,readonly:1==t.enviovobo||1==t.readonlyData},model:{value:t.pagoanticipado,callback:function(e){t.pagoanticipado=e},expression:"pagoanticipado"}}):t._e()],1),a("v-flex",{attrs:{sm2:""}},["C"==t.tipobeneficiario&&t.viaticosok?a("v-select",{attrs:{items:t.sinoSel,label:"Reembolso","item-value":"value","item-text":"text","return-object":!1,readonly:1==t.enviovobo||1==t.readonlyData},model:{value:t.reembolso,callback:function(e){t.reembolso=e},expression:"reembolso"}}):t._e()],1),a("v-flex",{attrs:{sm2:""}},[a("v-select",{attrs:{items:t.sinoSel,label:"Gastos de Viaje","item-value":"value","item-text":"text","return-object":!1,readonly:1==t.enviovobo||1==t.readonlyData},on:{change:function(e){return t.limpiavalores("gastosviaje")}},model:{value:t.gastosviaje,callback:function(e){t.gastosviaje=e},expression:"gastosviaje"}})],1),a("v-flex",{attrs:{sm2:""}},[a("v-text-field",{attrs:{readonly:!t.gastosviajeok||1==t.enviovobo||1==t.readonlyData,label:" Valor Gastos de Viajes",prefix:"$ "},on:{blur:t.validaGastosViaje,focus:function(e){return t.quitarFormato("valorgastosviaje")}},model:{value:t.valorgastosviaje,callback:function(e){t.valorgastosviaje=e},expression:"valorgastosviaje"}})],1),a("v-flex",{attrs:{sm8:""}},[t.gastosviajeok?a("v-text-field",{attrs:{readonly:!t.gastosviajeok||1==t.enviovobo||1==t.readonlyData,label:" Descripción Gastos de Viajes"},model:{value:t.desgastosviaje,callback:function(e){t.desgastosviaje=e},expression:"desgastosviaje"}}):t._e()],1),a("v-flex",{attrs:{sm12:""}},[a("v-text-field",{attrs:{label:"Observación",readonly:1==t.enviovobo||1==t.readonlyData},model:{value:t.observacion,callback:function(e){t.observacion=e},expression:"observacion"}})],1)],1)],1),a("v-stepper-content",{attrs:{step:"3"}},[0==t.enviovobo&&0==t.readonlyData?a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_destinos=!0,t.editdestinos=0,t.itemactualdes=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1):t._e(),a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchDestinos,callback:function(e){t.searchDestinos=e},expression:"searchDestinos"}}),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headdestinos,items:t.arrDestinos,"items-per-page":5,"disable-sort":!0,search:t.searchDestinos},scopedSlots:t._u([{key:"item.tarifa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tarifa,{symbol:o.simbolomoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:" $",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.tarifapesos",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tarifapesos,{symbol:" $",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[0==t.enviovobo&&0==t.readonlyData?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog_destinos=!0,t.editdestinos=1,t.itemactualdes=o}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),0==t.enviovobo&&0==t.readonlyData?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.eliminaItemdestinos(o)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()]}}])}),a("br"),a("h3",[t._v("  Total Dias de Viaje: "+t._s(t.totaldiasviaje)+"      Valor Total Provisional "+t._s("$ "+t.totaltarifasviajes)+" ")])],1)],1),a("v-stepper-content",{attrs:{step:"4"}},[a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"1100",width:"90%",elevation:"2"}},[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPlaneación\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-card-text",[a("v-form",{ref:"formvbpla",model:{value:t.validvbpla,callback:function(e){t.validvbpla=e},expression:"validvbpla"}},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-select",{attrs:{items:t.arrEstadosPlaneacion,"item-value":"codigo","item-text":"descripcion",label:"Estado",readonly:0==t.enviovobo||0==t.esUsuarioPlanViaticos||0!=parseInt(t.vobofinanciera),rules:[t.rules.required],"return-object":!0},model:{value:t.voboplaneacion,callback:function(e){t.voboplaneacion=e},expression:"voboplaneacion"}})],1)],1),a("v-row",[a("v-col",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:0==t.enviovobo||0==t.esUsuarioPlanViaticos||0!=parseInt(t.vobofinanciera),rules:[t.rules.required]},model:{value:t.obsplaneacion,callback:function(e){t.obsplaneacion=e},expression:"obsplaneacion"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),1!=t.enviovobo||1!=t.esUsuarioPlanViaticos||0!=parseInt(t.vobofinanciera)||"N"!=t.pagotesoreria&&""!=t.pagotesoreria?t._e():a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validvbpla},on:{click:function(e){return t.savevbplaneacion("PL")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tGuardar VB Planeación\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)],1),a("v-spacer")],1),a("v-stepper-content",{attrs:{step:"5"}},[a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"1100",width:"90%",elevation:"2"}},[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tValidación de Tiquetes\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-card-text",[a("v-form",{ref:"formvbfin",model:{value:t.validvbfin,callback:function(e){t.validvbfin=e},expression:"validvbfin"}},[a("v-row",[a("v-col",{attrs:{cols:"8"}},[a("v-select",{attrs:{items:t.arrEstadosFinanciera,"item-value":"codigo","item-text":"descripcion",label:"Estado",readonly:0==t.enviovobo||0==t.esUsuarioFI||0!=parseInt(t.vobotalentohumano),rules:[t.rules.required]},model:{value:t.vobofinanciera,callback:function(e){t.vobofinanciera=e},expression:"vobofinanciera"}})],1)],1),a("v-row",[a("v-col",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:0==t.enviovobo||0==t.esUsuarioFI||0!=parseInt(t.vobotalentohumano),rules:[t.rules.required]},model:{value:t.obsfinanciera,callback:function(e){t.obsfinanciera=e},expression:"obsfinanciera"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),1!=t.enviovobo||1!=t.esUsuarioFI||0!=parseInt(t.vobotalentohumano)||"N"!=t.pagotesoreria&&""!=t.pagotesoreria?t._e():a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validvbfin},on:{click:function(e){return t.savevbplaneacion("FI")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tGuardar VB Financiera\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)],1),a("v-spacer")],1),a("v-stepper-content",{attrs:{step:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Valor Tiquetes",readonly:"",prefix:"$ "},model:{value:t.valortiquetes,callback:function(e){t.valortiquetes=e},expression:"valortiquetes"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Valor Viáticos",readonly:"",prefix:"$ "},model:{value:t.valorviaticos,callback:function(e){t.valorviaticos=e},expression:"valorviaticos"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Valor Gastos de Viaje",readonly:"",prefix:"$ "},model:{value:t.valorgastosviaje,callback:function(e){t.valorgastosviaje=e},expression:"valorgastosviaje"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Total Desplazamiantos",readonly:"",prefix:"$ "},model:{value:t.totaltarifasviajes,callback:function(e){t.totaltarifasviajes=e},expression:"totaltarifasviajes"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-select",{attrs:{items:t.tipoliquidacionSel,label:"Tipo de Liquidación","item-value":"value","item-text":"text","return-object":!1,readonly:0==t.enviovobo||0==t.esUsuarioTH||24==parseInt(t.vobofinanciera)||0!=parseInt(t.voboadministrativa)},on:{change:t.calcularViaticosAutomaticos},model:{value:t.tipoliquidacion,callback:function(e){t.tipoliquidacion=e},expression:"tipoliquidacion"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Valor a Liquidar",readonly:"M"!=t.tipoliquidacion||0==t.enviovobo||0==t.esUsuarioTH||24==parseInt(t.vobofinanciera)||0!=parseInt(t.voboadministrativa),prefix:"$ "},on:{blur:function(e){return t.formatearValor(t.valorliquidado,"valorliquidado")},focus:function(e){return t.quitarFormato("valorliquidado")}},model:{value:t.valorliquidado,callback:function(e){t.valorliquidado=e},expression:"valorliquidado"}})],1),a("v-col",{attrs:{cols:"4"}},["C"==t.tipobeneficiario?a("span",[t._v("Cargue certificado Arl")]):t._e(),"C"==t.tipobeneficiario?a("adjuntarArchivos",{attrs:{item:t.archivoarl,placeholder:"Certificado Arl",tipoarchivo:".pdf"}}):t._e(),a("v-icon",{attrs:{color:"primary",disabled:""==t.archivoarl.file_name||""==t.codigo||"0"==t.codigo||0==t.enviovobo||0==t.esUsuarioTH||24==parseInt(t.vobofinanciera)||0!=parseInt(t.voboadministrativa)},on:{click:function(e){return t.abrirDialogoElimFile(t.archivoarl.file_name,"archivoarl")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcancel\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{attrs:{headers:t.headerrubrodistrib,items:t.arrRubrosDistribuye,"disable-sort":!0,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.valordistribuido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valordistribuido,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[1==t.enviovobo&&1==t.esUsuarioTH&&23==parseInt(t.vobofinanciera)&&0==parseInt(t.voboadministrativa)?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.editaRubroDistribuye(o)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()]}}])}),a("br"),a("h3",[t._v("Total Valor Distribuido: "+t._s("$ "+t.number_format(t.totalvalordistribuido,2))+" ")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-select",{attrs:{items:t.arrEstadosTH,"item-value":"codigo","item-text":"descripcion",label:"Estado",readonly:0==t.enviovobo||0==t.esUsuarioTH||0!=parseInt(t.voboadministrativa),"return-object":!0},model:{value:t.vobotalentohumano,callback:function(e){t.vobotalentohumano=e},expression:"vobotalentohumano"}})],1)],1),a("v-row",[a("v-col",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:0==t.enviovobo||0==t.esUsuarioTH||0!=parseInt(t.voboadministrativa)},model:{value:t.obstalentohumano,callback:function(e){t.obstalentohumano=e},expression:"obstalentohumano"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[1==t.enviovobo&&1==t.esUsuarioTH&&23==parseInt(t.vobofinanciera)&&0==parseInt(t.voboadministrativa)?a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.realizarLiquidacion}},[t._v("Guardar VB Talento Humano")]):t._e()],1)],1)],1),a("v-stepper-content",{attrs:{step:"7"}},[a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"1100",width:"90%",elevation:"2"}},[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tViabilidad Técnica\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-card-text",[a("v-form",{ref:"formvbadministrativa",model:{value:t.validvbadministrativa,callback:function(e){t.validvbadministrativa=e},expression:"validvbadministrativa"}},[a("v-row",[a("v-col",{attrs:{cols:"8"}},[a("v-select",{attrs:{items:t.arrEstadosAdministrativa,"item-value":"codigo","item-text":"descripcion",label:"Estado",readonly:0==t.enviovobo||0==t.esUsuarioPlanViaticos||31!=parseInt(t.vobotalentohumano)||0!=parseInt(t.vobodireccion),rules:[t.rules.required]},model:{value:t.voboadministrativa,callback:function(e){t.voboadministrativa=e},expression:"voboadministrativa"}})],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"No. de Viabilidad",type:"number",rules:[t.rules.required],readonly:0==t.enviovobo||0==t.esUsuarioPlanViaticos||31!=parseInt(t.vobotalentohumano)||0!=parseInt(t.vobodireccion)},model:{value:t.numviabilidad,callback:function(e){t.numviabilidad=e},expression:"numviabilidad"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),1==t.enviovobo&&1==t.esUsuarioPlanViaticos&&31==parseInt(t.vobotalentohumano)&&0==parseInt(t.vobodireccion)?a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validvbadministrativa},on:{click:function(e){return t.savevbplaneacion("ADM")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tGuardar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],1)],1)],1),a("v-spacer")],1),a("v-stepper-content",{attrs:{step:"8"}},[a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"1100",width:"90%",elevation:"2"}},[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDirección del Instituto\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-card-text",[a("v-form",{ref:"formvbdir",model:{value:t.validvbdir,callback:function(e){t.validvbdir=e},expression:"validvbdir"}},[a("v-row",[a("v-col",{attrs:{cols:"8"}},[a("v-select",{attrs:{items:t.arrEstadosDirGeneral,"item-value":"codigo","item-text":"descripcion",label:"Estado",readonly:0==t.enviovobo||0==t.esUsuarioDIR||0!=parseInt(t.vobopresupuesto)||25!=parseInt(t.voboadministrativa),rules:[t.rules.required]},model:{value:t.vobodireccion,callback:function(e){t.vobodireccion=e},expression:"vobodireccion"}})],1)],1),a("v-row",[a("v-col",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:0==t.enviovobo||0==t.esUsuarioDIR||0!=parseInt(t.vobopresupuesto)||25!=parseInt(t.voboadministrativa),rules:[t.rules.required]},model:{value:t.obsdireccion,callback:function(e){t.obsdireccion=e},expression:"obsdireccion"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),1==t.enviovobo&&1==t.esUsuarioDIR&&25==parseInt(t.voboadministrativa)&&0==parseInt(t.vobopresupuesto)?a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validvbdir},on:{click:function(e){return t.savevbplaneacion("DIR")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tGuardar VB Dirección\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],1)],1)],1),a("v-spacer")],1),a("v-stepper-content",{attrs:{step:"9"}},[a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"1100",width:"90%",elevation:"2"}},[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tValidación Presupuesto\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-card-text",[a("v-form",{ref:"formvbpre",model:{value:t.validvbpre,callback:function(e){t.validvbpre=e},expression:"validvbpre"}},[a("v-row",[a("v-col",{attrs:{cols:"8"}},[a("v-select",{attrs:{items:t.arrEstadosPresupuesto,"item-value":"codigo","item-text":"descripcion",label:"Estado",readonly:0==t.enviovobo||0==t.esUsuarioPRE||26!=parseInt(t.vobodireccion)||"S"==t.pagotesoreria,rules:[t.rules.required]},model:{value:t.vobopresupuesto,callback:function(e){t.vobopresupuesto=e},expression:"vobopresupuesto"}})],1)],1),a("v-row",[a("v-col",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:0==t.enviovobo||0==t.esUsuarioPRE||26!=parseInt(t.vobodireccion)||"S"==t.pagotesoreria,rules:[t.rules.required]},model:{value:t.obspresupuesto,callback:function(e){t.obspresupuesto=e},expression:"obspresupuesto"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("span",{staticStyle:{color:"black"}},[a("h3",[t._v(" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCertificado de Disponibilidad Presupuestal y Registro Presupuestal\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]),a("br"),1!=t.enviovobo||1!=t.esUsuarioPRE||26!=parseInt(t.vobodireccion)||"N"!=t.pagotesoreria&&""!=t.pagotesoreria?t._e():a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_presupuesto=!0,t.editPresupuesto=0,t.itemactualPresupuesto=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-data-table",{attrs:{headers:t.headpresupuesto,items:t.dataPresupuesto,"disable-sort":!0,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.archivocdp.file_name",fn:function(e){var o=e.item;return[""!=o.archivocdp.file_path?a("a",{attrs:{target:"_blank",href:o.archivocdp.file_path}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(o.archivocdp.file_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):a("span",[t._v(t._s(o.archivocdp.file_name))])]}},{key:"item.archivorp.file_name",fn:function(e){var o=e.item;return[""!=o.archivorp.file_path?a("a",{attrs:{target:"_blank",href:o.archivorp.file_path}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(o.archivorp.file_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):a("span",[t._v(t._s(o.archivorp.file_name))])]}},{key:"item.action",fn:function(e){var o=e.item;return[1!=t.enviovobo||1!=t.esUsuarioPRE||26!=parseInt(t.vobodireccion)||"N"!=t.pagotesoreria&&""!=t.pagotesoreria?t._e():a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.eliminaItemPresupuesto(o)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])}),a("v-dialog",{attrs:{width:"800"},model:{value:t.dialog_presupuesto,callback:function(e){t.dialog_presupuesto=e},expression:"dialog_presupuesto"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v(t._s(t.formTitlePresupuesto))])]),a("v-card-text",[a("v-form",{ref:"validvbpreadd",model:{value:t.validvbpreadd,callback:function(e){t.validvbpreadd=e},expression:"validvbpreadd"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Número CDP",readonly:0==t.enviovobo||0==t.esUsuarioPRE||26!=parseInt(t.vobodireccion)||0==t.vobopresupuesto||"0"==t.vobopresupuesto||"S"==t.pagotesoreria,rules:[t.rules.required]},model:{value:t.numerocdp,callback:function(e){t.numerocdp=e},expression:"numerocdp"}})],1),a("v-flex",[a("span",[t._v("Soporte CDP")]),a("adjuntarArchivos",{attrs:{item:t.archivocdp,placeholder:"Soporte CDP",tipoarchivo:".pdf"}}),a("v-icon",{attrs:{color:"primary",disabled:""==t.archivocdp.file_name||""==t.codigo||"0"==t.codigo||0==t.enviovobo||0==t.esUsuarioPRE||26!=parseInt(t.vobodireccion)||0==t.vobopresupuesto||"0"==t.vobopresupuesto||"S"==t.pagotesoreria},on:{click:function(e){return t.abrirDialogoElimFile(t.archivocdp.file_name,"archivocdp")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcancel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),a("v-flex",[a("v-text-field",{attrs:{label:"Número RP",readonly:0==t.enviovobo||0==t.esUsuarioPRE||26!=parseInt(t.vobodireccion)||0==t.vobopresupuesto||"0"==t.vobopresupuesto||"S"==t.pagotesoreria,rules:[t.rules.required]},model:{value:t.numerorp,callback:function(e){t.numerorp=e},expression:"numerorp"}})],1),a("v-flex",[a("span",[t._v("Soporte RP")]),a("adjuntarArchivos",{attrs:{item:t.archivorp,placeholder:"Soporte RP",tipoarchivo:".pdf"}}),a("v-icon",{attrs:{color:"primary",disabled:""==t.archivorp.file_name||""==t.codigo||"0"==t.codigo||0==t.enviovobo||0==t.esUsuarioPRE||26!=parseInt(t.vobodireccion)||0==t.vobopresupuesto||"0"==t.vobopresupuesto||"S"==t.pagotesoreria},on:{click:function(e){return t.abrirDialogoElimFile(t.archivorp.file_name,"archivorp")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcancel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_presupuesto=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validvbpreadd},on:{click:t.adicionarCdpRp}},[t._v("Agregar")])],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),1!=t.enviovobo||1!=t.esUsuarioPRE||26!=parseInt(t.vobodireccion)||""!=t.pagotesoreria&&"N"!=t.pagotesoreria?t._e():a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validvbpre},on:{click:t.saveDataPresupuesto}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tGuardar Inf. Presupuestal\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)],1),a("v-spacer")],1),a("v-stepper-content",{attrs:{step:"10"}},[a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"1100",width:"90%",elevation:"2"}},[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tConfirmación Pago de Tesorería\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-card-text",[a("v-spacer"),"S"==t.pagotesoreria?a("v-alert",{attrs:{type:"success"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSe hizo la notificación del pago de los viáticos.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Observación",readonly:0==t.enviovobo||0==t.esUsuarioTES||28==parseInt(t.vobopresupuesto)||"S"==t.pagotesoreria},model:{value:t.obstesoreria,callback:function(e){t.obstesoreria=e},expression:"obstesoreria"}})],1)],1),1!=t.enviovobo||1!=t.esUsuarioTES||29!=parseInt(t.vobopresupuesto)||""!=t.pagotesoreria&&"N"!=t.pagotesoreria?t._e():a("v-row",[a("v-btn",{attrs:{color:"primary",text:"",disabled:""==t.obstesoreria},on:{click:function(e){t.dialog_tesoreria=!0}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tConfirmar Pago\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)],1)],1),a("v-spacer")],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),0==t.enviovobo&&0==t.readonlyData?a("v-btn",{attrs:{color:"primary",disabled:!t.valid,text:""},on:{click:t.saveitem}},[t._v("Guardar")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{width:"1200"},model:{value:t.dialog_addrubro,callback:function(e){t.dialog_addrubro=e},expression:"dialog_addrubro"}},[a("v-card",[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{items:t.arrProyectosGenAll,"item-value":"codigo","item-text":"nombre",label:"Proyecto"},on:{change:t.traePlanesAquisicion},model:{value:t.proyectosel,callback:function(e){t.proyectosel=e},expression:"proyectosel"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{items:t.arrPlanAdqGenAll,"item-value":"codigo","item-text":"nombreconvenio",label:"Plan Adquisición"},on:{change:t.traeNecesidadesPlan},model:{value:t.planadqsel,callback:function(e){t.planadqsel=e},expression:"planadqsel"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{items:t.arrNecesidadesPlanAdq,"item-value":"codigo","item-text":"descripcion",label:"Necesidades"},on:{change:t.traeRubrosAll},model:{value:t.necesidadplaadqsel,callback:function(e){t.necesidadplaadqsel=e},expression:"necesidadplaadqsel"}})],1)],1),a("v-data-table",{attrs:{headers:t.headerrubrogenAdd,items:t.arrRubrosGenAll,"items-per-page":5,"disable-sort":!0,"show-select":"","item-key":"secuenciaactividad"},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.agregarRubros}},[t._v("Agregar")]),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_addrubro=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"1200px"},model:{value:t.dialog_destinos,callback:function(e){t.dialog_destinos=e},expression:"dialog_destinos"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitleDestinos))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form2",model:{value:t.validDestinos,callback:function(e){t.validDestinos=e},expression:"validDestinos"}},[a("v-row",[a("span",{staticClass:"title",staticStyle:{color:"black"}},[t._v("Origen")]),t._v("  \t\n\t\t\t\t\t\t\t\t\t"),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){return t.abrirDialogoDestinos("o")}}},[a("v-icon",{attrs:{dark:""}},[t._v("add_location_alt")])],1)],1),a("v-row",[a("v-col",{attrs:{sm4:""}},[a("v-text-field",{attrs:{readonly:"",label:"Tipo"},model:{value:t.nombretipoorigen,callback:function(e){t.nombretipoorigen=e},expression:"nombretipoorigen"}})],1),a("v-col",{attrs:{sm4:""}},[a("v-text-field",{attrs:{readonly:"",label:"Población"},model:{value:t.nombrelugarorigen,callback:function(e){t.nombrelugarorigen=e},expression:"nombrelugarorigen"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{readonly:"",label:"Lugar de Origen",rules:[t.rules.required]},model:{value:t.txtdestinoorigen,callback:function(e){t.txtdestinoorigen=e},expression:"txtdestinoorigen"}})],1)],1),a("v-divider"),a("br"),a("v-row",[a("span",{staticClass:"title",staticStyle:{color:"black"}},[t._v("Destino")]),t._v("  \t\n\t\t\t\t\t\t\t\t\t"),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){return t.abrirDialogoDestinos("d")}}},[a("v-icon",{attrs:{dark:""}},[t._v("add_location_alt")])],1)],1),a("v-row",[a("v-col",{attrs:{sm4:""}},[a("v-text-field",{attrs:{readonly:"",label:"Tipo"},model:{value:t.nombretipodestino,callback:function(e){t.nombretipodestino=e},expression:"nombretipodestino"}})],1),a("v-col",{attrs:{sm4:""}},[a("v-text-field",{attrs:{readonly:"",label:"Población"},model:{value:t.nombrelugardestino,callback:function(e){t.nombrelugardestino=e},expression:"nombrelugardestino"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{readonly:"",label:"Lugar de Destino",rules:[t.rules.required]},on:{click:function(e){return t.abrirDialogoDestinos("d")}},model:{value:t.txtdestinofinal,callback:function(e){t.txtdestinofinal=e},expression:"txtdestinofinal"}})],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha de Ida","prepend-icon":"event",readonly:"",rules:[t.rules.required]},model:{value:t.fechaida,callback:function(e){t.fechaida=e},expression:"fechaida"}},o))]}}]),model:{value:t.menuDate2,callback:function(e){t.menuDate2=e},expression:"menuDate2"}},[a("v-date-picker",{attrs:{type:"date",rules:[t.rules.required]},on:{input:function(e){t.menuDate2=!1},change:t.calcularValorDias},model:{value:t.fechaida,callback:function(e){t.fechaida=e},expression:"fechaida"}})],1)],1),a("v-col",{attrs:{cols:"3"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha de Regreso","prepend-icon":"event",readonly:"",rules:[t.rules.required]},model:{value:t.fecharegreso,callback:function(e){t.fecharegreso=e},expression:"fecharegreso"}},o))]}}]),model:{value:t.menuDate3,callback:function(e){t.menuDate3=e},expression:"menuDate3"}},[a("v-date-picker",{attrs:{type:"date",rules:[t.rules.required]},on:{input:function(e){t.menuDate3=!1},change:t.calcularValorDias},model:{value:t.fecharegreso,callback:function(e){t.fecharegreso=e},expression:"fecharegreso"}})],1)],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{readonly:"",label:"Dias Viaje"},model:{value:t.diasviaje,callback:function(e){t.diasviaje=e},expression:"diasviaje"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.tipotransporteSel,label:"Tipo de Transporte","item-value":"value","item-text":"text","return-object":!1,rules:[t.rules.required]},model:{value:t.tipotransporte,callback:function(e){t.tipotransporte=e},expression:"tipotransporte"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{readonly:"",label:"Tarifa",rules:[t.rules.required],prefix:t.simbolomoneda},model:{value:t.tarifa,callback:function(e){t.tarifa=e},expression:"tarifa"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{readonly:"",label:"Tasa",rules:[t.rules.required],prefix:"$"},model:{value:t.tasa,callback:function(e){t.tasa=e},expression:"tasa"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{readonly:"",label:"Total Provisional en Pesos",rules:[t.rules.required],prefix:"$"},model:{value:t.tarifapesos,callback:function(e){t.tarifapesos=e},expression:"tarifapesos"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogoDestino}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validDestinos},on:{click:t.saveitemDestino}},[t._v("\n\t\t\t\t\t\tGuardar\n\t\t\t\t\t")])],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",width:"1200"},model:{value:t.dialog_adddestino,callback:function(e){t.dialog_adddestino=e},expression:"dialog_adddestino"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s("Lugar de "+("o"==t.tipodesplazamiento?"Origen":"Destino")+" "+(""!=t.nombrelugaractual?": ("+t.nombrelugaractual.trim().toUpperCase()+")":"")))])]),a("v-card-text",[a("v-row",[a("v-col",[a("v-radio-group",{attrs:{row:""},model:{value:t.tipodestino,callback:function(e){t.tipodestino=e},expression:"tipodestino"}},[a("v-radio",{attrs:{label:"Nacional",value:"n",color:"primary"}}),a("v-radio",{attrs:{label:"Internacional",value:"i",color:"primary"}})],1)],1)],1),"n"==t.tipodestino?a("v-row",[a("v-flex",{attrs:{sm4:""}},[a("v-autocomplete",{attrs:{items:t.tipoDestinoNac,label:"Tipo","item-value":"value","item-text":"text","return-object":!0,clearable:""},on:{change:t.traerDataPoblacionOrigen},model:{value:t.tipolugar,callback:function(e){t.tipolugar=e},expression:"tipolugar"}})],1),a("v-flex",{attrs:{sm1:""}}),a("v-flex",{attrs:{sm7:""}},[a("v-autocomplete",{attrs:{items:t.arrtipolugar,label:"Población","item-value":"codigo","item-text":"nombre","return-object":!0,clearable:""},on:{change:t.traerCiudadesPoblacion},model:{value:t.codigotipolugar,callback:function(e){t.codigotipolugar=e},expression:"codigotipolugar"}})],1)],1):t._e(),a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchdestinoadd,callback:function(e){t.searchdestinoadd=e},expression:"searchdestinoadd"}}),""!=t.tipodestino?a("v-data-table",{attrs:{headers:t.headerdestinoAdd,items:t.arrLugares,"items-per-page":5,"disable-sort":!0,search:t.searchdestinoadd},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.seleccionarlugaractual(o)}}},[t._v("\n\t\t\t\t\t\t\t\tsend\n\t\t\t\t\t\t\t")])]}}],null,!1,2680853718)}):t._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.agregarDestino}},[t._v("Aceptar")]),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_adddestino=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",width:"600"},model:{value:t.dialog_editrubroliquida,callback:function(e){t.dialog_editrubroliquida=e},expression:"dialog_editrubroliquida"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Distribuir Valor Liquidado")])]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{readonly:"",label:"Saldo Rubro",prefix:"$ "},model:{value:t.saldorubro,callback:function(e){t.saldorubro=e},expression:"saldorubro"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Valor",prefix:"$ "},on:{blur:function(e){return t.formatearValor(t.valordistribuido,"valordistribuido")},focus:function(e){return t.quitarFormato("valordistribuido")}},model:{value:t.valordistribuido,callback:function(e){t.valordistribuido=e},expression:"valordistribuido"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.actualizaRubroActual}},[t._v("Aceptar")]),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_editrubroliquida=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{width:"550"},model:{value:t.dialog_deletefile,callback:function(e){t.dialog_deletefile=e},expression:"dialog_deletefile"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Archivo")])]),a("v-card-text",[t._v("\n                    ¿Esta seguro de eliminar el Archivo "+t._s(t.filedelete)+" definitivamente?.\t\t\t\t\t\n                ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_deletefile=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.eliminarArchivo}},[t._v("Eliminar")])],1)],1)],1),a("v-dialog",{attrs:{width:"550"},model:{value:t.dialog_tesoreria,callback:function(e){t.dialog_tesoreria=e},expression:"dialog_tesoreria"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Confirmar Pago")])]),a("v-card-text",[t._v("\n                    ¿Confirma el Pago de Viáticos del Desplazamianto Actual?.\t\t\t\t\t\n                ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_tesoreria=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.confirmaPagoTesoreria}},[t._v("Confirmar Pago")])],1)],1)],1),a("v-dialog",{attrs:{width:"600"},model:{value:t.dialog_cambiofecha,callback:function(e){t.dialog_cambiofecha=e},expression:"dialog_cambiofecha"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Cambio Fecha de Solicitud")])]),a("v-card-text",[a("v-text-field",{attrs:{label:"Fecha",type:"date"},model:{value:t.nuevafecha,callback:function(e){t.nuevafecha=e},expression:"nuevafecha"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_cambiofecha=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:"",disabled:""==t.nuevafecha},on:{click:t.cambioFechaSolicitud}},[t._v("Confirmar Cambio")])],1)],1)],1)],1)},jr=[],Er={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Desplazamientos",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXEstadoUsuario:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/desplazamientoXEstadousuario",dataType:"json",data:{usuario:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getDataXCodigo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/desplazamientoXCodigo",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarData:function(t,e,a){return new Promise((function(o,i){p()({method:"POST",url:m["a"].apiUrl+"/addupdDesplazamientos",dataType:"json",data:{data:t,destinos:e,rubros:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},destinos:function(t){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/DesplazamientosDestinos",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},destinosXCodigo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/DesplazamientosDestinosXCodigo",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},destinosXCodigoOrdenFecha:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/DesplazamientosDestinosOrdenFecha",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},rubrosXCodigo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/DesplazamientosRubrosXCodigo",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},presupuestos:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/desplazamientoPresupuesto",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},cambiarEstadosVB:function(t,e,a,o){return new Promise((function(i,n){p()({method:"POST",url:m["a"].apiUrl+"/modificarVBDesplazamientos",dataType:"json",data:{codigo:t,tipo:e,estado:a,observacion:o}}).then((function(t){i(t)})).catch((function(t){i(t)}))}))},liquidaViaticos:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/liquidaViaticos",dataType:"json",data:{data:t,rubros:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},updDatosPresupuesto:function(t,e,a,o){return new Promise((function(i,n){p()({method:"POST",url:m["a"].apiUrl+"/updDatosPresupuestoViaticos",dataType:"json",data:{codigo:t,vobopresupuesto:e,obspresupuesto:a,dataPresupuesto:o}}).then((function(t){i(t)})).catch((function(t){i(t)}))}))},pagoTesoreria:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/pagoTesoreriaDesplazamiento",dataType:"json",data:{codigo:t,obstesoreria:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},deleteFile:function(t,e,a,o){return new Promise((function(i,n){p()({method:"POST",url:m["a"].apiUrl+"/desplazamientoseliminarArchivo",dataType:"json",data:{codigo:t,tiparchivo:e,ruta:a,archivo:o}}).then((function(t){i(t)})).catch((function(t){i(t)}))}))},UsersProyectos:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/desplazamientoUsersProyectos",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},actualizarFechaSolicitud:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/actualizarFechaSolicitud",dataType:"json",data:{codigo:t,fecha:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},buscarFechasLugares:function(t,e,a,o,i){return new Promise((function(n,r){p()({method:"POST",url:m["a"].apiUrl+"/buscarFechasLugares",dataType:"json",data:{codigo:t,tipoidentificacion:e,identificacion:a,fechaini:o,fechafin:i}}).then((function(t){n(t)})).catch((function(t){n(t)}))}))},eliminarItemPresupuesto:function(t,e,a,o){return new Promise((function(i,n){p()({method:"POST",url:m["a"].apiUrl+"/eliminarItemPresupuesto",dataType:"json",data:{codigodesplazamiento:t,codigo:e,archivorp:a,archivocdp:o}}).then((function(t){i(t)})).catch((function(t){i(t)}))}))}},Tr=Er,Dr={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/TarifasLugares",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDetalle:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/detalleTarifasLugares",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getRangos:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/tarifasRangos",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getRangosNacionales:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/rangosNacionales",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getRangosXPais:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/rangosXPais",dataType:"json",data:{codigopais:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getTarifasXPaises:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/paisesTarifas",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t,e,a){return new Promise((function(o,i){p()({method:"POST",url:m["a"].apiUrl+"/addupdTarifas",dataType:"json",data:{data:t,detalle:e,rangos:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delTarifasLugares",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Ir=Dr,Or={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Contratistas",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},FiltroXCodigo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/contratistasXCodigo",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Nr=Or,Mr={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/ParametrosGenerales",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXCodigo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/parametrosGeneralesXCodigo",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarParametroGen",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Rr=Mr,Fr={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Asociaciones",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},asociacionesComunidades:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/asociacionesComunidades",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},soloComunidades:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/soloComunidades",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},asociacionesResguardos:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/asociacionesResguardos",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},asociacionesCiudades:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/asociacionesCiudades",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},comunidadesCiudades:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/comunidadesCiudades",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarData:function(t,e,a){return new Promise((function(o,i){p()({method:"POST",url:m["a"].apiUrl+"/guardarAsociacion",dataType:"json",data:{data:t,comunidades:e,resguardos:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delAsociacion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delAsociacionResguardo:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/delAsociacionResguardo",dataType:"json",data:{codigo:t,resguardo:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},delAsociacionComunidad:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/delAsociacionComunidad",dataType:"json",data:{codigo:t,comunidad:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))}},qr=Fr,Ur={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/ResguardosIndigenas",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},resguardosCiudades:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/resguardosCiudades",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},resguardosSoloCiudades:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/resguardosSoloCiudades",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarData:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/guardarResguardoIndigena",dataType:"json",data:{data:t,ciudades:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delResguardoIndigena",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelCiudadResguardo:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/delCiudadResguardo",dataType:"json",data:{codigo:t,ciudad:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))}},$r=Ur,Lr={},Br=new Date;Br.getFullYear().toString(),(Br.getMonth()+1).toString().padStart(2,"0"),Br.getDate().toString().padStart(2,"0");Lr.getTRM=function(){return new Promise((function(t,e){p()({method:"post",url:m["a"].apiTRM+"/queryTCRM/"}).then((function(e){console.log(e),t(e)})).catch((function(e){console.log(e.message),t(e)}))}))};function Gr(t){return Gr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(t)}function Vr(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function zr(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Vr(n,o,i,r,s,"next",t)}function s(t){Vr(n,o,i,r,s,"throw",t)}r(void 0)}))}}function Xr(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Hr={components:{adjuntarArchivos:function(){return a.e("chunk-2d2245ed").then(a.bind(null,"e09e"))}},data:function(){var t;return t={modulo:"DESPLAZAMIENTOS",loading:!1,dialog:!1,edit:-1,processing:!1,formTitle:"",search:"",valid:!1,codigo:0,fecha:"",estado:"",estadotxt:"",tipobeneficiario:"",tipoidentcodigo:"",identificacion:"",beneficiario:"",cargocodigo:"",rolinvitado:"",direccion:"",telefono:"",email:"",fechanacimiento:"",valorcontrato:0,tiposalario:"",txttiposalario:"",mesescontrato:"",requieretiquetes:"",objetivogeneral:"",viaticos:"",pagoanticipado:"",reembolso:"",valortiquetes:0,gastosviaje:"",desgastosviaje:"",valorgastosviaje:0,observacion:"",valorviaticos:0,valorbaseben:0,enviovobo:0,usuario:"",voboplaneacion:"",obsplaneacion:"",vobofinanciera:"",obsfinanciera:"",vobodireccion:"",obsdireccion:"",vobopresupuesto:"",obspresupuesto:"",enviotesoreria:!1,pagotesoreria:"",obstesoreria:"",tiquetesok:!1,viaticosok:!1,gastosviajeok:!1,selPersona:"",arrTiposId:[],arrPersonas:[],arrCargos:[],arrContratistas:[],arrBeneficiarios:[],e1:1,menuDate:!1,dialog_addrubro:!1,selected:[],arrRubrosGenAll:[],searchcongenadd:0,searchNombre:"",arrRubrosGen:[],totalrubros:0,totalcomprometido:0,sinoSel:[{text:"NO",value:"N"},{text:"SI",value:"S"}],tipobeneficiarioSel:[{text:"CONTRATISTA",value:"C"},{text:"INVITADO",value:"I"},{text:"FUNCIONARIO",value:"T"}],itemactual:"",data:[],headers:[{text:"Consecutivo",align:"left",sortable:!1,value:"codigo"},{text:"Fecha",value:"fecha",sortable:!1,align:"left"},{text:"Tipo Benif.",value:"tipobeneficiariotxt",sortable:!1,align:"left"},{text:"Identificación",value:"identificacion",sortable:!1,align:"left"},{text:"Benificiario",value:"beneficiario",sortable:!1,align:"left"},{text:"Tiquetes",value:"requieretiquetestxt",sortable:!1,align:"left"},{text:"Viáticos",value:"viaticostxt",sortable:!1,align:"left"},{text:"Gastos Viaje",value:"gastosviajetxt",sortable:!1,align:"left"},{text:"Estado",value:"estado",sortable:!1,align:"left"},{text:"Estado Anterior",value:"estadoanterior",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],headerrubrogen:[{text:"Nombre Convenio",align:"left",sortable:!1,value:"nombreconvenio"},{text:"Nombre Proyecto",align:"left",sortable:!1,value:"nombre"},{text:"Necesidad",align:"left",sortable:!1,value:"descripcion"},{text:"Rubro",value:"rubro",sortable:!1,align:"left"},{text:"Valor",value:"valor",sortable:!1,align:"left"},{text:"Comprometido",value:"comprometido",sortable:!1,align:"left"},{text:"Saldo",value:"saldo",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],headerrubrogenAdd:[{text:"Nombre Convenio",align:"left",sortable:!1,value:"nombreconvenio"},{text:"Nombre Proyecto",align:"left",sortable:!1,value:"nombre"},{text:"Necesidad",align:"left",sortable:!1,value:"descripcion"},{text:"Rubro",value:"rubro",sortable:!1,align:"left"},{text:"Valor",value:"valor",sortable:!1,align:"left"},{text:"Comprometido",value:"comprometido",sortable:!1,align:"left"},{text:"Saldo",value:"saldo",sortable:!1,align:"left"}],editdestinos:-1,formTitleDestinos:"",validDestinos:!1,itemactualdes:"",dialog_destinos:!1,searchdestinoadd:"",codigodestino:0,origennacional:"",origeninternacional:"",destinonacional:"",destinointernacional:"",txtdestinoorigen:"",txtdestinofinal:"",fechaida:"",fecharegreso:"",tipotransporte:"",tarifa:0,moneda:0,simbolomoneda:"",tasa:0,tarifapesos:0,totaltarifa:0,diasviaje:0,tmptarifa:0,tmpmoneda:0,tmpsimbolomoneda:"",tmptasa:0,tmptarifapesos:0,tmptotaltarifa:0,searchDestinos:"",arrDestinos:[],menuDate2:!1,menuDate3:!1,dialog_adddestino:!1,tipodestino:"",tipodesplazamiento:"",arrCiudades:[],arrPaises:[],arrLugares:[],lugarSelActual:"",nombrelugaractual:"",tarifas:[],tarifaspaises:[],totaldiasviaje:0,totaltarifasviajes:0,tipotransporteSel:[{text:"AÉREO",value:"A"},{text:"FLUVIAL",value:"F"},{text:"TERRESTRE",value:"T"}],headerdestinoAdd:[{text:"Lugar",align:"left",sortable:!1,value:"nombrecompleto"},{text:"Seleccionar",value:"action",sortable:!1}],headdestinos:[{text:"Tipo Origen",align:"left",sortable:!1,value:"tipolugarorigen"},{text:"Población Ori.",align:"left",sortable:!1,value:"nombrelugarorigen"},{text:"Lugar Origen",align:"left",sortable:!1,value:"txtdestinoorigen"},{text:"Tipo Destino",align:"left",sortable:!1,value:"tipolugardestino"},{text:"Población Dest.",align:"left",sortable:!1,value:"nombrelugardestino"},{text:"Lugar Destino",align:"left",sortable:!1,value:"txtdestinofinal"},{text:"Fecha Ida",align:"left",sortable:!1,value:"fechaida"},{text:"Fecha Regreso",align:"left",sortable:!1,value:"fecharegreso"},{text:"Dias Viaje",align:"left",sortable:!1,value:"diasviaje"},{text:"Tipo Transporte",align:"left",sortable:!1,value:"txttipotransporte"},{text:"Tarifa",align:"left",sortable:!1,value:"tarifa"},{text:"Moneda",align:"left",sortable:!1,value:"simbolomoneda"},{text:"Tasa",align:"left",sortable:!1,value:"tasa"},{text:"Total Tarifa en Pesos",align:"left",sortable:!1,value:"tarifapesos"},{text:"Accion",value:"action",sortable:!1}],usuariosPlanViaticos:[],usuariosTH:[],usuariosFI:[],usuariosDIR:[],usuariosPRE:[],usuariosTES:[],readonlyData:!1,usuaactual:0,usuariossistema:[],esUsuarioPlanViaticos:!1,esUsuarioTH:!1,esUsuarioFI:!1,esUsuarioDIR:!1,esUsuarioPRE:!1,esUsuarioTES:!1,arrEstados:[],validvbpla:!1,tipoestadonotificacion:"",tipoliquidacion:"",valorliquidado:0,tipoliquidacionSel:[{text:"AUTOMÁTICO",value:"A"},{text:"MANUAL",value:"M"}],arrDestinosOrdFecha:[],arrRubrosDistribuye:[],totalvalordistribuido:"",dialog_editrubroliquida:!1,valordistribuido:0,itemrubrodistriuido:"",saldorubro:0,archivoarl:{file_name:"",file_path:"",file_name_tmp:""},filedelete:"",tipofiledelete:"",dialog_deletefile:"",rutasarchivoarl:"",validvbfin:!1,validvbdir:!1,validvbpre:!1,validvbpreadd:!1,dialog_tesoreria:!1,arrProyectosGenAll:[],arrPlanAdqGenAll:[],arrNecesidadesPlanAdq:[],proyectosel:"",planadqsel:"",necesidadplaadqsel:"",headerrubrodistrib:[{text:"Nombre Convenio",align:"left",sortable:!1,value:"nombreconvenio"},{text:"Nombre Proyecto",align:"left",sortable:!1,value:"nombre"},{text:"Necesidad",align:"left",sortable:!1,value:"descripcion"},{text:"Rubro",value:"rubro",sortable:!1,align:"left"},{text:"Valor",value:"valor",sortable:!1,align:"left"},{text:"Comprometido",value:"comprometido",sortable:!1,align:"left"},{text:"Saldo",value:"saldo",sortable:!1,align:"left"},{text:"Valor Liquidado",value:"valordistribuido",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],paramGeneral:[],tipoDestinoNac:[{text:"ASOCIACIONES",value:"A"},{text:"COMUNIDADES",value:"C"},{text:"RESGUARDOS INDÍGENAS",value:"R"},{text:"MUNICIPIOS",value:"M"}],tipolugar:"",codigotipolugar:"",arrtipolugar:[],tipolugarorigen:"",tipolugardestino:"",codigotipolugarorigen:"0",codigotipolugardestino:"0",nombretipoorigen:"",nombrelugarorigen:"",nombretipodestino:"",nombrelugardestino:"",usuariosCoordinadores:[],dialog_cambiofecha:!1,nuevafecha:"",arrEstadosPlaneacion:[],arrEstadosFinanciera:[],arrEstadosDirGeneral:[],arrEstadosPresupuesto:[],arrEstadosTH:[],arrEstadosTesoreria:[],arrEstadosAdministrativa:[],vobotalentohumano:"",obstalentohumano:"",validvbadministrativa:!1,voboadministrativa:"",numviabilidad:"",dialog_presupuesto:!1,dataPresupuesto:[],editPresupuesto:-1,codigopresupuesto:0,itemactualPresupuesto:"",numerocdp:"",archivocdp:{file_name:"",file_path:"",file_name_tmp:""}},Xr(t,"archivocdp",""),Xr(t,"numerorp",""),Xr(t,"archivorp",{file_name:"",file_path:"",file_name_tmp:""}),Xr(t,"rutaarchivorp",""),Xr(t,"formTitlePresupuesto",""),Xr(t,"headpresupuesto",[{text:"No. CDP",align:"left",sortable:!1,value:"numerocdp"},{text:"Archivo CDP",align:"left",sortable:!1,value:"archivocdp.file_name"},{text:"No. RP",align:"left",sortable:!1,value:"numerorp"},{text:"Archivo RP",value:"archivorp.file_name",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}]),Xr(t,"rules",{required:function(t){return!!t||"Campo requerido."},valor:function(t){return t>0||"El Valor debe ser mayor a 0."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"E-mail inválido."}}),t},computed:{},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},envioNotificaciones:function(){var t=zr(He.a.mark((function t(e){var a,o,i,n,r,s,c,l,d,u;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=0,o=47,i=this.identificacion,n=0;case 4:if(!(n<this.usuariossistema.length)){t.next=12;break}if(r=this.usuariossistema[n],this.usuario!=r.usuarioid){t.next=9;break}return a=r.codigopersonal,t.abrupt("break",12);case 9:n++,t.next=4;break;case 12:return""!=a&&0!=a&&this.$root.$emit("enviarNotificaciones",{codigopersona:a,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:o,numerointerno:i}),this.usuariosCoordinadores=[],s=[],t.next=17,Tr.UsersProyectos(this.codigo);case 17:for(s=t.sent,s.data&&(this.usuariosCoordinadores=s.data.data),c=0;c<this.usuariosCoordinadores.length;c++)l=this.usuariosCoordinadores[c],a=l.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:a,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:o,numerointerno:i});for(d=0;d<this.usuariosPlanViaticos.length;d++)u=this.usuariosPlanViaticos[d],a=u.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:a,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:o,numerointerno:i});case 21:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),envioNotificacionesEstado:function(){var t=zr(He.a.mark((function t(e,a){var o,i,n,r,s,c,l,d,u,p,m,v,h,f,g,b,x,_,y,k,C,S,w,P,A,j,E,T,D,I,O,N,M,R,F,q,U,$,L,B,G,V;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=0,i=47,n=this.identificacion,r=0;case 4:if(!(r<this.usuariossistema.length)){t.next=12;break}if(s=this.usuariossistema[r],this.usuario!=s.usuarioid){t.next=9;break}return o=s.codigopersonal,t.abrupt("break",12);case 9:r++,t.next=4;break;case 12:""!=o&&0!=o&&this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n}),o=0,c=0;case 15:if(!(c<this.usuariossistema.length)){t.next=23;break}if(l=this.usuariossistema[c],this.itemactual.userid!=l.usuarioid){t.next=20;break}return o=l.codigopersonal,t.abrupt("break",23);case 20:c++,t.next=15;break;case 23:return""!=o&&0!=o&&this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n}),this.usuariosCoordinadores=[],d=[],t.next=28,Tr.UsersProyectos(this.codigo);case 28:for(d=t.sent,d.data&&(this.usuariosCoordinadores=d.data.data),u=0;u<this.usuariosCoordinadores.length;u++)p=this.usuariosCoordinadores[u],o=p.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n});if("PL"==this.tipoestadonotificacion&&1==a)for(m=0;m<this.usuariosFI.length;m++)v=this.usuariosFI[m],o=v.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n});else if("FI"==this.tipoestadonotificacion){for(h=0;h<this.usuariosPlanViaticos.length;h++)f=this.usuariosPlanViaticos[h],o=f.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n});if(1==a)for(g=0;g<this.usuariosTH.length;g++)b=this.usuariosTH[g],o=b.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n})}else if("THU"==this.tipoestadonotificacion)for(x=0;x<this.usuariosPlanViaticos.length;x++)_=this.usuariosPlanViaticos[x],o=_.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n});else if("ADM"==this.tipoestadonotificacion)for(y=0;y<this.usuariosDIR.length;y++)k=this.usuariosDIR[y],o=k.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n});else if("DIR"==this.tipoestadonotificacion){for(C=0;C<this.usuariosPlanViaticos.length;C++)S=this.usuariosPlanViaticos[C],o=S.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n});for(w=0;w<this.usuariosTH.length;w++)P=this.usuariosTH[w],o=P.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n});for(A=0;A<this.usuariosFI.length;A++)j=this.usuariosFI[A],o=j.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n});if(1==a)for(E=0;E<this.usuariosPRE.length;E++)T=this.usuariosPRE[E],o=T.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n})}else if("PRE"==this.tipoestadonotificacion){for(D=0;D<this.usuariosDIR.length;D++)I=this.usuariosDIR[D],o=I.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n});if(1==a)for(O=0;O<this.usuariosTES.length;O++)N=this.usuariosTES[O],o=N.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n})}else if("TES"==this.tipoestadonotificacion){for(M=0;M<this.usuariosPlanViaticos.length;M++)R=this.usuariosPlanViaticos[M],o=R.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n});for(F=0;F<this.usuariosTH.length;F++)q=this.usuariosTH[F],o=q.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n});for(U=0;U<this.usuariosFI.length;U++)$=this.usuariosFI[U],o=$.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n});for(L=0;L<this.usuariosDIR.length;L++)B=this.usuariosDIR[L],o=B.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n});for(G=0;G<this.usuariosPRE.length;G++)V=this.usuariosPRE[G],o=V.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:o,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:i,numerointerno:n})}case 32:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),resetForm:function(){this.codigo=0,this.fecha="",this.tipobeneficiario="",this.tipoidentcodigo="",this.identificacion="",this.beneficiario="",this.cargocodigo="0",this.tiposalario="",this.txttiposalario="",this.rolinvitado="",this.direccion="",this.telefono="",this.email="",this.fechanacimiento="",this.valorcontrato=0,this.mesescontrato=0,this.requieretiquetes="",this.objetivogeneral="",this.viaticos="",this.valorviaticos=0,this.pagoanticipado="",this.reembolso="",this.valortiquetes=0,this.gastosviaje="",this.valorgastosviaje=0,this.desgastosviaje="",this.observacion="",this.valorbaseben=0,this.enviovobo=0,this.usuario=this.usuaactual,this.voboplaneacion=0,this.obsplaneacion="",this.arrDestinos=[],this.arrRubrosGen=[],this.rutasarchivogen="",this.archivoarl={file_name:"",file_path:"",file_name_tmp:""},this.valorliquidado=0,this.tipoliquidacion="",this.estado="",this.estadotxt="",this.dataPresupuesto=[]},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerDataPrincipal:function(){var t=this;this.loading=!0,Tr.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},traeTiposId:function(){var t=this;Kt.getTiposIde().then((function(e){e.request&&e.data?t.arrTiposId=e.data.data:t.arrTiposId=[]})).catch((function(e){t.arrTiposId=[]}))},traeCargos:function(){var t=this;Ft.getCargos().then((function(e){e.request&&e.data?t.arrCargos=e.data.data:t.arrCargos=[]})).catch((function(e){t.arrCargos=[]}))},saveitem:function(){var t=this.limpiarMoneda(this.valorviaticos),e=this.limpiarMoneda(this.valortiquetes),a=this.limpiarMoneda(this.valorgastosviaje),o=this.limpiarMoneda(this.valorbaseben),i=this.limpiarMoneda(this.valorcontrato),n=this.limpiarMoneda(this.totaltarifasviajes);if("I"!=this.tipobeneficiario||""!=this.rolinvitado)if("S"!=this.requieretiquetes||"0"!=e&&""!=e)if("S"!=this.viaticos||"0"!=t&&""!=t)if("S"!=this.gastosviaje||"0"!=a&&""!=a){var r=this.validaGastosViaje();if(r)if("S"!=this.gastosviaje||""!=this.desgastosviaje)if(this.arrDestinos.length<=0)this.showMessage(!0,3e3,"error","Debe ingresar al menos un lugar de desplazamiento");else{"I"!=this.tipobeneficiario&&""!=this.rolinvitado&&(this.rolinvitado=""),"S"!=this.gastosviaje&&""!=this.desgastosviaje&&(this.desgastosviaje="");var s=parseFloat(t)+parseFloat(e)+parseFloat(a)+parseFloat(n);if(parseFloat(s)>parseFloat(this.totalrubros))this.showMessage(!0,3e3,"error","El total de los items superan el saldo de los rubros");else{var c=this;this.loading=!0;var l="",d=20,u={codigo:this.codigo,tipobeneficiario:this.tipobeneficiario,tipoidentcodigo:this.tipoidentcodigo,identificacion:this.identificacion,beneficiario:this.beneficiario,cargocodigo:this.cargocodigo,tiposalario:this.tiposalario,rolinvitado:this.rolinvitado,direccion:this.direccion,telefono:this.telefono,email:this.email,fechanacimiento:this.fechanacimiento,valorcontrato:i,mesescontrato:this.mesescontrato,usuario:this.$session.get("usuarioid"),requieretiquetes:this.requieretiquetes,objetivogeneral:this.objetivogeneral,viaticos:this.viaticos,pagoanticipado:this.pagoanticipado,reembolso:this.reembolso,valortiquetes:e,gastosviaje:this.gastosviaje,valorgastosviaje:a,observacion:this.observacion,valorviaticos:t,valorbaseben:o,desgastosviaje:this.desgastosviaje,estado:d};this.edit?(l="Beneficiario: "+this.beneficiario,l="CODIGO: "+this.codigo+" ("+l+")"):l+="BENEFICIARIO: "+this.beneficiario;for(var p=[],m=[],v=0;v<this.arrRubrosGen.length;v++){var h=this.arrRubrosGen[v];m.push({plan:h.planadquisicion,necesidad:h.codigo,actividad:h.secuenciaactividad,presupuesto:h.presupuesto,comprometido:h.comprometido,saldo:h.saldo})}for(var f=0;f<this.arrDestinos.length;f++){var g=this.arrDestinos[f];p.push({codigo:g.codigo,origennacional:g.origennacional,origeninternacional:g.origeninternacional,destinonacional:g.destinonacional,destinointernacional:g.destinointernacional,txtdestinoorigen:g.txtdestinoorigen,txtdestinofinal:g.txtdestinofinal,fechaida:g.fechaida,fecharegreso:g.fecharegreso,tipotransporte:g.tipotransporte,tarifa:g.tarifa,moneda:g.moneda,tasa:g.tasa,tarifapesos:g.tarifapesos,totaltarifa:g.totaltarifa,diasviaje:g.diasviaje,tipolugarorigen:g.tipolugarorigen,codigotipolugarorigen:g.codigotipolugarorigen,nombrelugarorigen:g.nombrelugarorigen,tipolugardestino:g.tipolugardestino,codigotipolugardestino:g.codigotipolugardestino,nombrelugardestino:g.nombrelugardestino})}Tr.guardarData(u,p,m).then((function(t){if(t.response){var e=t.response.data.message;c.showMessage(!0,3e3,"error",e)}else if(t.statusText){var a="",o="";c.edit?(a="Actualizó",o="ACTUALIZACION"):(a="Agregó",o="CREACION"),c.showMessage(!0,3e3,"success","Se "+a+" el Desplazamiento con éxito");var i=0==c.codigo?t.data.codigo:c.codigo;c.codigo=i;var n="Cordial Saludo,<br><br> Se "+a+" el Desplazamiento para el Beneficiario: "+c.beneficiario+" con consecutivo "+i+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";c.envioNotificaciones({mensajenotificacion:"Se "+a+" el Desplazamiento para el Beneficiario: "+c.beneficiario+" con consecutivo "+i,asuntocorreo:"Creación o Modificación de Desplazamiento",mensajecorreo:n}),c.edit=-1,c.traerDataPrincipal(),c.resetForm(),c.agregaBitacora(o,l),c.dialog=!1}else c.showMessage(!0,3e3,"error",t.message);c.loading=!1})).catch((function(t){c.showMessage(!0,3e3,"error",t),c.loading=!1}))}}else this.showMessage(!0,3e3,"error","Debe ingresar la Descripción de los gastos de viaje")}else this.showMessage(!0,3e3,"error","Debe ingresar el valor de los gastos de viaje si es requerido");else this.showMessage(!0,3e3,"error","Debe ingresar el valor de los viáticos si es requerido");else this.showMessage(!0,3e3,"error","Debe ingresar el valor de los tiquetes si es requerido");else this.showMessage(!0,3e3,"error","Debe ingresar el Rol, cuando en tipo de beneficiario es Invitado")},number_format:function(t,e){if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var a=t.split("."),o=/(\d+)(\d{3})/;while(o.test(a[0]))a[0]=a[0].replace(o,"$1.$2");return a.join(",")},limpiarMoneda:function(t){var e=t.toString().replace(",00","").replace(/[$.]/gi,"");return e=e.replace(/[,]/gi,"."),e},limpiarBeneficiario:function(){this.tipoidentcodigo="",this.identificacion="",this.cargocodigo="9999",this.tiposalario="",this.txttiposalario="",this.rolinvitado="",this.direccion="",this.telefono="",this.email="",this.fechanacimiento="",this.beneficiario="",this.valorcontrato=0,this.mesescontrato=0,this.pagoanticipado="N",this.reembolso="N",this.valorbaseben=0,this.arrBeneficiarios=[],"C"==this.tipobeneficiario?this.arrBeneficiarios=this.arrContratistas:"T"==this.tipobeneficiario&&(this.arrBeneficiarios=this.arrPersonas)},traePersonal:function(){var t=this;this.arrPersonas=[],st["a"].FiltroXEstado(1).then((function(e){e.request&&e.data&&(t.arrPersonas=e.data.data)})).catch((function(t){}))},traeContratistas:function(){var t=this;this.arrContratistas=[],Nr.getData().then((function(e){e.request&&e.data&&(t.arrContratistas=e.data.data)})).catch((function(t){}))},traeDatosPersona:function(){this.tipoidentcodigo=this.selPersona.tipoid,this.identificacion=this.selPersona.identificacion,this.beneficiario=this.selPersona.nombrecompleto,this.cargocodigo=this.selPersona.codigocargo,this.direccion=this.selPersona.direccion,this.telefono=this.selPersona.telefono,this.email=this.selPersona.correo,this.fechanacimiento=this.selPersona.fechanacimiento,this.tiposalario=this.selPersona.tiposalario,this.txttiposalario="I"==this.tiposalario?"INTEGRAL":"ORDINARIO";var t=this.selPersona.salariobasico;"I"==this.tiposalario&&(t*=.7),this.valorbaseben=this.number_format(t,2),void 0!=this.selPersona.valorcontrato&&null!=this.selPersona.valorcontrato&&(this.valorcontrato=this.number_format(this.selPersona.valorcontrato)),void 0!=this.selPersona.mesescontrato&&null!=this.selPersona.mesescontrato&&(this.mesescontrato=this.selPersona.mesescontrato)},traeRubrosAll:function(){var t=this;this.arrRubrosGenAll=[],""==this.searchcongenadd&&(this.searchcongenadd=0),gr["a"].rubrosPresupuestales("","",this.planadqsel,this.necesidadplaadqsel).then((function(e){e.request&&e.data&&(t.arrRubrosGenAll=e.data)})).catch((function(t){}))},agregarRubros:function(){if(this.selected.length<=0)this.showMessage(!0,4e3,"error","Debe seleccionar al menos un Rubro");else{for(var t="",e=0,a=0,o=0;o<this.selected.length;o++){var i=this.selected[o];e=1;for(var n=0;n<this.arrRubrosGen.length;n++){var r=this.arrRubrosGen[n];if(r.planadquisicion==i.planadquisicion&&r.codigo==i.codigo&&r.secuenciaactividad==i.secuenciaactividad&&r.presupuesto==i.presupuesto){e=0,t+=""!=t?", "+r.rubro:r.rubro;break}}1==e&&(this.arrRubrosGen.push(i),a+=1)}0==a?this.showMessage(!0,4e3,"error","No se puede agregar ningún item porque ya fueron agregados"):(""!=t&&this.showMessage(!0,4e3,"error","Los siguientes Rubros ya fueron agregados: "+t),this.dialog_addrubro=!1)}},eliminaItem:function(t){for(var e=0;e<this.arrRubrosGen.length;e++){var a=this.arrRubrosGen[e];if(t.planadquisicion==a.planadquisicion&&t.codigo==a.codigo&&t.secuenciaactividad==a.secuenciaactividad&&t.presupuesto==a.presupuesto)return void this.arrRubrosGen.splice(e,1)}},limpiarBusqueda:function(t){"searchcongenadd"==t?this.searchcongenadd=0:"searchNombre"==t&&(this.searchNombre=""),this.traeRubrosAll()},totalizarComprometidoActual:function(){this.totalcomprometido=this.valortiquetes+this.valorgastosviaje+this.valorviaticos},limpiavalores:function(t){"requieretiquetes"==t?"S"==this.requieretiquetes?this.tiquetesok=!0:(this.valortiquetes=0,this.tiquetesok=!1):"viaticos"==t?"S"==this.viaticos?this.viaticosok=!0:(this.valorviaticos=0,this.viaticosok=!1):"gastosviaje"==t&&("S"==this.gastosviaje?this.gastosviajeok=!0:(this.valorgastosviaje=0,this.desgastosviaje="",this.gastosviajeok=!1))},formatearValor:function(t,e){var a=t;switch(a=this.limpiarMoneda(a),a=this.number_format(a,2),e){case"valorcontrato":this.valorcontrato=a;break;case"valorviaticos":this.valorviaticos=a;break;case"valortiquetes":this.valortiquetes=a;break;case"valorgastosviaje":this.valorgastosviaje=a;break;case"valorbaseben":this.valorbaseben=a;break;case"valorliquidado":this.valorliquidado=a;break;case"valordistribuido":this.valordistribuido=a;break;default:break}},quitarFormato:function(t){switch(t){case"valorcontrato":this.valorcontrato=this.limpiarMoneda(this.valorcontrato);break;case"valorviaticos":this.valorviaticos=this.limpiarMoneda(this.valorviaticos);break;case"valortiquetes":this.valortiquetes=this.limpiarMoneda(this.valortiquetes);break;case"valorgastosviaje":this.valorgastosviaje=this.limpiarMoneda(this.valorgastosviaje);break;case"valorbaseben":this.valorbaseben=this.limpiarMoneda(this.valorbaseben);break;case"valorliquidado":this.valorliquidado=this.limpiarMoneda(this.valorliquidado);break;case"valordistribuido":this.valordistribuido=this.limpiarMoneda(this.valordistribuido);break;default:break}},traerDestinos:function(){var t=this;this.arrDestinos=[],Tr.destinosXCodigo(this.codigo).then((function(e){e.request&&e.data&&(t.arrDestinos=e.data.data)})).catch((function(t){}))},traerRubros:function(){var t=this;this.arrRubrosGen=[],this.arrRubrosDistribuye=[],Tr.rubrosXCodigo(this.codigo).then((function(e){e.request&&e.data&&(t.arrRubrosGen=e.data,t.arrRubrosDistribuye=e.data)})).catch((function(t){}))},resetFormDestino:function(){this.codigodestino=0,this.origennacional="",this.origeninternacional="",this.destinonacional="",this.destinointernacional="",this.txtdestinoorigen="",this.txtdestinofinal="",this.fechaida="",this.fecharegreso="",this.tipotransporte="",this.tarifa=0,this.moneda=0,this.simbolomoneda="",this.tasa=0,this.tarifapesos=0,this.totaltarifa=0,this.diasviaje=0,this.tipolugarorigen="",this.tipolugardestino="",this.nombretipoorigen="",this.nombretipodestino="",this.codigotipolugarorigen="",this.codigotipolugardestino="",this.nombrelugarorigen="",this.nombrelugardestino=""},cerrarDialogoDestino:function(){this.resetFormDestino(),this.dialog_destinos=!1,this.editdestinos=-1,this.arrLugares=[]},saveitemDestino:function(){var t=zr(He.a.mark((function t(){var e,a,o,i,n,r,s,c,l,d,u,p,m,v,h,f,g,b,x,_,y,k,C,S,w,P;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=0,""==this.fechaida||""==this.fecharegreso){t.next=36;break}if(a=this.fechaida.split("-"),o=this.fecharegreso.split("-"),i=new Date(a[0],a[1]-1,a[2]),n=new Date(o[0],o[1]-1,o[2]),!(i>n)){t.next=9;break}return this.showMessage(!0,4e3,"error","La Fecha de Ida debe ser menor a la Fecha de Regreso"),t.abrupt("return");case 9:r=i.getTime(),s=n.getTime(),c=s-r,e=c/864e5,l=0;case 14:if(!(l<this.arrDestinos.length)){t.next=27;break}if(d=this.arrDestinos[l],u=d.fechaida.split("-"),p=d.fecharegreso.split("-"),m=new Date(u[0],u[1]-1,u[2]),v=new Date(p[0],p[1]-1,p[2]),this.codigodestino==d.codigo){t.next=24;break}if(!(i<=m&&n>=m||i>=m&&n<=v||i>m&&i<v&&n>v||i<m&&n>v)){t.next=24;break}return this.showMessage(!0,4e3,"error","Las Fechas Seleccionadas estan dentro de los rangos de otras fechas de Destino actuales"),t.abrupt("return");case 24:l++,t.next=14;break;case 27:return h=a[0]+"-"+a[1]+"-"+a[2],f=o[0]+"-"+o[1]+"-"+o[2],t.next=31,Tr.buscarFechasLugares(this.codigo,this.tipoidentcodigo,this.identificacion,h,f);case 31:if(g=t.sent,!g.data){t.next=36;break}if(!(g.data.length>0)){t.next=36;break}return this.showMessage(!0,4e3,"error","Las Fechas Seleccionadas estan dentro de los rangos de otras fechas para el Destino con código "+g.data[0].descod),t.abrupt("return");case 36:b=0,x=0,_=0;case 39:if(!(_<this.arrDestinos.length)){t.next=48;break}if(y=this.arrDestinos[_],this.origennacional!=y.origennacional||this.origeninternacional!=y.origeninternacional||this.destinonacional!=y.destinonacional||this.destinointernacional!=y.destinointernacional||this.tipolugarorigen!=y.tipolugarorigen||this.nombrelugarorigen!=y.nombrelugarorigen||this.tipolugardestino!=y.tipolugardestino||this.nombrelugardestino!=y.nombrelugardestino||this.codigodestino==y.codigo){t.next=44;break}return this.showMessage(!0,4e3,"error","Ya existen los lugares de Destino y Origen seleccionados"),t.abrupt("return");case 44:this.codigodestino!=y.codigo&&(b+=y.diasviaje,x+=parseFloat(y.tarifapesos));case 45:_++,t.next=39;break;case 48:if(k=this.limpiarMoneda(this.tarifapesos),C=parseInt(b)+parseInt(e),x+=parseFloat(k),!(C>30)){t.next=54;break}return this.showMessage(!0,4e3,"error","Los días de viaje de todos los destinos no pueden ser superior a 30"),t.abrupt("return");case 54:if(this.totaldiasviaje=C,this.totaltarifasviajes=this.number_format(x,2),0!=this.codigodestino){t.next=62;break}S=this.arrDestinos.reduce((function(t,e){return Math.max(t,e.codigo)}),0),S+=1,this.arrDestinos.push({desplazamiento:this.codigo,codigo:S,origennacional:this.origennacional,origeninternacional:this.origeninternacional,destinonacional:this.destinonacional,destinointernacional:this.destinointernacional,txtdestinoorigen:this.txtdestinoorigen,txtdestinofinal:this.txtdestinofinal,fechaida:this.fechaida,fecharegreso:this.fecharegreso,tipotransporte:this.tipotransporte,txttipotransporte:"F"==this.tipotransporte?"FLUVIAL":"T"==this.tipotransporte?"TERRRESTRE":"AÉREO",tarifa:this.limpiarMoneda(this.tarifa),moneda:this.moneda,simbolomoneda:this.simbolomoneda,tasa:this.limpiarMoneda(this.tasa),tarifapesos:this.limpiarMoneda(this.tarifapesos),totaltarifa:this.limpiarMoneda(this.totaltarifa),diasviaje:e,tipolugarorigen:this.tipolugarorigen,codigotipolugarorigen:this.codigotipolugarorigen,nombrelugarorigen:this.nombrelugarorigen,tipolugardestino:this.tipolugardestino,codigotipolugardestino:this.codigotipolugardestino,nombrelugardestino:this.nombrelugardestino,nombretipoorigen:this.nombretipoorigen,nombretipodestino:this.nombretipodestino}),t.next=90;break;case 62:w=0;case 63:if(!(w<this.arrDestinos.length)){t.next=90;break}if(P=this.arrDestinos[w],this.codigodestino!=P.codigo){t.next=87;break}return P.origennacional=this.origennacional,P.origeninternacional=this.origeninternacional,P.destinonacional=this.destinonacional,P.destinointernacional=this.destinointernacional,P.txtdestinoorigen=this.txtdestinoorigen,P.txtdestinofinal=this.txtdestinofinal,P.fechaida=this.fechaida,P.fecharegreso=this.fecharegreso,P.tipotransporte=this.tipotransporte,P.txttipotransporte="F"==this.tipotransporte?"FLUVIAL":"T"==this.tipotransporte?"TERRRESTRE":"AÉREO",P.tarifa=this.limpiarMoneda(this.tarifa),P.moneda=this.moneda,P.simbolomoneda=this.simbolomoneda,P.tasa=this.limpiarMoneda(this.tasa),P.tarifapesos=this.limpiarMoneda(this.tarifapesos),P.totaltarifa=this.limpiarMoneda(this.totaltarifa),P.diasviaje=e,P.tipolugarorigen=this.tipolugarorigen,P.codigotipolugarorigen=this.codigotipolugarorigen,P.nombrelugarorigen=this.nombrelugarorigen,P.tipolugardestino=this.tipolugardestino,P.codigotipolugardestino=this.codigotipolugardestino,P.nombrelugardestino=this.nombrelugardestino,P.nombretipoorigen=this.nombretipoorigen,P.nombretipodestino=this.nombretipodestino,t.abrupt("break",90);case 87:w++,t.next=63;break;case 90:this.cerrarDialogoDestino();case 91:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),agregarDestino:function(){var t=zr(He.a.mark((function t(){var e,a,o,i,n,r,s,c,l,d,u,p,m,v,h,f,g,b,x;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("o"!=this.tipodesplazamiento){t.next=12;break}this.origennacional="",this.origeninternacional="",this.txtdestinoorigen="",this.tipolugarorigen="",this.nombretipoorigen="",this.nombrelugarorigen="",this.codigotipolugarorigen="","n"==this.tipodestino?(e="object"==Gr(this.tipolugar)?this.tipolugar.value:this.tipolugar,a="object"==Gr(this.tipolugar)?this.tipolugar.text:"",o="object"==Gr(this.codigotipolugar)?this.codigotipolugar.codigo:this.codigotipolugar,i="object"==Gr(this.codigotipolugar)?this.codigotipolugar.nombre:"",this.origennacional=this.lugaractual,this.tipolugarorigen=e,this.nombretipoorigen=a,this.nombrelugarorigen=i,this.codigotipolugarorigen=o):this.origeninternacional=this.lugaractual,this.txtdestinoorigen=this.nombrelugaractual.trim().toUpperCase(),t.next=81;break;case 12:if(this.destinonacional="",this.destinointernacional="",this.txtdestinofinal="",this.tipolugardestino="",this.nombretipodestino="",this.nombrelugardestino="",this.codigotipolugardestino="",n=this.limpiarMoneda(this.valorbaseben),"n"!=this.tipodestino){t.next=52;break}this.destinonacional=this.lugaractual,r="object"==Gr(this.tipolugar)?this.tipolugar.value:this.tipolugar,s="object"==Gr(this.tipolugar)?this.tipolugar.text:"",c="object"==Gr(this.codigotipolugar)?this.codigotipolugar.codigo:this.codigotipolugar,l="object"==Gr(this.codigotipolugar)?this.codigotipolugar.nombre:"",this.tipolugardestino=r,this.nombretipodestino=s,this.nombrelugardestino=l,this.codigotipolugardestino=c,d=this.destinonacional.substring(3,5),u=0,p=0;case 33:if(!(p<this.tarifas.length)){t.next=50;break}if(m=this.tarifas[p],1!=m.codigolugar||"01"!=d){t.next=39;break}parseFloat(n)>=parseFloat(m.rangoinicial)&&parseFloat(n)<=parseFloat(m.rangofinal)&&(v=0,this.tarifa=this.number_format(m.valordiario,2),this.totaltarifa=parseFloat(this.diasviaje)*parseFloat(m.valordiario),this.moneda=1,this.simbolomoneda="$ ",this.tasa=this.number_format(this.tmptasa),v=parseFloat(this.totaltarifa)*parseFloat(this.tmptasa),this.tarifapesos=0==parseFloat(this.tmptasa)?this.number_format(this.totaltarifa,2):this.number_format(v,2),u=1),t.next=45;break;case 39:if(2!=m.codigolugar){t.next=43;break}parseFloat(n)>=parseFloat(m.rangoinicial)&&parseFloat(n)<=parseFloat(m.rangofinal)&&(h=0,this.tarifa=this.number_format(m.valordiario,2),this.totaltarifa=parseFloat(this.diasviaje)*parseFloat(m.valordiario),this.moneda=1,this.simbolomoneda="$ ",this.tasa=this.number_format(this.tmptasa),h=parseFloat(this.totaltarifa)*parseFloat(this.tmptasa),this.tarifapesos=0==parseFloat(this.tmptasa)?this.number_format(this.totaltarifa,2):this.number_format(h,2),u=1),t.next=45;break;case 43:if(!(m.codigolugar>2)){t.next=45;break}return t.abrupt("break",50);case 45:if(1!=u){t.next=47;break}return t.abrupt("break",50);case 47:p++,t.next=33;break;case 50:t.next=80;break;case 52:return this.destinointernacional=this.lugaractual,this.tarifaspaises=[],t.next=56,Ir.getRangosXPais(this.lugaractual);case 56:if(f=t.sent,f.data&&(this.tarifaspaises=f.data.data),this.tarifa=this.number_format(0),this.moneda="",this.simbolomoneda="",this.tasa=this.number_format(this.tmptasa),this.tarifapesos=this.number_format(0),!(this.tarifaspaises.length>0)){t.next=80;break}g=0;case 65:if(!(g<this.tarifaspaises.length)){t.next=80;break}if(b=this.tarifaspaises[g],!(parseFloat(n)>=parseFloat(b.rangoinicial)&&parseFloat(n)<=parseFloat(b.rangofinal))){t.next=77;break}return x=0,this.tarifa=this.number_format(b.valordiario,2),this.totaltarifa=parseFloat(this.diasviaje)*parseFloat(b.valordiario),this.moneda=this.tmpmoneda,this.simbolomoneda=this.tmpsimbolomoneda,this.tasa=this.number_format(this.tmptasa),x=parseFloat(this.totaltarifa)*parseFloat(this.tmptasa),this.tarifapesos=0==parseFloat(this.tmptasa)?this.number_format(this.totaltarifa,2):this.number_format(x,2),t.abrupt("break",80);case 77:g++,t.next=65;break;case 80:this.txtdestinofinal=this.nombrelugaractual.trim().toUpperCase();case 81:this.dialog_adddestino=!1;case 82:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),abrirDialogoDestinos:function(t){this.tipodestino="",this.lugaractual="",this.nombrelugaractual="",this.tipodesplazamiento=t,this.tipolugar="",this.arrtipolugar=[],this.codigotipolugar="",this.arrLugares=[],this.searchdestinoadd="",this.dialog_adddestino=!0},traeLugares:function(){this.arrLugares=[],"n"==this.tipodestino||"i"==this.tipodestino&&(this.arrLugares=this.arrPaises)},traeCiudades:function(){this.arrCiudades=[];var t=this;qi["a"].getData().then((function(e){e.request&&e.data&&(t.arrCiudades=e.data.data)})).catch((function(t){}))},traePaises:function(){this.arrPaises=[];var t=this;Ir.getTarifasXPaises().then((function(e){e.request&&e.data&&(t.arrPaises=e.data)})).catch((function(t){}))},seleccionarlugaractual:function(t){this.tarifa=0,this.moneda=0,this.simbolomoneda="",this.tasa=0,this.tarifapesos=0,this.tmptarifa=0,this.tmpmoneda=0,this.tmpsimbolomoneda="",this.tmptasa=0,this.tmptarifapesos=0,this.lugaractual=t.codigo,this.nombrelugaractual=t.nombrecompleto;var e=0;if("o"==this.tipodesplazamiento)if(""!=this.destinonacional){var a="object"==Gr(this.tipolugar)?this.tipolugar.value:this.tipolugar,o="object"==Gr(this.codigotipolugar)?this.codigotipolugar.nombre:"";this.lugaractual==this.destinonacional&&a==this.tipolugardestino&&o==this.nombrelugardestino&&(e=1)}else""!=this.destinointernacional&&this.lugaractual==this.destinointernacional&&(e=1);else if(""!=this.origennacional){var i="object"==Gr(this.tipolugar)?this.tipolugar.value:this.tipolugar,n="object"==Gr(this.codigotipolugar)?this.codigotipolugar.nombre:"";this.lugaractual==this.origennacional&&i==this.tipolugarorigen&&n==this.nombrelugarorigen&&(e=1)}else""!=this.origeninternacional&&this.lugaractual==this.origeninternacional&&(e=1);if(1==e)return this.lugaractual="",this.nombrelugaractual="",void this.showMessage(!0,4e3,"error","El Lugar de Origen y Destino no pueden ser el mismo");this.tmptarifa=t.tarifa,this.tmpmoneda=t.moneda,this.tmpsimbolomoneda=t.simbolomoneda,this.tmptasa=t.tasa,this.tmptarifapesos=t.tarifapesos},eliminaItemdestinos:function(t){for(var e=0;e<this.arrDestinos.length;e++){var a=this.arrDestinos[e];if(t.codigo==a.codigo)return void this.arrDestinos.splice(e,1)}},traerTarifas:function(){var t=this;Ir.getRangosNacionales().then((function(e){e.request&&e.data&&(t.tarifas=e.data.data)})).catch((function(t){}))},traerTarifasPaises:function(t){var e=this;this.tarifaspaises=[],Ir.getRangosXPais(t).then((function(t){t.request&&t.data&&(e.tarifaspaises=t.data.data)})).catch((function(t){}))},calcularValorDias:function(){var t=0;if(this.diasviaje=0,""!=this.fechaida&&""!=this.fecharegreso){var e=new Date(this.fechaida),a=new Date(this.fecharegreso);if(e>a)return;var o=e.getTime(),i=a.getTime(),n=i-o;t=n/864e5,this.diasviaje=t;var r=this.limpiarMoneda(this.tasa),s=this.limpiarMoneda(this.tarifa),c=parseFloat(t)*parseFloat(s);this.totaltarifa=this.number_format(c,2),this.tarifapesos=0==parseFloat(r)?this.number_format(c,2):this.number_format(parseFloat(r)*parseFloat(c),2)}},habilitaLugares:function(){var t=""!=this.valorbaseben?this.limpiarMoneda(this.valorbaseben):0;return parseFloat(t)>0},traeUsuariosPerfiles:function(){var t=zr(He.a.mark((function t(){var e,a,o,i,n,r,s,c,l,d,u,p,m,v,h,f,g,b;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.usuariosPlanViaticos=[],this.usuariosTH=[],this.usuariosFI=[],this.usuariosDIR=[],this.usuariosPRE=[],this.usuariosTES=[],this.readonlyData=!1,this.esUsuarioPlanViaticos=!1,this.esUsuarioTH=!1,this.esUsuarioFI=!1,this.esUsuarioDIR=!1,this.esUsuarioPRE=!1,this.esUsuarioTES=!1,t.prev=13,t.next=16,it.getUsuariosXPerfil(6);case 16:return e=t.sent,t.next=19,it.getUsuariosXPerfil(7);case 19:return a=t.sent,t.next=22,it.getUsuariosXPerfil(8);case 22:return o=t.sent,t.next=25,it.getUsuariosXPerfil(9);case 25:return i=t.sent,t.next=28,it.getUsuariosXPerfil(10);case 28:return n=t.sent,t.next=31,it.getUsuariosXPerfil(11);case 31:r=t.sent,e.data&&(this.usuariosPlanViaticos=e.data.data),a.data&&(this.usuariosTH=a.data.data),o.data&&(this.usuariosFI=o.data.data),i.data&&(this.usuariosDIR=i.data.data),n.data&&(this.usuariosPRE=n.data.data),r.data&&(this.usuariosTES=r.data.data),this.usuaactual=this.$session.get("usuarioid"),s=0;case 40:if(!(s<this.usuariosPlanViaticos.length)){t.next=49;break}if(c=this.usuariosPlanViaticos[s],this.usuaactual!=c.usuarioid){t.next=46;break}return this.esUsuarioPlanViaticos=!0,this.readonlyData=!0,t.abrupt("break",49);case 46:s++,t.next=40;break;case 49:l=0;case 50:if(!(l<this.usuariosTH.length)){t.next=59;break}if(d=this.usuariosTH[l],this.usuaactual!=d.usuarioid){t.next=56;break}return this.esUsuarioTH=!0,this.readonlyData=!0,t.abrupt("break",59);case 56:l++,t.next=50;break;case 59:u=0;case 60:if(!(u<this.usuariosFI.length)){t.next=69;break}if(p=this.usuariosFI[u],this.usuaactual!=p.usuarioid){t.next=66;break}return this.esUsuarioFI=!0,this.readonlyData=!0,t.abrupt("break",69);case 66:u++,t.next=60;break;case 69:m=0;case 70:if(!(m<this.usuariosDIR.length)){t.next=79;break}if(v=this.usuariosDIR[m],this.usuaactual!=v.usuarioid){t.next=76;break}return this.esUsuarioDIR=!0,this.readonlyData=!0,t.abrupt("break",79);case 76:m++,t.next=70;break;case 79:h=0;case 80:if(!(h<this.usuariosPRE.length)){t.next=89;break}if(f=this.usuariosPRE[h],this.usuaactual!=f.usuarioid){t.next=86;break}return this.esUsuarioPRE=!0,this.readonlyData=!0,t.abrupt("break",89);case 86:h++,t.next=80;break;case 89:g=0;case 90:if(!(g<this.usuariosTES.length)){t.next=99;break}if(b=this.usuariosTES[g],this.usuaactual!=b.usuarioid){t.next=96;break}return this.esUsuarioTES=!0,this.readonlyData=!0,t.abrupt("break",99);case 96:g++,t.next=90;break;case 99:t.next=103;break;case 101:t.prev=101,t.t0=t["catch"](13);case 103:return t.prev=103,t.finish(103);case 105:case"end":return t.stop()}}),t,this,[[13,101,103,105]])})));function e(){return t.apply(this,arguments)}return e}(),traeUsuarios:function(){var t=this;this.usuariossistema=[],it.getUsuarios().then((function(e){e.request&&e.data&&(t.usuariossistema=e.data.data)})).catch((function(t){}))},traeEstados:function(){var t=this;this.arrEstados=[],this.arrEstadosPlaneacion=[],this.arrEstadosFinanciera=[],this.arrEstadosDirGeneral=[],this.arrEstadosPresupuesto=[],this.arrEstadosTH=[],this.arrEstadosTesoreria=[],this.arrEstadosAdministrativa=[],ve["a"].getEstadosXTipo(5).then((function(e){if(e.request&&e.data){var a=e.data.data;t.arrEstados=a,t.arrEstadosPlaneacion=a.filter((function(t){return t.codigo>=21&&t.codigo<=22})),t.arrEstadosFinanciera=a.filter((function(t){return t.codigo>=23&&t.codigo<=24})),t.arrEstadosAdministrativa=a.filter((function(t){return 25==t.codigo})),t.arrEstadosDirGeneral=a.filter((function(t){return t.codigo>=26&&t.codigo<=27})),t.arrEstadosPresupuesto=a.filter((function(t){return t.codigo>=28&&t.codigo<=29})),t.arrEstadosTH=a.filter((function(t){return t.codigo>=30&&t.codigo<=31})),t.arrEstadosTesoreria=a.filter((function(t){return 32==t.codigo}))}})).catch((function(t){}))},savevbplaneacion:function(t){var e="",a="",o=this,i="",n="",r="";this.tipoestadonotificacion=t;var s=0;if("PL"==t?(e="object"==Gr(this.voboplaneacion)?this.voboplaneacion.codigo:this.voboplaneacion,n="object"==Gr(this.voboplaneacion)?this.voboplaneacion.descripcion:"",a=this.obsplaneacion,r="Planeación "+(21==e?"ha rechazado el proceso ":"aprobó el proceso"),s=22==e?1:0):"FI"==t?(e=this.vobofinanciera,a=this.obsfinanciera,r="Subdirección Administrativa y financiera "+(24==e?"ha rechazado el proceso ":"aprobó el proceso"),s=23==e?1:0):"THU"==t?(e="object"==Gr(this.vobotalentohumano)?this.vobotalentohumano.codigo:this.vobotalentohumano,n="object"==Gr(this.vobotalentohumano)?this.vobotalentohumano.descripcion:"",a=this.obstalentohumano,r="Talento humano "+(30==e?"ha rechazado el proceso ":"aprobó el proceso"),s=31==e?1:0):"ADM"==t?(e="object"==Gr(this.voboadministrativa)?this.voboadministrativa.codigo:this.voboadministrativa,n="object"==Gr(this.voboadministrativa)?this.voboadministrativa.descripcion:"",a=this.numviabilidad,r="Administrativa generó el Número de Viabilidad",s=25==e?1:0):"DIR"==t?(e=this.vobodireccion,a=this.obsdireccion,r="Dirección General "+(27==e?"ha rechazado el proceso ":"aprobó el proceso"),s=26==e?1:0):"PRE"==t&&(e="object"==Gr(this.vobopresupuesto)?this.vobopresupuesto.codigo:this.vobopresupuesto,n="object"==Gr(this.vobopresupuesto)?this.vobopresupuesto.descripcion:"",a=this.obspresupuesto,r="Presupuesto "+(28==e?"ha rechazado el proceso ":"aprobó el proceso"),s=29==e?1:0),e=""==e?0:e,0!=e)if(""!=a.trim()){var c="",l="";"PL"==t?c=" de Planeación":"FI"==t?c=" de Subdirección Administrativa y Financiera":"THU"==t?c=" de Talento Humano":"DIR"==t&&(c=" de la dirección del Instituto",1==s&&(l=" Se solicita el CDP y el RP a Presupuesto.")),i="ADM"!=t?"Consecutivo: "+this.codigo+" (Nuevo estado "+c+": "+n+")":"Administrativa generó el Número de Viabilidad",Tr.cambiarEstadosVB(this.codigo,t,e,a).then((function(t){if(t.response){var e=t.response.data.message;o.showMessage(!0,3e3,"error",e)}else if(t.statusText){var a="";a="ESTADO "+c.toUpperCase(),o.showMessage(!0,3e3,"success","Se cambió el Estado "+c+" con éxito");var n="Cordial Saludo,<br><br> "+r+" para el desplazamiento con consecutivo "+o.codigo+"."+l+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";o.envioNotificacionesEstado({mensajenotificacion:r+" para el desplazamiento con consecutivo "+o.codigo+"."+l,asuntocorreo:r+" en un Desplazamiento",mensajecorreo:n},s),o.edit=-1,o.traerDataPrincipal(),o.dialog=!1,o.agregaBitacora(a,i)}else o.showMessage(!0,3e3,"error",t.message);o.loading=!1})).catch((function(t){o.showMessage(!0,3e3,"error",t),o.loading=!1}))}else"ADM"!=t?this.showMessage(!0,3e3,"error","Debe ingresar una observación"):this.showMessage(!0,3e3,"error","Debe ingresar el No. de Viabilidad");else this.showMessage(!0,3e3,"error","Debe ingresar el Estado")},traerDestinosOrdenFecha:function(){var t=this;this.arrDestinosOrdFecha=[],Tr.destinosXCodigoOrdenFecha(this.codigo).then((function(e){e.request&&e.data&&(t.arrDestinosOrdFecha=e.data.data)})).catch((function(t){}))},calcularViaticosAutomaticos:function(){if("M"==this.tipoliquidacion)this.valorliquidado=this.number_format(k,2);else{for(var t=0,e=0,a=0,o=0,i=0,n="",r=0;r<this.arrDestinosOrdFecha.length;r++){var s=this.arrDestinosOrdFecha[r];e=s.tarifa,a=s.tasa,s.diasviaje,n=s.fechaida,i=0!=a?a:1,t=parseInt(s.diasviaje);for(var c=0,l=0,d=0,u=0,p=0,m=0,v=0,h=0;h<this.arrDestinosOrdFecha.length;h++){var f=this.arrDestinosOrdFecha[h];if(f.codigo!=s.codigo&&n==f.fecharegreso){v=1;break}}if(t<=15)if(1==t)c=1,l=parseFloat(e)/2*parseInt(c)*i;else{var g=1;1==v&&(g=2),d=t-g,u=parseFloat(e)*parseInt(d)*i,c=g,l=parseFloat(e)/2*parseInt(c)*i}else{var b=0;1==v&&(b=1),d=15-b,u=parseFloat(e)*parseInt(d)*i,t>16&&(c=t-(16-b),l=parseFloat(e)/2*parseInt(c)*i),p=1,m=.25*parseFloat(e)*parseInt(p)*i}o+=l+u+m}var x=this.limpiarMoneda(this.valorviaticos),_=this.limpiarMoneda(this.valortiquetes),y=this.limpiarMoneda(this.valorgastosviaje),k=parseFloat(x)+parseFloat(_)+parseFloat(y)+parseFloat(o);this.valorliquidado=this.number_format(k,2)}},editaRubroDistribuye:function(t){var e=this.limpiarMoneda(this.valorliquidado);0!=parseFloat(e)?(this.itemrubrodistriuido=t,this.valordistribuido=this.number_format(t.valordistribuido,2),this.saldorubro=this.number_format(t.saldo,2),this.dialog_editrubroliquida=!0):this.showMessage(!0,3e3,"error","No se ha ingresado el valor a Liquidar")},actualizaRubroActual:function(){var t=this.limpiarMoneda(this.valordistribuido),e=this.limpiarMoneda(this.saldorubro);if(parseFloat(t)>parseFloat(e))this.showMessage(!0,3e3,"error","El Valor distribuido no puede superar el Saldo");else{for(var a=parseFloat(t),o=this.limpiarMoneda(this.valorliquidado),i=0;i<this.arrRubrosDistribuye.length;i++){var n=this.arrRubrosDistribuye[i];this.itemrubrodistriuido.codigorubro!=n.codigorubro&&(a+=parseFloat(n.valordistribuido))}if(parseFloat(a)>parseFloat(o))this.showMessage(!0,3e3,"error","El Valor Total Distribuido no puede superar el valor liquidado");else{for(var r=0;r<this.arrRubrosDistribuye.length;r++){var s=this.arrRubrosDistribuye[r];if(this.itemrubrodistriuido.codigorubro==s.codigorubro){s.valordistribuido=this.limpiarMoneda(this.valordistribuido);break}}this.totalvalordistribuido=a,this.dialog_editrubroliquida=!1}}},abrirDialogoElimFile:function(t,e){this.filedelete=t,this.tipofiledelete=e,this.dialog_deletefile=!0},eliminarArchivo:function(){var t=zr(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="desplazamientos\\D"+this.codigo+"\\",t.next=3,Tr.deleteFile(this.codigo,this.tipofiledelete,e,this.filedelete);case 3:if(a=t.sent,!a.data){t.next=26;break}if("error"!=a.data.tipo){t.next=9;break}this.showMessage(!0,4e3,"error",a.data.respuesta),t.next=24;break;case 9:if("success"!=a.data.tipo){t.next=23;break}t.t0=this.tipofiledelete,t.next="archivoarl"===t.t0?13:"archivorp"===t.t0?15:"archivocdp"===t.t0?17:19;break;case 13:return this.archivoarl={file_name:"",file_path:"",file_name_tmp:""},t.abrupt("break",20);case 15:return this.archivorp={file_name:"",file_path:"",file_name_tmp:""},t.abrupt("break",20);case 17:return this.archivocdp={file_name:"",file_path:"",file_name_tmp:""},t.abrupt("break",20);case 19:return t.abrupt("break",20);case 20:this.showMessage(!0,4e3,"success",a.data.respuesta),t.next=24;break;case 23:this.showMessage(!0,4e3,"error","Se presentó un error al intentar realizar la operación");case 24:t.next=27;break;case 26:this.showMessage(!0,4e3,"error","Se presentó un error al intentar realizar la operación");case 27:this.dialog_deletefile=!1;case 28:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),realizarLiquidacion:function(){var t=this,e="object"==Gr(this.vobotalentohumano)?this.vobotalentohumano.codigo:this.vobotalentohumano;if(e=""==e?0:e,0!=parseInt(e))if(30!=parseInt(e)||""!=this.obstalentohumano)if(30!=parseInt(e)||""==this.obstalentohumano){var a=this.limpiarMoneda(this.valorliquidado);if(""!=this.tipoliquidacion)if(0!=parseFloat(a))if(parseFloat(this.totalvalordistribuido)==parseFloat(a))if("C"!=this.tipobeneficiario||""!=this.archivoarl.file_name){var o="",i=this.limpiarMoneda(this.valorliquidado),n={codigo:this.codigo,tipoliquidacion:this.tipoliquidacion,valorliquidado:i,archivoarl:this.archivoarl,estado:e,observacion:this.obstalentohumano};this.edit?(o="Beneficiario: "+this.beneficiario,o="CODIGO: "+this.codigo+" ("+o+")"):o+="BENEFICIARIO: "+this.beneficiario;for(var r=[],s=0;s<this.arrRubrosDistribuye.length;s++){var c=this.arrRubrosGen[s];r.push({codigorubro:c.codigorubro,valordistribuido:c.valordistribuido})}Tr.liquidaViaticos(n,r).then((function(e){if(e.response){var a=e.response.data.message;t.showMessage(!0,3e3,"error",a)}else if(e.statusText){var i="",n="";i="Se realizó la liquidación de Viáticos",n="LIQUIDACIÓN DE VIÁTICOS",t.tipoestadonotificacion="THU",t.showMessage(!0,3e3,"success","Se "+i+" con éxito");var r="Cordial Saludo,<br><br> Se "+i+" para el Beneficiario: "+t.beneficiario+" con consecutivo "+t.codigo+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";t.envioNotificacionesEstado({mensajenotificacion:"Se "+i+" para el Beneficiario: "+t.beneficiario+" con consecutivo "+t.codigo,asuntocorreo:"Liquidación de Viáticos",mensajecorreo:r}),t.edit=-1,t.traerDataPrincipal(),t.resetForm(),t.agregaBitacora(n,o),t.dialog=!1}else t.showMessage(!0,3e3,"error",e.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}else this.showMessage(!0,4e3,"error","Debe seleccionar el Ceritificado de la ARL cuando el tipo de beneficiario es Contratista");else this.showMessage(!0,4e3,"error","La suma del valor distribuido debe ser exacto al valor liquidado");else this.showMessage(!0,4e3,"error","Debe ingresar el Valor a Liquidar");else this.showMessage(!0,4e3,"error","Debe seleccionar el Tipo de Liquidación")}else this.savevbplaneacion("THU");else this.showMessage(!0,4e3,"error","Debe ingresar una observación");else this.showMessage(!0,4e3,"error","Debe seleccionar el estado")},saveDataPresupuesto:function(){var t=this;this.enviotesoreria=!1;var e="object"==Gr(this.vobopresupuesto)?this.vobopresupuesto.codigo:this.vobopresupuesto;if(e=""==e?0:e,0!=parseInt(e))if(28!=parseInt(e)||""!=this.obspresupuesto)if(28!=parseInt(e)||""==this.obspresupuesto)if(this.dataPresupuesto.length<=0)this.showMessage(!0,4e3,"error","Debe ingresar al menos un registro presupuestal");else{var a="";this.enviotesoreria=!0,this.edit?(a+="Beneficiario: "+this.beneficiario,a="CODIGO: "+this.codigo+" ("+a+")"):a+="BENEFICIARIO: "+this.beneficiario,Tr.updDatosPresupuesto(this.codigo,this.vobopresupuesto,this.obspresupuesto,this.dataPresupuesto).then((function(e){if(e.response){var o=e.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(e.statusText){var i="",n="";i="Presupuesto Aprobó el proceso e ingresó la información del CDP y el RP para el desplazamianto con consecutivo ",n="ESTADO APROBADO E INFORMACIÓN PRESUPUESTAL",t.tipoestadonotificacion="PRE",t.showMessage(!0,3e3,"success","Presupuesto Aprobó el proceso e ingresó la información del CDP y el RP con éxito");var r="Cordial Saludo,<br><br> "+i+t.codigo+". Para el Beneficiario: "+t.beneficiario+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";t.envioNotificacionesEstado({mensajenotificacion:i+t.codigo+". Para el Beneficiario: "+t.beneficiario,asuntocorreo:"Aprobación/Rechazo por parte de Presupuesto",mensajecorreo:r},1),t.edit=-1,t.traerDataPrincipal(),t.traerDatosPresupuesto(),t.resetForm(),t.agregaBitacora(n,a),t.dialog=!1}else t.showMessage(!0,3e3,"error",e.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}else this.savevbplaneacion("PRE");else this.showMessage(!0,4e3,"error","Debe ingresar una observación");else this.showMessage(!0,4e3,"error","Debe seleccionar el estado")},confirmaPagoTesoreria:function(){var t=this,e="";e="Tesorería Notifica el Pago de Viáticos. ",e+="Beneficiario: "+this.beneficiario,e="CODIGO: "+this.codigo+" ("+e+")",Tr.pagoTesoreria(this.codigo,this.obstesoreria).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";i="Tesorería Notifica el Pago de Viáticos",n="PAGO VIÁTICOS TESORERÍA",t.tipoestadonotificacion="TES",t.showMessage(!0,3e3,"success",i+" con éxito");var r="Cordial Saludo,<br><br> "+i+" para el Beneficiario: "+t.beneficiario+" con consecutivo "+t.codigo+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";t.envioNotificacionesEstado({mensajenotificacion:i+" para el Beneficiario: "+t.beneficiario+" con consecutivo "+t.codigo,asuntocorreo:"Pago de Viáticos por parte de Tesorería",mensajecorreo:r}),t.edit=-1,t.traerDataPrincipal(),t.resetForm(),t.agregaBitacora(n,e),t.dialog_tesoreria=!1,t.dialog=!1}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},traeProyectosAll:function(){var t=this;this.arrProyectosGenAll=[],Ze["a"].getDataXVoBo().then((function(e){e.request&&e.data&&(t.arrProyectosGenAll=e.data.data)})).catch((function(t){}))},traePlanesAquisicion:function(){var t=this;this.arrPlanAdqGenAll=[],this.arrNecesidadesPlanAdq=[],this.arrRubrosGenAll=[],this.planadqsel=0,this.necesidadplaadqsel=0,this.selected=[],gr["a"].getDataXProyecto(this.proyectosel).then((function(e){e.request&&e.data&&(t.arrPlanAdqGenAll=e.data.data)})).catch((function(t){}))},traeNecesidadesPlan:function(){var t=this;this.arrNecesidadesPlanAdq=[],this.arrRubrosGenAll=[],this.necesidadplaadqsel=0,this.selected=[],gr["a"].getNecesidadXPlanAdq(this.planadqsel).then((function(e){e.request&&e.data&&(t.arrNecesidadesPlanAdq=e.data.data)})).catch((function(t){}))},traeParamGeneral:function(){var t=this;Rr.getDataXCodigo(1).then((function(e){e.request&&e.data&&(t.paramGeneral=e.data.data)})).catch((function(t){}))},validaGastosViaje:function(){var t=this.limpiarMoneda(this.valorgastosviaje),e=this.paramGeneral.length>0?this.paramGeneral[0].valnumerico.toString().replace(".00",""):0,a=!0;return parseFloat(t)>0&&parseFloat(e)>0&&parseFloat(t)>parseFloat(e)&&(this.showMessage(!0,4e3,"error","El Valor de los gastos de viaje supera el Valor del SMMLV: $ "+this.number_format(e,0)),this.valorgastosviaje=0,a=!1),this.formatearValor(this.valorgastosviaje,"valorgastosviaje"),a},traerDataPoblacionOrigen:function(){var t=zr(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.arrtipolugar=[],this.codigotipolugar=0,this.arrLugares=[],e="object"==Gr(this.tipolugar)?this.tipolugar.value:this.tipolugar,a=[],t.t0=e,t.next="A"===t.t0?8:"C"===t.t0?12:"R"===t.t0?16:"M"===t.t0?20:22;break;case 8:return t.next=10,qr.getData();case 10:return a=t.sent,t.abrupt("break",23);case 12:return t.next=14,qr.soloComunidades();case 14:return a=t.sent,t.abrupt("break",23);case 16:return t.next=18,$r.getData();case 18:return a=t.sent,t.abrupt("break",23);case 20:return this.arrLugares=this.arrCiudades,t.abrupt("break",23);case 22:return t.abrupt("break",23);case 23:a.data&&(this.arrtipolugar=a.data.data);case 24:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),traerCiudadesPoblacion:function(){var t=zr(He.a.mark((function t(){var e,a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.arrLugares=[],e="object"==Gr(this.codigotipolugar)?this.codigotipolugar.codigo:this.codigotipolugar,a="object"==Gr(this.tipolugar)?this.tipolugar.value:this.tipolugar,o=[],t.t0=a,t.next="A"===t.t0?7:"C"===t.t0?11:"R"===t.t0?15:19;break;case 7:return t.next=9,qr.asociacionesCiudades(e);case 9:return o=t.sent,t.abrupt("break",20);case 11:return t.next=13,qr.comunidadesCiudades(e);case 13:return o=t.sent,t.abrupt("break",20);case 15:return t.next=17,$r.resguardosSoloCiudades(e);case 17:return o=t.sent,t.abrupt("break",20);case 19:return t.abrupt("break",20);case 20:o.data&&(this.arrLugares=o.data.data);case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),abrirCambioFecha:function(){this.nuevafecha=this.fecha,this.dialog_cambiofecha=!0},cambioFechaSolicitud:function(){if(this.nuevafecha!=this.fecha){var t=this;Tr.actualizarFechaSolicitud(this.codigo,this.nuevafecha).then((function(e){if(e.response){var a=e.response.data.message;t.showMessage(!0,3e3,"error",a)}else if(e.statusText){var o="Actualizó",i="ACTUALIZACION",n="Fecha de Solicitud (De: "+t.fecha+" a "+t.nuevafecha+")";t.showMessage(!0,3e3,"success","Se "+o+" la fecha de la Solicitud del Desplazamiento con éxito"),t.fecha=t.nuevafecha,t.itemactual.fecha=t.nuevafecha,t.agregaBitacora(i,n),t.dialog_cambiofecha=!1}else t.showMessage(!0,3e3,"error",e.message)})).catch((function(e){t.showMessage(!0,3e3,"error",e)}))}else this.showMessage(!0,3e3,"error","La fecha a modificar es igual a la anterior")},traerDatosPresupuesto:function(){var t=this;this.dataPresupuesto=[],Tr.presupuestos(this.codigo).then((function(e){if(e.request&&e.data){var a=e.data.data;if(a.length>0)for(var o=0;o<a.length;o++){var i=a[o],n=i.archivocdp,r=i.rutaarchivocdp,s=i.archivorp,c=i.rutaarchivorp,l={file_name:n,file_path:""!=r?r:"",file_name_tmp:""},d={file_name:s,file_path:""!=c?c:"",file_name_tmp:""};t.dataPresupuesto.push({codigo:i.codigo,numerocdp:i.numerocdp,numerorp:i.numerorp,archivocdp:l,archivorp:d})}}})).catch((function(t){}))},resetFormPresupuesto:function(){this.codigopresupuesto=0,this.numerocdp="",this.numerorp="",this.rutaarchivocdp="",this.archivocdp={file_name:"",file_path:"",file_name_tmp:""},this.rutaarchivorp="",this.archivorp={file_name:"",file_path:"",file_name_tmp:""}},adicionarCdpRp:function(){if(""!=this.archivocdp.file_name)if(""!=this.archivorp.file_name){if(0==this.editPresupuesto){var t=this.dataPresupuesto.reduce((function(t,e){return Math.max(t,e.codigo)}),0);t+=1,this.dataPresupuesto.push({codigo:t,numerocdp:this.numerocdp,archivocdp:this.archivocdp,numerorp:this.numerorp,archivorp:this.archivorp})}else for(var e=0;e<this.dataPresupuesto.length;e++){var a=this.dataPresupuesto[e];if(a.codigo==this.codigopresupuesto)return a.numerocdp=this.numerocdp,a.numerorp=this.numerorp,a.archivocdp=this.archivocdp,void(a.archivorp=this.archivorp)}this.editPresupuesto=-1,this.dialog_presupuesto=!1}else this.showMessage(!0,3e3,"error","Debe ingresar el soporte del RP");else this.showMessage(!0,3e3,"error","Debe ingresar el soporte del CDP")},eliminaItemPresupuesto:function(){var t=zr(He.a.mark((function t(e){var a,o,i,n;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.codigo,t.next=3,Tr.eliminarItemPresupuesto(this.codigo,a,e.archivorp.file_name,e.archivocdp.file_name);case 3:if(o=t.sent,0!=parseInt(o.data)&&1!=parseInt(o.data)){t.next=17;break}i=0;case 6:if(!(i<this.dataPresupuesto.length)){t.next=14;break}if(n=this.dataPresupuesto[i],a!=n.codigo){t.next=11;break}return this.dataPresupuesto.splice(i,1),t.abrupt("break",14);case 11:i++,t.next=6;break;case 14:this.showMessage(!0,3e3,"success","Se eliminó la información con éxito"),t.next=19;break;case 17:return this.showMessage(!0,3e3,"error","Se presentó error al tratar de eliminar la información"),t.abrupt("return");case 19:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){if(this.totaldiasviaje=0,this.totaltarifasviajes=this.number_format(0,2),this.totalrubros=this.number_format(0,2),t){this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.fecha=this.itemactual.fecha,this.tipobeneficiario=this.itemactual.tipobeneficiario,this.tipoidentcodigo=this.itemactual.tipoidentcodigo,this.identificacion=this.itemactual.identificacion,this.beneficiario=this.itemactual.beneficiario,this.cargocodigo=this.itemactual.cargocodigo,this.rolinvitado=this.itemactual.rolinvitado,this.direccion=this.itemactual.direccion,this.telefono=this.itemactual.telefono,this.email=this.itemactual.email,this.fechanacimiento=this.itemactual.fechanacimiento,this.valorcontrato=this.number_format(this.itemactual.valorcontrato,2),this.mesescontrato=this.itemactual.mesescontrato,this.requieretiquetes=this.itemactual.requieretiquetes,this.objetivogeneral=this.itemactual.objetivogeneral,this.viaticos=this.itemactual.viaticos,this.valorviaticos=this.number_format(this.itemactual.valorviaticos,2),this.pagoanticipado=this.itemactual.pagoanticipado,this.reembolso=this.itemactual.reembolso,this.valortiquetes=this.number_format(this.itemactual.valortiquetes,2),this.gastosviaje=this.itemactual.gastosviaje,this.valorgastosviaje=this.number_format(this.itemactual.valorgastosviaje,2),this.desgastosviaje=this.itemactual.desgastosviaje,this.observacion=this.itemactual.observacion,this.valorbaseben=this.number_format(this.itemactual.valorbaseben,2),this.enviovobo=this.itemactual.enviovobo,this.usuario=this.itemactual.usuario,this.tiposalario=this.itemactual.tiposalario,this.txttiposalario=""==this.tiposalario?"INTEGRAL":"ORDINARIO",this.voboplaneacion=this.itemactual.voboplaneacion,this.obsplaneacion=this.itemactual.obsplaneacion,this.vobofinanciera=this.itemactual.vobofinanciera,this.obsfinanciera=this.itemactual.obsfinanciera,this.vobodireccion=this.itemactual.vobodireccion,this.obsdireccion=this.itemactual.obsdireccion,this.vobotalentohumano=this.itemactual.vobotalentohumano,this.obstalentohumano=this.itemactual.obstalentohumano,this.voboadministrativa=this.itemactual.voboadministrativa,this.numviabilidad=this.itemactual.numviabilidad;var e=this.itemactual.archivoarl;this.rutasarchivoarl=this.itemactual.rutaarchivoarl,this.valorliquidado=this.number_format(this.itemactual.valorliquidado,2),this.tipoliquidacion=this.itemactual.tipoliquidacion,this.archivoarl={file_name:e,file_path:""!=e?this.rutasarchivoarl:"",file_name_tmp:""},this.vobopresupuesto=this.itemactual.vobopresupuesto,this.obspresupuesto=this.itemactual.obspresupuesto,this.numerorp=this.itemactual.numerorp,this.arrBeneficiarios=[],"C"==this.tipobeneficiario?this.arrBeneficiarios=this.arrContratistas:"T"==this.tipobeneficiario&&(this.arrBeneficiarios=this.arrPersonas),this.pagotesoreria=this.itemactual.pagotesoreria,this.obstesoreria=this.itemactual.obstesoreria,this.estado=this.itemactual.codigoestado,this.estadotxt=this.itemactual.estado,this.traerDestinos(),this.traerDestinosOrdenFecha(),this.traerRubros(),this.traerDatosPresupuesto()}else{this.resetForm(),this.formTitle="Nuevo",this.estado=20;var a=new Date;this.fecha=a.getFullYear().toString()+"-"+(a.getMonth()+1).toString().padStart(2,"0")+"-"+a.getDate().toString().padStart(2,"0")}this.proyectosel="",this.planadqsel="",this.arrPlanAdqGenAll=[],this.necesidadplaadqsel="",this.arrNecesidadesPlanAdq=[],this.arrRubrosGenAll=[]},editdestinos:function(t){t?(this.formTitleDestinos="Editar",this.codigodestino=this.itemactualdes.codigo,this.origennacional=this.itemactualdes.origennacional,this.origeninternacional=this.itemactualdes.origeninternacional,this.destinonacional=this.itemactualdes.destinonacional,this.destinointernacional=this.itemactualdes.destinointernacional,this.txtdestinoorigen=this.itemactualdes.txtdestinoorigen,this.txtdestinofinal=this.itemactualdes.txtdestinofinal,this.fechaida=this.itemactualdes.fechaida,this.fecharegreso=this.itemactualdes.fecharegreso,this.tipotransporte=this.itemactualdes.tipotransporte,this.txttipotransporte="F"==this.itemactualdes.tipotransporte?"FLUVIAL":"T"==this.itemactualdes.tipotransporte?"TERRRESTRE":"AÉREO",this.tarifa=this.number_format(this.itemactualdes.tarifa,2),this.moneda=this.itemactualdes.moneda,this.simbolomoneda=this.itemactualdes.simbolomoneda,this.tasa=this.number_format(this.itemactualdes.tasa,2),this.tarifapesos=this.number_format(this.itemactualdes.tarifapesos,2),this.totaltarifa=this.itemactualdes.totaltarifa,this.diasviaje=this.itemactualdes.diasviaje,this.tipolugarorigen=this.itemactualdes.tipolugarorigen,this.tipolugardestino=this.itemactualdes.tipolugardestino,this.nombretipoorigen=this.itemactualdes.nombretipoorigen,this.nombretipodestino=this.itemactualdes.nombretipodestino,this.codigotipolugarorigen=this.itemactualdes.codigotipolugarorigen,this.codigotipolugardestino=this.itemactualdes.codigotipolugardestino,this.nombrelugarorigen=this.itemactualdes.nombrelugarorigen,this.nombrelugardestino=this.itemactualdes.nombrelugardestino):(this.resetFormDestino(),this.formTitleDestinos="Nuevo")},editPresupuesto:function(t){if(t){this.formTitlePresupuesto="Editar",this.codigopresupuesto=this.itemactualPresupuesto.codigo,this.numerocdp=this.itemactualPresupuesto.numerocdp,this.numerorp=this.itemactualPresupuesto.numerorp;var e=this.itemactualPresupuesto.archivocdp;this.rutaarchivocdp=this.itemactualPresupuesto.rutaarchivocdp,this.archivocdp={file_name:e,file_path:""!=e?this.rutaarchivocdp:"",file_name_tmp:""};var a=this.itemactualPresupuesto.archivorp;this.rutaarchivorp=this.itemactualPresupuesto.rutaarchivorp,this.archivorp={file_name:a,file_path:""!=a?this.rutaarchivorp:"",file_name_tmp:""}}else this.formTitlePresupuesto="Nuevo",this.resetFormPresupuesto()},arrRubrosGen:function(t){this.totalrubros=0;var e=t.reduce((function(t,e){return parseFloat(t)+parseFloat(e.saldo)}),0);this.totalrubros=e},arrDestinos:function(t){this.totaldiasviaje=0,this.totaltarifasviajes=0;var e=t.reduce((function(t,e){return parseFloat(t)+parseFloat(e.diasviaje)}),0),a=t.reduce((function(t,e){return parseFloat(t)+parseFloat(e.tarifapesos)}),0);this.totaldiasviaje=e,this.totaltarifasviajes=this.number_format(a,2)},arrRubrosDistribuye:function(t){this.totalvalordistribuido=0;var e=t.reduce((function(t,e){return parseFloat(t)+parseFloat(e.valordistribuido)}),0);this.totalvalordistribuido=e},tipodestino:function(t){this.traeLugares()}},mounted:function(){this.traerDataPrincipal(),this.traeTiposId(),this.traeCargos(),this.traePersonal(),this.traeContratistas(),this.traeRubrosAll(),this.traeCiudades(),this.traePaises(),this.traerTarifas(),this.traeUsuariosPerfiles(),this.traeUsuarios(),this.traeEstados(),this.traeProyectosAll(),this.traeParamGeneral(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Jr=Hr,Yr=(a("c1e7"),Object(C["a"])(Jr,Ar,jr,!1,null,null,null)),Zr=Yr.exports,Wr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[t.newSol?t._e():a("listSolicitudes",{on:{addSolicitud:t.nuevaSolicitud,showSolicitud:t.selectedSol}})],1)],1)],1)},Qr=[],Kr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Solicitudes")]),a("v-layout",{staticClass:"mb-3",attrs:{"align-center":""}},[a("v-btn",{attrs:{color:"primary",dark:"",small:"",fab:""},on:{click:function(e){t.dNewSol=!t.dNewSol}}},[a("v-icon",[t._v("add")])],1),a("v-spacer"),a("v-text-field",{attrs:{label:"Buscar","append-icon":"search","hide-details":""}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.actions",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"justify-center":"","my-1":""}},[a("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(e){return t.ver(o)}}},[a("v-icon",{attrs:{dark:"",small:"",left:""}},[t._v("search")]),t._v("ver\n        ")],1),a("v-btn",{staticClass:"ml-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.eliminar(o)}}},[a("v-icon",{attrs:{dark:"",small:"",left:""}},[t._v("delete")]),t._v("Eliminar\n        ")],1)],1)]}}])}),a("v-dialog",{attrs:{width:"800"},model:{value:t.dNewSol,callback:function(e){t.dNewSol=e},expression:"dNewSol"}},[a("v-card",[a("v-card-title",[a("h2",[t._v("Nueva solicitud")])]),a("v-card-text",[a("necesidades")],1)],1)],1)],1)},ts=[],es={getData:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/solicitudes",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},detailSol:function(t){return new Promise((function(e,a){p()({method:"GET",url:m["a"].apiUrl+"/solicitudes/"+t,dataType:"json"}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},save:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/saveSolicitud",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},updateProgres:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/updateSolicitud/"+e,dataType:"json",data:{data:t}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},DelData:function(t){}},as=es,os=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-select",{attrs:{filled:"",items:t.arrPlanAqui,"item-value":"codigo","item-text":"proyectonombre","return-object":!0,label:"Planes de adquisición"},model:{value:t.planaquisicion,callback:function(e){t.planaquisicion=e},expression:"planaquisicion"}}),a("v-select",{attrs:{filled:"",items:t.compArrNecesidades,"item-value":"codigo","item-text":"descripcion","return-object":!0,label:"Necesidades plan de adquisición"},model:{value:t.necesidades,callback:function(e){t.necesidades=e},expression:"necesidades"}}),a("v-layout",{attrs:{"align-center":""}},[a("v-spacer"),a("v-btn",{staticClass:"mb-3",attrs:{color:"primary"},on:{click:t.addNecesidades}},[t._v("Agregar")])],1),a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.necesidadesAcc,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.planadquisicion",fn:function(e){var o=e.item;return[a("div",[t._v("\n          "+t._s(t.proyectoNombre(o))+"\n        ")])]}},{key:"item.tipoContrata",fn:function(e){var o=e.item;return[a("div",[t._v("\n          "+t._s(o.metodolecciontxt)+"\n        ")])]}},{key:"item.valor",fn:function(e){var o=e.item;return[a("div",[t._v("\n          "+t._s(t._f("moneyFormat")(o.valor))+"\n        ")])]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){return t.deleteNeceidad(o)}}},[a("v-icon",{attrs:{color:"red",small:""}},[t._v("delete")])],1)]}}])})],1),a("v-layout",{attrs:{"align-center":"","mt-3":""}},[a("v-spacer"),a("v-btn",{staticClass:"mb-3",attrs:{color:"primary"},on:{click:t.createSolicitud}},[t._v("crear solicitud")])],1)],1)},is=[];function ns(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function rs(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){ns(n,o,i,r,s,"next",t)}function s(t){ns(n,o,i,r,s,"throw",t)}r(void 0)}))}}var ss={data:function(){return{arrPlanAqui:[],planaquisicion:"",necesidades:"",necesidadesAcc:[],arrNesecidades:[],loading:!1,headers:[{text:"Necesidad",align:"left",sortable:!1,value:"descripcion"},{text:"Plan adquisición",align:"left",sortable:!1,value:"planadquisicion"},{text:"Tipo contratación",align:"left",sortable:!1,value:"tipoContrata"},{text:"valor",align:"left",sortable:!1,value:"valor"},{text:"Acción",align:"left",sortable:!1,value:"actions"}],metodoleccion:""}},filters:{moneyFormat:function(t){return t?"$".concat(t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")):""}},mounted:function(){var t=this;gr["a"].getData().then((function(e){if(console.log(e),200===e.status)try{t.arrPlanAqui=e.data.data}catch(a){console.log(a),t.arrPlanAqui=[]}})).catch((function(e){console.log(e),t.arrPlanAqui=[]}))},methods:{createSolicitud:function(){var t=this;this.necesidadesAcc.length>0&&(this.loading=!0,as.save({necesidades:this.necesidadesAcc,codTipo:this.metodoleccion}).then((function(e){t.loading=!1,t.showMessage(!0,3e3,"success","Solictud ".concat(e.data.id," creada con exito")),console.log(e),t.$router.push("/SolicitudesContratacion/"+e.data.id)})).catch((function(e){t.loading=!1,t.showMessage(!0,3e3,"error","Error al crear solicitud"),console.log(e)})))},proyectoNombre:function(t){var e=this.arrPlanAqui.find((function(e){return e.codigo===t.planadquisicion}));return e?e.proyectonombre:"Sin nombre"},addNecesidades:function(){console.log(this.necesidades),this.necesidadesAcc.push(this.necesidades),this.metodoleccion=this.necesidades.metodoleccion,this.getValNec()},deleteNeceidad:function(t){var e=this.necesidadesAcc.indexOf(t);this.necesidadesAcc.splice(e,1),this.necesidadesAcc.length<=0&&(this.metodoleccion="")},getValNec:function(){var t=rs(He.a.mark((function t(){var e=this;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.necesidadesAcc.forEach(function(){var t=rs(He.a.mark((function t(a){var o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getNecesidades(a.planadquisicion);case 2:o=t.sent,o.length>0?a.valor=o.find((function(t){return t.codigo===a.codigo})).valor.toString():a.valor="0";case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getNecesidades:function(t){return new Promise((function(e,a){gr["a"].getNecesidadXPlanAdq(t).then((function(t){console.log(t);try{e(t.data.data)}catch(a){console.log(a),e([])}})).catch((function(t){console.log(t),a([])}))}))},showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},setArrNecesidades:function(){var t=rs(He.a.mark((function t(e){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getNecesidades(e);case 2:this.arrNesecidades=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},computed:{compArrNecesidades:function(){var t=this;return this.metodoleccion?this.arrNesecidades.filter((function(e){return e.metodoleccion===t.metodoleccion})):this.arrNesecidades}},watch:{planaquisicion:function(){var t=rs(He.a.mark((function t(e){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.codigo&&this.setArrNecesidades(this.planaquisicion.codigo);case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},cs=ss,ls=Object(C["a"])(cs,os,is,!1,null,"53469727",null),ds=ls.exports;function us(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function ps(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){us(n,o,i,r,s,"next",t)}function s(t){us(n,o,i,r,s,"throw",t)}r(void 0)}))}}var ms={props:["evaluacion"],components:{necesidades:ds},data:function(){return{headers:[{text:"Código",align:"left",sortable:!1,value:"id"},{text:"Estado",align:"left",sortable:!1,value:"estado"},{text:"Creado",align:"left",sortable:!1,value:"fecha_creacion"},{text:"Acción",align:"center",sortable:!1,value:"actions"}],items:[],dNewSol:!1}},mounted:function(){var t=ps(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Evaluacion: "+this.evaluacion),t.next=3,as.getData();case 3:e=t.sent,console.log(e),200===e.status?this.items=e.data.data:(console.log("in error"),console.log(e),this.items=[]);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{addSolicitud:function(){},ver:function(t){this.$router.push("/SolicitudesContratacion/"+t.id)},evaluar:function(t){this.$emit("set-evaluacion",t.id),this.$router.push("/solicitudes/"+t.id)},eliminar:function(t){var e=this;console.log(t.id);var a=this.items.indexOf(t);p.a.delete("http://localhost:2083/apissinchicont/public/api/solicitudes/".concat(t.id)).then((function(t){console.log(t),200===t.status&&e.items.splice(a,1)})).catch((function(t){console.log(t)}))},setSolContratacion:function(){this.$store.commit("setSolContratacion",{id:"",estado:"",usuario:"",abAsignado:"",necesidades:[],objetocontractual:"",obligaciones:[],tiempoEjecucion:"",fechLimit:"",informes:[],productos:[],gastosViaje:{incGastos:!1,tarSinchi:!1,tarDiaria:""},supervisor:[],ciudad:[],anexoGeneral:"",tipoSolicitud:"",tipoContrato:{text:"Personal",val:1},adjuntos:[],pasante:{convMarco:"",valArl:""},convenio:{contrapartida:"",valor:"",especie:!1,dinero:!1,valor_especie:"",valor_dinero:""},pagos:[],anticipo:!1,valAnticipo:"",causal:"",justificacion:"",personaNatural:{personal:{rol:"",correo:"",telefono:"",infoConfidencial:!1,perfilMin:!1,educacion:[]},bso:{descripcion:"",perfilMin:!1}},personaJuridica:{perfilMin:!1},nombre:"",anexos:[],correo:"",telefono:"",experiencia:[],criteriosSeleccion:{experienciaproponente:{checked:!1,porcentaje:"",expProp:[]},experienciaequipot:{checked:!1,porcentaje:"",porcEducacion:"",porcExperiencia:""},capacidadfinanciera:{checked:!1,porcentaje:"",objcapFinanciera:[]},capacidadorganizacional:{checked:!1,porcentaje:"",objcapOrg:[]},metodologia:{checked:!1,porcentaje:"",objMetodologia:[]},ofertaeconomica:{checked:!1,porcentaje:"",aspecto:""}},criteriosMinimos:{experienciaproponente:{checked:!1,expProp:[]},experienciaequipot:{checked:!1,porcEducacion:"",porcExperiencia:""}},criDesempate:[],proponentes:[],roles:[],rolesMinimo:[]})}}},vs=ms,hs=Object(C["a"])(vs,Kr,ts,!1,null,"05a7fa3a",null),fs=hs.exports,gs={components:{listSolicitudes:fs},data:function(){return{newSol:!1,selSol:"",evaluacion:""}},methods:{selectedSol:function(t){this.selSol=t,this.newSol=!this.newSol},nuevaSolicitud:function(){this.selSol="",this.newSol=!this.newSol}}},bs=gs,xs=Object(C["a"])(bs,Wr,Qr,!1,null,"cf83d344",null),_s=xs.exports,ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tTarifas Lugares\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),o.codigo>2?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")]):t._e()]}}])})],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",{attrs:{smd12:""}},[a("v-text-field",{attrs:{label:"Descripción",rules:[t.rules.required],readonly:t.codigo>0&&t.codigo<=2},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",{attrs:{smd3:""}},[a("v-select",{attrs:{items:t.arrMonedas,"item-value":"codigo","item-text":"simbolo",label:"Moneda",rules:[t.rules.required],"return-object":!0},on:{change:t.cambiasimboloMoneda},model:{value:t.moneda,callback:function(e){t.moneda=e},expression:"moneda"}})],1),a("v-tabs",{attrs:{"slider-color":"primary",color:"primary"},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab",{key:1,attrs:{href:"#tab-1"}},[t._v("\n\t\t\t\t\t\t\t\t\t\tRangos\n\t\t\t\t\t\t\t\t\t")]),t.codigo>2?a("v-tab",{key:2,attrs:{href:"#tab-2"}},[t._v("\n\t\t\t\t\t\t\t\t\t\tPaíses\n\t\t\t\t\t\t\t\t\t")]):t._e()],1),a("v-tabs-items",{model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab-item",{key:1,attrs:{value:"tab-1"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-flex",{attrs:{smd12:""}},[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.editRangos=0,t.dialog_addrangos=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-data-table",{attrs:{headers:t.headersrangos,items:t.datarangos,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.rangoinicial",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.rangoinicial,{symbol:t.simbolomoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.rangofinal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.rangofinal,{symbol:t.simbolomoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.valordiario",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valordiario,{symbol:t.simbolomoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){t.dialog_addrangos=!0,t.editRangos=1,t.itemactualRangos=o}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading},on:{click:function(e){return t.eliminarRango(o.codigo)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1)],1)],1),a("v-tab-item",{key:2,attrs:{value:"tab-2"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-flex",{attrs:{smd12:""}},[t.codigo>2?a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_addpais=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1):t._e(),t.codigo>2?a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchdetalle,callback:function(e){t.searchdetalle=e},expression:"searchdetalle"}}):t._e(),0==t.codigo||t.codigo>2?a("v-data-table",{attrs:{headers:t.headersdetalle,items:t.datadetalle,"items-per-page":5,"disable-sort":!0,search:t.searchdetalle},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading},on:{click:function(e){return t.eliminarDetalle(o.pais)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}],null,!1,2565123535)}):t._e()],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Tarifa")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Tarifa seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"900px"},model:{value:t.dialog_addpais,callback:function(e){t.dialog_addpais=e},expression:"dialog_addpais"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Adicionar Paises")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"5"}},[a("v-select",{attrs:{items:t.arrfiltro,"item-value":"value","item-text":"text","return-object":!1,label:"Tipo de Filtro"},model:{value:t.filtro,callback:function(e){t.filtro=e},expression:"filtro"}})],1),a("v-col",{attrs:{cols:"5"}},[a("v-text-field",{attrs:{label:"Dato"},model:{value:t.valfiltro,callback:function(e){t.valfiltro=e},expression:"valfiltro"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:t.traerPaisXFiltro}},[a("v-icon",{attrs:{dark:""}},[t._v("search")])],1)],1)],1),a("v-row",[a("v-col",{attrs:{sm12:""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchfiltro,callback:function(e){t.searchfiltro=e},expression:"searchfiltro"}}),a("br"),a("v-data-table",{attrs:{headers:t.headersbusqueda,items:t.dataBusq,"items-per-page":-1,"disable-sort":!0,search:t.searchfiltro,"show-select":"","item-key":"codigo"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_addpais=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.selected.length<1},on:{click:t.agregarPaises}},[t._v("Agregar")])],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog_addrangos,callback:function(e){t.dialog_addrangos=e},expression:"dialog_addrangos"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitleRangos))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"formrango",model:{value:t.validrango,callback:function(e){t.validrango=e},expression:"validrango"}},[a("v-flex",{attrs:{smd4:""}},[a("v-text-field",{attrs:{label:"Rango Inicial",prefix:t.simbolomoneda,rules:[t.rules.required]},on:{focus:function(e){return t.limpiavalorNumerico("rangoinicial")},blur:function(e){t.rangoinicial=t.number_format(t.rangoinicial,2)}},model:{value:t.rangoinicial,callback:function(e){t.rangoinicial=e},expression:"rangoinicial"}})],1),a("v-flex",{attrs:{smd4:""}},[a("v-text-field",{attrs:{label:"Rango Final",prefix:t.simbolomoneda,rules:[t.rules.required]},on:{focus:function(e){return t.limpiavalorNumerico("rangofinal")},blur:function(e){t.rangofinal=t.number_format(t.rangofinal,2)}},model:{value:t.rangofinal,callback:function(e){t.rangofinal=e},expression:"rangofinal"}})],1),a("v-flex",{attrs:{smd3:""}},[a("v-text-field",{attrs:{label:"Valor Diario",rules:[t.rules.required],prefix:t.simbolomoneda},on:{focus:function(e){return t.limpiavalorNumerico("valordiario")},blur:function(e){t.valordiario=t.number_format(t.valordiario,2)}},model:{value:t.valordiario,callback:function(e){t.valordiario=e},expression:"valordiario"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_addrangos=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validrango},on:{click:t.saveitemRango}},[t._v("Guardar")])],1)],1)],1)],1)},ks=[],Cs={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Paises",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXFiltro:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/PaisesXFiltro",dataType:"json",data:{tipofiltro:t,valorfiltro:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))}},Ss=Cs;function ws(t){return ws="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(t)}var Ps={data:function(){return{modulo:"TARIFAS LUGARES",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",moneda:0,simbolomoneda:"",itemactual:"",data:[],arrMonedas:[],datadetalle:[],searchdetalle:"",datarangos:[],dialog_addpais:!1,filtro:"",valfiltro:"",searchfiltro:"",dataBusq:[],selected:[],tabs:"tab-1",arrfiltro:[{text:"Continente",value:"C"},{text:"Region",value:"R"}],headersbusqueda:[{text:"Lugar",align:"left",sortable:!1,value:"nombrecompleto"}],headers:[{text:"Descripcion",align:"left",sortable:!1,value:"descripcion"},{text:"Moneda",align:"left",sortable:!1,value:"simbolomoneda"},{text:"Accion",value:"action",sortable:!1}],headersdetalle:[{text:"Lugar",align:"left",sortable:!1,value:"paisnombre"},{text:"Accion",value:"action",sortable:!1}],dialog_addrangos:!1,validrango:!1,formTitleRangos:"",codigorango:0,rangoinicial:0,rangofinal:0,valordiario:0,editRangos:-1,itemactualRangos:"",headersrangos:[{text:"Rango Inicial",align:"left",sortable:!1,value:"rangoinicial"},{text:"Rango Final",align:"left",sortable:!1,value:"rangofinal"},{text:"Valor Diario",align:"left",sortable:!1,value:"valordiario"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.moneda=0,this.simbolomoneda="",this.datadetalle=[],this.datarangos=[]},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerData:function(){var t=this;this.loading=!0,Ir.getData().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,Ir.DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la Tarifa con éxito"),t.del_item="",t.traerData(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA TARIFA :"+t.itemactual.descripcion)):t.showMessage(!0,4e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},saveitem:function(){var t="",e="";if(e="object"==ws(this.moneda)?this.moneda.codigo:this.moneda,this.edit){var a="";if(""!=a)return void this.showMessage(!0,3e3,"error",a);this.itemactual.descripcion!=this.descripcion&&(t+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),this.itemactual.moneda!=e&&(t+=""==t?"Moneda: "+this.itemactual.simbolomoneda.toUpperCase()+" a "+e.toUpperCase():", Moneda: "+this.itemactual.simbolomoneda.toUpperCase()+" a "+e.toUpperCase()),t="CODIGO: "+this.codigo+" ("+t+")"}else t+="Descripción: "+this.descripcion.toUpperCase();var o=this;this.loading=!0;for(var i={codigo:this.codigo,descripcion:this.descripcion.toUpperCase(),moneda:e},n=[],r=0;r<this.datadetalle.length;r++){var s=this.datadetalle[r];n.push({codigo:s.codigo,pais:s.pais})}for(var c=[],l=0;l<this.datarangos.length;l++){var d=this.datarangos[l];c.push({codigo:d.codigo,rangoinicial:d.rangoinicial,rangofinal:d.rangofinal,valordiario:d.valordiario})}Ir.guardarData(i,n,c).then((function(e){if(e.response){var a=e.response.data.message;o.showMessage(!0,3e3,"error",a)}else if(e.statusText){var i="",n="";o.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),o.showMessage(!0,3e3,"success","Se "+i+" la Tarifa con éxito"),o.del_item="",o.edit=-1,o.traerData(),o.resetForm(),o.dialog=!1,o.agregaBitacora(n,t)}else o.showMessage(!0,3e3,"error",e.message);o.loading=!1})).catch((function(t){o.showMessage(!0,3e3,"error",t),o.loading=!1}))},number_format:function(t,e){if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var a=t.split("."),o=/(\d+)(\d{3})/;while(o.test(a[0]))a[0]=a[0].replace(o,"$1.$2");return a.join(",")},limpiarMoneda:function(t){var e=t.toString().replace(",00","").replace(/[$.]/gi,"");return e=e.replace(/[,]/gi,"."),e},cambiasimboloMoneda:function(){this.simbolomoneda="","object"==ws(this.moneda)&&(this.simbolomoneda=this.moneda.simbolo)},eliminarDetalle:function(t){for(var e=0;e<this.datadetalle.length;e++){var a=this.datadetalle[e];a.pais==t&&this.datadetalle.splice(e,1)}},traeMonedas:function(){var t=this;this.loading=!0,_a.getData().then((function(e){e.request&&e.data?t.arrMonedas=e.data.data:t.arrMonedas=[],t.loading=!1})).catch((function(e){t.arrMonedas=[],t.loading=!1}))},traeDetalle:function(){var t=this;this.datadetalle=[],Ir.getDetalle(this.codigo).then((function(e){e.request&&e.data&&(t.datadetalle=e.data.data)})).catch((function(t){}))},traeRangos:function(){var t=this;this.datarangos=[],Ir.getRangos(this.codigo).then((function(e){e.request&&e.data&&(t.datarangos=e.data.data)})).catch((function(t){}))},traerPaisXFiltro:function(){var t=this;if(this.dataBusq=[],""!=this.filtro&&""!=this.valfiltro){this.filtro,this.valfiltro;Ss.getDataXFiltro(this.filtro,this.valfiltro).then((function(e){e.request&&e.data&&(t.dataBusq=e.data.data)})).catch((function(t){}))}else this.showMessage(!0,4e3,"error","Debe ingresar los datos de la búsqueda")},agregarPaises:function(){for(var t=1,e=0;e<this.selected.length;e++){var a=this.selected[e];t=1;for(var o=0;o<this.datadetalle.length;o++){var i=this.datadetalle[o];if(a.codigo==i.codigo){t=0;break}}if(1==t){var n={codigo:this.codigo,pais:a.codigo,paisnombre:a.nombrecompleto};this.datadetalle.push(n)}}this.selected=[],this.filtro="",this.valfiltro="",this.dialog_addpais=!1},resetFormRangos:function(){this.codigorango=0,this.rangoinicial=0,this.rangofinal=0,this.valordiario=0},limpiavalorNumerico:function(t){switch(t){case"rangoinicial":this.rangoinicial=this.limpiarMoneda(this.rangoinicial);break;case"rangofinal":this.rangofinal=this.limpiarMoneda(this.rangofinal);break;case"valordiario":this.valordiario=this.limpiarMoneda(this.valordiario);break;default:break}},saveitemRango:function(){var t=this.limpiarMoneda(this.rangoinicial),e=this.limpiarMoneda(this.rangofinal),a=this.limpiarMoneda(this.valordiario);if(parseFloat(t)>parseFloat(e))this.showMessage(!0,4e3,"error","El Rango Inicial debe ser menor al Final");else if(parseFloat(a)>parseFloat(e))this.showMessage(!0,4e3,"error","El Valor Diario debe ser menor al Valor del Rango Final");else{for(var o=0;o<this.datarangos.length;o++){var i=this.datarangos[o],n=i.rangoinicial,r=i.rangofinal;if(this.codigorango!=i.codigo&&(parseFloat(n)<=parseFloat(t)&&parseFloat(r)>=parseFloat(t)||parseFloat(e)>=parseFloat(n)&&parseFloat(e)<=parseFloat(r)||parseFloat(t)<=parseFloat(n)&&parseFloat(e)>=parseFloat(r)))return void this.showMessage(!0,4e3,"error","El Intervalo seleccionado ya existe dentro de otro")}if(0==this.editRangos){var s=this.datarangos.reduce((function(t,e){return Math.max(t,e.codigo)}),0);s+=1,this.datarangos.push({codigo:s,rangoinicial:t,rangofinal:e,valordiario:a})}else for(var c=0;c<this.datarangos.length;c++){var l=this.datarangos[c];if(l.codigo==this.codigorango){l.rangoinicial=t,l.valrangofin=e,l.valordiario=a;break}}this.dialog_addrangos=!1,this.resetFormRangos()}},eliminarRango:function(t){for(var e=0;e<this.datarangos.length;e++){var a=this.datarangos[e];if(a.codigo==t){this.datarangos.splice(e,1);break}}},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.moneda=this.itemactual.moneda,this.simbolomoneda=this.itemactual.simbolomoneda,this.traeDetalle(),this.traeRangos()):(this.resetForm(),this.formTitle="Nuevo")},editRangos:function(t){t?(this.formTitleRangos="Editar Rangos",this.codigorango=this.itemactualRangos.codigo,this.rangoinicial=this.number_format(this.itemactualRangos.rangoinicial,2),this.rangofinal=this.number_format(this.itemactualRangos.rangofinal,2),this.valordiario=this.number_format(this.itemactualRangos.valordiario,2)):(this.resetFormRangos(),this.formTitleRangos="Nuevo Rango")}},mounted:function(){this.traerData(),this.traeMonedas(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},As=Ps,js=Object(C["a"])(As,ys,ks,!1,null,null,null),Es=js.exports,Ts=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticStyle:{height:"80vh"}},[a("v-layout",{attrs:{"align-center":"","py-2":""}},[a("h1",[t._v("Solicitud "+t._s(t.idSolicitud))]),a("v-spacer"),t.showNewProc?t._e():a("v-btn",{attrs:{color:"primary",text:"",outlined:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v("volver")])],1),t.showNewProc?t._e():a("div",{staticStyle:{"margin-bottom":"70px"}},[a("v-flex",{attrs:{"mb-3":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.necesidadesAcc,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.planadquisicion",fn:function(e){var o=e.item;return[a("div",[t._v("\n              "+t._s(t.proyectoNombre(o))+"\n            ")])]}},{key:"item.valor",fn:function(e){var o=e.item;return[a("div",[t._v("\n              "+t._s(t._f("moneyFormat")(o.valor))+"\n            ")])]}}],null,!1,1032322518)})],1),a("v-btn",{attrs:{color:"primary",rounded:""},on:{click:t.nuevoProceso}},[a("v-icon",{attrs:{left:""}},[t._v("add")]),t._v("agregar proceso")],1),t.procesos.length>0?a("v-card",{staticClass:"my-3",attrs:{"max-width":"800"}},[a("v-list",{attrs:{"two-line":""}},[a("v-list-item-group",{attrs:{"active-class":"pink--text"}},[t._l(t.procesos,(function(e,o){return[a("v-list-item",{key:e.id,scopedSlots:t._u([{key:"default",fn:function(o){o.active;return[a("v-list-item-content",[a("v-list-item-title",[t._v("Código: "+t._s(e.id))]),a("v-list-item-title",{staticClass:"wrap"},[t._v("Objeto contractual: "+t._s(e.objContractual))]),a("v-list-item-subtitle",{staticStyle:{color:"#943A4A","font-weight":"bold"}},[t._v(t._s(e.estado.toUpperCase()))]),a("v-list-item-subtitle",[t._v("Tipo contratación: "+t._s(e.tipoContratacion))]),a("v-list-item-subtitle",[t._v("Tipo proceso: "+t._s(e.tipoProceso))]),a("v-list-item-subtitle",[a("v-layout",[a("div",[t._v("Creado: "+t._s(e.fechaCreacion))]),a("div",{staticClass:"ml-3"},[t._v("Fecha limite: "+t._s(e.fechaLimite.substring(0,10)))])])],1),a("v-layout",[a("v-btn",{staticClass:"mx-1",attrs:{color:"primary",small:"",outlined:""},on:{click:function(a){return t.selProceso(e,"")}}},[t._v("información")]),[3].includes(e.id_estado)?a("v-btn",{staticClass:"mx-1",attrs:{color:"primary",small:"",outlined:""},on:{click:function(a){return t.selProceso(e,"terminos")}}},[t._v("term-ref")]):t._e(),a("v-btn",{staticClass:"mx-1",attrs:{color:"primary",small:"",outlined:""},on:{click:function(a){return t.selProceso(e,"evaluacion")}}},[t._v("evaluación")]),a("v-btn",{staticClass:"mx-1",attrs:{color:"primary",small:"",outlined:""},on:{click:function(a){return t.selProceso(e,"preResultados")}}},[t._v("Resultados preliminares")]),a("v-btn",{staticClass:"mx-1",attrs:{color:"primary",small:""},on:{click:function(a){return t.selProceso(e,"resultados")}}},[t._v("Resultado")])],1)],1),a("v-list-item-action")]}}],null,!0)}),o+1<t.procesos.length?a("v-divider",{key:o}):t._e()]}))],2)],1)],1):t._e(),a("pre",[t._v(t._s(t.$data.procesos))])],1)],1),a("v-dialog",{attrs:{width:"1000"},model:{value:t.showPreResults,callback:function(e){t.showPreResults=e},expression:"showPreResults"}},[t.showPreResults?a("preResults"):t._e()],1),a("v-dialog",{attrs:{width:"1000"},model:{value:t.showResults,callback:function(e){t.showResults=e},expression:"showResults"}},[t.showResults?a("results"):t._e()],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        un momento por favor\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},Ds=[],Is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("Resultados previos")]),a("v-card-text",[t.directa?a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("div",{staticClass:"text-center mb-5"},[a("v-avatar",{attrs:{color:"blue-grey darken-1",size:"120"}},[a("v-icon",{attrs:{dark:"",size:"105"}},[t._v("person")])],1)],1),a("div",{staticClass:"text-center headline"},[t._v(t._s(t.nombre))])]),a("v-col",[a("div",{staticClass:"title text-center"},[t._v("Documentación")]),t.noCumple.length<=0?a("p",{staticStyle:{color:"blue"}},[t._v("Todos los documentos cumplen de conformidad a lo dispuesto en los pliegos de condiciones")]):t._e(),t.noCumple.length>0?a("ul",t._l(t.noCumple,(function(e){return a("li",{key:e},[a("div",{staticStyle:{color:"red"}},[t._v(t._s(e))])])})),0):t._e()]),a("v-col",[a("div",{staticClass:"title text-center"},[t._v("Educación")]),t.cumpleEdu.length<=0?a("p",{staticStyle:{color:"blue"}},[t._v("Cumple con toda la educación requerida")]):t._e(),t.cumpleEdu.length>0?a("ul",t._l(t.cumpleEdu,(function(e){return a("li",{key:e},[a("div",{staticStyle:{color:"red"}},[t._v(t._s(e))])])})),0):t._e()]),a("v-col",[a("div",{staticClass:"title text-center"},[t._v("Experiencia")]),t.cumpleExp.length<=0?a("p",{staticStyle:{color:"blue"}},[t._v("Cumple con toda la experiencia solicitada")]):t._e(),t.cumpleExp.length>0?a("ul",t._l(t.cumpleExp,(function(e){return a("li",{key:e},[a("div",{staticStyle:{color:"red"}},[t._v(t._s(e))])])})),0):t._e()])],1):t._e(),t.directa?t._e():a("v-expansion-panels",t._l(t.compProponentes,(function(e){return a("v-expansion-panel",{key:e.id},[a("v-expansion-panel-header",{staticClass:"justify-space-between"},[a("v-layout",{attrs:{"justify-space-between":""}},[a("div",{staticClass:"title"},[t._v(t._s(e.nombre))]),a("div",{staticClass:"title"},[t._v(t._s(e.nota.toFixed(2))+"%")])])],1),a("v-expansion-panel-content",[a("preResultProp",{attrs:{prop:e},on:{puntaje:t.setPuntaje}})],1)],1)})),1),t.directa?a("div",{staticClass:"headline text-center mt-3",class:[{falla:"Rechazado"===t.resultado},{exito:"Aprobado"===t.resultado}]},[t._v(t._s(t.resultado))]):t._e()],1)],1)},Os=[],Ns=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{staticClass:"grey lighten-5"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center",cols:"5"}},[a("div",{staticClass:"text-center mb-5"},[a("v-avatar",{attrs:{color:"blue-grey darken-1",size:"120"}},[a("v-icon",{attrs:{dark:"",size:"105"}},[t._v("person")])],1)],1),a("div",{staticClass:"text-center headline"},[t._v(t._s(t.prop.nombre))]),a("div",{staticClass:"text-center headline"},[t._v(t._s(t.puntaje.toFixed(2)))]),a("div",{staticClass:"text-center display-1",class:{errorColor:!t.estado.valor}},[t._v(t._s(t.estado.text))]),t.estado.valor?a("div",{staticClass:"mx-3 text-center"},[a("v-text-field",{attrs:{label:"Valor fiscal oferta economica",messages:t._f("moneyFormat")(t.ofEco.valor),prefix:"$"},model:{value:t.ofEco.valor,callback:function(e){t.$set(t.ofEco,"valor",e)},expression:"ofEco.valor"}}),a("smallAdj",{attrs:{item:t.ofEco}}),a("v-btn",{staticClass:"mt-3",attrs:{color:"accent",small:""},on:{click:t.saveOferta}},[t._v("guardar")])],1):t._e()]),a("v-col",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Experiencia Minima")]),a("p",{class:{errorColor:!t.expMinProp.valor},staticStyle:{margin:"0px"}},[t._v(t._s(t.expMinProp.text))])])],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Exp minima de equipo de trabajo")]),a("p",{class:{errorColor:!t.expMinEqu.valor},staticStyle:{margin:"0px"}},[t._v(t._s(t.expMinEqu.text))])])],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Experiencia")])])],1),a("v-col",{attrs:{"align-self":"center",cols:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title text-end"},[t._v(t._s(Number.parseFloat(t.expProp).toFixed(2)))])])],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Equipo de equipo de trabajo")])])],1),t.prop.roles?a("v-col",{attrs:{"align-self":"center",cols:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title text-end"},[t._v(t._s(Number.parseFloat(t.expEqu).toFixed(2)))])])],1):t._e()],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Capacidad financiera")])])],1),a("v-col",{attrs:{"align-self":"center",cols:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title text-end",class:{errorColor:0===t.capFin}},[t._v(t._s(Number.parseFloat(t.capFin).toFixed(2)))])])],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Capacidad organizacional")])])],1),a("v-col",{attrs:{"align-self":"center",cols:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title text-end",class:{errorColor:0===t.capOrg}},[t._v(t._s(Number.parseFloat(t.capOrg).toFixed(2)))])])],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Metodologia")])])],1),a("v-col",{attrs:{"align-self":"center",cols:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title text-end"},[t._v(t._s(Number.parseFloat(t.expMet).toFixed(2)))])])],1)],1)],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("div",{staticClass:"title"},[t._v("Documentación")]),t.noCumple.length<=0?a("p",{staticStyle:{color:"blue"}},[t._v("Todos los documentos cumplen de conformidad a lo dispuesto en los pliegos de condiciones")]):t._e(),t.noCumple.length>0?a("ul",t._l(t.noCumple,(function(e){return a("li",{key:e},[a("div",{staticStyle:{color:"red"}},[t._v(t._s(e))])])})),0):t._e()])],1)],1)],1)},Ms=[],Rs={getInfo:function(t){return new Promise((function(e,a){p()({method:"GET",url:m["a"].apiUrl+"/evaluacionProponente/"+t,dataType:"json"}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getCriterios:function(t){return new Promise((function(e,a){p()({method:"GET",url:m["a"].apiUrl+"/criteriosProponente/"+t,dataType:"json"}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},saveInfo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/evaluacionProponente",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},saveOfertaEco:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/actOfertaEco",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},save:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/saveSolicitud",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},savePositions:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/savePositions",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},updateProgres:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/updateSolicitud/"+e,dataType:"json",data:{data:t}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},DelData:function(t){}},Fs=Rs,qs=a("2a29"),Us=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"adjuntos"}},[a("v-flex",[t.item.file_path?t._e():a("v-file-input",{staticStyle:{"font-size":".8rem"},attrs:{"prepend-inner-icon":"$file","prepend-icon":"",placeholder:"Adjunto","small-chips":"",filled:t.filled,"hide-details":"",dense:""},on:{change:function(e){t.handleFileUpload(e)}}}),t.item.file_path?a("v-chip",{staticClass:"ma-2",staticStyle:{margin:"5px"},attrs:{close:"",color:"green darken-2","text-color":"white"},on:{click:function(e){return t.openInNewTab(t.item.file_path)},"click:close":t.removeFile}},[t._v(t._s(t.item.file_name.substring(0,50))+"\n    ")]):t._e()],1)],1)},$s=[];function Ls(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Bs(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Ls(n,o,i,r,s,"next",t)}function s(t){Ls(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Gs={props:["item","filled","icon","text"],data:function(){return{}},mounted:function(){var t=Bs(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),methods:{handleFileUpload:function(){var t=Bs(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e),null===e){t.next=9;break}return t.next=4,Ba["a"].upload(e);case 4:a=t.sent,this.item.file_name=e.name,this.item.file_path=a.data.url,t.next=11;break;case 9:this.item.file_name="",this.item.file_path="";case 11:this.$emit("file-changed",this.item),console.log(this.item);case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),openInNewTab:function(t){var e=window.open(t,"_blank");e.focus()},removeFile:function(){this.item.file_path="",this.$emit("file-changed",this.item)}},computed:{adjuntos:{get:function(){return this.proponente?this.proponente.adjuntos:this.$store.state.solproc.adjuntos},set:function(t){console.log("seteando adjuntos"),this.proponente?this.proponente.adjuntos=t:this.$store.state.solproc.adjuntos=t}},noCumple:function(){var t=[];return console.log(this.adjuntos),this.adjuntos.forEach((function(e){!0!==e.aprobado&&!0!==e.noAplica&&t.push(e.docSolicitado)})),t},tipoContrato:function(){return this.$store.state.solproc.tipoContratacion},idSolicitud:function(){return this.$store.state.solproc.id}},watch:{}},Vs=Gs,zs=Object(C["a"])(Vs,Us,$s,!1,null,"d433a91c",null),Xs=zs.exports;function Hs(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Js(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Hs(n,o,i,r,s,"next",t)}function s(t){Hs(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Ys={components:{smallAdj:Xs},props:["prop"],data:function(){return{ofEco:{valor:"",file_name:"",file_path:""}}},filters:{moneyFormat:function(t){return t?"$".concat(t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")):""}},mounted:function(){var t=Js(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.prop.ofertaEco.length>0&&(this.ofEco.valor=this.prop.ofertaEco[0].valor,this.ofEco.file_name=this.prop.ofertaEco[0].file_name,this.ofEco.file_path=this.prop.ofertaEco[0].file_path);case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{saveOferta:function(){var t=Js(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={valor:this.ofEco.valor,file_name:this.ofEco.file_name,file_path:this.ofEco.file_path,idProp:this.prop.id},t.next=3,Fs.saveOfertaEco(e);case 3:a=t.sent,console.log(a),a.status;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getValor:function(t){return isNaN(t)||""===t||null===t?0:t}},computed:{adjuntos:function(){return this.prop.adjuntos},noCumple:function(){var t=[];return this.adjuntos.length<=0?["No has definido archivos"]:(this.adjuntos.forEach((function(e){e.aprobado||e.noAplica||t.push(e.docSolicitado)})),t)},puntaje:function(){return this.prop.nota},expProp:function(){if(this.prop.expProp){var t=this.prop.expProp.filter((function(t){return"seleccion"===t.tipo})),e=parseFloat(this.$store.state.solproc.pesoProp),a=t.reduce((function(t,e){return t+Object(qs["calcPuntaje"])(parseInt(e.cantSoportada),parseInt(e.cantidad),parseFloat(e.puntaje_und),parseFloat(e.puntaje_max))}),0);return this.getValor(e*(a/100))}return 0},expEqu:function(){if(this.prop.roles){var t=this.prop.roles.filter((function(t){return"seleccion"===t.tipoRol})),e=parseFloat(this.$store.state.solproc.pesoEqu),a=0;return t.forEach((function(t){var e=t.educacion.reduce((function(t,e){return e.cumple?t+parseInt(e.puntajeMax):0}),0),o=t.porc_edu*(e/100),i=t.experiencia.reduce((function(t,e){return t+Object(qs["calcPuntaje"])(parseInt(e.cantSoportada),parseInt(e.cantidad),parseFloat(e.puntajeUnd),parseFloat(e.puntajeMax))}),0),n=t.porc_exp*(i/100),r=t.porc_rol*((parseFloat(o)+parseFloat(n))/100);a+=parseFloat(r)})),this.getValor(e*(a/100))}return 0},capFin:function(){var t=this.prop.capFin;if(t){var e=parseFloat(this.$store.state.solproc.pesoFin),a=t.find((function(t){return!t.cumple&&t.inhabilita}));if(a)return 0;var o=t.filter((function(t){return t.cumple})),i=(o.length?o.length:0)/t.length*100;return this.getValor(e*i/100)}return 0},capOrg:function(){var t=this.prop.capOrg;if(t){var e=parseFloat(this.$store.state.solproc.pesoOrg),a=t.find((function(t){return!t.cumple&&t.inhabilita}));if(a)return 0;var o=t.filter((function(t){return t.cumple})),i=(o.length?o.length:0)/t.length*100;return this.getValor(e*i/100)}return 0},expMet:function(){return 0},expMinProp:function(){if(this.prop.expProp){var t=this.prop.expProp.filter((function(t){return"minimo"===t.tipo})),e=t.find((function(t){return!t.cumple}));return e?{valor:!1,text:"No cumple con requisitos minimos de experiencia"}:{valor:!0,text:"Cuple con requisitos minimos"}}return{valor:!0,text:"Cuple con requisitos minimos"}},expMinEqu:function(){if(this.prop.roles){var t=this.prop.roles.filter((function(t){return"minimo"===t.tipoRol})),e=!1;return t.forEach((function(t){var a=t.educacion.find((function(t){return!t.cumple})),o=t.experiencia.find((function(t){return!t.cumple}));(a||o)&&(e=!0)})),e?{valor:!1,text:"No cumple con requisitos minimos de equipo de trabajo"}:{valor:!0,text:"Cumple con requisitos de equipo de trabajo"}}return{valor:!1,text:"No cumple con requisitos minimos de equipo de trabajo"}},estado:function(){return this.noCumple.length>0||!this.expMinProp.valor||!this.expMinEqu.valor||this.capFin<=0||this.capOrg<=0?{valor:!1,text:"Fuera del proceso"}:{valor:!0,text:"Validar oferta economica"}}}},Zs=Ys,Ws=(a("499b"),Object(C["a"])(Zs,Ns,Ms,!1,null,"bb7d3d34",null)),Qs=Ws.exports;function Ks(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function tc(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Ks(n,o,i,r,s,"next",t)}function s(t){Ks(n,o,i,r,s,"throw",t)}r(void 0)}))}}var ec={components:{preResultProp:Qs},data:function(){return{proponentes:[]}},mounted:function(){var t=tc(He.a.mark((function t(){var e,a,o=this;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$store.state.solproc.proponentes,a=[],e?e.forEach((function(t){console.log(t),a.push(o.getPropInfo(t))})):console.log("NO HAY PROPONENTES"),t.next=5,Promise.all(a).then((function(t){console.log(t),o.proponentes=o.$store.state.solproc.proponentes})).catch((function(t){console.log(t)}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{setPuntaje:function(t){console.log(t)},getPropInfo:function(){var t=tc(He.a.mark((function t(e){var a,i;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=13;break}return t.next=3,Fs.getCriterios(e.id);case 3:return a=t.sent,console.log(a),200===a.status?(e.expProp=a.data.expProp?a.data.expProp:[],e.roles=a.data.roles?a.data.roles:[],e.capOrg=a.data.capOrg?a.data.capOrg:[],e.capFin=a.data.capFin?a.data.capFin:[],e.expMet=a.data.expMet?a.data.expMet:[],e.ofertaEco=a.data.ofertaEco?a.data.ofertaEco:[],o["default"].set(e)):(e.expProp=[],e.roles=[],e.capOrg=[],e.capFin=[],e.expMet=[]),t.next=8,Fs.getInfo(e.id);case 8:i=t.sent,200===i.status&&(e.adjuntos=i.data),this.setNota(e),t.next=14;break;case 13:console.log("proponente no almacenado en la base de datos");case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),setNota:function(t){var e=t.expProp.filter((function(t){return"seleccion"===t.tipo})),a=parseFloat(this.$store.state.solproc.pesoProp),o=e.reduce((function(t,e){return t+Object(qs["calcPuntaje"])(parseInt(e.cantSoportada),parseInt(e.cantidad),parseFloat(e.puntaje_und),parseFloat(e.puntaje_max))}),0),i=a*(o/100);console.log("expProp: "+i);var n=t.roles.filter((function(t){return"seleccion"===t.tipoRol})),r=parseFloat(this.$store.state.solproc.pesoEqu);o=0,n.forEach((function(t){var e=t.educacion.reduce((function(t,e){return e.cumple?t+parseInt(e.puntajeMax):0}),0),a=t.porc_edu*(e/100),i=t.experiencia.reduce((function(t,e){return t+Object(qs["calcPuntaje"])(parseInt(e.cantSoportada),parseInt(e.cantidad),parseFloat(e.puntajeUnd),parseFloat(e.puntajeMax))}),0),n=t.porc_exp*(i/100),r=t.porc_rol*((parseFloat(a)+parseFloat(n))/100);o+=parseFloat(r)}));var s=r*(o/100);console.log("expEqu: "+s);var c=t.capFin,l=parseFloat(this.$store.state.solproc.pesoFin),d=c.find((function(t){return!t.cumple&&t.inhabilita})),u=0;if(d)u=0;else{var p=c.filter((function(t){return t.cumple})),m=(p.length?p.length:0)/c.length*100;u=l*m/100}console.log("capFin: "+u);var v=t.capOrg,h=parseFloat(this.$store.state.solproc.pesoOrg);d=v.find((function(t){return!t.cumple&&t.inhabilita}));var f=0;if(d)f=0;else{var g=v.filter((function(t){return t.cumple})),b=(g.length?g.length:0)/v.length*100;f=h*b/100}console.log("capOrg: "+f);var x=0,_=y(i)+ +y(s)+ +y(u)+ +y(f)+ +y(x);function y(t){return isNaN(t)||""===t||null===t?0:t}console.log("Puntaje: "+_),t.nota=_}},computed:{tipoContrata:function(){return this.$store.state.solproc.tipoContratacion},directa:function(){return["Personal","Persona juridica","Bienes o servicios"].includes(this.tipoContrata)},nombre:function(){return this.$store.state.solproc.nombre},adjuntos:function(){return this.$store.state.solproc.adjuntos},educacion:function(){return this.$store.state.solproc.educacion},experiencia:function(){return this.$store.state.solproc.experiencia},noCumple:function(){var t=[];return this.adjuntos.length<=0?["No has definido archivos"]:(this.adjuntos.forEach((function(e){!0!==e.aprobado&&!0!==e.noAplica&&t.push(e.docSolicitado)})),t)},cumpleEdu:function(){var t=[];return this.educacion.forEach((function(e){e.cumple||e.noAplica||t.push("".concat(e.tipo," ").concat(e.titulo))})),t},cumpleExp:function(){var t=[];return this.experiencia.forEach((function(e){e.cumple||e.noAplica||t.push(e.descripcion)})),t},resultado:function(){return 0===this.noCumple.length&&0===this.cumpleEdu.length&&0===this.cumpleExp.length?"¡Aprobado!":"Rechazado"},compProponentes:function(){return this.proponentes.sort((function(t,e){return t.nota<e.nota?1:t.nota>e.nota?-1:0}))}}},ac=ec,oc=(a("78e1"),Object(C["a"])(ac,Is,Os,!1,null,"04d0a994",null)),ic=oc.exports,nc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("Resultado final")]),a("v-card-text",[t.directa?a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("div",{staticClass:"text-center mb-5"},[a("v-avatar",{attrs:{color:"blue-grey darken-1",size:"120"}},[a("v-icon",{attrs:{dark:"",size:"105"}},[t._v("person")])],1)],1),a("div",{staticClass:"text-center headline"},[t._v(t._s(t.nombre))])]),a("v-col",[a("div",{staticClass:"title text-center"},[t._v("Documentación")]),t.noCumple.length<=0?a("p",{staticStyle:{color:"blue"}},[t._v("Todos los documentos cumplen de conformidad a lo dispuesto en los pliegos de condiciones")]):t._e(),t.noCumple.length>0?a("ul",t._l(t.noCumple,(function(e){return a("li",{key:e},[a("div",{staticStyle:{color:"red"}},[t._v(t._s(e))])])})),0):t._e()]),a("v-col",[a("div",{staticClass:"title text-center"},[t._v("Educación")]),t.cumpleEdu.length<=0?a("p",{staticStyle:{color:"blue"}},[t._v("Cumple con toda la educación requerida")]):t._e(),t.cumpleEdu.length>0?a("ul",t._l(t.cumpleEdu,(function(e){return a("li",{key:e},[a("div",{staticStyle:{color:"red"}},[t._v(t._s(e))])])})),0):t._e()]),a("v-col",[a("div",{staticClass:"title text-center"},[t._v("Experiencia")]),t.cumpleExp.length<=0?a("p",{staticStyle:{color:"blue"}},[t._v("Cumple con toda la experiencia solicitada")]):t._e(),t.cumpleExp.length>0?a("ul",t._l(t.cumpleExp,(function(e){return a("li",{key:e},[a("div",{staticStyle:{color:"red"}},[t._v(t._s(e))])])})),0):t._e()])],1):t._e(),t.empate?a("div",[a("h4",[t._v("Hay empate entre proponentes, recuerda los siguientes criterios de desempate: ")]),a("ul",[t._l(t.critDesempate,(function(e,o){return[a("li",{key:o},[t._v(t._s(e.criterio))])]}))],2)]):t._e(),a("v-layout",{staticClass:"my-3"},[a("v-spacer"),a("v-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:t.saveOrder}},[t._v("Guardar orden")])],1),t.directa?t._e():a("v-expansion-panels",{staticClass:"mt-3"},[a("draggable",{staticStyle:{width:"100%"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.compProponentes,callback:function(e){t.compProponentes=e},expression:"compProponentes"}},t._l(t.compProponentes,(function(e){return a("v-expansion-panel",{key:e.id},[a("v-expansion-panel-header",{staticClass:"justify-space-between"},[a("v-layout",{attrs:{"justify-space-between":""}},[a("div",{staticClass:"title"},[t._v(t._s(e.nombre))]),a("div",{staticClass:"title"},[t._v(t._s(e.nota.toFixed(2))+"%")])])],1),a("v-expansion-panel-content",[a("resultProp",{attrs:{prop:e,media:t.media,mediaAlta:t.mediaAlta,GPO:t.GPO,menorVal:t.menorVal},on:{puntaje:t.setPuntaje}})],1)],1)})),1)],1),t.directa?a("div",{staticClass:"headline text-center mt-3",class:[{falla:"Rechazado"===t.resultado},{exito:"Aprobado"===t.resultado}]},[t._v(t._s(t.resultado))]):t._e()],1)],1)},rc=[],sc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{staticClass:"grey lighten-5"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center",cols:"5"}},[a("div",{staticClass:"text-center mb-5"},[a("v-avatar",{attrs:{color:"blue-grey darken-1",size:"120"}},[a("v-icon",{attrs:{dark:"",size:"105"}},[t._v("person")])],1)],1),a("div",{staticClass:"text-center headline"},[t._v(t._s(t.prop.nombre))]),a("div",{staticClass:"text-center headline"},[t._v(t._s(t.puntaje.toFixed(2)))])]),a("v-col",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Experiencia Minima")]),a("p",{class:{errorColor:!t.expMinProp.valor},staticStyle:{margin:"0px"}},[t._v(t._s(t.expMinProp.text))])])],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Exp minima de equipo de trabajo")]),a("p",{class:{errorColor:!t.expMinEqu.valor},staticStyle:{margin:"0px"}},[t._v(t._s(t.expMinEqu.text))])])],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Experiencia")])])],1),a("v-col",{attrs:{"align-self":"center",cols:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title text-end"},[t._v(t._s(Number.parseFloat(t.expProp).toFixed(2)))])])],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Equipo de equipo de trabajo")])])],1),t.prop.roles?a("v-col",{attrs:{"align-self":"center",cols:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title text-end"},[t._v(t._s(Number.parseFloat(t.expEqu).toFixed(2)))])])],1):t._e()],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Capacidad financiera")])])],1),a("v-col",{attrs:{"align-self":"center",cols:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title text-end",class:{errorColor:0===t.capFin}},[t._v(t._s(Number.parseFloat(t.capFin).toFixed(2)))])])],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Capacidad organizacional")])])],1),a("v-col",{attrs:{"align-self":"center",cols:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title text-end",class:{errorColor:0===t.capOrg}},[t._v(t._s(Number.parseFloat(t.capOrg).toFixed(2)))])])],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Metodologia")])])],1),a("v-col",{attrs:{"align-self":"center",cols:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title text-end"},[t._v(t._s(Number.parseFloat(t.expMet).toFixed(2)))])])],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"center"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title"},[t._v("Oferta economica")])])],1),a("v-col",{attrs:{"align-self":"center",cols:"3"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"title text-end"},[t._v(t._s(Number.parseFloat(t.expEco).toFixed(2)))])])],1)],1)],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("div",{staticClass:"title"},[t._v("Documentación")]),t.noCumple.length<=0?a("p",{staticStyle:{color:"blue"}},[t._v("Todos los documentos cumplen de conformidad a lo dispuesto en los pliegos de condiciones")]):t._e(),t.noCumple.length>0?a("ul",t._l(t.noCumple,(function(e){return a("li",{key:e},[a("div",{staticStyle:{color:"red"}},[t._v(t._s(e))])])})),0):t._e()])],1)],1)],1)},cc=[];function lc(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function dc(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){lc(n,o,i,r,s,"next",t)}function s(t){lc(n,o,i,r,s,"throw",t)}r(void 0)}))}}var uc={components:{smallAdj:Xs},props:["prop","media","mediaAlta","totalNec","GPO","menorVal"],data:function(){return{tipoOfEco:[]}},filters:{moneyFormat:function(t){return t?"$".concat(t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")):""}},mounted:function(){var t=dc(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.tipoOfEco=this.$store.state.tipoOfertaEconomica;case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getValor:function(t){return isNaN(t)||""===t||null===t?0:t}},computed:{adjuntos:function(){return this.prop.adjuntos},noCumple:function(){var t=[];return this.adjuntos.length<=0?["No has definido archivos"]:(this.adjuntos.forEach((function(e){e.aprobado||e.noAplica||t.push(e.docSolicitado)})),t)},puntaje:function(){return this.prop.nota},expProp:function(){if(this.prop.expProp){var t=this.prop.expProp.filter((function(t){return"seleccion"===t.tipo})),e=parseFloat(this.$store.state.solproc.pesoProp),a=t.reduce((function(t,e){return t+Object(qs["calcPuntaje"])(parseInt(e.cantSoportada),parseInt(e.cantidad),parseFloat(e.puntaje_und),parseFloat(e.puntaje_max))}),0);return this.getValor(e*(a/100))}return 0},expEqu:function(){if(this.prop.roles){var t=this.prop.roles.filter((function(t){return"seleccion"===t.tipoRol})),e=parseFloat(this.$store.state.solproc.pesoEqu),a=0;return t.forEach((function(t){var e=t.educacion.reduce((function(t,e){return e.cumple?t+parseInt(e.puntajeMax):0}),0),o=t.porc_edu*(e/100),i=t.experiencia.reduce((function(t,e){return t+Object(qs["calcPuntaje"])(parseInt(e.cantSoportada),parseInt(e.cantidad),parseFloat(e.puntajeUnd),parseFloat(e.puntajeMax))}),0),n=t.porc_exp*(i/100),r=t.porc_rol*((parseFloat(o)+parseFloat(n))/100);a+=parseFloat(r)})),this.getValor(e*(a/100))}return 0},capFin:function(){var t=this.prop.capFin;if(t){var e=parseFloat(this.$store.state.solproc.pesoFin),a=t.find((function(t){return!t.cumple&&t.inhabilita}));if(a)return 0;var o=t.filter((function(t){return t.cumple})),i=(o.length?o.length:0)/t.length*100;return this.getValor(e*i/100)}return 0},capOrg:function(){var t=this.prop.capOrg;if(t){var e=parseFloat(this.$store.state.solproc.pesoOrg),a=t.find((function(t){return!t.cumple&&t.inhabilita}));if(a)return 0;var o=t.filter((function(t){return t.cumple})),i=(o.length?o.length:0)/t.length*100;return this.getValor(e*i/100)}return 0},expMet:function(){return 0},expMinProp:function(){if(this.prop.expProp){var t=this.prop.expProp.filter((function(t){return"minimo"===t.tipo})),e=t.find((function(t){return!t.cumple}));return e?{valor:!1,text:"No cumple con requisitos minimos de experiencia"}:{valor:!0,text:"Cuple con requisitos minimos"}}return{valor:!0,text:"Cuple con requisitos minimos"}},expMinEqu:function(){if(this.prop.roles){var t=this.prop.roles.filter((function(t){return"minimo"===t.tipoRol})),e=!1;return t.forEach((function(t){var a=t.educacion.find((function(t){return!t.cumple})),o=t.experiencia.find((function(t){return!t.cumple}));(a||o)&&(e=!0)})),e?{valor:!1,text:"No cumple con requisitos minimos de equipo de trabajo"}:{valor:!0,text:"Cumple con requisitos de equipo de trabajo"}}return{valor:!1,text:"No cumple con requisitos minimos de equipo de trabajo"}},estado:function(){return this.noCumple.length>0||!this.expMinProp.valor||!this.expMinEqu.valor||this.capFin<=0||this.capOrg<=0?{valor:!1,text:"Fuera del proceso"}:{valor:!0,text:"Validar oferta economica"}},expEco:function(){var t=this.media,e=this.mediaAlta,a=this.prop.ofertaEco[0].of_economica,o=parseInt(this.prop.ofertaEco[0].valor),i=parseFloat(this.$store.state.solproc.pesoEco),n=0;if(a)if("Media aritmética"===a)n=o<=t?(i*(1-(t-o)/t)).toFixed(2):(i*(1-(t-o)/t*2)).toFixed(2);else if("Media aritmética alta"===a)n=o<=e?(i*(1-(e-o)/e)).toFixed(2):(i*(1-Math.abs(e-o)/e*2)).toFixed(2);else if("Media geométrica con presupuesto oficial"===a){var r=this.GPO;console.log(this.GPO),console.log(o,r),n=r<=o?(i*(1-(r-o)/r)).toFixed(2):(i*(1-(r-o)/r*2)).toFixed(2)}else n="Menor valor"===a?(i*this.menorVal/o).toFixed(2):0;else n=0;return n>i?i:n}}},pc=uc,mc=(a("d506"),Object(C["a"])(pc,sc,cc,!1,null,"4c4608c0",null)),vc=mc.exports,hc=a("310e"),fc=a.n(hc);function gc(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function bc(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){gc(n,o,i,r,s,"next",t)}function s(t){gc(n,o,i,r,s,"throw",t)}r(void 0)}))}}var xc={components:{resultProp:vc,draggable:fc.a},data:function(){return{proponentes:[],tipoEco:"",totalNec:"",critDesempate:[],elDrag:[],drag:!0,pruebas:["camilo","Arnold"]}},mounted:function(){var t=bc(He.a.mark((function t(){var e,a,o=this;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$store.state.solproc.proponentes,this.critDesempate=this.$store.state.solproc.criDes,a=[],e?e.forEach((function(t){console.log(t),a.push(o.getPropInfo(t))})):console.log("NO HAY PROPONENTES"),t.next=6,Promise.all(a).then((function(t){console.log(t),o.proponentes=o.$store.state.solproc.proponentes,o.totalNec=o.proponentes[0]?o.proponentes[0].totalNec:0,o.proponentes.map((function(t){o.calcOfEconomica(t)})),console.log("in the position "+o.proponentes[0].position),null===o.proponentes[0].position?o.proponentes=o.proponentes.sort((function(t,e){return t.nota<e.nota?1:t.nota>e.nota?-1:0})):o.proponentes=o.proponentes.sort((function(t,e){return t.position>e.position?1:t.position<e.position?-1:0})),console.log(o.totalNec)})).catch((function(t){console.log(t)}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{setPuntaje:function(t){console.log(t)},getPropInfo:function(){var t=bc(He.a.mark((function t(e){var a,i;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=13;break}return t.next=3,Fs.getCriterios(e.id);case 3:return a=t.sent,console.log(a),200===a.status?(e.expProp=a.data.expProp?a.data.expProp:[],e.roles=a.data.roles?a.data.roles:[],e.capOrg=a.data.capOrg?a.data.capOrg:[],e.capFin=a.data.capFin?a.data.capFin:[],e.expMet=a.data.expMet?a.data.expMet:[],e.ofertaEco=a.data.ofertaEco?a.data.ofertaEco:[],e.totalNec=a.data.totalNec?a.data.totalNec:0,e.ofertaEco.length>0&&(this.tipoEco=e.ofertaEco[0].of_economica),o["default"].set(e)):(e.expProp=[],e.roles=[],e.capOrg=[],e.capFin=[],e.expMet=[],e.totalNec=0),t.next=8,Fs.getInfo(e.id);case 8:i=t.sent,200===i.status&&(e.adjuntos=i.data),this.setNota(e),t.next=14;break;case 13:console.log("proponente no almacenado en la base de datos");case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),calcOfEconomica:function(t){var e=this.media,a=this.mediaAlta,o=t.ofertaEco[0].of_economica,i=parseInt(t.ofertaEco[0].valor),n=parseFloat(this.$store.state.solproc.pesoEco),r=0;if(o)if("Media aritmética"===o)r=i<=e?(n*(1-(e-i)/e)).toFixed(2):(n*(1-(e-i)/e*2)).toFixed(2);else if("Media aritmética alta"===o)r=i<=a?(n*(1-(a-i)/a)).toFixed(2):(n*(1-Math.abs(a-i)/a*2)).toFixed(2);else if("Media geométrica con presupuesto oficial"===o){var s=this.GPO;console.log(i,s),r=s<=i?(n*(1-(s-i)/s)).toFixed(2):(n*(1-(s-i)/s*2)).toFixed(2)}else r="Menor valor"===o?(n*this.menorVal/i).toFixed(2):0;var c=0;c=r>n?n:r,t.nota=t.nota+parseFloat(c)},setNota:function(t){var e=t.expProp.filter((function(t){return"seleccion"===t.tipo})),a=parseFloat(this.$store.state.solproc.pesoProp),o=e.reduce((function(t,e){return t+Object(qs["calcPuntaje"])(parseInt(e.cantSoportada),parseInt(e.cantidad),parseFloat(e.puntaje_und),parseFloat(e.puntaje_max))}),0),i=a*(o/100),n=t.roles.filter((function(t){return"seleccion"===t.tipoRol})),r=parseFloat(this.$store.state.solproc.pesoEqu);o=0,n.forEach((function(t){var e=t.educacion.reduce((function(t,e){return e.cumple?t+parseInt(e.puntajeMax):0}),0),a=t.porc_edu*(e/100),i=t.experiencia.reduce((function(t,e){return t+Object(qs["calcPuntaje"])(parseInt(e.cantSoportada),parseInt(e.cantidad),parseFloat(e.puntajeUnd),parseFloat(e.puntajeMax))}),0),n=t.porc_exp*(i/100),r=t.porc_rol*((parseFloat(a)+parseFloat(n))/100);o+=parseFloat(r)}));var s=r*(o/100);console.log("expEqu: "+s);var c=t.capFin,l=parseFloat(this.$store.state.solproc.pesoFin),d=c.find((function(t){return!t.cumple&&t.inhabilita})),u=0;if(d)u=0;else{var p=c.filter((function(t){return t.cumple})),m=(p.length?p.length:0)/c.length*100;u=l*m/100}console.log("capFin: "+u);var v=t.capOrg,h=parseFloat(this.$store.state.solproc.pesoOrg);d=v.find((function(t){return!t.cumple&&t.inhabilita}));var f=0;if(d)f=0;else{var g=v.filter((function(t){return t.cumple})),b=(g.length?g.length:0)/v.length*100;f=h*b/100}console.log("capOrg: "+f);var x=0,_=y(i)+ +y(s)+ +y(u)+ +y(f)+ +y(x);function y(t){return isNaN(t)||""===t||null===t?0:t}console.log("Puntaje: "+_),t.nota=_},saveOrder:function(){var t=bc(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fs.savePositions(this.proponentes);case 2:e=t.sent,console.log(e),200===e.status?this.showMessage(!0,3e3,"success","Orden alamacenado"):this.showMessage(!0,3e3,"error","Error al guardar posiciones");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})}},computed:{tipoContrata:function(){return this.$store.state.solproc.tipoContratacion},directa:function(){return["Personal","Persona juridica","Bienes o servicios"].includes(this.tipoContrata)},nombre:function(){return this.$store.state.solproc.nombre},adjuntos:function(){return this.$store.state.solproc.adjuntos},educacion:function(){return this.$store.state.solproc.educacion},experiencia:function(){return this.$store.state.solproc.experiencia},noCumple:function(){var t=[];return this.adjuntos.length<=0?["No has definido archivos"]:(this.adjuntos.forEach((function(e){!0!==e.aprobado&&!0!==e.noAplica&&t.push(e.docSolicitado)})),t)},cumpleEdu:function(){var t=[];return this.educacion.forEach((function(e){e.cumple||e.noAplica||t.push("".concat(e.tipo," ").concat(e.titulo))})),t},cumpleExp:function(){var t=[];return this.experiencia.forEach((function(e){e.cumple||e.noAplica||t.push(e.descripcion)})),t},resultado:function(){return 0===this.noCumple.length&&0===this.cumpleEdu.length&&0===this.cumpleExp.length?"¡Aprobado!":"Rechazado"},compProponentes:{get:function(){return this.proponentes},set:function(t){this.proponentes=t}},media:function(){if(this.tipoEco){var t=this.proponentes.filter((function(t){return t.ofertaEco})).length,e=this.proponentes.reduce((function(t,e){return t+Number(e.ofertaEco[0]?e.ofertaEco[0].valor:0)}),0);return e/t}return 0},mediaAlta:function(){if(this.tipoEco){this.proponentes.filter((function(t){return t.ofertaEco})).length,this.proponentes.reduce((function(t,e){return t+Number(e.ofertaEco[0]?e.ofertaEco[0].valor:0)}),0);var t=this.proponentes.filter((function(t){return t.ofertaEco})),e=0;return t.forEach((function(t){parseInt(t.ofertaEco[0].valor)>e&&(e=parseInt(t.ofertaEco[0].valor))})),console.log("max: "+e),(e+this.media)/2}return 0},menorVal:function(){var t=this.proponentes.filter((function(t){return t.ofertaEco})),e=t[0].ofertaEco[0].valor;return t.forEach((function(t){parseInt(t.ofertaEco[0].valor)<e&&(e=parseInt(t.ofertaEco[0].valor))})),console.log("min: "+e),e},GPO:function(){var t=this.proponentes.filter((function(t){return t.ofertaEco})).length,e=Math.ceil(t/3),a=this.proponentes.reduce((function(t,e){return t*Number(e.ofertaEco[0]?e.ofertaEco[0].valor:1)}),1);console.log(a),console.log(e),console.log(this.totalNec);var o=1/(e+parseInt(t));return console.log(o),console.log(Math.pow(this.totalNec,e)),Math.pow(Math.pow(this.totalNec,e)*a,o)},empate:function(){var t=this.proponentes.filter((function(t){return t.ofertaEco})),e=0;t.forEach((function(t){parseInt(t.nota)>e&&(e=parseInt(t.nota))})),console.log("max: "+e);var a=this.proponentes.filter((function(t){return t.nota===e}));return a.length>1}}},_c=xc,yc=(a("31f1"),Object(C["a"])(_c,nc,rc,!1,null,"7156f5b6",null)),kc=yc.exports,Cc={getData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return console.log(t),new Promise((function(e,a){p()({method:"GET",url:m["a"].apiUrl+"/solproceso",params:t,dataType:"json"}).then((function(t){e(t)})).catch((function(t){a(t)}))}))},getCommits:function(t){return new Promise((function(e,a){p()({method:"GET",url:m["a"].apiUrl+"/solprocCommits/"+t,dataType:"json"}).then((function(t){e(t)})).catch((function(t){a(t)}))}))},getExpSupports:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/solprocesoSupportAll",dataType:"json",data:{id:t,tipo:e}}).then((function(t){a(t)})).catch((function(t){o(t)}))}))},getSolProcDetail:function(t){return new Promise((function(e,a){p()({method:"GET",url:m["a"].apiUrl+"/solproceso/"+t,dataType:"json"}).then((function(t){e(t)})).catch((function(t){a(t)}))}))},getCdpCrp:function(t){return new Promise((function(e,a){p()({method:"GET",url:m["a"].apiUrl+"/solproc_cdpcrp",dataType:"json",params:t}).then((function(t){e(t)})).catch((function(t){a(t)}))}))},addCdpCrp:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/solproc_cdpcrp",dataType:"json",data:t}).then((function(t){e(t)})).catch((function(t){a(t)}))}))},save:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/solproceso",dataType:"json",data:t}).then((function(t){e(t)})).catch((function(t){a(t)}))}))},saveSupport:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/solprocesoSupport",dataType:"json",data:t}).then((function(t){e(t)})).catch((function(t){a(t)}))}))},updateProgres:function(t){return new Promise((function(e,a){p()({method:"PUT",url:m["a"].apiUrl+"/solproceso",dataType:"json",data:t}).then((function(t){e(t)})).catch((function(t){a(t)}))}))},DelData:function(t){},getEstados:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/solprocesoEstados",dataType:"json"}).then((function(e){t(e)})).catch((function(t){e(t)}))}))},saveCommit:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/solprocCommits",dataType:"json",data:t}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getInfoForTR:function(t){return new Promise((function(e,a){p()({method:"GET",url:m["a"].apiUrl+"/termRefData/"+t,dataType:"json"}).then((function(t){e(t)})).catch((function(t){a(t)}))}))}},Sc=Cc,wc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Editor")]),a("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},on:{ready:t.onReady,focus:t.onEditorFocus},model:{value:t.editorData,callback:function(e){t.editorData=e},expression:"editorData"}}),a("v-btn",{attrs:{color:"primary"},on:{click:t.saveEditorjs}},[t._v("save")]),a("pre",[t._v(t._s(t.$data.editorData))])],1)},Pc=[],Ac=a("dee0"),jc=(a("9336"),a("3ecd")),Ec=a.n(jc),Tc=(a("71c0"),a("a728"),a("7c5e")),Dc=a.n(Tc);var Ic=a("6930"),Oc=a.n(Ic),Nc=a("2996"),Mc=a.n(Nc);function Rc(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Fc(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Rc(n,o,i,r,s,"next",t)}function s(t){Rc(n,o,i,r,s,"throw",t)}r(void 0)}))}}var qc={components:{ckeditor:Oc.a.component},data:function(){return{content:"<h1>Hello!</h1>Fill this page with text and new pages will be created as it overflows.",jefeJuridica:"",position:0,quill:"",customToolbar:[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]],html:"",file:[],ciudades:[],personal:[],editor:Mc.a,editorData:"<p>Content of the editor.</p>",editorConfig:{}}},mounted:function(){var t=Fc(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),methods:{onReady:function(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())},onEditorFocus:function(t){console.log(t),console.log(t.source.selection._selection._ranges[0].start.offset),console.log(t.source.selection._selection._ranges[0].end.offset)},saveEditorjs:function(){var t=Fc(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(this.editor),console.log(this.editor.sourceElement.innerHTML),console.log(this.editor.sourceElement.innerText),this.editor.instances.IDofEditor.insertText("some text here");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTRinfo:function(){var t=Fc(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sc.getInfoForTR(this.solproc.id);case 3:e=t.sent,console.log(e),this.solproc.proyecto=e.data.proyecto,this.solproc.actividades=e.data.actividades,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),getPersonal:function(){var t=Fc(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st["a"].getData();case 3:e=t.sent,this.personal=e.data.data,this.jefeJuridica=this.personal.find((function(t){return 11===t.codigocargo})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),getCiudades:function(){var t=Fc(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qi["a"].getAllCiudades();case 3:e=t.sent,this.ciudades=e.data.data,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),this.ciudades=[];case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),setTable:function(){var t=this;this.table.map((function(e){1===e.num&&(e.description=[new Dc.a(t.solproc.proyecto[0].proyecto)]),2===e.num&&(e.description=[new Dc.a("rubro")]),3===e.num&&(e.description=[new Dc.a("Actividades en numeral")]),4===e.num&&(e.description=[new Dc.a("Antecedentes??")]),5===e.num&&(e.description=[new Dc.a("Justificacion tecnica??")]),6===e.num&&(e.description=[new Dc.a(t.solproc.proyecto[0].objeto)]),7===e.num&&(e.description=[new Dc.a("Códigos UNSPSC??")]),8===e.num&&(e.description=t.getReqMin()),9===e.num&&(e.description=t.getActividades()),10===e.num&&(e.description=t.getInformes()),11===e.num&&(e.description=[new Dc.a("Hasta el "+t.solproc.fechaLimite.substring(0,10))]),12===e.num&&(e.description=[new Dc.a("El valor total de la orden de servicio sera de ".concat(t.getValor()))]),13===e.num&&(e.description=t.formaPago()),14===e.num&&(e.description=t.lugarEj()),15===e.num&&(e.description=t.supervisores()),16===e.num&&(e.description=t.getEmployData()),17===e.num&&(e.description=[new Dc.a(t.solproc.justificacion)])}))},getReqMin:function(){var t="a) Formación: ";this.solproc.educacion.length>0?(this.solproc.educacion.forEach((function(e){t=t+e.tipo+", "})),t=t.slice(0,-2)):t+="Ninguna";var e="b) Experiencia: ";return this.solproc.experiencia.length>0?(this.solproc.experiencia.forEach((function(t){e=e+t.descripcion+", "})),e=e.slice(0,-2)):e+="Ninguna",[new Dc.a({text:t}),new Dc.a({text:e})]},getActividades:function(){var t=[];return this.solproc.actividades.forEach((function(e,a){t.push(new Dc.a(a+1+". "+e.actividad.toLowerCase()))})),t},getInformes:function(){var t=[];return this.solproc.infoprod.forEach((function(e,a){t.push(new Dc.a(a+1+". "+e.titulo.toLowerCase()))})),t},getValor:function(){var t=this.solproc.necesidades.reduce((function(t,e){return t+parseFloat(e.solval)}),0);return t},formaPago:function(){var t=[];return this.solproc.pagos.forEach((function(e,a){t.push(new Dc.a(a+1+". "+e.porcPago+"% en "+e.tiempoUnd+e.tiempoInd.toLowerCase()))})),t},lugarEj:function(){var t=this,e=[];return this.solproc.ciudad.forEach((function(a,o){var i=t.ciudades.find((function(t){return t.codigo===a}));e.push(new Dc.a(o+1+". "+i?i.nombrecompleto:"Ciudad no encontrada"))})),e},supervisores:function(){var t=this,e=[];return this.solproc.supervisor.forEach((function(a,o){var i=t.personal.find((function(t){return t.codigo===a}));e.push(new Dc.a(o+1+". "+i?i.nombrecompleto:"Personal no encontrado"))})),e},getEmployData:function(){var t=[],e=this.solproc.nombre?this.solproc.nombre:"vacio",a=this.solproc.telefono?this.solproc.telefono:"vacio",o=this.solproc.correo?this.solproc.correo:"vacio";return t.push(new Dc.a({children:[new TextRun({text:e,bold:!0})]})),t.push(new Dc.a("Tel: "+a)),t.push(new Dc.a("Correo: "+o)),t},exportDocx:function(){var t=Fc(He.a.mark((function t(){var e,a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return new Ec.a({children:[new Dc.a({text:"INSTITUTO AMAZÓNICO DE INVESTIGACIONES CIENTÍFICAS - SINCHI",alignment:AlignmentType.CENTER,heading:HeadingLevel.HEADING_3}),new Dc.a({text:"P3 – 013c Versión 3",alignment:AlignmentType.CENTER,heading:HeadingLevel.HEADING_3})]}),e=new Date,a="Bogotá, D. C. ".concat(e.getDate()," de ").concat(this.getMonth(e.getMonth())," de ").concat(e.getFullYear()),new Dc.a({text:a,spacing:{before:200,after:800}}),new Dc.a({text:"Doctora"}),new Dc.a({children:[new TextRun({text:this.jefeJuridica.nombrecompleto,bold:!0})]}),new Dc.a({children:[new TextRun({text:"Instituto Sinchi",bold:!0})]}),new Dc.a({text:"Calle 20 # 5 - 44"}),new Dc.a({text:"Bogotá D.C."}),new Dc.a({children:[new TextRun({text:"Asunto: ",bold:!0}),new TextRun({text:"SOLICITUD CONTRATACIÓN PRESTACIÓN DE SERVICIOS",bold:!0})],spacing:{before:200}}),new Dc.a({text:"Cordial saludo,",spacing:{before:200}}),new Dc.a({children:[new TextRun({text:"De manera atenta me permito solicitar el inicio del trámite de contratación por: "}),new TextRun({text:"Contratación directa"})],spacing:{before:200,after:400}}),new Dc.a({text:"Atentamente,",spacing:{before:200,after:800}}),new Dc.a({children:[new TextRun({text:this.solproc.proyecto[0].proycor,bold:!0})],alignment:AlignmentType.CENTER,spacing:{before:400,after:50}}),new Dc.a({children:[new TextRun({text:"Coordinador del Proyecto"})],alignment:AlignmentType.CENTER}),o=[],this.table.forEach((function(t){o.push(new TableRow({children:[new TableCell({children:t.title,margins:{left:200},verticalAlign:"center"}),new TableCell({children:t.description,margins:{left:100}})]}))})),new Table({rows:o}),t.t0=console,t.next=21,Object(Ac["printSolicitud"])();case 21:t.t1=t.sent,t.t0.log.call(t.t0,t.t1),Packer.toBlob(doc).then((function(t){saveAs(t,"example.docx"),console.log("Document created successfully")}));case 24:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getMonth:function(t){var e=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return e[t]}},computed:{solproc:function(){return this.$store.state.solproc},tipoContra:function(){return this.solproc.tipoContratacion,"CONTRATACIÓN DIRECTA"},persona:function(){return this.solproc.tipoContratacion,"PERSONA NATURAL"}}},Uc=qc,$c=Object(C["a"])(Uc,wc,Pc,!1,null,"370a896b",null),Lc=$c.exports;function Bc(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Gc(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Bc(n,o,i,r,s,"next",t)}function s(t){Bc(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Vc={components:{preResults:ic,results:kc,terminosReferencia:Lc},data:function(){return{idSolicitud:"",procesos:[],selected:"",showNewProc:!1,compSelected:!1,showPreResults:!1,showResults:!1,headers:[{text:"Necesidad",align:"left",sortable:!1,value:"descripcion"},{text:"Plan adquisición",align:"left",sortable:!1,value:"planadquisicion"},{text:"valor",align:"left",sortable:!1,value:"valor"}],necesidadesAcc:[],arrPlanAqui:[],evaluacion:"",dialog:!1}},filters:{moneyFormat:function(t){return t?"$".concat(t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")):""}},mounted:function(){var t=Gc(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Evaluacion-vsolicitud: "+this.evaluacion),this.idSolicitud=this.$route.params.id,this.dialog=!0,t.next=5,this.getSolProcesos();case 5:return t.next=7,this.getPlanesAdquisicion();case 7:this.dialog=!1;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{selProceso:function(){var t=Gc(He.a.mark((function t(e,a){var o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$router.push("/SolicitudesContratacion/".concat(this.idSolicitud,"/proceso/").concat(e.id)),this.evaluacion="",t.next=4,Sc.getSolProcDetail(e.id);case 4:o=t.sent,console.log(o),200===o.status&&(this.setStoreSolProc(o.data),"preResultados"===a?this.showPreResults=!0:"resultados"===a?this.showResults=!0:"evaluacion"===a?(this.evaluacion=a,this.showNewProc=!0):"terminos"===a?(this.showNewProc=!0,this.compSelected=!0):this.showNewProc=!0);case 7:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),getPlanesAdquisicion:function(){var t=Gc(He.a.mark((function t(){var e=this;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,gr["a"].getData().then((function(t){if(console.log(t),200===t.status)try{e.arrPlanAqui=t.data.data}catch(a){console.log(a),e.arrPlanAqui=[]}})).catch((function(t){console.log(t),e.arrPlanAqui=[]}));case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),nuevoProceso:function(){this.$router.push("/SolicitudesContratacion/".concat(this.idSolicitud,"/proceso")),this.showNewProc=!this.showNewProc},setStoreSolProc:function(t){var e={id:t.id?t.id:"",idSolContratacion:t.id_solcontratacion?t.id_solcontratacion:this.idSolicitud,objContractual:t.obj_contractual?t.obj_contractual:"",obligaciones:t.obligaciones?t.obligacione:[],infoprod:t.infoprod?t.infoprod:[],fechaLimite:t.fecha_limite?t.fecha_limite:"",fechaTerminacion:t.fecha_terminacion?t.fecha_terminacion:"",tiempoAsignado:t.tiempo_asignado?t.tiempo_asignado:"",ciudad:t.ciudad?t.ciudad:[],supervisor:t.supervisor?t.supervisor:"",incGastos:!!t.inc_gastos&&1===t.inc_gastos,tarSinchi:!!t.tar_sinchi&&1===t.tar_sinchi,valGastosViaje:t.val_gastos_viaje?t.val_gastos_viaje:"",tipoProc:t.tipo_proc?t.tipo_proc:"",necesidades:t.necesidades?t.necesidades:[],pagos:t.pagos?t.pagos:[],anticipo:t.anticipo?t.anticipo:"",accesInfoConf:!!t.acces_info_conf&&1===t.acces_info_conf,caracteristicasBSO:t.caracteristicas_bs?t.caracteristicas_bs:"",causal:t.causal?t.causal:"",contrapartida:t.contrapartida?t.contrapartida:"",convDinero:t.conv_dinero?t.conv_dinero:"",convEspecie:t.conv_especie?t.conv_especie:"",convValor:t.conv_valor?t.conv_valor:"",convenioMarco:t.convenio_marco?t.convenio_marco:"",correo:t.correo?t.correo:"",fechaCreacion:t.fecha_creacion?t.fecha_creacion:"",justificacion:t.justificacion?t.justificacion:"",nombre:t.nombre?t.nombre:"",ofEconomica:t.of_economica?t.of_economica:"",pesoEco:t.peso_eco?0===t.peso_eco?"":t.peso_eco:"",pesoEqu:t.peso_equ?0===t.peso_equ?"":t.peso_equ:"",pesoFin:t.peso_fin?0===t.peso_fin?"":t.peso_fin:"",pesoMet:t.peso_met?0===t.peso_met?"":t.peso_met:"",pesoOrg:t.peso_org?0===t.peso_org?"":t.peso_org:"",pesoProp:t.peso_prop?0===t.peso_prop?"":t.peso_prop:"",porcOfEco:t.porc_of_eco?0===t.porc_of_eco?"":t.porc_of_eco:"",rol:t.rol?t.rol:"",telefono:t.telefono?t.telefono:"",tipoContatacion:t.tipo_contratacion?t.tipo_contratacion:"",valArl:t.val_arl?t.val_arl:""};this.$store.state.solproc=e},actProcesos:function(){var t=Gc(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.state.solproc={},this.showNewProc=!this.showNewProc,this.dialog=!0,t.next=5,this.getSolProcesos();case 5:return t.next=7,this.getPlanesAdquisicion();case 7:this.dialog=!1;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getSolProcesos:function(){var t=Gc(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.id,t.prev=1,t.next=4,as.detailSol(e);case 4:a=t.sent,console.log(a),this.necesidadesAcc=a.data.necesidades,this.procesos=a.data.Procesos,t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0),this.necesidadesAcc=[],this.procesos=[];case 15:case"end":return t.stop()}}),t,this,[[1,10]])})));function e(){return t.apply(this,arguments)}return e}(),proyectoNombre:function(t){var e=this.arrPlanAqui.find((function(e){return e.codigo===t.planadquisicion}));return e?e.proyectonombre:"Sin nombre"}}},zc=Vc,Xc=Object(C["a"])(zc,Ts,Ds,!1,null,"547dd67a",null),Hc=Xc.exports,Jc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("newProcContrata",{attrs:{evaluacion:t.evaluacion},on:{"show-procesos":t.actProcesos}})],1)},Yc=[],Zc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{staticClass:"mt-2",attrs:{"no-gutters":""}},[a("h3",[t._v(t._s(t.titulo))]),a("v-spacer"),["presupuesto","juridica1","juridica2"].includes(t.solproc.estado)?a("v-btn",{attrs:{color:"primary",small:"",text:"",outlined:""},on:{click:function(e){t.dChangeState=!t.dChangeState}}},[t._v("rechazar")]):t._e(),["presupuesto","juridica1"].includes(t.solproc.estado)?a("v-btn",{staticClass:"ml-3",attrs:{color:"primary",small:""},on:{click:function(e){t.dialogCDP=!t.dialogCDP}}},[t._v(t._s(t.txtcdp))]):t._e(),t.$route.params.idProc?a("v-btn",{staticClass:"ml-3",attrs:{color:"primary",small:"",disabled:t.loadingUppdate},on:{click:t.nextStage}},[t._v(t._s(t.txtNextStage))]):t._e(),["juridica1"].includes(t.solproc.estado)?a("v-btn",{staticClass:"ml-3",attrs:{color:"primary",small:""},on:{click:function(e){t.dAsignar=!t.dAsignar}}},[t._v("Asignar")]):t._e(),t.$route.params.idProc?a("v-btn",{staticClass:"ml-3",attrs:{color:"primary",small:"",text:"",outlined:""},on:{click:function(e){t.showCommits=!t.showCommits}}},[t._v("Comentarios")]):t._e()],1),a("v-row",{attrs:{"align-center":"","py-2":"",no:""}},[a("v-col",{attrs:{cols:t.showCommits?8:12}},[a("v-tabs",{attrs:{"show-arrows":"","background-color":"primary",dark:"",centered:""}},[a("v-tab",[t._v("\n          datos de contratación\n        ")]),a("v-tab",[t._v("\n          Informes y productos\n        ")]),a("v-tab",[t._v("\n          Terminos de ejecución\n        ")]),a("v-tab",[t._v("\n          supervisor y gastos de viaje\n        ")]),a("v-tab",[t._v("\n          tipo de solicitud\n        ")]),a("v-tab",{on:{click:function(e){return t.settipo()}}},[t._v("\n          modalidad de selección\n        ")]),a("v-tab-item",[a("obligacionesEspecificas")],1),a("v-tab-item",[a("infoprods")],1),a("v-tab-item",[a("ejecTime"),a("v-card",{staticClass:"mt-3"},[a("v-card-text",[a("h3",[t._v("Lugar de ejecución")]),a("v-autocomplete",{attrs:{items:t.ciudades,label:"Ciudades","item-text":"nombrecompleto","item-value":"codigo",color:"blue-grey lighten-2",multiple:"",chips:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",t._b({attrs:{"input-value":e.selected,close:""},on:{click:e.select,"click:close":function(a){return t.remove(e.item)}}},"v-chip",e.attrs,!1),[t._v("\n                    "+t._s(e.item.nombrecompleto)+"\n                  ")])]}}]),model:{value:t.ciudad,callback:function(e){t.ciudad=e},expression:"ciudad"}})],1)],1)],1),a("v-tab-item",[a("v-card",{staticClass:"my-3",attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-autocomplete",{attrs:{items:t.supervisores,label:"Supervisor","prepend-icon":"person","item-text":"nombrecompleto","item-value":"codigo",multiple:"",chips:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",t._b({attrs:{"input-value":e.selected,close:""},on:{click:e.select,"click:close":function(a){return t.removeSupervisor(e.item)}}},"v-chip",e.attrs,!1),[t._v("\n                    "+t._s(e.item.nombrecompleto)+"\n                  ")])]}}]),model:{value:t.supervisor,callback:function(e){t.supervisor=e},expression:"supervisor"}})],1)],1),a("v-card",{staticClass:"mb-3",attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-row",[a("v-col",[a("v-switch",{attrs:{label:"Incluye gastos de viaje?"},model:{value:t.incGastosViaje,callback:function(e){t.incGastosViaje=e},expression:"incGastosViaje"}})],1),t.incGastosViaje?a("v-col",[a("v-checkbox",{attrs:{label:"Incluye tarifa SINCHI"},model:{value:t.tarSinchi,callback:function(e){t.tarSinchi=e},expression:"tarSinchi"}})],1):t._e(),t.incGastosViaje?a("v-col",[t.tarSinchi?t._e():a("v-text-field",{staticClass:"ml-7",staticStyle:{"max-width":"250px"},attrs:{label:"Tarifa diaria, sin puntos ni comas",type:"number","prepend-icon":"attach_money",suffix:t.compTarDiaria},model:{value:t.tarDiaria,callback:function(e){t.tarDiaria=e},expression:"tarDiaria"}})],1):t._e()],1)],1)],1)],1),a("v-tab-item",[a("tipoSolicitud")],1),a("v-tab-item",[a("tipoContratacion",{attrs:{evaluacion:t.evaluacion,tipo:t.tipo}})],1)],1),a("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-end",position:"fixed",right:"100px",bottom:"100px"}},[a("v-btn",{staticClass:"mb-5",attrs:{color:"primary",fab:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("reply")])],1),["creado","juridica"].includes(t.solproc.estado)?a("v-btn",{attrs:{color:"primary",fab:""},on:{click:function(e){return t.saveProcess(t.solproc)}}},[a("v-icon",[t._v("save")])],1):t._e()],1)],1),a("v-col",{attrs:{cols:t.showCommits?4:0}},[a("comentarios",{directives:[{name:"show",rawName:"v-show",value:t.showCommits,expression:"showCommits"}],attrs:{solproc:t.solproc}})],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        un momento por favor\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),t.dialogCDP?a("v-dialog",{attrs:{"hide-overlay":"",width:"800"},model:{value:t.dialogCDP,callback:function(e){t.dialogCDP=e},expression:"dialogCDP"}},[a("CdpCrp",{attrs:{idRef:t.solproc.id,data:t.solproc.adjuntos,mode:"CDP"},on:{"set-adjuntos":t.refreshAdjuntos}})],1):t._e(),a("v-dialog",{attrs:{width:"600"},model:{value:t.dChangeState,callback:function(e){t.dChangeState=e},expression:"dChangeState"}},[a("v-card",[a("v-card-title",[t._v("Devolver proceso")]),a("v-card-text",[a("v-select",{attrs:{label:"Estados",items:t.compChangeEstados,"item-text":"nombre","item-value":"id"},model:{value:t.changedState,callback:function(e){t.changedState=e},expression:"changedState"}}),a("vue-editor",{staticStyle:{width:"100%"},attrs:{id:"editor2","editor-toolbar":t.customToolbar},model:{value:t.csComment,callback:function(e){t.csComment=e},expression:"csComment"}}),a("v-row",{staticClass:"mt-5",attrs:{justify:"end","no-gutters":""}},[a("v-btn",{staticClass:"mr-2",attrs:{small:"",outlined:"",color:"primary"},on:{click:function(e){t.dChangeState=!t.dChangeState}}},[t._v("cancelar")]),a("v-btn",{attrs:{small:"",color:"primary",disabled:""===t.changedState},on:{click:t.changeState}},[t._v("guardar")])],1)],1)],1)],1),t.dAsignar?a("v-dialog",{attrs:{width:"600"},model:{value:t.dAsignar,callback:function(e){t.dAsignar=e},expression:"dAsignar"}},[a("v-card",[a("v-card-title",[t._v("Asignación juridica")]),a("v-card-text",[a("v-autocomplete",{attrs:{label:"Abogados",dense:"",outlined:"",items:t.lawyers,"item-text":"nombrecompleto","item-value":"codigo"},model:{value:t.solproc.ab_asignado,callback:function(e){t.$set(t.solproc,"ab_asignado",e)},expression:"solproc.ab_asignado"}}),a("v-row",{staticClass:"mt-5",attrs:{justify:"end","no-gutters":""}},[a("v-btn",{staticClass:"mr-2",attrs:{small:"",outlined:"",color:"primary"},on:{click:function(e){t.dAsignar=!t.dAsignar}}},[t._v("volver")]),a("v-btn",{staticClass:"mr-2",attrs:{small:"",color:"primary",disabled:""===t.solproc.ab_asignado},on:{click:function(e){t.solproc.ab_asignado=""}}},[t._v("anular")])],1)],1)],1)],1):t._e()],1)},Wc=[],Qc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-card-text",[a("v-flex",[a("v-text-field",{attrs:{label:"Objecto contractual",rules:[t.rules.required],filled:"",dense:""},model:{value:t.objetocontractual,callback:function(e){t.objetocontractual=e},expression:"objetocontractual"}})],1),a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.obligespecificas,"items-per-page":5,flat:"",dense:""},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col",[a("v-flex",[a("v-text-field",{attrs:{label:"Obligación especifica",filled:"",dense:"","hide-details":""},model:{value:t.obligespcif,callback:function(e){t.obligespcif=e},expression:"obligespcif"}})],1)],1),a("v-col",{staticClass:"text-center",staticStyle:{display:"flex","align-items":"center","justify-content":"center"},attrs:{"justify-center":"",cols:"2"}},[a("v-btn",{attrs:{color:"primary",dark:""},on:{click:t.agregaObligacion}},[t._v("agregar")])],1)],1)]},proxy:!0},{key:"item.obespecifica",fn:function(e){return[a("v-edit-dialog",{attrs:{"return-value":e.item.obespecifica},on:{"update:returnValue":function(a){return t.$set(e.item,"obespecifica",a)},"update:return-value":function(a){return t.$set(e.item,"obespecifica",a)}},scopedSlots:t._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"Edit","single-line":""},model:{value:e.item.obespecifica,callback:function(a){t.$set(e.item,"obespecifica",a)},expression:"props.item.obespecifica"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(e.item.obespecifica)+"\n              ")])]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error",dark:""},on:{click:function(e){return t.deleteObligacion(o)}}},[a("v-icon",{attrs:{small:"",left:""}},[t._v("delete")]),t._v("Eliminar\n            ")],1)]}}])})],1)],1)],1)],1)},Kc=[],tl={data:function(){return{obligespcif:"",rules:{required:function(t){return!!t||"Campo requerido."}},headers:[{text:"Obligacion especifica",align:"left",sortable:!1,value:"obligacion"},{text:"Acciones",align:"center",sortable:!1,value:"actions"}],items:[]}},methods:{agregaObligacion:function(){var t=this;if(!this.obligespcif)return"";this.obligespecificas.find((function(e){return e.obespecifica===t.obligespcif}))||(this.$store.state.solproc.obligaciones.push({obligacion:this.obligespcif}),this.obligespcif="")},deleteObligacion:function(t){var e=this.obligespecificas.indexOf(t);confirm("Esta seguro que lo desea eliminar?")&&this.obligespecificas.splice(e,1)}},computed:{obligespecificas:function(){return this.$store.state.solproc.obligaciones},objetocontractual:{get:function(){return this.$store.state.solproc.objContractual},set:function(t){this.$store.state.solproc.objContractual=t}}}},el=tl,al=Object(C["a"])(el,Qc,Kc,!1,null,"4c1a6917",null),ol=al.exports,il=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-card-text",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col",[a("v-text-field",{attrs:{filled:"",label:"Titulo",dense:""},model:{value:t.titulo,callback:function(e){t.titulo=e},expression:"titulo"}})],1),a("v-col",[a("v-select",{attrs:{label:"Tipo",items:t.tipos,filled:"",dense:""},model:{value:t.tipo,callback:function(e){t.tipo=e},expression:"tipo"}})],1),a("v-col",[a("v-text-field",{attrs:{filled:"",dense:"",label:"Descripcion"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-col",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.addInfoProd}},[t._v("Agregar")])],1)],1)]},proxy:!0},{key:"item.descripcion",fn:function(e){return[a("v-edit-dialog",{attrs:{"return-value":e.item.descripcion},on:{"update:returnValue":function(a){return t.$set(e.item,"descripcion",a)},"update:return-value":function(a){return t.$set(e.item,"descripcion",a)}},scopedSlots:t._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"Edit","single-line":""},model:{value:e.item.descripcion,callback:function(a){t.$set(e.item,"descripcion",a)},expression:"props.item.descripcion"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(e.item.descripcion)+"\n            ")])]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error",dark:""},on:{click:function(e){return t.delInforme(o)}}},[a("v-icon",{attrs:{small:"",left:""}},[t._v("delete")]),t._v("eliminar\n          ")],1)]}}])})],1)],1)],1)},nl=[],rl={data:function(){return{headers:[{text:"Titulo",align:"left",sortable:!1,value:"titulo"},{text:"Tipo",align:"center",sortable:!1,value:"tipo"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Accion",align:"center",sortable:!1,value:"actions"}],titulo:"",descripcion:"",tipo:"",tipos:["informe","producto"]}},methods:{addInfoProd:function(){var t={tipo:this.tipo,titulo:this.titulo,descripcion:this.descripcion};this.$store.state.solproc.infoprod.push(t),this.clear()},clear:function(){this.tipo="",this.titulo="",this.descripcion=""}},computed:{items:{get:function(){return this.$store.state.solproc.infoprod},set:function(t){this.$store.state.solproc.infoprod.push(vaL)}}}},sl=rl,cl=Object(C["a"])(sl,il,nl,!1,null,"a6e589c2",null),ll=cl.exports,dl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-card-text",[a("h3",[t._v("Tiempo de ejecución")]),a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Años",type:"number",filled:"","hide-details":""},model:{value:t.cYears,callback:function(e){t.cYears=e},expression:"cYears"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Meses",type:"number",filled:"","hide-details":""},model:{value:t.cMonths,callback:function(e){t.cMonths=e},expression:"cMonths"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Semanas",type:"number",filled:"","hide-details":""},model:{value:t.cWeeks,callback:function(e){t.cWeeks=e},expression:"cWeeks"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Dias",type:"number",filled:"","hide-details":""},model:{value:t.cDays,callback:function(e){t.cDays=e},expression:"cDays"}})],1),a("v-col",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.saveTimeEjec}},[t._v("Agregar")])],1)],1),a("v-layout",{attrs:{"align-center":"","mx-3":""}},[a("strong",{staticClass:"title",class:{errorColor:t.totalDias>t.exedsTimeLimit}},[t._v("Tiempo asignado: "+t._s(t._f("currency")(t.totalDias))+" dias "),t.totalDias>t.exedsTimeLimit?a("span",[t._v(", excede la fecha limite "+t._s(t.$data.dateLimit)+" por "+t._s(t.totalDias-t.exedsTimeLimit)+" día(s)")]):t._e()]),a("v-spacer")],1)],1)],1)],1)},ul=[];function pl(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var ml={data:function(){return{cYears:"",cMonths:"",cWeeks:"",cDays:"",menuLimite:!1,menuTerminacion:!1}},mounted:function(){this.setTimes()},methods:{setTimes:function(){var t=this.$store.state.solproc.tiempoAsignado,e=parseInt(t/365);this.cYears=e;var a=parseInt((t-365*e)/30);this.cMonths=a;var o=parseInt((t-365*e-30*a)/7);this.cWeeks=o;var i=parseInt(t-365*e-30*a-7*o);this.cDays=i},saveTimeEjec:function(){var t=parseInt(365*this.cYears)+parseInt(30*this.cMonths)+parseInt(7*this.cWeeks)+parseInt(this.cDays);this.cYears="",this.cMonths="",this.cWeeks="",this.cDays="",this.$store.state.solproc.tiempoAsignado=t,this.setTimes()}},computed:pl({totalDias:function(){return this.$store.state.solproc.tiempoEjecucion},exedsTimeLimit:function(){if(this.dateLimit){var t=new Date(this.dateLimit).getTime()-(new Date).getTime();return t=parseInt(t/864e5)+1,t}},dateLimit:{get:function(){return this.$store.state.solproc.fechaLimite},set:function(t){this.$store.state.solproc.fechaLimite=t}},dateTerminacion:{get:function(){return this.$store.state.solproc.fechaTerminacion},set:function(t){this.$store.state.solproc.fechaTerminacion=t}}},"totalDias",(function(){return this.$store.state.solproc.tiempoAsignado}))},vl=ml,hl=(a("0ce6"),Object(C["a"])(vl,dl,ul,!1,null,"113df738",null)),fl=hl.exports,gl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mb-3",attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-radio-group",{staticClass:"align-center justify-center",attrs:{row:""},model:{value:t.tipoSolici,callback:function(e){t.tipoSolici=e},expression:"tipoSolici"}},[a("v-radio",{attrs:{label:"Contrato",value:"contrato"}}),a("v-radio",{attrs:{label:"Pasante",value:"pasante"}}),a("v-radio",{attrs:{label:"Convenio",value:"convenio"}})],1)],1)],1),"contrato"===t.tipoSolici?a("contrato"):t._e(),"pasante"===t.tipoSolici?a("pasante"):t._e(),"convenio"===t.tipoSolici?a("convenio"):t._e()],1)],1)],1)},bl=[],xl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("contrato")]),a("v-layout",{staticClass:"mt-3"},[a("h3",[t._v("Valor maximo de contratación")])]),a("valorContratacion",{attrs:{idSol:t.$route.params.idSol,necesidades:this.necesidades},on:{"update-necesidades":t.updateNecesidades}}),a("h3",{staticClass:"mt-3"},[t._v("Forma de pago")]),t.$store.state.solproc.pagos?a("formaDePago",{attrs:{anticip:t.$store.state.solproc.anticipo,pagos:t.$store.state.solproc.pagos,infoprod:t.$store.state.solproc.infoprod},on:{"set-anticipo":t.setAnticipo}}):t._e()],1)},_l=[],yl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.necesidades,"items-per-page":5,"item-key":"idsn","show-expand":"",dense:""},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var o=e.headers;e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headerimpuestos,items:t.impuestos,"items-per-page":10,"hide-default-footer":"",dense:"",light:""},scopedSlots:t._u([{key:"item.check",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-checkbox",{staticClass:"pa-0 ma-0",attrs:{"hide-details":"",color:"primary",dense:""},model:{value:o.check,callback:function(e){t.$set(o,"check",e)},expression:"item.check"}})],1)]}}],null,!0)})],1)]}},{key:"item.valor",fn:function(e){var o=e.item;return[a("div",[t._v("\n        "+t._s(t._f("moneyFormat")(o.valor))+"\n      ")])]}},{key:"item.solval",fn:function(e){return[a("v-edit-dialog",{attrs:{"return-value":e.item.solval},on:{"update:returnValue":function(a){return t.$set(e.item,"solval",a)},"update:return-value":function(a){return t.$set(e.item,"solval",a)},open:function(a){return t.openValSol(e.item)},close:function(a){return t.saveValSol(e.item)}},scopedSlots:t._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{type:"number",label:"Edit","single-line":"",disabled:t.lectura,messages:t.getMonneyFormat(e.item)},model:{value:e.item.solval,callback:function(a){t.$set(e.item,"solval",a)},expression:"props.item.solval"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(t.getMonneyFormat(e.item))+"\n        ")])]}}])},[a("template",{slot:"body.append"},[a("tr",[a("th",[a("h3",[t._v("Total")])]),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[a("h3",[t._v(t._s(t._f("moneyFormat")(t.valmax)))])])])])],2)],1)},kl=[],Cl={gettipocontrata:function(t){return p.a.get(m["a"].apiUrl+"/gettipocontrata",{params:t})},gettermrefimpuestos:function(t){return p.a.get(m["a"].apiUrl+"/gettermrefimpuestos",{params:t})},savetipocontrata:function(t){return p.a.post(m["a"].apiUrl+"/savetipocontrata",t)}},Sl={saveFromSolicitud:function(t){return p.a.post(m["a"].apiUrl+"/termref",t)},getTermRef:function(t){return p.a.get(m["a"].apiUrl+"/termref",{params:t})},getTermRefDetail:function(t){return p.a.get(m["a"].apiUrl+"/termref/"+t)}};function wl(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Pl(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){wl(n,o,i,r,s,"next",t)}function s(t){wl(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Al={props:["idSol","necesidades","lectura","showimpuestos"],data:function(){return{headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Valor necesidad",align:"right",sortable:!1,value:"valor"},{text:"Valor a tomar en solicitud",align:"right",sortable:!1,value:"solval"}],headerimpuestos:[{text:"Check",align:"center",sortable:!1,value:"check"},{text:"Descripción impuestos",align:"left",sortable:!1,value:"descripcion"}],impuestos:[],oldValSol:""}},mounted:function(){var t=Pl(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.necesidades.length<=0)){t.next=3;break}return t.next=3,this.getSolProcNecesidades();case 3:this.getimpuestos();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),filters:{moneyFormat:function(t){return t?"$".concat(t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")):""}},methods:{getimpuestos:function(){var t=Pl(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Cl.gettermrefimpuestos();case 3:e=t.sent,a=e.data,this.impuestos=a.termref_impuestos,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),getSolProcNecesidades:function(){var t=Pl(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gr["a"].getNecesidadesXSolicitud(this.idSol);case 3:e=t.sent,console.log(e),this.$emit("update-necesidades",e.data),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.lgo(t.t0),this.$emit("update-necesidades",[]);case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),saveValSol:function(t){console.log(t.solval,t.valor,this.oldValSol),BigInt(t.solval)>BigInt(t.valor)&&(t.solval=this.oldValSol,this.showMessage(!0,3e3,"error","valor supera el maximo de la necesidad"))},openValSol:function(t){console.log(t),this.oldValSol=t.solval?t.solval:""},getMonneyFormat:function(t){var e=t.solval?t.solval:0;return"$".concat(e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1."))},showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})}},computed:{valmax:function(){var t=this.necesidades;return t.reduce((function(t,e){return t+(e.solval?parseInt(e.solval):0)}),0)}}},jl=Al,El=Object(C["a"])(jl,yl,kl,!1,null,"1199c593",null),Tl=El.exports,Dl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-checkbox",{attrs:{label:"Anticipo"},model:{value:t.checkAnticipo,callback:function(e){t.checkAnticipo=e},expression:"checkAnticipo"}})],1),t.checkAnticipo?a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Procentaje de anticipo",type:"number",prefix:"%"},model:{value:t.anticipo,callback:function(e){t.anticipo=e},expression:"anticipo"}})],1):t._e()],1),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",{attrs:{"align-center":""}},[a("v-col",[a("v-select",{attrs:{label:"Informes y Productos",items:t.infoProds,"item-text":"titulo","return-object":"",multiple:"",dense:"",chips:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",t._b({attrs:{"input-value":e.selected,close:""},on:{click:e.select,"click:close":function(a){return t.removeItemProc(e.item)}}},"v-chip",e.attrs,!1),[t._v("\n                "+t._s(e.item.titulo)+"\n              ")])]}}]),model:{value:t.selInfoprod,callback:function(e){t.selInfoprod=e},expression:"selInfoprod"}})],1),a("v-col",[a("v-select",{attrs:{items:t.objTiempo,label:"Tiempo","item-text":"text","return-object":"",dense:"",chips:"",rules:t.objTimeRules,required:""},model:{value:t.tFirst,callback:function(e){t.tFirst=e},expression:"tFirst"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{staticClass:"mt-3",attrs:{label:t.labelCant,type:"number",dense:"",rules:t.cantTimeRules,required:""},model:{value:t.cFirst,callback:function(e){t.cFirst=e},expression:"cFirst"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-flex",[a("v-text-field",{staticClass:"mt-3",attrs:{label:"% pago",type:"number",dense:"",rules:t.percentRules,required:""},model:{value:t.porcentajePago,callback:function(e){t.porcentajePago=e},expression:"porcentajePago"}})],1)],1)],1),a("v-layout",[a("v-spacer"),a("v-btn",{staticClass:"my-3",attrs:{color:"primary"},on:{click:t.savePago}},[t._v("Agregar")])],1)],1),a("v-data-table",{attrs:{headers:t.headersPagos,items:t.formaPago,"items-per-page":5,flat:"",dense:""},scopedSlots:t._u([{key:"item.num",fn:function(e){var o=e.item;return[a("div",[t._v("\n          "+t._s(t.compPagos.indexOf(o)+1)+"\n        ")])]}},{key:"item.infoProd",fn:function(e){var o=e.item;return[a("div",t._l(o.infoProd,(function(e,o){return a("div",{key:o},[a("div",[t._v(t._s(e.titulo))])])})),0)]}},{key:"item.tiempo",fn:function(e){var o=e.item;return[a("div",[t._v("\n          "+t._s(o.tiempoInd+" "+o.tiempoUnd)+"\n        ")])]}},{key:"item.porcPago",fn:function(e){var o=e.item;return[a("div",[t._v("\n          "+t._s(o.porcPago+" %")+"\n        ")])]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error",dark:""},on:{click:function(e){return t.delPago(o)}}},[a("v-icon",{attrs:{left:"",small:""}},[t._v("delete")]),t._v("eliminar\n        ")],1)]}}])}),t.showliquida?a("v-row",[a("v-col",[a("v-checkbox",{attrs:{label:"El contrato se liquida"},model:{value:t.checkliquida,callback:function(e){t.checkliquida=e},expression:"checkliquida"}})],1)],1):t._e(),a("div",{staticStyle:{color:"red"}},[t._v(t._s(t.resumenErrores))])],1)],1)},Il=[];function Ol(t){return Rl(t)||Ml(t)||Nl()}function Nl(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Ml(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Rl(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}function Fl(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function ql(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Fl(n,o,i,r,s,"next",t)}function s(t){Fl(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Ul={props:["anticip","pagos","infoprod","lectura","showliquida"],data:function(){var t=this;return{headersPagos:[{text:"Nº",align:"left",sortable:!1,value:"num"},{text:"Informes/Productos",align:"left",sortable:!1,value:"infoProd"},{text:"Fecha entrega",align:"left",sortable:!1,value:"tiempo"},{text:"%pago",align:"left",sortable:!1,value:"porcPago"},{text:"Acción",align:"left",sortable:!1,value:"actions"}],selInfoprod:[],objTiempo:[{text:"Año",value:4},{text:"Mes",value:3},{text:"Semana",value:2},{text:"Dia",value:1}],checkliquida:!1,checkAnticipo:!1,tFirst:"",cFirst:"",porcentajePago:"",valid:!0,objTimeRules:[function(t){return!!t||"Tiempo es requerido"}],cantTimeRules:[function(t){return!!t||"Cantidad tiempo es requerido"}],percentRules:[function(t){return!!t||"Porcentaje es requerido"},function(t){return!(isNaN(t)||t<0||t>100)||"Debe ser de 0 - 100"},function(e){return!(+e+ +t.acumulado>100)||"Acumulado es mayor a 100"}]}},mounted:function(){var t=ql(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.checkAnticipo=!!this.anticipo;case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),filters:{moneyFormat:function(t){return t?"$".concat(t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")):""}},methods:{savePago:function(){if(this.$refs.form.validate()){var t=this.selInfoprod;console.log(t);var e=this.getDias(this.tFirst.value,this.cFirst);if(t.length>0){var a={infoProd:t,tiempoInd:this.tFirst.text,tiempoUnd:this.cFirst,dias:e,porcPago:this.porcentajePago};this.pagos.push(a),this.clearFormPago()}}},clearFormPago:function(){this.selInfoprod=[],this.selInformes=[],this.selProductos=[],this.tFirst="",this.cFirst="",this.porcentajePago="",this.$refs.form.resetValidation()},getDias:function(t,e){return 1===t?e:2===t?7*e:3===t?30*e:4===t?365*e:0},showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},getMonneyFormat:function(t){var e=t.solval?t.solval:0;return"$".concat(e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1."))},removeItemProc:function(t){var e=this.selInfoprod.indexOf(t);e>=0&&this.selInfoprod.splice(e,1)},delPago:function(t){var e;t.anticipo?(e=this.formaPago.indexOf(t),console.log(e),this.checkAnticipo=!1,this.formaPago.splice(e,1)):(e=this.compPagos.indexOf(t),this.compPagos.splice(e,1))}},computed:{formaPago:{get:function(){var t=Ol(this.compPagos);if(this.anticipo){var e={porcPago:this.anticipo,tiempoInd:"",tiempoUnd:0,dias:1,anticipo:!0,infoProd:[{tipo:"Anticipo",titulo:"Anticipo",descripcion:"Anticipo"}]};console.log(t),t.unshift(e)}return t},set:function(t){}},anticipo:{get:function(){return this.anticip},set:function(t){console.log(t),this.$emit("set-anticipo",t)}},compPagos:function(){function t(t,e){var a=t.dias,o=e.dias,i=0;return a>o?i=1:a<o&&(i=-1),i}var e=this.pagos;return e.sort(t)},infoProds:function(){function t(t,e){var a=!1;return e.forEach((function(e){e.titulo===t.titulo&&(a=!0)})),a}var e=[];this.pagos.forEach((function(t){e=e.concat(t.infoProd)}));var a=this.infoprod;return a.filter((function(a){return!t(a,e)}))},resumenErrores:function(){var t=this.pagos;if(this.checkAnticipo&&!this.anticipo)return"No has indicado el porcentaje del antisipo";var e=t.reduce((function(t,e){return t+ +e.porcPago}),0);return e+=this.anticipo?Number(this.anticipo):0,100!==e?"La suma de tus porcentajes ".concat(e,"%, no cumple con el 100%"):this.infoProds.length>0?"Aun tienes Productos o informes sin relacionar en tus pagos":void 0},labelCant:function(){return this.tFirst?"Num de ".concat(this.tFirst.text):"Numero"},acumulado:function(){return this.compPagos.reduce((function(t,e){return t+ +e.porcPago}),0)+parseFloat(this.anticipo)}},watch:{checkAnticipo:function(t){t||(this.anticipo="")}}},$l=Ul,Ll=Object(C["a"])($l,Dl,Il,!1,null,"2fcf29ac",null),Bl=Ll.exports,Gl={components:{valorContratacion:Tl,formaDePago:Bl},data:function(){return{}},methods:{updateNecesidades:function(t){this.necesidades=t},setAnticipo:function(t){console.log(t),this.$store.state.solproc.anticipo=!1===t?0:t}},computed:{necesidades:{get:function(){return this.$store.state.solproc.necesidades},set:function(t){this.$store.state.solproc.necesidades=t}}}},Vl=Gl,zl=Object(C["a"])(Vl,xl,_l,!1,null,"098f25cc",null),Xl=zl.exports,Hl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mb-12"},[a("v-card-text",[a("h1",[t._v("Pasante")]),a("v-flex",{attrs:{"mt-3":""}},[a("v-autocomplete",{attrs:{filled:"",items:t.listConvMarco,label:"Convenio marco","item-text":"nombreasociado","item-value":"codigo"},model:{value:t.convMarco,callback:function(e){t.convMarco=e},expression:"convMarco"}})],1),a("v-flex",[a("v-text-field",{attrs:{filled:"",label:"Valor pago ARL",type:"number",prefix:"$",messages:t._f("moneyFormat")(t.compValArl)},model:{value:t.valArl,callback:function(e){t.valArl=e},expression:"valArl"}})],1),a("h3",{staticClass:"mt-4"},[t._v("Valor máximo ARL ")]),t.data.necesidades?a("valorContratacion",{attrs:{idSol:t.data.idSolContratacion,necesidades:t.data.necesidades,lectura:!1}}):t._e()],1)],1)],1)},Jl=[],Yl={components:{valorContratacion:Tl},data:function(){return{listConvMarco:[],data:[]}},filters:{moneyFormat:function(t){return t?"$".concat(t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")):""}},mounted:function(){var t=this;this.data=this.$store.state.solproc,ba["a"].getData().then((function(e){200===e.status&&(t.listConvMarco=e.data.data)})).catch((function(e){console.log(e),t.listConvMarco=[]}))},computed:{convMarco:{get:function(){return this.$store.state.solproc.convenioMarco},set:function(t){this.$store.state.solproc.convenioMarco=t}},valArl:{get:function(){return this.$store.state.solproc.valArl},set:function(t){this.$store.state.solproc.valArl=t}},compValArl:function(){return"".concat(this.valArl)}}},Zl=Yl,Wl=Object(C["a"])(Zl,Hl,Jl,!1,null,"9f5c0dd8",null),Ql=Wl.exports,Kl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mb-3"},[a("v-card-text",[a("h1",[t._v("Contrapartida")]),a("h3",{staticClass:"mt-4"},[t._v("Valor máximo de aporte ")]),t.data.necesidades?a("valorContratacion",{attrs:{idSol:t.data.idSolContratacion,necesidades:t.data.necesidades,lectura:!1}}):t._e(),a("v-text-field",{staticClass:"mt-4",attrs:{label:"Valor a tomar",filled:"",rules:t.valorRules,required:"",type:"number",prefix:"$",suffix:t._f("moneyFormat")(t.valortomar)},model:{value:t.valortomar,callback:function(e){t.valortomar=e},expression:"valortomar"}}),a("v-form",{ref:"form",staticClass:"mt-4",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",{attrs:{"mt-3":""}},[a("v-text-field",{attrs:{label:"Contrapartida",filled:"",rules:t.contraRules,required:""},model:{value:t.contrapartida,callback:function(e){t.contrapartida=e},expression:"contrapartida"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Valor",filled:"",rules:t.valorRules,required:"",type:"number",prefix:"$",suffix:t._f("moneyFormat")(t.valor)},model:{value:t.valor,callback:function(e){t.valor=e},expression:"valor"}})],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-checkbox",{staticClass:"mx-2 justify-center",attrs:{label:"Especie"},model:{value:t.especie,callback:function(e){t.especie=e},expression:"especie"}})],1),a("v-col",{attrs:{cols:"8"}},[t.especie?a("v-text-field",{attrs:{rules:t.veRules,label:"Cantidad especie",type:"number",prefix:"$",filled:"",suffix:t._f("moneyFormat")(t.compValEspecie)},model:{value:t.valor_especie,callback:function(e){t.valor_especie=e},expression:"valor_especie"}}):t._e()],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-checkbox",{staticClass:"mx-2 justify-center",attrs:{label:"Dinero"},model:{value:t.dinero,callback:function(e){t.dinero=e},expression:"dinero"}})],1),a("v-col",{attrs:{cols:"8"}},[t.dinero?a("v-text-field",{attrs:{rules:t.vdRules,label:"Cantidad dinero",type:"number",prefix:"$",filled:"",suffix:t._f("moneyFormat")(t.compValDinero)},model:{value:t.valor_dinero,callback:function(e){t.valor_dinero=e},expression:"valor_dinero"}}):t._e()],1)],1)],1),a("v-text-field",{staticClass:"mt-4",attrs:{readonly:"",label:"Valor total del convenio",filled:"",rules:t.valorRules,required:"",type:"number",prefix:"$",suffix:t._f("moneyFormat")(t.valortotalconvenio)},model:{value:t.valortotalconvenio,callback:function(e){t.valortotalconvenio=e},expression:"valortotalconvenio"}}),a("h3",{staticClass:"mt-3"},[t._v("Desembolsos")]),t.$store.state.solproc.pagos?a("formaDePago",{attrs:{anticip:t.$store.state.solproc.anticipo,pagos:t.$store.state.solproc.pagos,infoprod:t.$store.state.solproc.infoprod}}):t._e()],1)],1)],1)},td=[],ed={components:{valorContratacion:Tl,formaDePago:Bl},data:function(){var t=this;return{valortomar:0,valortotalconvenio:0,data:[],valid:!1,contraRules:[function(t){return!!t||"Contrapartida es requerida"}],valorRules:[function(t){return!!t||"Este valor es requerido"},function(t){return!!/^\d+$(\.\d+)?/.test(t)||"Solo numeros"}],veRules:[function(e){return!(!e||!t.especie)||"Este valor es requerido"},function(t){return!!/^\d+$(\.\d+)?/.test(t)||"Solo numeros"},function(e){return!(parseInt(e)>0&&parseInt(e)+parseInt(t.valor_dinero)>t.valor)||"Los valores de especie y dinero no pueden ser mayores al valor de contrapartida."}],vdRules:[function(e){return!(!e||!t.dinero)||"Este valor es requerido"},function(t){return!!/^\d+$(\.\d+)?/.test(t)||"Solo numeros"},function(e){return!(parseInt(e)>0&&parseInt(e)+parseInt(t.valor_especie)>t.valor)||"Los valores de especie y dinero no pueden ser mayores al valor de contrapartida."}],especie:!1,dinero:!1}},filters:{moneyFormat:function(t){return t?"$".concat(t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")):""}},mounted:function(){this.data=this.$store.state.solproc,this.dinero=!!this.$store.state.solproc.convDinero,this.especie=!!this.$store.state.solproc.convEspecie},computed:{contrapartida:{get:function(){return this.$store.state.solproc.contrapartida},set:function(t){this.$store.state.solproc.contrapartida=t}},valor:{get:function(){return this.$store.state.solproc.convValor},set:function(t){this.$store.state.solproc.convValor=t}},valor_especie:{get:function(){return this.$store.state.solproc.convEspecie},set:function(t){return this.$store.state.solproc.convEspecie=t}},valor_dinero:{get:function(){return this.$store.state.solproc.convDinero},set:function(t){this.$store.state.solproc.convDinero=t}},compValor:function(){return"".concat(this.valor)},compValEspecie:function(){return"".concat(this.valor_especie)},compValDinero:function(){return"".concat(this.valor_dinero)}},watch:{valortomar:function(t){this.valortotalconvenio=parseInt(t)+parseInt(this.valor)},valor:function(t){this.valortotalconvenio=parseInt(t)+parseInt(this.valortomar)}}},ad=ed,od=Object(C["a"])(ad,Kl,td,!1,null,"ed6eae1a",null),id=od.exports,nd={components:{contrato:Xl,pasante:Ql,convenio:id},data:function(){return{}},computed:{tipoSolici:{get:function(){return this.$store.state.solproc.tipoProc},set:function(t){this.$store.state.solproc.tipoProc=t}}}},rd=nd,sd=Object(C["a"])(rd,gl,bl,!1,null,"fa0c1532",null),cd=sd.exports,ld=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mb-3",attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-stepper",{model:{value:t.e13,callback:function(e){t.e13=e},expression:"e13"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:"1"},on:{click:function(e){return t.setTipoContrtacion("dir_personal",1)}}},[t._v("Contratación directa"),a("br"),t._v("Personal")]),"contrato"===t.tipo?a("v-stepper-step",{attrs:{step:"2"},on:{click:function(e){return t.setTipoContrtacion("dir_bien",2)}}},[t._v("Contratación directa persona natural"),a("br"),t._v("/Bienes/Servicios/Obras")]):t._e(),"pasante"!=t.tipo?a("v-stepper-step",{attrs:{step:"3"},on:{click:function(e){return t.setTipoContrtacion("dir_juridica",3)}}},[t._v("Contratación directa persona juridica"),a("br"),t._v("/Bienes/Servicios/Obras")]):t._e(),"contrato"===t.tipo?a("v-stepper-step",{attrs:{step:"4"},on:{click:function(e){return t.setTipoContrtacion("lista_corta",4)}}},[t._v("Lista"),a("br"),t._v("corta")]):t._e(),"contrato"===t.tipo?a("v-stepper-step",{attrs:{step:"5"},on:{click:function(e){return t.setTipoContrtacion("conv_publica",5)}}},[t._v("Convocatoria"),a("br"),t._v("publica")]):t._e()],1),a("v-stepper-items",[a("v-stepper-content",{staticStyle:{margin:"0",padding:"16px"},attrs:{step:"1"}},[a("personal",{attrs:{evaluacion:t.evaluacion,tipo:t.tipo}})],1),"contrato"===t.tipo?a("v-stepper-content",{staticStyle:{margin:"0",padding:"16px"},attrs:{step:"2"}},[a("bienesyotros",{attrs:{evaluacion:t.evaluacion}})],1):t._e(),"pasante"!=t.tipo?a("v-stepper-content",{staticStyle:{margin:"0",padding:"16px"},attrs:{step:"3"}},[a("personaJuridica",{attrs:{evaluacion:t.evaluacion,tipo:t.tipo}})],1):t._e(),"contrato"===t.tipo?a("v-stepper-content",{staticStyle:{margin:"0",padding:"16px"},attrs:{step:"4"}},[a("listaCorta",{attrs:{evaluacion:t.evaluacion}})],1):t._e(),"contrato"===t.tipo?a("v-stepper-content",{staticStyle:{margin:"0",padding:"16px"},attrs:{step:"5"}},[a("convPublica",{attrs:{evaluacion:t.evaluacion}})],1):t._e()],1)],1)],1)],1)],1)},dd=[],ud=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mb-12",attrs:{flat:""}},[a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Nombre completo",rules:t.nombreRules,required:""},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),a("v-select",{attrs:{items:t.roles,label:"Rol dentro del proyecto","item-text":"descripcion","item-value":"codigo",rules:t.rolRules,required:""},model:{value:t.rolEnProjecto,callback:function(e){t.rolEnProjecto=e},expression:"rolEnProjecto"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Correo electronico",rules:t.correoRules},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}}),a("v-text-field",{attrs:{label:"Telefono",type:"number",maxlength:"10",counter:"",rules:t.telefonoRules},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1)],1),a("v-row",["contrato"===t.tipo?a("v-col",[a("v-select",{attrs:{items:t.causales,"item-text":"text",label:"Causal","item-value":"valor"},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-layout",{attrs:{wrap:"","pa-2":""}},[t._v("\n                  "+t._s(e.item.text)+"\n                ")])]}},{key:"item",fn:function(e){return["object"!==typeof e.item?[a("v-list-item-content",{domProps:{textContent:t._s(e.item)}})]:[a("v-layout",{attrs:{wrap:"","pa-2":""}},[t._v("\n                    "+t._s(e.item.text)+"\n                  ")])]]}}],null,!1,1727545912),model:{value:t.causal,callback:function(e){t.causal=e},expression:"causal"}})],1):t._e(),a("v-col",[a("v-textarea",{attrs:{label:"Justificación",rows:"3",maxlength:"200",counter:""},model:{value:t.justificacion,callback:function(e){t.justificacion=e},expression:"justificacion"}})],1)],1)],1),t.$store.state.solproc.adjuntos?a("datosAdjuntos",{key:t.resetComponent,attrs:{tipo:t.tipo,tipoContratacion:t.$store.state.solproc.tipoContratacion,adjuntosIn:t.$store.state.solproc.adjuntos,idSolProc:t.$store.state.solproc.id,causal:t.causal,pertenece:"personal",evaluacion:t.evaluacion},on:{"file-changed":t.actAdjuntos}}):t._e(),a("v-row",[a("v-col",[a("v-checkbox",{attrs:{label:"Acceso a información confidencial"},model:{value:t.accInfoConfi,callback:function(e){t.accInfoConfi=e},expression:"accInfoConfi"}})],1),a("v-col",[a("v-checkbox",{attrs:{label:"Perfil minimo"},model:{value:t.perfilMinimo,callback:function(e){t.perfilMinimo=e},expression:"perfilMinimo"}})],1)],1),t.perfilMinimo?a("educacion",{attrs:{evaluacion:t.evaluacion}}):t._e(),t.perfilMinimo?a("experiencia",{staticClass:"mt-3",attrs:{evaluacion:t.evaluacion}}):t._e()],1)],1)],1)},pd=[],md=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-layout",{attrs:{"align-center":"","mb-3":""}},[a("h2",[t._v("Educación "+t._s(t.titulo))]),t.selRol?a("div",["seleccion"===t.criterio?a("v-layout",{attrs:{"ml-4":"","align-center":""}},[a("div",[t._v("%Peso: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.porcentaje,expression:"porcentaje"}],staticStyle:{"background-color":"white",padding:"5px","margin-left":"5px",width:"80px","border-radius":"5px"},attrs:{type:"number"},domProps:{value:t.porcentaje},on:{input:function(e){e.target.composing||(t.porcentaje=e.target.value)}}}),a("span",{staticClass:"ml-3",class:{errorClass:t.calcrestante>0}},[t._v("Pendiente por asignar: "+t._s(t.calcrestante)+"%")])]):t._e()],1):t._e()]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{"align-center":"",wrap:""}},[a("v-flex",[a("v-select",{staticClass:"eduInput",attrs:{items:t.tipoEd,label:"Tipo de educación",filled:"",rules:t.tipoEdRules,required:""},model:{value:t.selEd,callback:function(e){t.selEd=e},expression:"selEd"}})],1),a("v-flex",[a("v-select",{staticClass:"eduInput",attrs:{items:t.niveles,label:"Estudio realizado",filled:"",rules:t.selNivelRules,required:""},model:{value:t.selNivel,callback:function(e){t.selNivel=e},expression:"selNivel"}})],1),t.nivProf.includes(t.selNivel)?a("v-flex",[a("v-autocomplete",{staticClass:"eduInput",attrs:{items:t.titulos,label:"Profesión afínes",filled:""},model:{value:t.selTitulo,callback:function(e){t.selTitulo=e},expression:"selTitulo"}})],1):t._e(),t.nivPos.includes(t.selNivel)?a("v-flex",[a("v-select",{staticClass:"eduInput",attrs:{items:t.posgrados,label:"Tipo",filled:""},model:{value:t.selPosgrado,callback:function(e){t.selPosgrado=e},expression:"selPosgrado"}})],1):t._e(),t.textTituloObt?a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Digite profesión afínes",maxlength:"250",counter:"",filled:""},model:{value:t.selTitulo,callback:function(e){t.selTitulo=e},expression:"selTitulo"}})],1):t._e(),t.selRol&&"seleccion"===t.criterio?a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje unidad",type:"number",filled:"",rules:t.pUndRules,required:""},model:{value:t.puntajeUnd,callback:function(e){t.puntajeUnd=e},expression:"puntajeUnd"}})],1):t._e(),t.selRol&&"seleccion"===t.criterio?a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje max",type:"number",filled:"",rules:t.pMaxRules,required:""},model:{value:t.puntajeMax,callback:function(e){t.puntajeMax=e},expression:"puntajeMax"}})],1):t._e()],1)],1),a("v-layout",{attrs:{"justify-center":""}},[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.addEstudio}},[t._v("Agregar")])],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.compHeaders,items:t.compEstudios,"items-per-page":5,"item-key":"titulo","show-expand":""!==t.evaluacion,dense:""},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-textarea",{attrs:{label:"Observacion",rows:"3",maxlength:"200",counter:""},model:{value:i.observacion,callback:function(e){t.$set(i,"observacion",e)},expression:"item.observacion"}})],1)]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error"},on:{click:function(e){return t.delEstudio(o)}}},[a("v-icon",{attrs:{small:"",left:""}},[t._v("delete")]),t._v("Eliminar\n        ")],1)]}},{key:"item.evaluacion",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",attrs:{label:o.cumple?"Cumple":"No cumple"},model:{value:o.cumple,callback:function(e){t.$set(o,"cumple",e)},expression:"item.cumple"}}),a("v-checkbox",{attrs:{label:"No aplica"},model:{value:o.noAplica,callback:function(e){t.$set(o,"noAplica",e)},expression:"item.noAplica"}})],1)]}}])}),a("v-checkbox",{staticClass:"ma-4",attrs:{label:"No aplica"},model:{value:t.noaplica,callback:function(e){t.noaplica=e},expression:"noaplica"}})],1),a("v-dialog",{attrs:{width:"800"},model:{value:t.obsDialog,callback:function(e){t.obsDialog=e},expression:"obsDialog"}},[a("v-card",[a("v-card-title",[t._v("Observaciones")]),a("v-card-text",[a("v-textarea",[a("v-model")],1)],1)],1)],1)],1)},vd=[],hd={props:["selRol","criterio","evaluacion"],data:function(){var t=this;return{noaplica:!1,tipoEd:["Formal","No formal"],nivBasicos:["Sin formación académica","Básica primaria","Bachiller"],nivTec:["Técnico","Tecnológico"],nivProf:["Profesional"],nivPos:["Postgradual"],nivelesNoFormales:["curso","seminario","diplomado"],titulos:["Ingeniero en sistemas","Ingeniero civil","Arquitecto","Abogado"],posgrados:["Maestria","Especialización","Doctorado",""],selPosgrado:"",selEd:"",selNivel:"",selTitulo:"",puntajeMax:"",puntajeUnd:"",headerSelected:[],headers:[{text:"Obs",value:"data-table-expand"},{text:"Tipo estudio",align:"left",sortable:!1,value:"tipoEd"},{text:"Nivel",align:"left",sortable:!1,value:"tipo"},{text:"Titulo obtenido",align:"left",sortable:!1,value:"titulo",class:"wrap"},{text:"Puntaje und",align:"left",sortable:!1,value:"puntajeUnd"},{text:"Puntaje máx",align:"left",sortable:!1,value:"puntajeMax"},{text:"Evaluación",align:"center",sortable:!1,value:"evaluacion"},{text:"Acciones",align:"center",sortable:!1,value:"actions"}],valid:!0,tipoEdRules:[function(t){return!!t||"Tipo de educación es requerido"}],selNivelRules:[function(t){return!!t||"Nivel de educacion es requerido"}],pMaxRules:[function(e){return!(!e&&t.selRol)||"Puntaje maximo es requerido"},function(t){return!(isNaN(t)||t<0||t>100)||"Debe ser de 0 - 100"},function(e){return!(+e+ +t.acumExp>100)||"Acumulado es mayor a 100"}],pUndRules:[function(e){return!(!e&&t.selRol)||"Puntaje unidad es requerido"},function(t){return!(isNaN(t)||t<0||t>100)||"Debe ser de 0 - 100"}],obsDialog:!1}},mounted:function(){this.titulos=this.$store.state.carreras.filter((function(t){return t.length<60}))},methods:{addEstudio:function(){if(this.$refs.form.validate()){var t="".concat(this.selPosgrado,"  ").concat(this.selTitulo);t=t.trim();var e={tipoEd:this.selEd,tipo:this.selNivel,titulo:t,cumple:!1,noAplica:!1,observacion:"",puntajeUnd:this.puntajeUnd,puntajeMax:this.puntajeMax};console.log(e),this.selRol?this.selRol.educacion.push(e):this.$store.state.solproc.educacion.push(e),this.resetForm()}},resetForm:function(){this.selEd="",this.selNivel="",this.selTitulo="",this.selPosgrado="",this.puntajeUnd="",this.puntajeMax="",this.$refs.form.resetValidation()},delEstudio:function(t){console.log(t);var e=confirm("Desea eliminar este registro de estudio");if(e){var a=this.compEstudios.indexOf(t);this.selRol?this.selRol.educacion.splice(a,1):this.$store.state.solproc.educacion.splice(a,1)}}},computed:{niveles:function(){if(!this.selEd)return[];var t=this.nivBasicos.concat(this.nivTec);return t=t.concat(this.nivProf),t=t.concat(this.nivPos),"Formal"===this.selEd?t:"No formal"===this.selEd?this.nivelesNoFormales:[]},compEstudios:function(){return this.selRol?this.selRol.educacion:this.$store.state.solproc.educacion},nivTecPos:function(){return this.nivTec.concat(this.nivPos)},textTituloObt:function(){var t=this.nivBasicos;return!t.includes(this.selNivel)},porcentaje:{get:function(){return this.selRol?this.selRol.porcEdu:""},set:function(t){this.selRol&&(this.selRol.porcEdu=t)}},calcrestante:function(){if(this.selRol){var t=this.selRol;return 100-((t.porcEdu?Number(t.porcEdu):0)+(t.porcExp?Number(t.porcExp):0))}return 0},compHeaders:function(){var t=[];return"seleccion"!==this.criterio&&(t.push("puntajeUnd"),t.push("puntajeMax")),this.evaluacion||(t.push("data-table-expand"),t.push("evaluacion")),this.headers.filter((function(e){return!t.includes(e.value)}))},acumExp:function(){return this.compEstudios.reduce((function(t,e){return t+ +e.puntajeMax}),0)},titulo:function(){return this.selRol?" de ".concat(this.selRol.rol):""}}},fd=hd,gd=(a("df07"),Object(C["a"])(fd,md,vd,!1,null,"fdef4afc",null)),bd=gd.exports,xd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-layout",{attrs:{"align-center":"","mb-3":""}},[a("h2",[t._v("Experiencia "+t._s(t.titulo))]),t.selRol?a("div",["seleccion"===t.criterio?a("v-layout",{attrs:{"ml-4":"","align-center":""}},[a("div",[t._v("%Peso: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.porcentaje,expression:"porcentaje"}],staticStyle:{"background-color":"white",padding:"5px","margin-left":"5px",width:"80px","border-radius":"5px"},attrs:{type:"number"},domProps:{value:t.porcentaje},on:{input:function(e){e.target.composing||(t.porcentaje=e.target.value)}}}),a("span",{staticClass:"ml-3",class:{errorClass:t.calcrestante>0}},[t._v("Pendiente por asignar: "+t._s(t.calcrestante)+"%")])]):t._e()],1):t._e()]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{"align-center":"",wrap:""}},[a("v-flex",[a("v-select",{staticClass:"eduInput",attrs:{items:t.tipoExp,label:"Tipo de experiencia",filled:"",rules:t.tipoExpRules,required:""},model:{value:t.selExp,callback:function(e){t.selExp=e},expression:"selExp"}})],1),a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Descripción",maxlength:"200",counter:"",filled:"",rules:t.descRules,required:""},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",[a("v-select",{staticClass:"eduInput",attrs:{items:t.medTiempo,label:"Tiempo",filled:"",rules:t.medTimeRules,required:""},model:{value:t.selMedTime,callback:function(e){t.selMedTime=e},expression:"selMedTime"}})],1),a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:t.labelCant,type:"number",filled:"",rules:t.cantMedRules,required:""},model:{value:t.cantMedTime,callback:function(e){t.cantMedTime=e},expression:"cantMedTime"}})],1),t.selRol&&"seleccion"===t.criterio?a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje unidad",type:"numeric",filled:"",rules:t.pUndRules,required:""},model:{value:t.puntajeUnd,callback:function(e){t.puntajeUnd=e},expression:"puntajeUnd"}})],1):t._e(),t.selRol&&"seleccion"===t.criterio?a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje maximo",type:"numeric",filled:"",rules:t.pMaxRules,required:""},model:{value:t.puntajeMax,callback:function(e){t.puntajeMax=e},expression:"puntajeMax"}})],1):t._e()],1),a("v-layout",{attrs:{"align-center":""}},[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.addExperiencia}},[t._v("Agregar")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.compHeaders,items:t.compExperiencias,"items-per-page":5,"show-expand":""!==t.evaluacion,dense:""},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-textarea",{attrs:{label:"Observacion",rows:"3",maxlength:"200",counter:""},model:{value:i.observacion,callback:function(e){t.$set(i,"observacion",e)},expression:"item.observacion"}})],1)]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error"},on:{click:function(e){return t.delExperiencia(o)}}},[a("v-icon",{attrs:{small:"",left:""}},[t._v("delete")]),t._v("Eliminar\n        ")],1),t.evaluacion?a("v-btn",{staticClass:"my-1 ml-3",attrs:{small:"",color:"accent"},on:{click:function(e){return t.addSupportExp(o)}}},[a("v-icon",{attrs:{small:"",left:""}},[t._v("add")]),t._v("soportes\n        ")],1):t._e()]}},{key:"item.evaluacion",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",attrs:{label:o.cumple?"Cumple":"No cumple"},model:{value:o.cumple,callback:function(e){t.$set(o,"cumple",e)},expression:"item.cumple"}}),a("v-checkbox",{attrs:{label:"No aplica"},model:{value:o.noAplica,callback:function(e){t.$set(o,"noAplica",e)},expression:"item.noAplica"}})],1)]}}])}),a("v-checkbox",{staticClass:"ma-4",attrs:{label:"No aplica"},model:{value:t.noaplica,callback:function(e){t.noaplica=e},expression:"noaplica"}}),a("v-dialog",{attrs:{width:"800"},model:{value:t.dSupportExp,callback:function(e){t.dSupportExp=e},expression:"dSupportExp"}},[t.dSupportExp?a("supportExp",{attrs:{tipo:"solprocexp",idExp:t.selDocsFrom.id},on:{"close-soportes":function(e){t.dSupportExp=!t.dSupportExp}}}):t._e()],1)],1)],1)},_d=[],yd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("Soporte de la experiencia")]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Descripción",rules:t.descRules,required:"",maxlength:"50",counter:"",dense:""},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1),a("v-row",[a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha de inicio",readonly:"",dense:"",rules:t.dateIniRules,required:""},model:{value:t.dateIni,callback:function(e){t.dateIni=e},expression:"dateIni"}},"v-text-field",i,!1),o))]}}]),model:{value:t.menuIni,callback:function(e){t.menuIni=e},expression:"menuIni"}},[a("v-date-picker",{on:{input:function(e){t.menuIni=!1}},model:{value:t.dateIni,callback:function(e){t.dateIni=e},expression:"dateIni"}})],1)],1),a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha de Fin",readonly:"",dense:"",rules:t.dateEndRules,required:""},model:{value:t.dateEnd,callback:function(e){t.dateEnd=e},expression:"dateEnd"}},"v-text-field",i,!1),o))]}}]),model:{value:t.menuEnd,callback:function(e){t.menuEnd=e},expression:"menuEnd"}},[a("v-date-picker",{on:{input:function(e){t.menuEnd=!1}},model:{value:t.dateEnd,callback:function(e){t.dateEnd=e},expression:"dateEnd"}})],1)],1),a("v-col",[[a("smallAdj",{attrs:{item:t.adjunto}})]],2)],1),a("v-row",[a("v-col",[a("v-layout",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:""},on:{click:t.addSupport}},[t._v("agregar")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.expSupports,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.actions",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error"},on:{click:function(e){return t.delSupport(o)}}},[a("v-icon",{attrs:{small:"",left:""}},[t._v("delete")]),t._v("Eliminar\n        ")],1)]}},{key:"item.adjunto",fn:function(t){var e=t.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("smallAdj",{attrs:{item:e.adjunto}})],1)]}}])}),a("v-layout",{attrs:{"justify-center":"","mt-3":""}},["proprolexp"!==t.tipo?a("v-btn",{attrs:{color:"primary",small:""},on:{click:t.saveSupportedExp}},[t._v("guardar")]):t._e(),"proprolexp"===t.tipo?a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return t.$emit("close-soportes")}}},[t._v("continuar")]):t._e()],1)],1)],1)},kd=[],Cd={props:["tipo","idExp","exp"],components:{smallAdj:Xs},data:function(){return{descripcion:"",menuIni:"",dateIni:"",menuEnd:"",dateEnd:"",adjunto:{file_name:"",file_path:""},headers:[{text:"Descripción",align:"left",value:"descripcion"},{text:"Fecha inicio",align:"center",value:"dateIni"},{text:"Fecha fin",align:"center",value:"dateEnd"},{text:"Adjunto",align:"center",value:"adjunto"},{text:"Opciones",align:"center",value:"actions"}],valid:!0,expSupports:[],descRules:[function(t){return!!t||"Descripcion es requerida"}],dateIniRules:[function(t){return!!t||"Fecha de inicio requerida"}],dateEndRules:[function(t){return!!t||"Fecha de fin requerida"}],adjRules:[function(t){return!!t||"Adjunto es requerido"}]}},mounted:function(){var t=this;"proprolexp"===this.tipo?this.expSupports=this.exp.soportes?this.exp.soportes:[]:Sc.getExpSupports(this.idExp,this.tipo).then((function(e){console.log(e),200===e.status?t.expSupports=e.data:t.expSupports=[]})).catch((function(e){console.log(e),t.expSupports=[]}))},methods:{saveSupportedExp:function(){var t=this;Sc.saveSupport({data:this.expSupports}).then((function(e){console.log(e),t.$emit("close-soportes")})).catch((function(t){console.log(t)}))},addSupport:function(){if(this.$refs.form.validate()){var t={};"proprolexp"===this.tipo?(t={descripcion:this.descripcion,tipo:this.tipo,dateIni:this.dateIni,dateEnd:this.dateEnd,adjunto:this.adjunto},this.exp.soportes||(this.exp.soportes=[]),this.exp.soportes.push(t),this.expSupports=this.exp.soportes):(t={idExp:this.idExp,descripcion:this.descripcion,tipo:this.tipo,dateIni:this.dateIni,dateEnd:this.dateEnd,adjunto:this.adjunto},this.expSupports.push(t)),this.resetForm()}},resetForm:function(){this.descripcion="",this.dateIni="",this.dateEnd="",this.adjunto={},this.$refs.form.resetValidation()},delSupport:function(t){var e=this.expSupports.findIndex((function(e){return e===t}));this.expSupports.splice(e,1),"proprolexp"===this.tipo&&(this.exp.soportes=this.expSupports)}}},Sd=Cd,wd=Object(C["a"])(Sd,yd,kd,!1,null,"6c6dc517",null),Pd=wd.exports,Ad={components:{supportExp:Pd},props:["selRol","criterio","evaluacion"],data:function(){var t=this;return{noaplica:!1,tipoExp:["General","Especifica"],selExp:"",descripcion:"",medTiempo:["Años","Meses","Semanas","Dias"],selMedTime:"",cantMedTime:"",puntajeUnd:"",puntajeMax:"",headers:[{text:"Obs",value:"data-table-expand"},{text:"Tipo experiencia",align:"left",sortable:!1,value:"tipoExp"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Tiempo",align:"left",sortable:!1,value:"tiempo"},{text:"Puntaje und",align:"left",sortable:!1,value:"puntajeUnd"},{text:"Puntaje máx",align:"left",sortable:!1,value:"puntajeMax"},{text:"Evaluación",align:"center",sortable:!1,value:"evaluacion"},{text:"Aciones",align:"center",sortable:!1,value:"actions"}],valid:!0,tipoExpRules:[function(t){return!!t||"Tipo de experiencia es requerido"}],descRules:[function(t){return!!t||"La descripción es requerido"}],medTimeRules:[function(t){return!!t||"Medida de tiempo es requerida"}],cantMedRules:[function(t){return!!t||"Cantidad es requerida"}],pMaxRules:[function(e){return!(!e&&t.selRol)||"Puntaje maximo es requerido"},function(t){return!(isNaN(t)||t<0||t>100)||"Debe ser de 0 - 100"},function(e){return!(+e+ +t.acumExp>100)||"Acumulado es mayor a 100"}],pUndRules:[function(e){return!(!e&&t.selRol)||"Puntaje unidad es requerido"},function(t){return!(isNaN(t)||t<0||t>100)||"Debe ser de 0 - 100"}],dSupportExp:!1,selDocsFrom:""}},mounted:function(){console.log(this.evaluacion)},methods:{addExperiencia:function(){if(this.$refs.form.validate()){var t={tipoExp:this.selExp,descripcion:this.descripcion,tiempo:"".concat(this.selMedTime," ").concat(this.cantMedTime),cantidad:this.cantMedTime,puntajeUnd:this.puntajeUnd,puntajeMax:this.puntajeMax,cumple:!1,noAplica:!1,observacion:""};this.selRol?this.selRol.experiencia.push(t):this.$store.state.solproc.experiencia.push(t),this.resetForm()}},resetForm:function(){this.selExp="",this.descripcion="",this.selMedTime="",this.cantMedTime="",this.puntajeMax="",this.puntajeUnd="",this.$refs.form.resetValidation()},delExperiencia:function(t){console.log(t);var e=confirm("Desea eliminar este registro de experiencia");if(e){var a=this.compExperiencias.indexOf(t);this.selRol?this.selRol.experiencia.splice(a,1):this.$store.state.solproc.experiencia.splice(a,1)}},addSupportExp:function(t){this.selDocsFrom=t,this.dSupportExp=!this.dSupportExp}},computed:{compHeaders:function(){var t=[];return"seleccion"!==this.criterio&&(t.push("puntajeUnd"),t.push("puntajeMax")),this.evaluacion||(t.push("data-table-expand"),t.push("evaluacion")),this.headers.filter((function(e){return!t.includes(e.value)}))},porcentaje:{get:function(){return this.selRol?this.selRol.porcExp:""},set:function(t){this.selRol&&(this.selRol.porcExp=t)}},niveles:function(){return this.selExp?"Formal"===this.selExp?this.nivelesAcademicos:"Noformal"===this.selExp?this.nivelesNoFormales:[]:[]},compExperiencias:function(){return this.selRol?this.selRol.experiencia:this.$store.state.solproc.experiencia},calcrestante:function(){if(this.selRol){var t=this.selRol;return 100-((t.porcEdu?Number(t.porcEdu):0)+(t.porcExp?Number(t.porcExp):0))}return 0},labelCant:function(){return"Cantidad ".concat(this.selMedTime)},acumExp:function(){return this.compExperiencias.reduce((function(t,e){return t+ +e.puntajeMax}),0)},titulo:function(){return this.selRol?" de ".concat(this.selRol.rol):""}}},jd=Ad,Ed=(a("2d7e"),Object(C["a"])(jd,xd,_d,!1,null,"f88ab0cc",null)),Td=Ed.exports,Dd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"adjuntos"}},[a("h3",[t._v("Adjuntos")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.adjuntos,"items-per-page":10,dense:""},scopedSlots:t._u([{key:"item.docSolicitado",fn:function(e){var o=e.item;return[a("div",{staticClass:"text-left"},[t._v("\n        "+t._s(o.docSolicitado)+"\n      ")])]}},{key:"item.aprobado",fn:function(e){var o=e.item;return[a("div",{staticClass:"text-center"},[a("v-checkbox",{staticStyle:{margin:"0px"},attrs:{"hide-details":""},model:{value:o.aprobado,callback:function(e){t.$set(o,"aprobado",e)},expression:"item.aprobado"}})],1)]}},{key:"item.noAplica",fn:function(e){var o=e.item;return[a("div",{staticClass:"text-center"},[a("v-checkbox",{staticStyle:{margin:"0px"},attrs:{"hide-details":""},model:{value:o.noAplica,callback:function(e){t.$set(o,"noAplica",e)},expression:"item.noAplica"}})],1)]}},{key:"item.file",fn:function(e){var o=e.item;return[a("div",[a("smallAdj",{key:t.resetComponent,attrs:{item:o,text:"Adjunto"},on:{"file-changed":t.actAdjuntos}})],1)]}}])})],1)},Id=[];function Od(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Nd(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Od(n,o,i,r,s,"next",t)}function s(t){Od(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Md={props:["tipo","proponente","causal","pertenece","evaluacion","adjuntosIn","tipoContratacion","idSolProc"],components:{smallAdj:Xs},data:function(){return{listServCons:[{docSolicitado:"Cédula de Ciudadanía"},{docSolicitado:"Hoja de Vida actualizada"},{docSolicitado:"Declaración juramentada de no estar incurso en causal de inhabilidad, incompatibilidad o conflicto de interés, de conformidad con el Anexo 1"},{docSolicitado:"Copia de la libreta militar, siempre que reúna condición de Hombre menor de 50 años."},{docSolicitado:"Copia del Registro Único Tributario (RUT)"},{docSolicitado:"Manifestación de interés (PROYECTO GEF)"},{docSolicitado:"Anexos especiales de acuerdo al tipo de contratación y proyecto (Ejemplo: Declaraciones Juramentadas)"}],listBienObra:[{docSolicitado:"Cédula de Ciudadanía"},{docSolicitado:"Certificado de matrícula mercantil"},{docSolicitado:"Copia del Registro Único Tributario (RUT)"},{docSolicitado:"Manifestación de interés (PROYECTO GEF)"},{docSolicitado:"Anexos especiales de acuerdo al tipo de contratación y proyecto (Ejemplo: Declaraciones Juramentadas)"}],clJuridicaServicios:[{docSolicitado:"Certificado de existencia y representación legal."},{docSolicitado:"En caso de existir limitación de cuantía del representante legal para contratar, se deberá presentar autorización del órgano directivo correspondiente, en la cual se faculte para presentar la propuesta y celebrar el contrato en caso de que se le adjudique, si no es requerida tal autorización, se deberá certificar que tiene capacidad sin límite de cuantía."},{docSolicitado:"Declaración juramentada de no estar incurso en causal de inhabilidad, incompatibilidad o conflicto de interés, de conformidad con el Anexo 1 – PERSONA JURÍDICA"},{docSolicitado:"Documento de identidad del representante legal."},{docSolicitado:"Fotocopia del Registro Único Tributario (RUT)."},{docSolicitado:"Propuesta técnica"},{docSolicitado:"Propuesta económica: Formato No. 1 - Oferta Económica."},{docSolicitado:"Certificaciones de experiencia (CUANDO SE SOLICITEN EN LOS TDR)"},{docSolicitado:"Cumplimiento de la información financiera: Formato No. 2 - Información Financiera. (CUANDO SE SOLICITEN EN LOS TDR)"},{docSolicitado:"Fotocopia legible de la Tarjeta Profesional del contador o revisor fiscal que suscribe el Formato No. 2, acompañada del Certificado de Vigencia de Inscripción y Antecedentes Disciplinarios expedido por la Junta Central de Contadores. Dicho certificado no deberá estar vencido a la fecha de cierre de la presente Convocatoria Pública."},{docSolicitado:"Fotocopia legible de la Declaración de Renta del año anterior con su respectiva conciliación fiscal de Renta y Patrimonio, en caso de ser necesaria."},{docSolicitado:"Se debe presentar el certificado de Existencia y Representación Legal de cada uno de los miembros que conforman la unión temporal o el consorcio, expedido dentro de los sesenta (60) días calendarios anteriores a la presentación de la propuesta."},{docSolicitado:"Documento de constitución del consorcio o unión temporal"},{docSolicitado:"En caso de resultar favorecidos con la adjudicación para la suscripción del contrato, deberá presentar el respectivo Registro Único Tributario – RUT del consorcio o unión temporal"}],docsEspeciales:[{docSolicitado:"Carta con el Vobo de la Directora",valor:3,tipo:"solproc",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación contrato previo ejecutado cuando se requiera continuidad de los servicios",valor:4,tipo:"solproc",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación de proveedor exclusivo de bienes o servicios",valor:5,tipo:"solproc",aprobado:!1,noAplica:!1},{docSolicitado:"Acta de Declaratoria desierta de procesos previos para hacer contratación directa",valor:6,tipo:"solproc",aprobado:!1,noAplica:!1},{docSolicitado:"Estudio del mercado previo y propuesta de menor valor",valor:7,tipo:"solproc",aprobado:!1,noAplica:!1},{docSolicitado:"Actas de selección (¿Cuáles serían los ejemplos?)",valor:8,tipo:"solproc",aprobado:!1,noAplica:!1},{docSolicitado:"Actas de Comité Veredal",valor:9,tipo:"solproc",aprobado:!1,noAplica:!1},{docSolicitado:"Certificado de Libertad y tradición del inmueble, y documentos de Identificación del Propietario Inscrito en el registro",valor:10,tipo:"solproc",aprobado:!1,noAplica:!1}],adjConvPersona:[{docSolicitado:"Cédula de Ciudadanía"},{docSolicitado:"Hoja de Vida actualizada"},{docSolicitado:"Certificaciones de experiencia. El Instituto Sinchi NO ADMITE para acreditar la experiencia, copia de los contratos, actas de liquidación o documentos afines, a menos que sean requeridos expresamente por este para aclarar o adicionar alguna certificación."},{docSolicitado:"Declaración juramentada de no estar incurso en causal de inhabilidad, incompatibilidad o conflicto de interés, de conformidad con el Anexo 1 – PERSONA NATURAL"},{docSolicitado:"Copia de la libreta militar, siempre que reúna condición de Hombre menor de 50 años."},{docSolicitado:"Copia del Registro Único Tributario (RUT)."},{docSolicitado:"Manifestación de interés (PROYECTO GEF )"},{docSolicitado:"Anexo de fraude y corrupción (PROYECTO GEF )"},{docSolicitado:"Propuesta económica (ES EXCEPCIONAL Y DE ACUERDO A UN PROYECTO ESPECÍFICO)"},{docSolicitado:"Propuesta técnica (ES EXCEPCIONAL Y DE ACUERDO A UN PROYECTO ESPECÍFICO)"},{docSolicitado:"Anexos especiales de acuerdo al tipo de contratación y proyecto (Ejemplo: Declaraciones Juramentadas)"}],adjConvBSOJuridica:[{docSolicitado:"Certificado de existencia y representación legal."},{docSolicitado:"En caso de existir limitación de cuantía del representante legal para contratar, se deberá presentar autorización del órgano directivo correspondiente, en la cual se faculte para presentar la propuesta y celebrar el contrato en caso de que se le adjudique, si no es requerida tal autorización, se deberá certificar que tiene capacidad sin límite de cuantía."},{docSolicitado:"Declaración juramentada de no estar incurso en causal de inhabilidad, incompatibilidad o conflicto de interés, de conformidad con el Anexo 1 – PERSONA JURÍDICA"},{docSolicitado:"Documento de identidad del representante legal."},{docSolicitado:"Fotocopia del Registro Único Tributario (RUT)."},{docSolicitado:"Propuesta técnica"},{docSolicitado:"Propuesta económica: Formato No. 1 - Oferta Económica."},{docSolicitado:"Certificaciones de experiencia (CUANDO SE SOLICITEN EN LOS TDR)"}],headers:[{text:"Documento Solicitado",align:"center",value:"docSolicitado"},{text:"Aprobado",align:"center",sortable:!1,value:"aprobado"},{text:"No aplica",align:"center",sortable:!1,value:"noAplica"},{text:"Archivo",align:"center",sortable:!1,value:"file"}],resetComponent:0}},mounted:function(){var t=Nd(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.proponente){t.next=5;break}return t.next=3,Fs.getInfo(this.proponente.id);case 3:e=t.sent,200===e.status&&(a=e.data,a.map((function(t){t.noCumple=!!t.noCumple&&1===t.noCumple,t.noAplica=!!t.noAplica&&1===t.noAplica})),this.proponente.adjuntos=e.data,this.proponente.adjuntos.length<=0&&(1===this.tipoLista.valor&&(this.adjuntos=this.listServCons),2===this.tipoLista.valor&&(this.adjuntos=this.listBienObra),3===this.tipoLista.valor&&(this.adjuntos=this.clJuridicaServicios),4===this.tipoLista.valor&&(this.adjuntos=this.adjConvPersona),5===this.tipoLista.valor&&(this.adjuntos=this.adjConvBSOJuridica)));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{actAdjuntos:function(t){console.log(t),t.file_path?(t.nombre=t.file_name,t.path=t.file_path):(t.nombre="",t.path=""),this.resetComponent++},addDocsEspeciales:function(){var t=this,e=this.docsEspeciales.find((function(e){return e.valor===t.causal}));console.log(e),e&&this.adjuntosIn.push(this.docsEspeciales.find((function(e){return e.valor===t.causal})))}},computed:{tipoLista:function(){return this.$store.state.tipoLista},adjuntos:{get:function(){return this.proponente?this.proponente.adjuntos:(console.log(this.adjuntosIn),this.adjuntosIn.filter((function(t){return"solproc"===t.tipo})))},set:function(t){console.log("seteando adjuntos"),this.proponente?this.proponente.adjuntos=t:this.adjuntosIn=t}},noCumple:function(){var t=[];return this.adjuntos.forEach((function(e){!0!==e.aprobado&&!0!==e.noAplica&&t.push(e.docSolicitado)})),t},tipoContrato:function(){return this.tipoContratacion},idSolicitud:function(){return this.idSolProc}},watch:{tipoLista:function(t){},causal:function(t){console.log(this.tipoContrato),"Personal"===this.tipoContrato&&(this.$store.commit("removeAdjCausales","personales"),this.addDocsEspeciales()),"Bienes o servicios"===this.tipoContrato&&(this.$store.commit("removeAdjCausales","bienes"),this.addDocsEspeciales()),"Persona juridica"===this.tipoContrato&&(this.$store.commit("removeAdjCausales","juridica"),this.addDocsEspeciales())}}},Rd=Md,Fd=(a("eb30"),Object(C["a"])(Rd,Dd,Id,!1,null,null,null)),qd=Fd.exports,Ud={components:{datosAdjuntos:qd,educacion:bd,experiencia:Td},props:["evaluacion","tipo"],data:function(){var t=this;return{anexos:[],roles:[],valid:!1,nombreRules:[function(t){return!!t||"Nombre es requerido"}],rolRules:[function(t){return!!t||"El rol es requerido"}],correoRules:[function(t){return/.+@.+\..+/.test(t)||"Correo no valido"}],telefonoRules:[function(t){return/^\d+$(\.\d+)?/.test(t)||"Telefono no valido"}],pMaxRules:[function(e){return!(!e&&t.selRol)||"Puntaje maximo es requerido"},function(t){return!(isNaN(t)||t<0||t>100)||"Debe ser de 0 - 100"},function(e){return!(+e+ +t.acumExp>100)||"Acumulado es mayor a 100"}],perfilMinimo:!1,resetComponent:0}},mounted:function(){console.log(this.evaluacion),this.getRoles(),this.perfilMinimo=this.$store.state.solproc.experiencia.length>0||this.$store.state.solproc.educacion.length>0},methods:{getRoles:function(){var t=this;Ji["a"].getData().then((function(e){200===e.status&&(t.roles=e.data.data)})).catch((function(e){console.log(e),t.roles=[]}))},actAdjuntos:function(t){console.log(t),t.file_path?(t.nombre=t.file_name,t.path=t.file_path):(t.nombre="",t.path=""),this.resetComponent++}},computed:{causales:function(){return this.$store.state.causales},nombre:{get:function(){return this.$store.state.solproc.nombre},set:function(t){this.$store.state.solproc.nombre=t}},rolEnProjecto:{get:function(){return this.$store.state.solproc.rol},set:function(t){this.$store.state.solproc.rol=t}},telefono:{get:function(){return this.$store.state.solproc.telefono},set:function(t){this.$store.state.solproc.telefono=t}},correo:{get:function(){return this.$store.state.solproc.correo},set:function(t){this.$store.state.solproc.correo=t}},accInfoConfi:{get:function(){return this.$store.state.solproc.accesInfoConf},set:function(t){this.$store.state.solproc.accesInfoConf=t}},causal:{get:function(){return this.$store.state.solproc.causal},set:function(t){this.$store.state.solproc.causal=t}},justificacion:{get:function(){return this.$store.state.solproc.justificacion},set:function(t){this.$store.state.solproc.justificacion=t}}}},$d=Ud,Ld=(a("9f1b"),Object(C["a"])($d,ud,pd,!1,null,"768808e6",null)),Bd=Ld.exports,Gd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Nombre completo"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),a("v-textarea",{attrs:{label:"Caracteristicas del bien, servicio u obras",rows:"3",maxlength:"500",counter:""},model:{value:t.caracteristicasBien,callback:function(e){t.caracteristicasBien=e},expression:"caracteristicasBien"}}),a("smallAdj",{attrs:{item:t.bienAdjuntos,icon:"$file"},on:{"file-changed":t.actAdjuntos}}),a("v-switch",{staticClass:"mt-3",staticStyle:{margin:"0px"},attrs:{label:"Cumple bien/adjunto/obra?","hide-details":"",color:"primary"},model:{value:t.cumpleBien,callback:function(e){t.cumpleBien=e},expression:"cumpleBien"}})],1),a("v-col",[a("v-select",{attrs:{items:t.causales,"item-text":"text",label:"Causal","item-value":"valor"},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-layout",{attrs:{wrap:"","pa-2":""}},[t._v("\n              "+t._s(e.item.text)+"\n            ")])]}},{key:"item",fn:function(e){return["object"!==typeof e.item?[a("v-list-item-content",{domProps:{textContent:t._s(e.item)}})]:[a("v-layout",{attrs:{wrap:"","pa-2":""}},[t._v("\n                "+t._s(e.item.text)+"\n              ")])]]}}]),model:{value:t.causal,callback:function(e){t.causal=e},expression:"causal"}}),a("v-textarea",{attrs:{label:"Justificación",rows:"3",maxlength:"200",counter:""},model:{value:t.justificacion,callback:function(e){t.justificacion=e},expression:"justificacion"}})],1)],1),t.$store.state.solproc.adjuntos?a("datosAdjuntos",{attrs:{tipoContratacion:t.$store.state.solproc.tipoContratacion,adjuntosIn:t.$store.state.solproc.adjuntos,idSolProc:t.$store.state.solproc.id,causal:t.causal,pertenece:"Bienes o servicios",evaluacion:!1}}):t._e(),a("v-checkbox",{attrs:{label:"Perfil minímo"},model:{value:t.perfilMinimo,callback:function(e){t.perfilMinimo=e},expression:"perfilMinimo"}}),t.perfilMinimo?a("experiencia",{staticClass:"mt-3",attrs:{evaluacion:t.evaluacion}}):t._e()],1)},Vd=[],zd={props:["evaluacion"],components:{smallAdj:Xs,experiencia:Td,datosAdjuntos:qd},data:function(){return{perfilMinimo:!1}},mounted:function(){console.log("evaluacion: "+this.evaluacion),this.perfilMinimo=this.$store.state.solproc.experiencia.length>0},methods:{actAdjuntos:function(t){this.$store.commit("actAdjuntos",t)}},computed:{causales:function(){return this.$store.state.causales},caracteristicasBien:{get:function(){var t=this.$store.state.solproc.caracteristicasBS;return t},set:function(t){this.$store.state.solproc.caracteristicasBS=t}},cumpleBien:{get:function(){return this.$store.state.solproc.cumple_bso},set:function(t){this.$store.state.solproc.cumple_bso=t}},bienAdjuntos:{get:function(){var t=this.$store.state.solproc.adjuntos.find((function(t){return"bienserv"===t.tipo}));return t?{file_name:t.nombre,file_path:t.path}:{}},set:function(t){}},nombre:{get:function(){return this.$store.state.solproc.nombre},set:function(t){this.$store.state.solproc.nombre=t}},causal:{get:function(){return this.$store.state.solproc.causal},set:function(t){this.$store.state.solproc.causal=t}},justificacion:{get:function(){return this.$store.state.solproc.justificacion},set:function(t){this.$store.state.solproc.justificacion=t}}}},Xd=zd,Hd=(a("db37"),Object(C["a"])(Xd,Gd,Vd,!1,null,"6f508f1c",null)),Jd=Hd.exports,Yd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Nombre completo"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),a("v-text-field",{attrs:{label:"Correo electronico"},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}}),a("v-text-field",{attrs:{label:"Telefono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}}),"contrato"===t.tipo?a("v-textarea",{attrs:{label:"Caracteristicas del bien, servicio u obras",rows:"3",maxlength:"500",counter:""},model:{value:t.caracteristicasBien,callback:function(e){t.caracteristicasBien=e},expression:"caracteristicasBien"}}):t._e(),"contrato"!=t.tipo?a("v-label",[t._v("Plan de adquisiciones / presupuesto")]):t._e(),"contrato"!=t.tipo?a("smallAdj",{attrs:{item:t.bienAdjuntos,icon:"$file"},on:{"file-changed":t.actAdjuntos}}):t._e()],1),a("v-col",[a("v-select",{attrs:{items:t.causales,"item-text":"text","item-value":"valor",label:"Causal"},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-layout",{attrs:{wrap:"","pa-2":""}},[t._v("\n            "+t._s(e.item.text)+"\n          ")])]}},{key:"item",fn:function(e){return["object"!==typeof e.item?[a("v-list-item-content",{domProps:{textContent:t._s(e.item)}})]:[a("v-layout",{attrs:{wrap:"","pa-2":""}},[t._v("\n              "+t._s(e.item.text)+"\n            ")])]]}}]),model:{value:t.causal,callback:function(e){t.causal=e},expression:"causal"}}),a("v-textarea",{attrs:{label:"Justificación",rows:"3",maxlength:"200",counter:""},model:{value:t.justificacion,callback:function(e){t.justificacion=e},expression:"justificacion"}})],1)],1),t.$store.state.solproc.adjuntos?a("datosAdjuntos",{attrs:{tipoContratacion:t.$store.state.solproc.tipoContratacion,adjuntosIn:t.$store.state.solproc.adjuntos,idSolProc:t.$store.state.solproc.id,causal:t.causal,pertenece:"juridica",evaluacion:!1}}):t._e(),a("v-checkbox",{staticClass:"ml-1",attrs:{label:"Perfil minimo"},model:{value:t.perfilMinimo,callback:function(e){t.perfilMinimo=e},expression:"perfilMinimo"}}),t.perfilMinimo?a("experiencia",{staticClass:"mt-3",attrs:{evaluacion:t.evaluacion}}):t._e()],1)},Zd=[],Wd={components:{smallAdj:Xs,experiencia:Td,datosAdjuntos:qd},props:["evaluacion","tipo"],data:function(){return{perfilMinimo:!1}},mounted:function(){console.log(this.evaluacion),this.perfilMinimo=this.$store.state.solproc.experiencia.length>0},methods:{actAdjuntos:function(t){this.$store.commit("actAdjuntos",t)}},computed:{causales:function(){return this.$store.state.causales},nombre:{get:function(){return this.$store.state.solproc.nombre},set:function(t){this.$store.state.solproc.nombre=t}},correo:{get:function(){return this.$store.state.solproc.correo},set:function(t){this.$store.state.solproc.correo=t}},telefono:{get:function(){return this.$store.state.solproc.telefono},set:function(t){this.$store.state.solproc.telefono=t}},caracteristicasBien:{get:function(){var t=this.$store.state.solproc.caracteristicasBS;return t},set:function(t){this.$store.state.solproc.caracteristicasBS=t}},cumpleBien:{get:function(){return this.$store.state.solproc.cumple_bso},set:function(t){this.$store.state.solproc.cumple_bso=t}},bienAdjuntos:{get:function(){var t=this.$store.state.solproc.adjuntos.find((function(t){return"bienserv"===t.tipo}));return t?{file_name:t.nombre,file_path:t.path}:{}},set:function(t){}},causal:{get:function(){return this.$store.state.solproc.causal},set:function(t){this.$store.state.solproc.causal=t}},justificacion:{get:function(){return this.$store.state.solproc.justificacion},set:function(t){this.$store.state.solproc.justificacion=t}}}},Qd=Wd,Kd=(a("a34e"),Object(C["a"])(Qd,Yd,Zd,!1,null,"06057c93",null)),tu=Kd.exports,eu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Lista corta")]),t.evaluacion?a("div",[a("evProponentes",{attrs:{evaluacion:t.evaluacion}})],1):t._e(),t.evaluacion?t._e():a("div",[a("proponentesListaCorta",{staticClass:"mb-5",attrs:{evaluacion:t.evaluacion,proponentes:t.proponentes}}),a("v-textarea",{attrs:{label:"Caracteristicas del bien, servicio u obras",rows:"3",maxlength:"500",counter:""},model:{value:t.caracteristicasBien,callback:function(e){t.caracteristicasBien=e},expression:"caracteristicasBien"}}),a("v-row",{staticClass:"mb-5",attrs:{align:"center","no-gutters":""}},[a("smallAdj",{attrs:{item:t.bienAdjuntos,icon:"$file"},on:{"file-changed":t.actAdjuntos}}),a("v-spacer"),a("v-switch",{staticStyle:{margin:"0px"},attrs:{label:"Cumple bien/adjunto/obra?","hide-details":"",color:"primary"},model:{value:t.cumpleBien,callback:function(e){t.cumpleBien=e},expression:"cumpleBien"}})],1),a("v-divider"),a("div",{staticClass:"mt-5"},[a("h2",[t._v("Criterios minimos")]),t.solproc?a("criteriosMinimos",{attrs:{solproc:t.solproc}}):t._e(),a("v-divider"),a("h2",{staticClass:"mt-5"},[t._v("Criterios de selección")]),t.solproc?a("criteriosSeleccion",{attrs:{solproc:t.solproc}}):t._e()],1)],1)])},au=[],ou=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-flex",{attrs:{"mt-3":""}},[a("v-select",{attrs:{label:"Tipo de lista",items:t.tiposListaCorta,"item-text":"text","return-object":"",filled:""},model:{value:t.tipoLista,callback:function(e){t.tipoLista=e},expression:"tipoLista"}})],1),a("proponentesListaCorta",{staticClass:"mb-5",attrs:{evaluacion:t.evaluacion},on:{evaluarProp:t.evaluar}}),a("v-dialog",{attrs:{width:"1000"},model:{value:t.showEvProp,callback:function(e){t.showEvProp=e},expression:"showEvProp"}},[t.propEval?a("evProponente",{attrs:{proponente:t.propEval,evaluacion:t.evaluacion},on:{unselproponente:function(e){t.propEval="",t.showEvProp=!t.showEvProp}}}):t._e()],1)],1)},iu=[],nu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{"align-center":"","mt-3":""}},[a("h2",[t._v(t._s("evaluacion"===t.evaluacion?"Evaluacion de proponentes":"Proponentes"))]),a("v-spacer"),a("v-btn",{attrs:{fab:"",color:"primary",small:""},on:{click:function(e){t.showForm=!t.showForm}}},[a("v-icon",{attrs:{dark:""}},[t._v(t._s(t.iconExpand))])],1)],1),t.showForm?a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{filled:"",label:"Nombre completo",rules:t.nombreRules,required:""},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-col",[a("v-text-field",{attrs:{filled:"",type:"number",label:"Telefono fijo",rules:t.telefonoRules,required:""},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-col",[a("v-text-field",{attrs:{filled:"",type:"number",label:"Telefono celular",maxlength:"10",counter:""},model:{value:t.celular,callback:function(e){t.celular=e},expression:"celular"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{filled:"",label:"Correo electronico",rules:t.correoRules,required:""},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}})],1),a("v-col",[a("v-text-field",{attrs:{filled:"",label:"Dirección de correspondencia",rules:t.direccionRules,required:""},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-col",[a("v-file-input",{ref:"fileanexo",attrs:{filled:"",label:"Anexos",placeholder:"Agregar Anexo",id:"fileanexo",name:"fileanexo",chips:""},model:{value:t.anexos,callback:function(e){t.anexos=e},expression:"anexos"}})],1)],1),a("v-layout",{attrs:{"align-center":""}},[a("v-checkbox",{attrs:{label:"Certifica que la persona cumple con los terminosy condiciones descritos"},model:{value:t.cumple,callback:function(e){t.cumple=e},expression:"cumple"}}),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.addProponente}},[t._v("Agregar")])],1)],1):t._e(),a("v-data-table",{staticClass:"elevation-1 mt-4",attrs:{headers:t.headers,items:t.proponentes,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.actions",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{wrap:"","my-1":""}},[t.evaluacion?a("v-btn",{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(e){return t.evaluarProponente(o)}}},[a("v-icon",{attrs:{small:"",left:""}},[t._v("edit")]),t._v("Evaluar\n          ")],1):t._e(),a("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(e){return t.deleteProponente(o)}}},[a("v-icon",{attrs:{small:"",left:""}},[t._v("delete")]),t._v("Eliminar\n          ")],1)],1)]}}])})],1)},ru=[],su={props:["evaluacion","proponentes"],data:function(){return{showForm:!1,nombre:"",celular:"",correo:"",telefono:"",anexos:[],direccion:"",cumple:"",valid:!0,nombreRules:[function(t){return!!t||"Nombre es requerido"}],telefonoRules:[function(t){return!!t||"Telefono es requerido"}],correoRules:[function(t){return!!t||"Correo electronico es requerido"},function(t){return/.+@.+\..+/.test(t)||"Correo no valido"}],direccionRules:[function(t){return!!t||"Dirección es requerida"}],headers:[{text:"Nombres",align:"left",sortable:!1,value:"nombre"},{text:"Telefono fijo",align:"left",sortable:!1,value:"telFijo"},{text:"Telefono celular",align:"left",sortable:!1,value:"telCelular"},{text:"Correo electronico",align:"left",sortable:!1,value:"correo"},{text:"Dirección",align:"left",sortable:!1,value:"direccion"},{text:"Anexos",align:"left",sortable:!1,value:"anexos"},{text:"Acción",align:"left",sortable:!1,value:"actions"}]}},mounted:function(){console.log("Evaluacion: "+this.evaluacion)},methods:{addProponente:function(){if(this.$refs.form.validate()&&this.cumple){var t={nombre:this.nombre,telFijo:this.telefono,telCelular:this.celular,correo:this.correo,direccion:this.direccion,adjuntos:[],certTYC:this.cumple};this.proponentes.push(t),this.clearForm()}},clearForm:function(){this.nombre="",this.telefono="",this.celular="",this.correo="",this.direccion="",this.$refs.form.resetValidation()},deleteProponente:function(t){var e=this.proponentes.indexOf(t);this.proponentes.splice(e,1)},evaluarProponente:function(t){console.log(t),t.id?this.$emit("evaluarProp",t):console.log("Este usuario no esta guardado en la BD")}},computed:{iconExpand:function(){return this.showForm?"remove":"add"}}},cu=su,lu=Object(C["a"])(cu,nu,ru,!1,null,"5805f5c6",null),du=lu.exports,uu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"pa-2",attrs:{color:"primary"}},[a("h3",{staticClass:"my-5",staticStyle:{color:"white"}},[t._v(t._s(t.proponente.nombre.toUpperCase()))]),a("v-stepper",{model:{value:t.e13,callback:function(e){t.e13=e},expression:"e13"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:"1"},on:{click:function(e){t.e13=1}}},[t._v("Documentación")]),a("v-stepper-step",{attrs:{step:"2"},on:{click:function(e){t.e13=2}}},[t._v("Requisitos minimos")]),a("v-stepper-step",{attrs:{step:"3"},on:{click:function(e){t.e13=3}}},[t._v("Criterios de evaluación")])],1),a("v-stepper-items",[a("v-stepper-content",{staticStyle:{margin:"0",padding:"16px"},attrs:{step:"1"}},[a("datosAdjuntos",{attrs:{proponente:t.proponente,evaluacion:t.evaluacion}})],1),a("v-stepper-content",{staticStyle:{margin:"0",padding:"16px"},attrs:{step:"2"}},[a("reqMinProp",{attrs:{proponente:t.proponente}})],1),a("v-stepper-content",{staticStyle:{margin:"0",padding:"16px"},attrs:{step:"3"}},[a("critEvaluacion",{attrs:{proponente:t.proponente}})],1)],1)],1),a("v-layout",{attrs:{"my-5":""}},[a("v-spacer"),a("v-btn",{attrs:{text:"",dense:"",color:"white"},on:{click:function(e){return t.$emit("unselproponente")}}},[t._v("volver")]),a("v-btn",{attrs:{text:"",dense:"",color:"white"},on:{click:t.saveInfoProponente}},[t._v("Guardar")])],1)],1)],1)},pu=[],mu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Experiencia proponente")]),a("v-data-table",{staticClass:"elevation-1 mt-4",attrs:{headers:t.headers,items:t.reqMinProp,"items-per-page":5,"item-key":"descripcion","show-expand":"",dense:""},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-textarea",{attrs:{label:"Observacion",rows:"3",maxlength:"200",counter:""},model:{value:i.observacion,callback:function(e){t.$set(i,"observacion",e)},expression:"item.observacion"}})],1)]}},{key:"item.soporte",fn:function(t){return[a("smallAdj",{attrs:{item:t.item}})]}},{key:"item.cumple",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",staticStyle:{margin:"5px"},attrs:{label:o.cumple?"Cumple":"No cumple","hide-details":""},model:{value:o.cumple,callback:function(e){t.$set(o,"cumple",e)},expression:"item.cumple"}})],1)]}}])}),a("h3",{staticClass:"my-2"},[t._v("Experiencia equipo de trabajo")]),t.roles?a("v-flex",[t._l(t.roles,(function(e){return[a("div",{key:e.rol.id_rol},[a("div",{staticClass:"text-center",staticStyle:{"background-color":"#943A4A",padding:"3px",color:"white"}},[t._v(t._s(e.rol.toUpperCase()))]),e.educacion.length>0?a("v-flex",[a("div",[t._v("Educación")]),a("v-data-table",{staticClass:"elevation-1 mt-4",attrs:{headers:t.headersEdu,items:e.educacion,"items-per-page":5,"show-expand":"","item-key":"titulo",dense:""},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-textarea",{attrs:{label:"Observacion",rows:"2",maxlength:"200",counter:""},model:{value:i.observacion,callback:function(e){t.$set(i,"observacion",e)},expression:"item.observacion"}})],1)]}},{key:"item.cumple",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",staticStyle:{margin:"5px"},attrs:{label:o.cumple?"Cumple":"No cumple","hide-details":""},model:{value:o.cumple,callback:function(e){t.$set(o,"cumple",e)},expression:"item.cumple"}})],1)]}},{key:"item.soporte",fn:function(t){return[a("smallAdj",{attrs:{item:t.item}})]}}],null,!0)})],1):t._e(),e.experiencia.length>0?a("v-flex",[a("div",[t._v("Experiencia")]),a("v-data-table",{staticClass:"elevation-1 mt-4",attrs:{headers:t.headersExp,items:e.experiencia,"items-per-page":5,"show-expand":"","item-key":"titulo",dense:""},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-textarea",{attrs:{label:"Observacion",rows:"2",maxlength:"200",counter:""},model:{value:i.observacion,callback:function(e){t.$set(i,"observacion",e)},expression:"item.observacion"}})],1)]}},{key:"item.cumple",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",staticStyle:{margin:"5px"},attrs:{label:o.cumple?"Cumple":"No cumple","hide-details":""},model:{value:o.cumple,callback:function(e){t.$set(o,"cumple",e)},expression:"item.cumple"}})],1)]}},{key:"item.soporte",fn:function(t){return[a("smallAdj",{attrs:{item:t.item}})]}}],null,!0)})],1):t._e(),e.experiencia.length<=0&&e.experiencia.length<=0?a("v-flex",[t._v("\n          Este rol no tiene requisitos minimos.\n        ")]):t._e()],1)]}))],2):t._e()],1)},vu=[],hu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-card",{staticClass:"mx-auto",attrs:{width:"95%"}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Solicitud de Modificación")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{sm12:""}},[a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_addproyecto=!0}}},[t._v("\n                                        Seleccionar Proyecto\n                                        "),a("v-icon",{attrs:{dark:"",right:""}},[t._v("\n                                            send\n                                        ")])],1),a("div",{staticStyle:{width:"96%","text-align":"center","padding-left":"10px"}},[a("v-data-table",{attrs:{headers:t.headerproyectogen,items:t.arrProyectosGen,"disable-sort":!0,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n                                                ")])]}}])})],1)],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{width:"1200"},model:{value:t.dialog_addproyecto,callback:function(e){t.dialog_addproyecto=e},expression:"dialog_addproyecto"}},[a("v-card",[a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchcongenadd,callback:function(e){t.searchcongenadd=e},expression:"searchcongenadd"}}),a("v-data-table",{attrs:{headers:t.headerproyectogenAdd,items:t.arrProyectosGenAll,"items-per-page":5,"disable-sort":!0,search:t.searchcongenadd},scopedSlots:t._u([{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.seleccionarProyectoGen(o.codigo)}}},[t._v("\n\t\t\t\t\t\t\t\tsend\n\t\t\t\t\t\t\t")])]}}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_addproyecto=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{width:"1200"},model:{value:t.dialog_addproyecto,callback:function(e){t.dialog_addproyecto=e},expression:"dialog_addproyecto"}},[a("v-card",[a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchcongenadd,callback:function(e){t.searchcongenadd=e},expression:"searchcongenadd"}}),a("v-data-table",{attrs:{headers:t.headerproyectogenAdd,items:t.arrProyectosGenAll,"items-per-page":5,"disable-sort":!0,search:t.searchcongenadd},scopedSlots:t._u([{key:"item.valortotal",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valortotal,{symbol:o.moneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.seleccionarProyectoGen(o.codigo)}}},[t._v("\n\t\t\t\t\t\t\t\tsend\n\t\t\t\t\t\t\t")])]}}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_addproyecto=!1}}},[t._v("Cancelar")])],1)],1)],1)],1)},fu=[],gu={name:"SolicitarModProyectos",data:function(){return{modulo:"MODIFICACIÓN PROYECTOS",loading:!1,searchcongenadd:"",dialog_addproyecto:!1,arrProyectosGenAll:[],arrProyectosGen:[],headerproyectogen:[{text:"Nombre Proyecto",align:"left",sortable:!1,value:"nombre"},{text:"No. Convenio",align:"left",sortable:!1,value:"convenio"},{text:"Nombre Convenio",value:"nombreconvenio",sortable:!1,align:"left"},{text:"Valor Total",value:"valortotal",sortable:!1,align:"left"}],headerproyectogenAdd:[{text:"Nombre Proyecto",align:"left",sortable:!1,value:"nombre"},{text:"No. Convenio",align:"left",sortable:!1,value:"convenio"},{text:"Nombre Convenio",value:"nombreconvenio",sortable:!1,align:"left"},{text:"Valor Total",value:"valortotal",sortable:!1,align:"left"},{text:"Seleccionar",value:"action",sortable:!1}]}},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},seleccionarProyectoGen:function(t){this.proyecto=t,this.traeProyectoGen(),this.dialog_addproyecto=!1},traeProyectoGen:function(){var t=this;this.arrProyectosGen=[],Ze["a"].getDataXId(this.proyecto).then((function(e){e.request&&e.data&&(t.arrProyectosGen=e.data.data)})).catch((function(t){}))},traeProyectosAll:function(){var t=this;this.arrProyectosGenAll=[],Ze["a"].getDataXVoBo().then((function(e){e.request&&e.data&&(t.arrProyectosGenAll=e.data.data)})).catch((function(t){}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},mounted:function(){this.traeProyectosAll(),this.traerMetodosSeleccion(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},bu=gu,xu=Object(C["a"])(bu,hu,fu,!1,null,null,null);xu.exports;function _u(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function yu(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){_u(n,o,i,r,s,"next",t)}function s(t){_u(n,o,i,r,s,"throw",t)}r(void 0)}))}}var ku={props:["proponente"],components:{smallAdj:Xs},data:function(){return{headers:[{text:"Obs",value:"data-table-expand"},{text:"Determinante",align:"left",sortable:!1,value:"determinante"},{text:"Tipo det",align:"left",sortable:!1,value:"tipo_det"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Cantidad",align:"left",sortable:!1,value:"cantidad"},{text:"Cumple",align:"left",sortable:!1,value:"cumple"},{text:"Soporte",align:"left",sortable:!1,value:"soporte"}],headersEdu:[{text:"Tipo",align:"center",sortable:!1,value:"tipo"},{text:"Titulo",align:"center",sortable:!1,value:"titulo"},{text:"Cumple",align:"center",sortable:!1,value:"cumple"},{text:"Soportes",align:"center",sortable:!1,value:"soporte"}],headersExp:[{text:"Descripcion",align:"center",sortable:!1,value:"descripcion"},{text:"Tiempo",align:"center",sortable:!1,value:"tiempo"},{text:"Cumple",align:"center",sortable:!1,value:"cumple"},{text:"Soportes",align:"center",sortable:!1,value:"soporte"}],regBD:[],eduPropBD:[],reqEstRol:[]}},methods:{saveReqMin:function(){},handleFileUpload:function(){var t=yu(He.a.mark((function t(e,a){var o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e),console.log(a),null===e){t.next=10;break}return t.next=5,Ba["a"].upload(e);case 5:o=t.sent,a.file_name=e.name,a.file_path=o.data.url,t.next=12;break;case 10:a.file_name="",a.file_path="";case 12:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),openInNewTab:function(t){var e=window.open(t,"_blank");e.focus()}},computed:{roles:function(){return console.log(this.proponente),this.proponente.roles?this.proponente.roles.filter((function(t){return"minimo"===t.tipoRol})):[]},reqMinProp:function(){return this.proponente&&this.proponente.expProp?this.proponente.expProp.filter((function(t){return"minimo"===t.tipo})):[]}}},Cu=ku,Su=Object(C["a"])(Cu,mu,vu,!1,null,"51f99692",null),wu=Su.exports,Pu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-icon",{on:{click:function(e){t.showExpProp=!t.showExpProp}}},[t._v(t._s(t.showExpProp?"keyboard_arrow_down":"keyboard_arrow_up"))]),a("h3",[t._v("Experiencia proponente")]),a("v-spacer"),a("h3",[t._v(t._s(t.pesoExp)+"%")])],1),a("v-data-table",{directives:[{name:"show",rawName:"v-show",value:t.showExpProp,expression:"showExpProp"}],staticClass:"elevation-1 mt-4",attrs:{headers:t.headers,items:t.reqProp,"items-per-page":5,"item-key":"descripcion","show-expand":"",dense:""},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-textarea",{attrs:{label:"Observacion",rows:"3",maxlength:"200",counter:""},model:{value:i.observacion,callback:function(e){t.$set(i,"observacion",e)},expression:"item.observacion"}})],1)]}},{key:"item.soporte",fn:function(t){return[a("smallAdj",{attrs:{item:t.item}})]}},{key:"item.cantSoportada",fn:function(e){return[a("v-text-field",{staticStyle:{"font-size":".8rem"},attrs:{"prepend-icon":"",type:"numeric",placeholder:"Cantidad","hide-details":"",dense:""},model:{value:e.item.cantSoportada,callback:function(a){t.$set(e.item,"cantSoportada",a)},expression:"props.item.cantSoportada"}})]}},{key:"item.cumple",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",staticStyle:{margin:"5px"},attrs:{label:o.cumple?"Cumple":"No cumple","hide-details":""},model:{value:o.cumple,callback:function(e){t.$set(o,"cumple",e)},expression:"item.cumple"}})],1)]}}])}),a("v-layout",[a("v-icon",{on:{click:function(e){t.showExpEqu=!t.showExpEqu}}},[t._v(t._s(t.showExpEqu?"keyboard_arrow_down":"keyboard_arrow_up"))]),a("h3",{staticClass:"my-2"},[t._v("Experiencia equipo de trabajo")]),a("v-spacer"),a("h3",[t._v(t._s(t.pesoEqu)+"%")])],1),t.roles&&t.showExpEqu?a("v-flex",[t._l(t.roles,(function(e){return[a("div",{key:e.rol.id_rol},[a("div",{staticClass:"text-center",staticStyle:{"background-color":"#943A4A",padding:"3px",color:"white"}},[t._v(t._s(e.rol.toUpperCase()))]),e.educacion.length>0?a("v-flex",[a("div",[t._v("Educación")]),a("v-data-table",{staticClass:"elevation-1 mt-4",attrs:{headers:t.headersEdu,items:e.educacion,"items-per-page":5,"show-expand":"","item-key":"titulo",dense:""},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-textarea",{attrs:{label:"Observacion",rows:"2",maxlength:"200",counter:""},model:{value:i.observacion,callback:function(e){t.$set(i,"observacion",e)},expression:"item.observacion"}})],1)]}},{key:"item.cumple",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",staticStyle:{margin:"5px"},attrs:{label:o.cumple?"Cumple":"No cumple","hide-details":""},model:{value:o.cumple,callback:function(e){t.$set(o,"cumple",e)},expression:"item.cumple"}})],1)]}},{key:"item.soporte",fn:function(t){return[a("smallAdj",{attrs:{item:t.item}})]}}],null,!0)})],1):t._e(),e.experiencia.length>0?a("v-flex",[a("div",[t._v("Experiencia")]),a("v-data-table",{staticClass:"elevation-1 mt-4",attrs:{headers:t.headersExp,items:e.experiencia,"items-per-page":5,"show-expand":"","item-key":"titulo",dense:""},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-textarea",{attrs:{label:"Observacion",rows:"2",maxlength:"200",counter:""},model:{value:i.observacion,callback:function(e){t.$set(i,"observacion",e)},expression:"item.observacion"}})],1)]}},{key:"item.cantSoportada",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-text-field",{staticStyle:{"font-size":".8rem"},attrs:{"prepend-icon":"",type:"numeric",placeholder:"Cantidad","hide-details":"",dense:""},model:{value:o.cantSoportada,callback:function(e){t.$set(o,"cantSoportada",e)},expression:"item.cantSoportada"}})],1)]}},{key:"item.soporte",fn:function(e){return[a("v-btn",{attrs:{small:"",color:"accent"},on:{click:function(a){return t.addSupportExp(e.item)}}},[a("v-icon",{attrs:{small:"",left:""}},[t._v("add")]),t._v("soportes\n              ")],1)]}}],null,!0)})],1):t._e(),e.experiencia.length<=0&&e.experiencia.length<=0?a("v-flex",[t._v("\n          Este rol no criterios de evaluación.\n        ")]):t._e()],1)]}))],2):t._e(),a("v-layout",[a("v-icon",{on:{click:function(e){t.showCapOrg=!t.showCapOrg}}},[t._v(t._s(t.showCapOrg?"keyboard_arrow_down":"keyboard_arrow_up"))]),a("h3",{staticClass:"my-2"},[t._v("Capacidad organizacional")]),a("v-spacer"),a("h3",[t._v(t._s(t.pesoOrg)+"%")])],1),t.showCapOrg?a("v-data-table",{staticClass:"elevation-1 mt-4",attrs:{headers:t.headersOrg,items:t.capOrg,"items-per-page":5,"show-expand":"","item-key":"titulo",dense:""},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-textarea",{attrs:{label:"Observacion",rows:"2",maxlength:"200",counter:""},model:{value:i.observacion,callback:function(e){t.$set(i,"observacion",e)},expression:"item.observacion"}})],1)]}},{key:"item.soporte",fn:function(t){return[a("smallAdj",{attrs:{item:t.item}})]}},{key:"item.cumple",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",staticStyle:{margin:"5px"},attrs:{label:o.cumple?"Cumple":"No cumple","hide-details":""},model:{value:o.cumple,callback:function(e){t.$set(o,"cumple",e)},expression:"item.cumple"}})],1)]}},{key:"item.inhabilita",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",staticStyle:{margin:"5px"},attrs:{label:o.inhabilita?"Inhabilita":"Habilitado","hide-details":""},model:{value:o.inhabilita,callback:function(e){t.$set(o,"inhabilita",e)},expression:"item.inhabilita"}})],1)]}}],null,!1,1623479865)}):t._e(),a("v-layout",[a("v-icon",{on:{click:function(e){t.showCapFinanciera=!t.showCapFinanciera}}},[t._v(t._s(t.showCapFinanciera?"keyboard_arrow_down":"keyboard_arrow_up"))]),a("h3",{staticClass:"my-2"},[t._v("Capacidad financiera")]),a("v-spacer"),a("h3",[t._v(t._s(t.pesoFin)+"%")])],1),t.showCapFinanciera?a("v-data-table",{staticClass:"elevation-1 mt-4",attrs:{headers:t.headersOrg,items:t.capFin,"items-per-page":5,"show-expand":"","item-key":"titulo",dense:""},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-textarea",{attrs:{label:"Observacion",rows:"2",maxlength:"200",counter:""},model:{value:i.observacion,callback:function(e){t.$set(i,"observacion",e)},expression:"item.observacion"}})],1)]}},{key:"item.soporte",fn:function(t){return[a("smallAdj",{attrs:{item:t.item}})]}},{key:"item.cumple",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",staticStyle:{margin:"5px"},attrs:{label:o.cumple?"Cumple":"No cumple","hide-details":""},model:{value:o.cumple,callback:function(e){t.$set(o,"cumple",e)},expression:"item.cumple"}})],1)]}},{key:"item.inhabilita",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",staticStyle:{margin:"5px"},attrs:{label:o.inhabilita?"Inhabilita":"Habilitado","hide-details":""},model:{value:o.inhabilita,callback:function(e){t.$set(o,"inhabilita",e)},expression:"item.inhabilita"}})],1)]}}],null,!1,1623479865)}):t._e(),a("v-layout",[a("v-icon",{on:{click:function(e){t.showMetodologia=!t.showMetodologia}}},[t._v(t._s(t.showMetodologia?"keyboard_arrow_down":"keyboard_arrow_up"))]),a("h3",{staticClass:"my-2"},[t._v("Metodologia")]),a("v-spacer"),a("h3",[t._v(t._s(t.pesoMet)+"%")])],1),a("v-flex",[t.showMetodologia?a("v-data-table",{staticClass:"elevation-1 mt-4",attrs:{headers:t.headersMet,items:t.expMet,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.actor1",fn:function(e){return[a("v-autocomplete",{staticClass:"actores",attrs:{items:t.supervisores,placeholder:"Actor1","item-text":"nombrecompleto","item-value":"codigo","hide-details":"",solo:"",flat:"",dense:""},model:{value:e.item.actor1,callback:function(a){t.$set(e.item,"actor1",a)},expression:"props.item.actor1"}})]}},{key:"item.actor2",fn:function(e){return[a("v-autocomplete",{staticClass:"actores",attrs:{items:t.supervisores,placeholder:"Actor2","item-text":"nombrecompleto","item-value":"codigo","hide-details":"",solo:"",flat:"",dense:""},model:{value:e.item.actor2,callback:function(a){t.$set(e.item,"actor2",a)},expression:"props.item.actor2"}})]}},{key:"item.actor3",fn:function(e){return[a("v-autocomplete",{staticClass:"actores",attrs:{items:t.supervisores,placeholder:"Actor3","item-text":"nombrecompleto","item-value":"codigo","hide-details":"",solo:"",flat:"",dense:""},model:{value:e.item.actor3,callback:function(a){t.$set(e.item,"actor3",a)},expression:"props.item.actor3"}})]}},{key:"item.soporte",fn:function(t){return[a("smallAdj",{attrs:{item:t.item}})]}}],null,!1,225804007)}):t._e()],1),a("v-dialog",{attrs:{width:"800"},model:{value:t.dSupportExp,callback:function(e){t.dSupportExp=e},expression:"dSupportExp"}},[t.dSupportExp?a("supportExp",{attrs:{tipo:"proprolexp",idExp:t.selItem.id,exp:t.selItem},on:{"close-soportes":function(e){t.dSupportExp=!t.dSupportExp}}}):t._e()],1)],1)},Au=[];function ju(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Eu(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){ju(n,o,i,r,s,"next",t)}function s(t){ju(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Tu={components:{smallAdj:Xs,supportExp:Pd},props:["proponente"],data:function(){return{headers:[{text:"Obs",value:"data-table-expand"},{text:"Determinante",align:"left",sortable:!1,value:"determinante"},{text:"Tipo det",align:"left",sortable:!1,value:"tipo_det"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Cantidad",align:"left",sortable:!1,value:"cantidad"},{text:"Puntaje Max",align:"left",sortable:!1,value:"puntaje_max"},{text:"Cant Soportada",align:"left",sortable:!1,value:"cantSoportada"},{text:"Soporte",align:"left",sortable:!1,value:"soporte"}],headersEdu:[{text:"Tipo",align:"center",sortable:!1,value:"tipo"},{text:"Titulo",align:"center",sortable:!1,value:"titulo"},{text:"Puntaje Max",align:"center",sortable:!1,value:"puntajeMax"},{text:"Cumple",align:"center",sortable:!1,value:"cumple"},{text:"Soportes",align:"center",sortable:!1,value:"soporte"}],headersExp:[{text:"Descripcion",align:"center",sortable:!1,value:"descripcion"},{text:"Tiempo",align:"center",sortable:!1,value:"tiempo"},{text:"Puntaje Und",align:"center",sortable:!1,value:"puntajeUnd"},{text:"Puntaje Max",align:"center",sortable:!1,value:"puntajeMax"},{text:"Cant Soportada",align:"left",sortable:!1,value:"cantSoportada"},{text:"Soportes",align:"center",sortable:!1,value:"soporte"}],headersOrg:[{text:"Indicador",align:"center",sortable:!1,value:"indicador"},{text:"Operador",align:"center",sortable:!1,value:"operador"},{text:"Cantidad",align:"center",sortable:!1,value:"numero"},{text:"Cumple",align:"center",sortable:!1,value:"cumple"},{text:"Inhabilita",align:"center",sortable:!1,value:"inhabilita"},{text:"Soporte",align:"left",sortable:!1,value:"soporte"}],headersMet:[{text:"Aspecto",align:"center",sortable:!1,value:"aspecto"},{text:"Puntaje Max",align:"center",sortable:!1,value:"puntajemax"},{text:"Actor1",align:"left",sortable:!1,value:"actor1"},{text:"Actor2",align:"left",sortable:!1,value:"actor2"},{text:"Actor3",align:"left",sortable:!1,value:"actor3"},{text:"Soporte",align:"left",sortable:!1,value:"soporte"}],regBD:[],eduPropBD:[],reqEstRol:[],showExpProp:!0,showExpEqu:!0,showMetodologia:!0,showCapOrg:!0,showCapFinanciera:!0,supervisores:[],dSupportExp:!1,selItem:{}}},mounted:function(){var t=this;st["a"].getData().then((function(e){console.log(e),200===e.status?t.supervisores=e.data.data:t.supervisores=[]})).catch((function(t){this.supervisores=[]}))},methods:{handleFileUpload:function(){var t=Eu(He.a.mark((function t(e,a){var o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e),console.log(a),null===e){t.next=10;break}return t.next=5,Ba["a"].upload(e);case 5:o=t.sent,a.file_name=e.name,a.file_path=o.data.url,t.next=12;break;case 10:a.file_name="",a.file_path="";case 12:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),openInNewTab:function(t){var e=window.open(t,"_blank");e.focus()},removeSupervisor:function(t){var e=this.supervisor.indexOf(t.codigo);e>=0&&this.supervisor.splice(e,1)},addSupportExp:function(t){this.selItem=t,console.log(this.selItem),this.dSupportExp=!this.dSupportExp}},computed:{roles:function(){return console.log(this.proponente),this.proponente&&this.proponente.roles?this.proponente.roles.filter((function(t){return"seleccion"===t.tipoRol})):[]},reqProp:function(){return this.proponente&&this.proponente.expProp?this.proponente.expProp.filter((function(t){return"seleccion"===t.tipo})):[]},capOrg:function(){return this.proponente&&this.proponente.capOrg?this.proponente.capOrg:[]},capFin:function(){return this.proponente&&this.proponente.capFin?this.proponente.capFin:[]},expMet:function(){return this.proponente&&this.proponente.expMet?this.proponente.expMet:[]},pesoExp:function(){return this.$store.state.solproc.pesoProp},pesoEqu:function(){return this.$store.state.solproc.pesoEqu},pesoOrg:function(){return this.$store.state.solproc.pesoOrg},pesoFin:function(){return this.$store.state.solproc.pesoFin},pesoMet:function(){return this.$store.state.solproc.pesoMet}}},Du=Tu,Iu=(a("c0ee"),Object(C["a"])(Du,Pu,Au,!1,null,null,null)),Ou=Iu.exports;function Nu(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Mu(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Nu(n,o,i,r,s,"next",t)}function s(t){Nu(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Ru={components:{datosAdjuntos:qd,reqMinProp:wu,critEvaluacion:Ou},props:["proponente","evaluacion"],data:function(){return{e13:1}},mounted:function(){var t=Mu(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("in evproponente"),t.next=3,this.getPropInfo();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{saveInfoProponente:function(){var t=this;console.log(this.proponente),Fs.saveInfo(this.proponente).then((function(e){console.log(e),t.$emit("unselproponente")})).catch((function(t){console.log(t)}))},getPropInfo:function(){var t=Mu(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.proponente?this.proponente.id:"",!e){t.next=9;break}return t.next=4,Fs.getCriterios(e);case 4:a=t.sent,console.log(a),200===a.status?(this.proponente.expProp=a.data.expProp?a.data.expProp:[],this.proponente.roles=a.data.roles?a.data.roles:[],this.proponente.capOrg=a.data.capOrg?a.data.capOrg:[],this.proponente.capFin=a.data.capFin?a.data.capFin:[],this.proponente.expMet=a.data.expMet?a.data.expMet:[],o["default"].set(this.proponente)):(this.proponente.expProp=[],this.proponente.roles=[],this.proponente.capOrg=[],this.proponente.capFin=[],this.proponente.expMet=[]),t.next=10;break;case 9:console.log("proponente no almacenado en la base de datos");case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},Fu=Ru,qu=Object(C["a"])(Fu,uu,pu,!1,null,"55cd62ec",null),Uu=qu.exports,$u={components:{proponentesListaCorta:du,evProponente:Uu},props:["evaluacion"],data:function(){return{propEval:"",tiposListaCorta:[{text:"PERSONA NATURAL – PRESTACIÓN DE SERVICIOS / CONSULTORÍAS INDIVIDUALES",valor:1},{text:"LISTA CORTA DE PERSONA NATURAL (ESTABLECIMIENTOS DE COMERCIO) – ADQUISICIÓN DE BIENES – OBRAS",valor:2},{text:"LISTAS CORTAS DE PERSONA JURÍDICA - PRESTACIÓN DE SERVICIOS  / CONSULTORÍAS DE FIRMA / ADQUISICIÓN DE BIENES / OBRAS",valor:3}],showEvProp:!1}},mounted:function(){console.log("in evlistacorta")},methods:{evaluar:function(t){this.propEval=t,this.showEvProp=!0,console.log(t)}},computed:{tipoLista:{get:function(){return this.$store.state.tipoLista},set:function(t){this.$store.state.tipoLista=t}}},watch:{showEvProp:function(t){!1===t&&(this.propEval="")}}},Lu=$u,Bu=Object(C["a"])(Lu,ou,iu,!1,null,"6fbe4571",null),Gu=Bu.exports,Vu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-checkbox",{staticClass:"mt-2",attrs:{label:"Experiencia del proponente"},model:{value:t.checkExpPropMin,callback:function(e){t.checkExpPropMin=e},expression:"checkExpPropMin"}}),t.checkExpPropMin&&t.solproc?a("expProponente",{attrs:{criterio:"minimo",solproc:t.solproc}}):t._e(),a("v-checkbox",{staticClass:"mt-2",attrs:{label:"Experiencia de equipo de trabajo ó persona natural"},model:{value:t.checkExpEquipMin,callback:function(e){t.checkExpEquipMin=e},expression:"checkExpEquipMin"}}),t.checkExpEquipMin&&t.solproc?a("expEquipoTrabajo",{attrs:{criterio:"minimo",solproc:t.solproc}}):t._e()],1)},zu=[],Xu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mb-5",attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-layout",{attrs:{"align-center":""}},[a("h2",[t._v(t._s(t.titulo))]),"seleccion"===t.criterio?a("v-layout",{attrs:{"ml-4":"","align-center":""}},[a("div",[t._v("%Peso: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.porcentaje,expression:"porcentaje"}],staticStyle:{"background-color":"white",padding:"5px","margin-left":"5px",width:"80px","border-radius":"5px"},attrs:{type:"number"},domProps:{value:t.porcentaje},on:{input:function(e){e.target.composing||(t.porcentaje=e.target.value)}}}),a("span",{staticClass:"ml-3",class:{errorClass:t.calcrestante>100}},[t._v("%Acumulado: "+t._s(t.calcrestante))])]):t._e(),a("v-spacer"),a("v-btn",{attrs:{fab:"",color:"primary",small:""},on:{click:function(e){t.showForm=!t.showForm}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),t.porcentaje?a("v-flex",[t.showForm?a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",{staticClass:"mt-4"},[a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.tiposexperiencia,label:"Tipo de experiencia",dense:"",rules:t.tipoExpRules,required:""},model:{value:t.selTipoExp,callback:function(e){t.selTipoExp=e},expression:"selTipoExp"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.determinante,label:"Determinante",dense:"",rules:t.detRules,required:""},model:{value:t.selDet,callback:function(e){t.selDet=e},expression:"selDet"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.tipodeterminante,label:"Tipo determinante",dense:"",rules:t.tipoDetRules,required:""},model:{value:t.selTipoDet,callback:function(e){t.selTipoDet=e},expression:"selTipoDet"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.itemsunidad,label:"Unidad",dense:"",rules:t.undRules,required:""},model:{value:t.selUnidad,callback:function(e){t.selUnidad=e},expression:"selUnidad"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Cantidad",type:"number",dense:"",rules:t.cantRules,required:""},model:{value:t.cantidad,callback:function(e){t.cantidad=e},expression:"cantidad"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Descripción",maxlength:"200",counter:"",dense:"",rules:t.descRules,required:""},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),"seleccion"===t.criterio?a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Puntaje und",type:"number",dense:"",rules:t.pUndRules,required:"seleccion"===t.criterio},model:{value:t.puntajeunit,callback:function(e){t.puntajeunit=e},expression:"puntajeunit"}})],1):t._e(),"seleccion"===t.criterio?a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Puntaje máx",type:"number",dense:"",rules:t.pMaxRules,required:"seleccion"===t.criterio},model:{value:t.puntajemax,callback:function(e){t.puntajemax=e},expression:"puntajemax"}})],1):t._e()],1),a("v-layout",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:""},on:{click:t.addItem}},[t._v("Agregar")])],1)],1):t._e(),a("v-data-table",{staticClass:"elevation-1 mt-4",attrs:{headers:t.compHeaders,items:t.expProp,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.actions",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"my-1",attrs:{darl:"",small:"",color:"error"},on:{click:function(e){return t.deleteItem(o)}}},[a("v-icon",{attrs:{small:"",left:""}},[t._v("delete")]),t._v("eliminar\n            ")],1)]}},{key:"item.cumple",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4 my-1",staticStyle:{padding:"0px"},attrs:{label:o.cumple?"Cumple":"No cumple","hide-details":""},model:{value:o.cumple,callback:function(e){t.$set(o,"cumple",e)},expression:"item.cumple"}})],1)]}}],null,!1,3253106206)})],1):t._e()],1)],1)],1)},Hu=[],Ju={props:["criterio","solproc"],data:function(){var t=this;return{tiposexperiencia:["General","Específica"],determinante:["Alcance","Cuantía"],detAlcance:["Proyecto","Tiempo"],detCuantia:["0 - 100 millones","100 - 300 millones","300 - 500 millones","500 - 1000 millones","Mayor a 1000 millones"],unidad:["Certificación"],unidadTiempo:["Días","Semanas","Meses","Años"],selTipoExp:"",selDet:"",selTipoDet:"",selUnidad:"",cantidad:"",descripcion:"",puntajeunit:"",puntajemax:"",headers:[{text:"Tipo experiencia",align:"left",sortable:!1,value:"tipoExp"},{text:"Determinante",align:"left",sortable:!1,value:"determinante"},{text:"Tipo determinante",align:"left",sortable:!1,value:"tipoDet"},{text:"Unidad",align:"left",sortable:!1,value:"unidad"},{text:"Cantidad",align:"right",sortable:!1,value:"cantidad"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Cumple",align:"center",sortable:!1,value:"cumple"},{text:"Puntaje und",align:"right",sortable:!1,value:"puntajeUnd"},{text:"Puntaje máx",align:"right",sortable:!1,value:"puntajeMax"},{text:"Acción",align:"center",sortable:!1,value:"actions"}],valid:!0,tipoExpRules:[function(t){return!!t||"Tipo experiencia es requerido"}],detRules:[function(t){return!!t||"Determinante es requerido"}],tipoDetRules:[function(t){return!!t||"Tipo determinate es requerido"}],undRules:[function(t){return!!t||"Unidad es requerido"}],cantRules:[function(t){return!!t||"Cantidad es requerido"}],descRules:[function(t){return!!t||"Descripción es requerido"}],pUndRules:[function(e){return!(!e||"seleccion"!==t.criterio)||"Puntaje unidad es requerido"},function(e){return!((isNaN(e)||e<0||e>100)&&"seleccion"===t.criterio)||"Debe ser de 0 - 100"},function(e){return!(+e>t.puntajemax&&"seleccion"===t.criterio)||"Puntaje und no puede ser mayor a maximo"}],pMaxRules:[function(e){return!(!e||"seleccion"!==t.criterio)||"Puntaje maximo es requerido"},function(e){return!((isNaN(e)||e<0||e>100)&&"seleccion"===t.criterio)||"Debe ser de 0 - 100"},function(e){return!(+e+ +t.acumExp>100&&"seleccion"===t.criterio)||"Acumulado es mayor a 100"},function(e){return!(+e<t.puntajeunit&&"seleccion"===t.criterio)||"Puntaje max no puede ser menor a minimo"}],showForm:!1}},methods:{deleteItem:function(t){var e=this.expProp.indexOf(t);this.solproc.expProp.splice(e,1)},addItem:function(){if(this.$refs.form.validate()){var t={tipo:this.criterio,tipoExp:this.selTipoExp,determinante:this.selDet,tipoDet:this.selTipoDet,unidad:this.selUnidad,cantidad:this.cantidad,descripcion:this.descripcion,cumple:!1,puntajeUnd:this.puntajeunit,puntajeMax:this.puntajemax};this.solproc.expProp.push(t),this.clearForm()}},clearForm:function(){this.selTipoExp="",this.selDet="",this.selTipoDet="",this.selUnidad="",this.descripcion="",this.puntajeunit="",this.puntajemax="",this.cantidad="",this.$refs.form.resetValidation()}},computed:{porcentaje:{get:function(){return"seleccion"!==this.criterio||(!this.solproc||this.solproc.pesoProp)},set:function(t){this.solproc.pesoProp=t}},calcrestante:function(){function t(t){return parseFloat(t||0)}if("seleccion"===this.criterio){var e=this.solproc;return e?t(e.pesoEco)+t(e.pesoEqu)+t(e.pesoFin)+t(e.pesoMet)+t(e.pesoOrg)+t(e.pesoProp)+t(e.porcOfEco):""}return""},tipodeterminante:function(){return"Alcance"===this.selDet?this.detAlcance:"Cuantía"===this.selDet?this.detCuantia:void 0},itemsunidad:function(){return"Tiempo"===this.selTipoDet?this.unidadTiempo:this.unidad},expProp:function(){var t=this;return this.solproc?this.solproc.expProp.filter((function(e){return e.tipo===t.criterio})):[]},acumExp:function(){return 0===this.expProp.length&&"seleccion"!==this.criterio?0:this.expProp.reduce((function(t,e){return t+ +e.puntajeMax}),0)},titulo:function(){return"seleccion"===this.criterio?"Experiencia proponente":"Experiencia minima del proponente"},compHeaders:function(){var t=[];return"seleccion"!==this.criterio&&(t.push("puntajeUnd"),t.push("puntajeMax")),this.evaluacion||(t.push("data-table-expand"),t.push("cumple")),this.headers.filter((function(e){return!t.includes(e.value)}))}}},Yu=Ju,Zu=(a("223c"),Object(C["a"])(Yu,Xu,Hu,!1,null,"eca728f4",null)),Wu=Zu.exports,Qu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-layout",{attrs:{"align-center":""}},[a("h2",[t._v(t._s(t.titulo))]),"seleccion"===t.criterio?a("v-layout",{attrs:{"ml-4":"","align-center":""}},[a("div",[t._v("%Peso: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.porcentaje,expression:"porcentaje"}],staticStyle:{"background-color":"white",padding:"5px","margin-left":"5px",width:"80px","border-radius":"5px"},attrs:{type:"number"},domProps:{value:t.porcentaje},on:{input:function(e){e.target.composing||(t.porcentaje=e.target.value)}}}),a("span",{staticClass:"ml-3",class:{errorClass:t.calcrestante>100}},[t._v("%Acumulado: "+t._s(t.calcrestante))])]):t._e()],1),t.porcentaje?a("v-flex",[t.solproc?a("rolesEquipo",{attrs:{criterio:t.criterio,solproc:t.solproc}}):t._e()],1):t._e()],1)],1)],1)},Ku=[],tp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{"align-center":"","mt-3":""}},[a("h2",[t._v("Roles")]),a("v-spacer"),a("v-btn",{attrs:{fab:"",color:"primary",small:""},on:{click:function(e){t.showForm=!t.showForm}}},[a("v-icon",{attrs:{dark:""}},[t._v(t._s(t.iconExpand))])],1)],1),t.showForm?a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",{staticClass:"align-center",attrs:{"no-gutters":""}},[a("v-text-field",{staticClass:"mr-2",attrs:{label:"Describe el rol",rules:t.rolRules,required:"",dense:""},model:{value:t.rol,callback:function(e){t.rol=e},expression:"rol"}}),"seleccion"===t.criterio?a("div",[a("v-text-field",{staticClass:"mr-2",attrs:{type:"number",label:"Peso del rol",rules:t.porcRolRules,required:"",dense:""},model:{value:t.porcRol,callback:function(e){t.porcRol=e},expression:"porcRol"}})],1):t._e(),a("v-btn",{attrs:{color:"primary",small:""},on:{click:t.addRol}},[t._v("Agregar")])],1)],1):t._e(),a("v-data-table",{staticClass:"elevation-1 mt-4",attrs:{headers:t.compHeaders,items:t.roles,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.actions",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"justify-space-between":"","my-1":""}},[a("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(e){return t.addEducacion(o)}}},[a("v-icon",{attrs:{dark:"",small:"",left:""}},[t._v("school")]),t._v("Educación "+t._s("seleccion"===t.criterio?t.porcEdu(o):"")+"\n        ")],1),a("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(e){return t.addExperiencia(o)}}},[a("v-icon",{attrs:{dark:"",small:"",left:""}},[t._v("build")]),t._v("Experiencia "+t._s("seleccion"===t.criterio?t.porcExp(o):"")+"\n        ")],1),a("v-btn",{attrs:{small:"",color:"error"},on:{click:function(e){return t.deleteRol(o)}}},[a("v-icon",{attrs:{dark:"",small:"",left:""}},[t._v("delete")]),t._v("eliminar\n        ")],1)],1)]}}])}),"seleccion"===t.criterio?a("div",[t.porcRolAcc<=100?a("div",{class:{recText:100!==t.porcRolAcc}},[t._v("\n      Llevas asignado "+t._s(t.porcRolAcc)+"% en tus roles, de un 100%\n    ")]):t._e()]):t._e(),a("v-dialog",{attrs:{width:"900"},model:{value:t.dialogEducacion,callback:function(e){t.dialogEducacion=e},expression:"dialogEducacion"}},[t.dialogEducacion?a("educacion",{attrs:{selRol:t.selRol,criterio:t.criterio}}):t._e()],1),a("v-dialog",{attrs:{width:"900"},model:{value:t.dialogExperiencia,callback:function(e){t.dialogExperiencia=e},expression:"dialogExperiencia"}},[t.dialogExperiencia?a("experiencia",{attrs:{selRol:t.selRol,criterio:t.criterio}}):t._e()],1)],1)},ep=[],ap={components:{educacion:bd,experiencia:Td},props:["criterio","solproc"],data:function(){var t=this;return{showForm:!1,valid:!0,rol:"",porcRol:"",rolRules:[function(t){return!!t||"Rol es requerido"}],porcRolRules:[function(t){return!!t||"Procentaje de rol es requerido"},function(e){return!(+e+ +t.porcRolAcc>100)||"Acumulado es mayor a 100%"}],headers:[{text:"Rol",align:"left",sortable:!1,value:"rol"},{text:"%Rol",align:"left",sortable:!1,value:"porcRol"},{text:"Acciones",align:"center",sortable:!1,value:"actions"}],dialogEducacion:!1,dialogExperiencia:!1,selRol:""}},mounted:function(){},methods:{addEducacion:function(t){this.selRol=t,this.dialogEducacion=!0},addExperiencia:function(t){this.selRol=t,this.dialogExperiencia=!0},addRol:function(){if(this.$refs.form.validate()){var t={tipo:this.criterio,rol:this.rol,porcRol:this.porcRol,educacion:[],experiencia:[],porcEdu:"",porcExp:""};this.solproc.roles.push(t),this.rol="",this.porcRol="",this.$refs.form.resetValidation()}},deleteRol:function(t){var e=this.roles.indexOf(t);this.solproc.roles.splice(e,1)},porcEdu:function(t){return t.porcEdu?"".concat(t.porcEdu,"%"):""},porcExp:function(t){return t.porcExp?"".concat(t.porcExp,"%"):""}},computed:{roles:function(){var t=this;return this.solproc.roles.filter((function(e){return e.tipo===t.criterio}))},iconExpand:function(){return this.showForm?"remove":"add"},porcRolAcc:function(){return"seleccion"===this.criterio?this.solproc.roles.reduce((function(t,e){return"seleccion"===e.tipo?t+ +e.porcRol:t}),0):0},minimo:function(){return this.criterio?"minimo":""},compHeaders:function(){return"seleccion"===this.criterio?this.headers:this.headers.filter((function(t){return"porcRol"!==t.value}))}}},op=ap,ip=(a("0eb0"),Object(C["a"])(op,tp,ep,!1,null,"b43ea8f8",null)),np=ip.exports,rp={components:{rolesEquipo:np},props:["criterio","solproc"],data:function(){return{}},mounted:function(){},computed:{porcentaje:{get:function(){return"seleccion"!==this.criterio||(!this.solproc||this.solproc.pesoEqu)},set:function(t){this.solproc.pesoEqu=t}},calcrestante:function(){function t(t){return parseFloat(t||0)}if("seleccion"===this.criterio){var e=this.solproc;return e?t(e.pesoEco)+t(e.pesoEqu)+t(e.pesoFin)+t(e.pesoMet)+t(e.pesoOrg)+t(e.pesoProp)+t(e.porcOfEco):""}return""},titulo:function(){return"seleccion"===this.criterio?"Formación y/o experiencia de la persona natural o equipo de trabajo":"Formación y/o experiencia mínima de la persona natural o equipo de trabajo"}}},sp=rp,cp=(a("207e"),Object(C["a"])(sp,Qu,Ku,!1,null,"da3e4c7c",null)),lp=cp.exports,dp={props:["solproc"],components:{expProponente:Wu,expEquipoTrabajo:lp},data:function(){return{checkExpPropMin:!1,checkExpEquipMin:!1}},mounted:function(){this.checkExpPropMin=!!this.solproc.expProp.find((function(t){return"minimo"===t.tipo})),this.checkExpEquipMin=!!this.solproc.roles.find((function(t){return"minimo"===t.tipo}))}},up=dp,pp=Object(C["a"])(up,Vu,zu,!1,null,"443a7116",null),mp=pp.exports,vp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-checkbox",{attrs:{label:"Experiencia del proponente"},model:{value:t.checkExpProp,callback:function(e){t.checkExpProp=e},expression:"checkExpProp"}}),t.checkExpProp&&t.solproc?a("expProponente",{attrs:{criterio:"seleccion",solproc:t.solproc}}):t._e(),a("v-checkbox",{attrs:{label:"Experiencia de equipo de trabajo ó persona natural"},model:{value:t.checkExpEquip,callback:function(e){t.checkExpEquip=e},expression:"checkExpEquip"}}),t.checkExpEquip&&t.solproc?a("expEquipoTrabajo",{attrs:{criterio:"seleccion",solproc:t.solproc}}):t._e(),a("v-checkbox",{attrs:{label:"Experiencia financiera"},model:{value:t.checkExpFin,callback:function(e){t.checkExpFin=e},expression:"checkExpFin"}}),t.checkExpFin&&t.solproc?a("capFinanciera",{attrs:{solproc:t.solproc}}):t._e(),a("v-checkbox",{attrs:{label:"Experiencia organizacional"},model:{value:t.checkExpOrg,callback:function(e){t.checkExpOrg=e},expression:"checkExpOrg"}}),t.checkExpOrg&&t.solproc?a("capOrganizacional",{attrs:{solproc:t.solproc}}):t._e(),a("v-checkbox",{attrs:{label:"Experiencia metodologica"},model:{value:t.checkExpMet,callback:function(e){t.checkExpMet=e},expression:"checkExpMet"}}),t.checkExpMet&&t.solproc?a("metodologia",{attrs:{solproc:t.solproc}}):t._e(),a("v-checkbox",{attrs:{label:"Oferta economica"},model:{value:t.checkExpEco,callback:function(e){t.checkExpEco=e},expression:"checkExpEco"}}),t.checkExpEco&&t.solproc?a("ofEconomica",{attrs:{solproc:t.solproc}}):t._e(),a("v-divider"),t.solproc?a("criteriosDesempate",{attrs:{solproc:t.solproc}}):t._e()],1)},hp=[],fp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-layout",{staticClass:"mb-1",attrs:{"align-center":""}},[a("h2",[t._v("Capacidad financiera")]),a("v-layout",{attrs:{"ml-4":"","align-center":""}},[a("div",[t._v("%Peso: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.porcentaje,expression:"porcentaje"}],staticStyle:{"background-color":"white",padding:"5px","margin-left":"5px",width:"80px","border-radius":"5px"},attrs:{type:"number"},domProps:{value:t.porcentaje},on:{input:function(e){e.target.composing||(t.porcentaje=e.target.value)}}}),a("span",{staticClass:"ml-3",class:{errorClass:t.calcrestante>100}},[t._v("%Acumulado: "+t._s(t.calcrestante))])]),a("v-spacer"),a("v-btn",{attrs:{fab:"",color:"primary",small:""},on:{click:function(e){t.showForm=!t.showForm}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),t.porcentaje?a("v-flex",[t.showForm?a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-select",{attrs:{items:t.indicador,label:"Indicador",rules:t.indRules,required:"",dense:""},model:{value:t.selIndicador,callback:function(e){t.selIndicador=e},expression:"selIndicador"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-select",{attrs:{items:t.operadores,label:"Operador matemático",rules:t.operadorRules,required:"",dense:""},model:{value:t.selOperador,callback:function(e){t.selOperador=e},expression:"selOperador"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Número",type:"number",rules:t.cantRules,dense:"",required:"",messages:t._f("moneyFormat")(t.selCantidad)},model:{value:t.selCantidad,callback:function(e){t.selCantidad=e},expression:"selCantidad"}})],1)],1),a("v-layout",{staticClass:"pb-3",attrs:{"align-center":""}},[a("v-checkbox",{staticClass:"justify-center ma-0",attrs:{label:"Si no se cumple se inhabilita? S/N",dense:"","hide-details":""},model:{value:t.selInhabilita,callback:function(e){t.selInhabilita=e},expression:"selInhabilita"}}),a("v-spacer"),a("div",{staticStyle:{width:"100px"}},[a("v-btn",{attrs:{block:"",color:"primary",small:""},on:{click:t.addCapFinanciera}},[t._v("Agregar")])],1)],1)],1):t._e(),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.itemsCapFinanciera,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.numero",fn:function(e){var o=e.item;return[a("div",[t._v("\n              "+t._s(t._f("moneyFormat")(o.numero))+"\n            ")])]}},{key:"item.inhabilita",fn:function(e){var o=e.item;return[a("div",[t._v(t._s(o.inhabilita?"Sí":"No"))])]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error",dark:""},on:{click:function(e){return t.deleteItem(o)}}},[a("v-icon",{attrs:{small:"",left:""}},[t._v("delete")]),t._v("eliminar\n            ")],1)]}}],null,!1,422074714)})],1):t._e()],1)],1)],1)},gp=[],bp={props:["solproc"],data:function(){return{indicador:["Índice de liquidez","Índice de endeudamiento","Razón de cobertura de intereses","Capital de trabajo","Razón de efectivo","Prueba ácida","Patrimonio","Concentración de endeudamiento a corto plazo","Concentración de endeudamiento a largo plazo"],operadores:[">","<",">=","<=","="],selIndicador:"",selOperador:"",selCantidad:"",selInhabilita:!1,valid:!0,indRules:[function(t){return!!t||"Indicador es requerido"}],cantRules:[function(t){return!!t||"Cantidad es requerido"}],operadorRules:[function(t){return!!t||"Operador es requerido"}],headers:[{text:"Indicador",align:"left",sortable:!1,value:"indicador"},{text:"Operador",align:"left",sortable:!1,value:"operador"},{text:"Cantidad",align:"left",sortable:!1,value:"numero"},{text:"Inhabilita",align:"left",sortable:!1,value:"inhabilita"},{text:"Acciones",align:"left",sortable:!1,value:"actions"}],showForm:!1}},filters:{moneyFormat:function(t){return t?"$".concat(t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")):""}},methods:{deleteItem:function(t){var e=this.itemsCapFinanciera.indexOf(t);this.itemsCapFinanciera.splice(e,1)},addCapFinanciera:function(){if(this.$refs.form.validate()){var t={indicador:this.selIndicador,operador:this.selOperador,numero:this.selCantidad,inhabilita:this.selInhabilita};this.solproc.expFin.push(t),this.clearForm()}},clearForm:function(){this.selIndicador="",this.selOperador="",this.selCantidad="",this.selInhabilita=!1,this.$refs.form.resetValidation()}},computed:{porcentaje:{get:function(){return this.solproc?this.solproc.pesoFin:""},set:function(t){this.solproc.pesoFin=t}},calcrestante:function(){function t(t){return parseFloat(t||0)}var e=this.solproc;return e?t(e.pesoEco)+t(e.pesoEqu)+t(e.pesoFin)+t(e.pesoMet)+t(e.pesoOrg)+t(e.pesoProp)+t(e.porcOfEco):0},resultado:function(){var t=[];if(!this.porcentaje)return 0;if(0===this.expProp.length)return 0;this.expProp.forEach((function(e){t.push(e.puntajeUnd*e.puntajeMax/100)}));var e=t.reduce((function(t,e){return t+e}),0);return(this.porcentaje*(e/100)).toFixed(2)},itemsCapFinanciera:function(){return this.solproc.expFin}}},xp=bp,_p=(a("76c9"),Object(C["a"])(xp,fp,gp,!1,null,"84533b9e",null)),yp=_p.exports,kp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-layout",{staticClass:"mb-1",attrs:{"align-center":""}},[a("h2",[t._v("Capacidad organizacional")]),a("v-layout",{attrs:{"ml-4":"","align-center":""}},[a("div",[t._v("%Peso: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.porcentaje,expression:"porcentaje"}],staticStyle:{"background-color":"white",padding:"5px","margin-left":"5px",width:"80px","border-radius":"5px"},attrs:{type:"number"},domProps:{value:t.porcentaje},on:{input:function(e){e.target.composing||(t.porcentaje=e.target.value)}}}),a("span",{staticClass:"ml-3",class:{errorClass:t.calcrestante>100}},[t._v("%Acumulado: "+t._s(t.calcrestante))])]),a("v-spacer"),a("v-btn",{attrs:{fab:"",color:"primary",small:""},on:{click:function(e){t.showForm=!t.showForm}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),t.porcentaje?a("v-flex",[t.showForm?a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-select",{attrs:{items:t.indicador,label:"Indicador",rules:t.indRules,required:"",dense:""},model:{value:t.selIndicador,callback:function(e){t.selIndicador=e},expression:"selIndicador"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-select",{attrs:{items:t.operadores,label:"Operador matemático",rules:t.operadorRules,required:"",dense:""},model:{value:t.selOperador,callback:function(e){t.selOperador=e},expression:"selOperador"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Número",type:"number",rules:t.cantRules,dense:"",required:"",messages:t._f("moneyFormat")(t.selCantidad)},model:{value:t.selCantidad,callback:function(e){t.selCantidad=e},expression:"selCantidad"}})],1)],1),a("v-layout",{attrs:{"align-center":"","mb-3":""}},[a("v-spacer"),a("div",{staticStyle:{width:"100px"}},[a("v-btn",{attrs:{block:"",color:"primary",small:""},on:{click:t.addCapOrganizacional}},[t._v("Agregar")])],1)],1)],1):t._e(),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.itemsCapOrg,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.numero",fn:function(e){var o=e.item;return[a("div",[t._v("\n              "+t._s(t._f("moneyFormat")(o.numero))+"\n            ")])]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error",dark:""},on:{click:function(e){return t.delOrg(o)}}},[a("v-icon",{attrs:{left:"",small:""}},[t._v("delete")]),t._v("eliminar\n            ")],1)]}}],null,!1,1512593329)})],1):t._e()],1)],1)],1)},Cp=[],Sp={props:["solproc"],data:function(){return{indicador:["Rentabilidad del patrimonio","Rentabilidad del activo","Margen bruto","Margen neto","Margen operacional","Retorno sobre capital invertido","Rotación de activos totales","Rotación de activos fijos","Rotación de inventarios"],operadores:[">","<",">=","<=","="],selIndicador:"",selOperador:"",selCantidad:"",valid:!0,indRules:[function(t){return!!t||"Indicador es requerido"}],cantRules:[function(t){return!!t||"Cantidad es requerido"}],operadorRules:[function(t){return!!t||"Operador es requerido"}],headers:[{text:"Indicador",align:"left",sortable:!1,value:"indicador"},{text:"Operador",align:"left",sortable:!1,value:"operador"},{text:"Cantidad",align:"left",sortable:!1,value:"numero"},{text:"Aciones",align:"left",sortable:!1,value:"actions"}],showForm:!1}},filters:{moneyFormat:function(t){return t?"$".concat(t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")):""}},methods:{addCapOrganizacional:function(){if(this.$refs.form.validate()){var t={indicador:this.selIndicador,operador:this.selOperador,numero:this.selCantidad};this.solproc.expOrg.push(t),this.clearForm()}},clearForm:function(){this.selIndicador="",this.selOperador="",this.selCantidad="",this.$refs.form.resetValidation()},delOrg:function(t){var e=this.itemsCapOrg.indexOf(t);this.itemsCapOrg.splice(e,1)}},computed:{porcentaje:{get:function(){return this.solproc?this.solproc.pesoOrg:""},set:function(t){this.solproc.pesoOrg=t}},calcrestante:function(){function t(t){return parseFloat(t||0)}var e=this.solproc;return e?t(e.pesoEco)+t(e.pesoEqu)+t(e.pesoFin)+t(e.pesoMet)+t(e.pesoOrg)+t(e.pesoProp)+t(e.porcOfEco):0},itemsCapOrg:function(){return this.solproc.expOrg}}},wp=Sp,Pp=(a("5a09"),Object(C["a"])(wp,kp,Cp,!1,null,"3e3b6f66",null)),Ap=Pp.exports,jp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-layout",{staticClass:"mb-1",attrs:{"align-center":""}},[a("h2",[t._v("Metodología/prueba técnica")]),a("v-layout",{attrs:{"ml-4":"","align-center":""}},[a("div",[t._v("%Peso: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.porcentaje,expression:"porcentaje"}],staticStyle:{"background-color":"white",padding:"5px","margin-left":"5px",width:"80px","border-radius":"5px"},attrs:{type:"number"},domProps:{value:t.porcentaje},on:{input:function(e){e.target.composing||(t.porcentaje=e.target.value)}}}),a("span",{staticClass:"ml-3",class:{errorClass:t.calcrestante>100}},[t._v("%Acumulado: "+t._s(t.calcrestante))])]),a("v-spacer"),a("v-btn",{attrs:{fab:"",color:"primary",small:""},on:{click:function(e){t.showForm=!t.showForm}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),t.porcentaje?a("v-flex",[t.showForm?a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",{staticClass:"align-center"},[a("v-col",{attrs:{cols:"4"}},[a("v-select",{attrs:{items:t.items,label:"Aspecto a evaluar",rules:t.aspectoRules,required:"",dense:""},model:{value:t.aspecto,callback:function(e){t.aspecto=e},expression:"aspecto"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Puntaje máx",type:"number",rules:t.puntajeRules,required:"",dense:""},model:{value:t.puntajemax,callback:function(e){t.puntajemax=e},expression:"puntajemax"}})],1),a("v-col"),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{attrs:{block:"",color:"primary",small:""},on:{click:t.addMetodologia}},[t._v("Agregar")])],1)],1)],1):t._e(),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.itemsMetodologia,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.actions",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error",dark:""},on:{click:function(e){return t.deleteItem(o)}}},[a("v-icon",{attrs:{left:"",small:""}},[t._v("delete")]),t._v("eliminar\n            ")],1)]}}],null,!1,708170602)})],1):t._e()],1)],1)],1)},Ep=[],Tp={props:["solproc"],data:function(){var t=this;return{aspecto:"",puntajemax:"",items:["Entendimiento y análisis","Profundidad temática","Desarrollo de requerimientos","Plan de trabajo","Gestión del recurso humano","Prueba Técnica"],valid:!0,aspectoRules:[function(t){return!!t||"Aspecto es requerido"}],puntajeRules:[function(t){return!!t||"Puntaje es requerido"},function(t){return!(isNaN(t)||t<0||t>100)||"Debe ser de 0 - 100"},function(e){return!(+e+ +t.acumExp>100)||"Acumulado es mayor a 100"}],headers:[{text:"Aspecto a evaluar",align:"left",sortable:!1,value:"aspecto"},{text:"Puntaje máximo",align:"left",sortable:!1,value:"puntajemax"},{text:"Acciones",align:"left",sortable:!1,value:"actions"}],showForm:!1}},methods:{deleteItem:function(t){var e=this.itemsMetodologia.indexOf(t);this.itemsMetodologia.splice(e,1)},addMetodologia:function(){if(this.$refs.form.validate()){var t={aspecto:this.aspecto,puntajemax:this.puntajemax};this.solproc.expMet.push(t),this.clearForm()}},clearForm:function(){this.aspecto="",this.puntajemax="",this.$refs.form.resetValidation()}},computed:{porcentaje:{get:function(){return this.solproc.pesoMet},set:function(t){this.solproc.pesoMet=t}},calcrestante:function(){function t(t){return parseFloat(t||0)}var e=this.solproc;return t(e.pesoEco)+t(e.pesoEqu)+t(e.pesoFin)+t(e.pesoMet)+t(e.pesoOrg)+t(e.pesoProp)+t(e.porcOfEco)},itemsMetodologia:function(){return this.solproc.expMet},acumExp:function(){return this.itemsMetodologia.reduce((function(t,e){return t+e.puntajemax}),0)}}},Dp=Tp,Ip=(a("1d2c"),Object(C["a"])(Dp,jp,Ep,!1,null,"51338838",null)),Op=Ip.exports,Np=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-layout",{attrs:{"align-center":""}},[a("h2",[t._v("Oferta económica")]),a("v-layout",{attrs:{"ml-4":"","align-center":""}},[a("div",[t._v("%Peso: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.porcentaje,expression:"porcentaje"}],staticStyle:{"background-color":"white",padding:"5px","margin-left":"5px",width:"80px","border-radius":"5px"},attrs:{type:"number"},domProps:{value:t.porcentaje},on:{input:function(e){e.target.composing||(t.porcentaje=e.target.value)}}}),a("span",{staticClass:"ml-3",class:{errorClass:t.calcrestante>100}},[t._v("%Acumulado: "+t._s(t.calcrestante))])])],1),t.porcentaje?a("v-flex",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",{staticClass:"align-center"},[a("v-col",{attrs:{cols:"4"}},[a("v-select",{attrs:{items:t.items,label:"Aspecto",filled:"","item-value":"value","item-text":"value",rules:t.aspectoRules,required:"",dense:""},model:{value:t.aspecto,callback:function(e){t.aspecto=e},expression:"aspecto"}})],1),a("v-col")],1)],1)],1):t._e()],1)],1)],1)},Mp=[],Rp={props:["solproc"],data:function(){return{items:[],valid:!0,aspectoRules:[function(t){return!!t||"Aspecto es requerido"}]}},mounted:function(){this.items=this.$store.state.tipoOfertaEconomica},computed:{porcentaje:{get:function(){return this.solproc?this.solproc.pesoEco:""},set:function(t){this.solproc.pesoEco=t}},aspecto:{get:function(){return this.solproc.ofEconomica},set:function(t){this.solproc.ofEconomica=t}},calcrestante:function(){function t(t){return parseFloat(t||0)}var e=this.solproc;return e?t(e.pesoEco)+t(e.pesoEqu)+t(e.pesoFin)+t(e.pesoMet)+t(e.pesoOrg)+t(e.pesoProp)+t(e.porcOfEco):0}}},Fp=Rp,qp=(a("ed26"),Object(C["a"])(Fp,Np,Mp,!1,null,"66e5c1be",null)),Up=qp.exports,$p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"mt-3"},[t._v("Criterios de desempate")]),a("v-form",{ref:"form",staticClass:"mt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{label:"Criterio de desempate",filled:"",maxlength:"25",counter:"",rules:t.criterioRules,required:""},model:{value:t.criterioDesempate,callback:function(e){t.criterioDesempate=e},expression:"criterioDesempate"}}),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.addCriDesempate}},[t._v("agregar")])],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.criDesempate,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.actions",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error",dark:""},on:{click:function(e){return t.delCriDesempate(o)}}},[a("v-icon",{attrs:{left:"",small:""}},[t._v("delete")]),t._v("eliminar\n      ")],1)]}}])})],1)},Lp=[],Bp={props:["solproc"],data:function(){return{headers:[{text:"Criterio desempate",align:"left",sortable:!1,value:"criterio"},{text:"Aciones",align:"left",sortable:!1,value:"actions"}],valid:!0,criterioDesempate:"",criterioRules:[function(t){return!!t||"Debes especificar el criterio de desempate"}]}},methods:{addCriDesempate:function(){if(this.$refs.form.validate()){var t={criterio:this.criterioDesempate};this.solproc.criDes.push(t),this.criterioDesempate="",this.$refs.form.resetValidation()}},delCriDesempate:function(t){var e=this.criDesempate.indexOf(t);this.criDesempate.splice(e,1)}},computed:{criDesempate:function(){return this.solproc?this.solproc.criDes:[]}}},Gp=Bp,Vp=Object(C["a"])(Gp,$p,Lp,!1,null,"2010ea1f",null),zp=Vp.exports,Xp={props:["solproc"],components:{expProponente:Wu,expEquipoTrabajo:lp,capFinanciera:yp,capOrganizacional:Ap,metodologia:Op,ofEconomica:Up,criteriosDesempate:zp},data:function(){return{checkExpProp:!1,checkExpEquip:!1,checkExpFin:!1,checkExpOrg:!1,checkExpMet:!1,checkExpEco:!1}},mounted:function(){this.checkExpProp=!!this.solproc.expProp.find((function(t){return"seleccion"===t.tipo})),this.checkExpEquip=!!this.solproc.roles.find((function(t){return"seleccion"===t.tipo})),this.checkExpFin=this.solproc.expFin.length>0,this.checkExpOrg=this.solproc.expOrg.length>0,this.checkExpMet=this.solproc.expMet.length>0,this.checkExpEco=!!this.solproc.ofEconomica}},Hp=Xp,Jp=Object(C["a"])(Hp,vp,hp,!1,null,"dbcd100c",null),Yp=Jp.exports,Zp={components:{evProponentes:Gu,proponentesListaCorta:du,smallAdj:Xs,criteriosMinimos:mp,criteriosSeleccion:Yp},props:["evaluacion"],data:function(){return{}},methods:{actAdjuntos:function(t){this.$store.commit("actAdjuntos",t)}},computed:{caracteristicasBien:{get:function(){var t=this.$store.state.solproc.caracteristicasBS;return t},set:function(t){this.$store.state.solproc.caracteristicasBS=t}},cumpleBien:{get:function(){return this.$store.state.solproc.cumple_bso},set:function(t){this.$store.state.solproc.cumple_bso=t}},bienAdjuntos:{get:function(){var t=this.$store.state.solproc.adjuntos.find((function(t){return"bienserv"===t.tipo}));return t?{file_name:t.nombre,file_path:t.path}:{}},set:function(t){}},proponentes:function(){return this.$store.state.solproc.proponentes},solproc:function(){return this.$store.state.solproc}}},Wp=Zp,Qp=(a("a38c"),Object(C["a"])(Wp,eu,au,!1,null,"5880a353",null)),Kp=Qp.exports,tm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"mb-3"},[t._v("Convocatoria publica")]),t.evaluacion?a("div",[a("evProponentesConvocatria",{attrs:{evaluacion:t.evaluacion}})],1):t._e(),t.evaluacion?t._e():a("div",[a("v-textarea",{attrs:{label:"Caracteristicas del bien, servicio u obras",rows:"3",maxlength:"500",counter:""},model:{value:t.caracteristicasBien,callback:function(e){t.caracteristicasBien=e},expression:"caracteristicasBien"}}),a("v-row",{staticClass:"mb-5",attrs:{align:"center","no-gutters":""}},[a("smallAdj",{attrs:{item:t.bienAdjuntos,icon:"$file"},on:{"file-changed":t.actAdjuntos}}),a("v-spacer"),a("v-switch",{staticStyle:{margin:"0px"},attrs:{label:"Cumple bien/adjunto/obra?","hide-details":"",color:"primary"},model:{value:t.cumpleBien,callback:function(e){t.cumpleBien=e},expression:"cumpleBien"}})],1),a("v-divider"),a("div",{staticClass:"mt-5"},[a("h2",[t._v("Criterios minimos")]),a("v-checkbox",{attrs:{label:"Experiencia de equipo de trabajo ó persona natural"},model:{value:t.checkExpEquipMin,callback:function(e){t.checkExpEquipMin=e},expression:"checkExpEquipMin"}}),t.checkExpEquipMin?a("expEquipoTrabajo",{attrs:{criterio:"minimo"}}):t._e(),a("v-checkbox",{attrs:{label:"Experiencia del proponente"},model:{value:t.checkExpPropMin,callback:function(e){t.checkExpPropMin=e},expression:"checkExpPropMin"}}),t.checkExpPropMin?a("expProponente",{attrs:{criterio:"minimo"}}):t._e(),a("v-divider"),a("h2",{staticClass:"mt-3",staticStyle:{color:"#943A4A"}},[t._v("Criterios de selección")]),a("v-checkbox",{attrs:{label:"Experiencia del proponente"},model:{value:t.checkExpProp,callback:function(e){t.checkExpProp=e},expression:"checkExpProp"}}),t.checkExpProp?a("expProponente",{attrs:{criterio:"seleccion"}}):t._e(),a("v-checkbox",{attrs:{label:"Experiencia de equipo de trabajo ó persona natural"},model:{value:t.checkExpEquip,callback:function(e){t.checkExpEquip=e},expression:"checkExpEquip"}}),t.checkExpEquip?a("expEquipoTrabajo",{attrs:{criterio:"seleccion"}}):t._e(),a("v-checkbox",{attrs:{label:"Experiencia financiera"},model:{value:t.checkExpFin,callback:function(e){t.checkExpFin=e},expression:"checkExpFin"}}),t.checkExpFin?a("capFinanciera"):t._e(),a("v-checkbox",{attrs:{label:"Experiencia organizacional"},model:{value:t.checkExpOrg,callback:function(e){t.checkExpOrg=e},expression:"checkExpOrg"}}),t.checkExpOrg?a("capOrganizacional"):t._e(),a("v-checkbox",{attrs:{label:"Experiencia metodologica"},model:{value:t.checkExpMet,callback:function(e){t.checkExpMet=e},expression:"checkExpMet"}}),t.checkExpMet?a("metodologia"):t._e(),a("v-checkbox",{attrs:{label:"Oferta economica"},model:{value:t.checkExpEco,callback:function(e){t.checkExpEco=e},expression:"checkExpEco"}}),t.checkExpEco?a("ofEconomica"):t._e(),a("v-divider"),a("criteriosDesempate")],1)],1)])},em=[],am=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-flex",{attrs:{"mt-3":""}},[a("v-select",{attrs:{label:"Tipo de convocatoria",items:t.tiposConvocatoria,"item-text":"text","return-object":"",filled:""},model:{value:t.tipoLista,callback:function(e){t.tipoLista=e},expression:"tipoLista"}})],1),a("proponentesListaCorta",{staticClass:"mb-5",attrs:{evaluacion:t.evaluacion},on:{evaluarProp:t.evaluar}}),a("v-dialog",{attrs:{width:"1000"},model:{value:t.showEvProp,callback:function(e){t.showEvProp=e},expression:"showEvProp"}},[t.propEval?a("evProponente",{attrs:{proponente:t.propEval,evaluacion:t.evaluacion},on:{unselproponente:function(e){t.propEval="",t.showEvProp=!t.showEvProp}}}):t._e()],1)],1)},om=[],im={components:{proponentesListaCorta:du,evProponente:Uu},props:["evaluacion"],data:function(){return{propEval:"",tiposConvocatoria:[{text:"CONVOCATORIA DE PERSONA NATURAL – PRESTACIÓN DE SERVICIOS / CONSULTORÍAS INDIVIDUALES",valor:4},{text:"CONVOCATORIA DE PERSONA JURÍDICA - PRESTACIÓN DE SERVICIOS  / CONSULTORÍAS DE FIRMA / ADQUISICIÓN DE BIENES / OBRAS",valor:5}],showEvProp:!1}},mounted:function(){console.log("in evlistacorta")},methods:{evaluar:function(t){this.propEval=t,this.showEvProp=!0,console.log(t)}},computed:{tipoLista:{get:function(){return this.$store.state.tipoLista},set:function(t){this.$store.state.tipoLista=t}}},watch:{showEvProp:function(t){!1===t&&(this.propEval="")}}},nm=im,rm=Object(C["a"])(nm,am,om,!1,null,"37be1e80",null),sm=rm.exports,cm={components:{evProponentesConvocatria:sm,expProponente:Wu,expEquipoTrabajo:lp,capFinanciera:yp,capOrganizacional:Ap,metodologia:Op,ofEconomica:Up,criteriosDesempate:zp,smallAdj:Xs},props:["evaluacion"],data:function(){return{checkExpPropMin:!1,checkExpEquipMin:!1,checkExpProp:!1,checkExpEquip:!1,checkExpFin:!1,checkExpOrg:!1,checkExpMet:!1,checkExpEco:!1}},mounted:function(){console.log(this.evaluacion),this.checkExpPropMin=!!this.$store.state.solproc.expProp.find((function(t){return"minimo"===t.tipo})),this.checkExpEquipMin=!!this.$store.state.solproc.roles.find((function(t){return"minimo"===t.tipo})),this.checkExpProp=!!this.$store.state.solproc.expProp.find((function(t){return"seleccion"===t.tipo})),this.checkExpEquip=!!this.$store.state.solproc.roles.find((function(t){return"seleccion"===t.tipo})),this.checkExpFin=this.$store.state.solproc.expFin.length>0,this.checkExpOrg=this.$store.state.solproc.expOrg.length>0,this.checkExpMet=this.$store.state.solproc.expMet.length>0,this.checkExpEco=!!this.$store.state.solproc.ofEconomica},methods:{actAdjuntos:function(t){this.$store.commit("actAdjuntos",t)}},computed:{caracteristicasBien:{get:function(){var t=this.$store.state.solproc.caracteristicasBS;return t},set:function(t){this.$store.state.solproc.caracteristicasBS=t}},cumpleBien:{get:function(){return this.$store.state.solproc.cumple_bso},set:function(t){this.$store.state.solproc.cumple_bso=t}},bienAdjuntos:{get:function(){var t=this.$store.state.solproc.adjuntos.find((function(t){return"bienserv"===t.tipo}));return t?{file_name:t.nombre,file_path:t.path}:{}},set:function(t){}}}},lm=cm,dm=Object(C["a"])(lm,tm,em,!1,null,"7a4f0895",null),um=dm.exports;function pm(t){return hm(t)||vm(t)||mm()}function mm(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function vm(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function hm(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var fm={components:{personal:Bd,bienesyotros:Jd,personaJuridica:tu,listaCorta:Kp,convPublica:um},props:["evaluacion","tipo"],data:function(){return{objTipoCont:{},tipoProc:""}},mounted:function(){this.tipoProc=this.$store.state.solproc.tipoProc;var t=0;"dir_personal"===this.tipoContrato&&(t=1),"dir_bien"===this.tipoContrato&&(t=2),"dir_juridica"===this.tipoContrato&&(t=3),"lista_corta"===this.tipoContrato&&(t=4),"conv_publica"===this.tipoContrato&&(t=5),this.objTipoCont={text:this.tipoContrato,val:t},console.log("Evaluacion: "+this.evaluacion),this.idSolictud||this.setAdjuntosReq()},methods:{setTipoContrtacion:function(t,e){this.objTipoCont={text:t,val:e},this.tipoContrato=t,this.setAdjuntosReq()},setBaseAdjPersonal:function(){this.adjuntos=pm(this.$store.state.adjPersonales)},setBaseAdjBienes:function(){this.adjuntos=pm(this.$store.state.adjBienes)},setBaseAdjJuridica:function(){this.adjuntos=pm(this.$store.state.adjJuridica)},setAdjuntosReq:function(){1===this.objTipoCont.val&&this.setBaseAdjPersonal(),2===this.objTipoCont.val&&this.setBaseAdjBienes(),3===this.objTipoCont.val&&this.setBaseAdjJuridica()}},computed:{e13:function(){return this.objTipoCont?this.objTipoCont.val:1},tipoContrato:{get:function(){var t=this.$store.state.solproc.tipoContratacion;return t},set:function(t){this.$store.state.solproc.tipoContratacion=t}},adjuntos:{get:function(){return this.$store.state.solproc.adjuntos},set:function(t){this.$store.state.solproc.adjuntos=t}},idSolictud:function(){return this.$store.state.solproc.id}},watch:{tipoProc:function(t){this.tipoProc=t}}},gm=fm,bm=Object(C["a"])(gm,ld,dd,!1,null,"673be633",null),xm=bm.exports,_m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:"",dense:""}},[a("v-toolbar-title",[t._v("Comentarios")]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",{on:{click:function(e){t.showSearch=!t.showSearch}}},[t._v("search")])],1),t.showSearch?a("v-text-field",{staticClass:"inputTable",staticStyle:{"max-width":"300px"},attrs:{light:"",placeholder:"Filtrar",rounded:"","hide-details":"",solo:"",dense:"",flat:""},model:{value:t.filtro,callback:function(e){t.filtro=e},expression:"filtro"}}):t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",{on:{click:function(e){t.showAddCommit=!t.showAddCommit}}},[t._v("add")])],1)],1),a("v-container",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target"}},[t.compItems.length>0?a("v-list",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:t.onScroll,expression:"onScroll",arg:"#scroll-target"}],attrs:{"two-line":""}},[a("v-list-item-group",{attrs:{"active-class":"blue--text"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[t._l(t.compItems,(function(e,o){return[a("v-list-item",{key:e.id+e.usuario,scopedSlots:t._u([{key:"default",fn:function(o){return[a("v-list-item-content",[a("v-list-item-title",[a("v-layout",{attrs:{"align-center":""}},[a("div",{staticClass:"text--secondary"},[t._v(t._s(e.usuario))]),a("v-spacer"),a("div",{staticClass:"text--secondary caption"},[t._v(t._s(e.creado.substring(0,10)))])],1)],1),a("v-list-item-subtitle",[a("v-layout",{staticClass:"text--primary text-wrap",attrs:{wrap:""}},[a("div",{domProps:{innerHTML:t._s(e.comentario)}})])],1),a("v-list-item-subtitle",[e.file_path?a("v-layout",{attrs:{wrap:""}},[a("v-spacer"),a("v-btn",{staticClass:"mx-1",attrs:{small:"",outlined:"",color:"primary",target:"_blank"},on:{click:function(a){return t.getFile(e.file_path)}}},[t._v(t._s(e.file_name))])],1):t._e()],1)],1)]}}],null,!0)}),o+1<t.compItems.length?a("v-divider",{key:e.id}):t._e()]}))],2)],1):t._e()],1),a("v-dialog",{attrs:{width:"800"},model:{value:t.showAddCommit,callback:function(e){t.showAddCommit=e},expression:"showAddCommit"}},[a("v-card",[a("v-card-title",[a("div",{staticClass:"lg-h2"},[t._v("Comentario")])]),a("v-card-text",[a("vue-editor",{attrs:{id:"editor2","editor-toolbar":t.customToolbar},model:{value:t.comentario,callback:function(e){t.comentario=e},expression:"comentario"}}),t.ruleste2?a("p",{staticStyle:{color:"red"}},[t._v(t._s(t.ruleste2))]):t._e(),a("smallAdj",{staticClass:"my-5",attrs:{item:t.objFile}}),a("v-layout",[a("v-spacer"),a("v-btn",{attrs:{outlined:"",color:"primary",small:""},on:{click:function(e){t.showAddCommit=!t.showAddCommit}}},[t._v("cancelar")]),a("v-btn",{staticClass:"ml-2",attrs:{color:"primary",small:""},on:{click:t.addCommit}},[t._v("Guardar")])],1)],1)],1)],1)],1)},ym=[],km=a("5873");function Cm(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Sm(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Cm(n,o,i,r,s,"next",t)}function s(t){Cm(n,o,i,r,s,"throw",t)}r(void 0)}))}}var wm={props:["reloadCommits","solproc"],components:{VueEditor:km["a"],smallAdj:Xs},data:function(){return{comentarios:[],selected:"",showAddCommit:!1,comentario:"",files:[],objFile:{},offsetTop:0,showSearch:!1,filtro:"",customToolbar:[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]}},mounted:function(){var t=Sm(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAllCommits();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getAllCommits:function(){var t=Sm(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sc.getCommits(this.$route.params.idProc);case 3:e=t.sent,console.log(e),this.comentarios=e.data,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),this.comentarios=[];case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),addCommit:function(){var t=Sm(He.a.mark((function t(){var e,a,o,i,n;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==this.ruleste2){t.next=21;break}return e=this.objFile.file_name?this.objFile.file_name:"",a=this.objFile.file_path?this.objFile.file_path:"",o={comentario:this.comentario,usuario:this.$session.get("usuario"),id:this.$route.params.idProc,file_name:e,file_path:a},console.log(o),i=new FormData,i.append("obj",JSON.stringify(o)),t.prev=7,t.next=10,Sc.saveCommit(i);case 10:n=t.sent,console.log(n),this.comentario="",this.objFile={},this.showAddCommit=!1,this.getAllCommits(),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](7),console.log(t.t0);case 21:case"end":return t.stop()}}),t,this,[[7,18]])})));function e(){return t.apply(this,arguments)}return e}(),getFile:function(){var t=Sm(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=window.open(e,"_blank"),a.focus();case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),onScroll:function(t){this.offsetTop=t.target.scrollTop}},computed:{compItems:function(){var t=this;return this.items.filter((function(e){return e.comentario.toUpperCase().includes(t.filtro.toUpperCase())||e.usuario.toUpperCase().includes(t.filtro.toUpperCase())||e.creado.includes(t.filtro.toUpperCase())}))},inputRules:function(){var t=[];return this.files.forEach((function(e){e.size>5e6&&t.push("El archivo debe tener un tamaño menor a 5 MB!")})),t},ruleste2:function(){return this.comentario.length>500?"Demasiados caracteres en la observacion, limite 500":""},items:function(){return this.comentarios?this.comentarios:[]}},watch:{reloadCommits:function(){this.getAllCommits()}}},Pm=wm,Am=(a("cc13"),Object(C["a"])(Pm,_m,ym,!1,null,"1a9fae96",null)),jm=Am.exports,Em=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-text",[a("v-data-table",{staticStyle:{"padding-top":"20px"},attrs:{headers:t.headers,items:t.compCDP,flat:"","items-per-page":5},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",{attrs:{"no-gutters":"",align:"center"}},[a("h3",[t._v(t._s(t.titleTxt))]),t.lectura?t._e():a("v-btn",{staticClass:"ml-5",attrs:{fab:"",small:"",color:"primary"},on:{click:function(e){t.newRecord=!t.newRecord}}},[a("v-icon",{attrs:{color:"white",small:""}},[t._v("add")])],1)],1),t.newRecord?a("v-container",{staticClass:"mt-2",staticStyle:{border:"solid 1px grey"}},[a("v-text-field",{attrs:{label:"Nombre",dense:""},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),a("v-text-field",{attrs:{label:"Valor",dense:""},model:{value:t.valor,callback:function(e){t.valor=e},expression:"valor"}}),a("smallAdj",{attrs:{item:t.obj}}),a("v-row",{staticClass:"mt-3",attrs:{justify:"end","no-gutters":""}},[a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){t.newRecord=!t.newRecord}}},[t._v("cancelar")]),a("v-btn",{attrs:{color:"primary",small:""},on:{click:t.addFile}},[t._v("Guardar")])],1)],1):t._e()]},proxy:!0},{key:"item.options",fn:function(e){return[t.lectura?t._e():a("v-btn",{staticClass:"mr-3",staticStyle:{width:"100px"},attrs:{color:"error",small:""}},[t._v("Eliminar")]),a("v-btn",{staticStyle:{width:"100px"},attrs:{color:"primary",small:""}},[t._v("VER")])]}}])})],1)],1)},Tm=[];function Dm(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Im(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Dm(n,o,i,r,s,"next",t)}function s(t){Dm(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Om={props:["idRef","data","mode","lectura"],components:{smallAdj:Xs},data:function(){return{headers:[{text:"Nombre",align:"center",value:"nombre"},{text:"Valor",align:"center",value:"valor"},{text:"Opciones",align:"center",value:"options"}],newRecord:!1,obj:{},nombre:"",valor:""}},mounted:function(){},methods:{getCdpCrp:function(){var t=Im(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sc.getCdpCrp({id:e});case 3:a=t.sent,console.log(a),a=a.data,this.$emit("set-adjuntos",a),this.newRecord=!this.newRecord,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(e){return t.apply(this,arguments)}return e}(),addFile:function(){var t=Im(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.obj),e={idSolproc:this.idRef,tipo:this.mode,nombre:this.nombre,path:this.obj.file_path,valor:this.valor},t.prev=2,t.next=5,Sc.addCdpCrp(e);case 5:a=t.sent,console.log(a),this.getCdpCrp(this.idRef),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[2,10]])})));function e(){return t.apply(this,arguments)}return e}()},computed:{compCDP:function(){var t=this;return this.data.filter((function(e){return e.tipo===t.mode}))},titleTxt:function(){return"CDP"===this.mode?"Documentos CDP":"CRP"===this.mode?"Documentos CRP":"NOT SET"}}},Nm=Om,Mm=Object(C["a"])(Nm,Em,Tm,!1,null,"2864b4bb",null),Rm=Mm.exports;function Fm(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function qm(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Fm(Object(a),!0).forEach((function(e){Um(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Fm(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Um(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function $m(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Lm(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){$m(n,o,i,r,s,"next",t)}function s(t){$m(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Bm={props:["evaluacion"],components:{obligacionesEspecificas:ol,infoprods:ll,ejecTime:fl,tipoSolicitud:cd,tipoContratacion:xm,smallAdj:Xs,comentarios:jm,VueEditor:km["a"],CdpCrp:Rm},data:function(){return{anexoFile:"",supervisores:[],ciudades:[],dialog:!1,dialogCDP:!1,objCDP:{},dChangeState:!1,estados:[],changedState:"",csComment:"",showCommits:!1,customToolbar:[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]],dAsignar:!1,lawyers:[],personal:[],loadingUppdate:!1,tipo:""}},mounted:function(){var t=Lm(He.a.mark((function t(){var e,a,o,i,n,r,s,c=this;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.$route.params.idProc,a=this.getSolProc(e),o=this.getPersonal(),i=this.getAllCiudades(),n=this.getAllCarreras(),r=this.getTRinfo(),s=this.getEstados(),Promise.all([a,o,i,n,r,s]).then((function(t){c.changedState=c.solproc.estado})).catch((function(t){console.log(t)}));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{settipo:function(){this.tipo=this.$store.state.solproc.tipoProc},getSolProc:function(){var t=Lm(He.a.mark((function t(){var e,a,o=arguments;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:"",t.prev=1,!e){t.next=11;break}return t.next=5,Sc.getSolProcDetail(e);case 5:a=t.sent,console.log(a),console.log("data from solproc"),this.setStoreSolProc(a.data),t.next=12;break;case 11:this.setStoreSolProc("NO-DATA");case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,this,[[1,14]])})));function e(){return t.apply(this,arguments)}return e}(),getPersonal:function(){var t=Lm(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st["a"].getData();case 3:e=t.sent,this.personal=e.data.data,this.supervisores=this.personal,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),this.supervisores=[];case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),getAllCiudades:function(){var t=Lm(He.a.mark((function t(){var e=this;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:qi["a"].getAllCiudades().then((function(t){200===t.status?e.ciudades=t.data.data:e.ciudades=[]})).catch((function(t){this.ciudades=[]}));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),refreshAdjuntos:function(t){this.solproc.adjuntos=t},saveProcess:function(t){var e=this;console.log(t),this.loadingUppdate=!0,t.id?(this.dialog=!0,Sc.updateProgres(t).then((function(t){e.dialog=!1,console.log(t)})).catch((function(t){e.dialog=!1,console.log(t.response.data)}))):(this.dialog=!0,Sc.save(t).then((function(t){e.dialog=!1,console.log(t),e.$router.go(-1)})).catch((function(t){e.dialog=!1,console.log(t.response.data)}))),this.loadingUppdate=!1},getTRinfo:function(){var t=Lm(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sc.getInfoForTR(this.$route.params.idProc);case 3:e=t.sent,console.log(e),this.solproc.proyecto=e.data.proyecto,this.solproc.actividades=e.data.actividades,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),getAllCarreras:function(){var t=Lm(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(qs["getCarreras"])();case 3:e=t.sent,a=[],e.data.forEach((function(t){a.push(t.nombre_de_la_carrera)})),this.$store.state.carreras=a,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log();case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),getEstados:function(){var t=Lm(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sc.getEstados();case 3:e=t.sent,console.log(e),this.estados=e.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),sendToJuridica1:function(){console.log(this.objCDP),this.solproc.estado="juridica1",this.solproc.cdp=this.objCDP.file_path,this.solproc.cdp_nombre=this.objCDP.file_name,this.saveProcess(this.solproc)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return JSON.stringify(t)===JSON.stringify({})},changeState:function(){var t=Lm(He.a.mark((function t(){var e,a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===this.csComment){t.next=15;break}return e={comentario:this.csComment,usuario:this.$session.get("usuario"),id:this.$route.params.id,file_name:"",file_path:""},a=new FormData,a.append("obj",JSON.stringify(e)),t.prev=4,t.next=7,Sc.saveCommit(a);case 7:o=t.sent,console.log(o),this.dChangeState=!1,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),console.log(t.t0);case 15:return this.solproc.estado=this.changedState,t.next=18,this.saveProcess(this.solproc);case 18:this.$router.go(-1);case 19:case"end":return t.stop()}}),t,this,[[4,12]])})));function e(){return t.apply(this,arguments)}return e}(),getAbogados:function(){var t=Lm(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(this.personal),console.log(this.personal.filter((function(t){return"ABOGADO"===t.nombrecargo}))),this.personal.length>0?this.lawyers=this.personal.filter((function(t){return"ABOGADO"===t.nombrecargo})):this.lawyers=[];case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),remove:function(t){var e=this.ciudad.indexOf(t.codigo);e>=0&&this.ciudad.splice(e,1)},removeSupervisor:function(t){var e=this.supervisor.indexOf(t.codigo);e>=0&&this.supervisor.splice(e,1)},openInNewTab:function(t){var e=window.open(t,"_blank");e.focus()},setStoreSolProc:function(t){var e={id:t.id?t.id:"",idSolContratacion:t.id_solcontratacion?t.id_solcontratacion:this.$route.params.idSol,objContractual:t.obj_contractual?t.obj_contractual:"",obligaciones:t.obligaciones?t.obligaciones:[],infoprod:t.infoprod?t.infoprod:[],fechaLimite:t.fecha_limite?"0000-00-00 00:00:00"===t.fecha_limite?"":t.fecha_limite:"",fechaTerminacion:t.fecha_terminacion?"0000-00-00 00:00:00"===t.fecha_terminacion?"":t.fecha_terminacion:"",tiempoAsignado:t.tiempo_asignado?t.tiempo_asignado:"",ciudad:t.ciudad?t.ciudad:[],supervisor:t.supervisor?t.supervisor:[],incGastos:!!t.inc_gastos&&1===t.inc_gastos,tarSinchi:!!t.tar_sinchi&&1===t.tar_sinchi,valGastosViaje:t.val_gastos_viaje?t.val_gastos_viaje:"",tipoProc:t.tipo_proc?t.tipo_proc:"",necesidades:t.necesidades?t.necesidades:[],pagos:t.pagos?t.pagos:[],anticipo:t.anticipo?t.anticipo:"",accesInfoConf:!!t.acces_info_conf&&1===t.acces_info_conf,caracteristicasBS:t.caracteristicas_bs?t.caracteristicas_bs:"",cumple_bso:!!t.cumple_bso&&1===t.cumple_bso,causal:t.causal?t.causal:"",contrapartida:t.contrapartida?t.contrapartida:"",convDinero:t.conv_dinero?t.conv_dinero:"",convEspecie:t.conv_especie?t.conv_especie:"",convValor:t.conv_valor?t.conv_valor:"",convenioMarco:t.convenio_marco?t.convenio_marco:"",correo:t.correo?t.correo:"",fechaCreacion:t.fecha_creacion?t.fecha_creacion:"",justificacion:t.justificacion?t.justificacion:"",nombre:t.nombre?t.nombre:"",ofEconomica:t.of_economica?t.of_economica:"",pesoEco:t.peso_eco?0===t.peso_eco?"":t.peso_eco:"",pesoEqu:t.peso_equ?0===t.peso_equ?"":t.peso_equ:"",pesoFin:t.peso_fin?0===t.peso_fin?"":t.peso_fin:"",pesoMet:t.peso_met?0===t.peso_met?"":t.peso_met:"",pesoOrg:t.peso_org?0===t.peso_org?"":t.peso_org:"",pesoProp:t.peso_prop?0===t.peso_prop?"":t.peso_prop:"",porcOfEco:t.porc_of_eco?0===t.porc_of_eco?"":t.porc_of_eco:"",rol:t.rol?t.rol:"",telefono:t.telefono?t.telefono:"",tipoContratacion:t.tipo_contratacion?t.tipo_contratacion:"",valArl:t.val_arl?t.val_arl:"",educacion:t.educacion?t.educacion:[],experiencia:t.experiencia?t.experiencia:[],adjuntos:t.adjuntos?this.adjMaped(t.adjuntos):[],proponentes:t.proponentes?this.propMapped(t.proponentes):[],expProp:t.expProp?this.expMaped(t.expProp):[],roles:t.roles?this.rolesMaped(t.roles):[],expFin:t.expFin?t.expFin:[],expOrg:t.expOrg?t.expOrg:[],expMet:t.expMet?t.expMet:[],criDes:t.criDes?t.criDes:[],estado:t.estado?t.estado:"creado",cdp:t.cdp?t.cdp:"",cdp_nombre:t.cdp_nombre?t.cdp_nombre:"",cdp_number:t.cdp_number?t.cdp_number:"",crp:t.crp?t.crp:"",crp_nombre:t.crp_nombre?t.crp_nombre:"",crp_number:t.crp_number?t.crp_number:"",ab_asignado:t.ab_asignado?t.ab_asignado:""};this.$store.commit("setSolProc",e)},propMapped:function(t){return t.map((function(t){t.adjuntos=[]})),t},adjMaped:function(t){return console.log(t),console.log("adjuntos from maped"),t.map((function(t){t.aprobado=!!t.aprobado&&0!==t.aprobado,t.noAplica=!!t.noAplica&&0!==t.noAplica,t.file_name=t.nombre?t.nombre:"",t.file_path=t.path?t.path:""})),console.log(t),t},expMaped:function(t){return t.map((function(t){t.cumple=!!t.cumple&&0!==t.cumple})),t},rolesMaped:function(t){return t.map((function(t){t.educacion.map((function(t){t.cumple=!!t.cumple&&0!==t.cumple,t.noAplica=!!t.noAplica&&0!==t.noAplica}))})),t},nextStage:function(){var t=qm({},this.solproc),e="";"creado"===t.estado&&(e="presupuesto"),"presupuesto"===t.estado&&(e="juridica1"),"juridica1"===t.estado&&(e="juridica2"),"juridica2"===t.estado&&(e="aprobado"),e&&(t.estado=e,this.saveProcess(t))}},computed:{solproc:function(){return this.$store.state.solproc},ciudad:{get:function(){return this.$store.state.solproc.ciudad},set:function(t){this.$store.state.solproc.ciudad=t}},supervisor:{get:function(){return this.$store.state.solproc.supervisor},set:function(t){this.$store.state.solproc.supervisor=t}},incGastosViaje:{get:function(){return this.$store.state.solproc.incGastos},set:function(t){this.$store.state.solproc.incGastos=t}},tarSinchi:{get:function(){return this.$store.state.solproc.tarSinchi},set:function(t){this.$store.state.solproc.tarSinchi=t}},tarDiaria:{get:function(){return this.$store.state.solproc.valGastosViaje},set:function(t){this.$store.state.solproc.valGastosViaje=t}},compTarDiaria:function(){return"$".concat(this.tarDiaria.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1."))},titulo:function(){var t=""!==this.evaluacion,e=this.$store.state.solproc.id;return e&&t?"Evaluacion proceso contratacion N°".concat(e):e&&!t?"Proceso contratacion N°".concat(e):"Nuevo proceso contratacion"},propToEval:function(){return this.$store.state.propToEval},txtcdp:function(){return"presupuesto"===this.solproc.estado?"adjuntar cdp":"ver cdp"},txtNextStage:function(){return"creado"===this.solproc.estado?"enviar a Presupuestos":"presupuesto"===this.solproc.estado?"enviar a Juridica1":"juridica1"===this.solproc.estado?"enviar a Juridica2":"juridica2"===this.solproc.estado?"Aprobar":"not set"},compChangeEstados:function(){return"creado"===this.solproc.estado?[]:"presupuesto"===this.solproc.estado?["creado"]:"juridica1"===this.solproc.estado?["creado","presupuesto"]:"juridica2"===this.solproc.estado?["creado","presupuesto","juridica1"]:"aprobado"===this.solproc.estado?["creado","presupuesto","juridica1","juridica2"]:[]}},watch:{tarSinchi:function(t){!0===t&&(this.tarDiaria="")},dAsignar:function(t){t&&this.getAbogados()}}},Gm=Bm,Vm=(a("ba36"),Object(C["a"])(Gm,Zc,Wc,!1,null,"33691210",null)),zm=Vm.exports,Xm={components:{newProcContrata:zm},data:function(){return{evaluacion:!1}},methods:{actProcesos:function(){}}},Hm=Xm,Jm=Object(C["a"])(Hm,Jc,Yc,!1,null,"584a857e",null),Ym=Jm.exports,Zm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("consultasDinamicas")],1)},Wm=[],Qm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("h3",[t._v("Select")]),a("v-autocomplete",{staticClass:"mt-3",attrs:{dense:"",outlined:"","cache-items":!1,items:t.tipoInformes,"item-text":"vista","item-value":"vista","hide-details":"",label:"Layer"},model:{value:t.tipoInfo,callback:function(e){t.tipoInfo=e},expression:"tipoInfo"}}),a("v-flex",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"310px"},attrs:{id:"scroll-target"}},[a("v-data-table",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:t.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticClass:"elevation-1 text-no-wrap",attrs:{headers:t.headers,items:t.vistaCampos,"items-per-page":-1,"hide-default-footer":"","item-key":"campo","show-select":"","sort-by":"campo",dense:"",justify:"center"},scopedSlots:t._u([{key:"item.op",fn:function(e){var o=e.item;return[a("div",[a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",small:""}},"v-btn",n,!1),i),[a("v-icon",{attrs:{left:""}},[t._v("keyboard_arrow_down")]),t._v(t._s(o.op)+"\n                    ")],1)]}}],null,!0)},[a("v-list",t._l(t.groups,(function(e,i){return a("v-list-item",{key:i,on:{click:function(t){o.op=e}}},[a("v-list-item-title",[t._v(t._s(e))])],1)})),1)],1)],1)]}},{key:"item.agrupado",fn:function(e){var o=e.item;return[a("div",[a("v-simple-checkbox",{model:{value:o.agrupado,callback:function(e){t.$set(o,"agrupado",e)},expression:"item.agrupado"}})],1)]}}]),model:{value:t.selCampos,callback:function(e){t.selCampos=e},expression:"selCampos"}})],1)],1),t.tipoInfo?a("v-col",{attrs:{cols:"6"}},[a("h3",[t._v("Condicional")]),a("v-row",{staticClass:"mt-3",attrs:{"no-gutters":""}},[a("v-col",[a("v-autocomplete",{key:t.selCampo,attrs:{dense:"",outlined:"",items:t.vistaCampos,"item-text":"campo","item-value":"campo","hide-details":"",label:"Campo"},on:{change:t.addSelected}})],1),a("v-col",[a("v-select",{key:t.selCond,attrs:{dense:"",outlined:"",items:t.condicionales,"hide-details":"",label:"Condicional y operaciones"},on:{change:t.addCondicional}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Valor",dense:"","hide-details":"",outlined:"","append-icon":"get_app"},on:{"click:append":function(e){return t.addValor(t.valor)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addValor(t.valor)}},model:{value:t.valor,callback:function(e){t.valor=e},expression:"valor"}})],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("v-flex",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"250px"},attrs:{id:"scroll-target"}},[a("strong",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:t.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticClass:"my-3"},[t._v(t._s(t.condicional))])]),a("div",{staticClass:"caption"},[t._v("\n              "+t._s(t.query)+"\n            ")]),a("v-layout",{staticClass:"my-1",attrs:{"justify-end":""}},[a("v-btn",{staticClass:"mx-3",attrs:{color:"primary",small:""},on:{click:t.launchConsulta}},[t._v("Consultar")]),a("v-btn",{attrs:{color:"primary",outlined:"",small:""},on:{click:t.deleteCondicional}},[t._v("Borrar")])],1)],1)],1)],1):t._e(),t.tipoInfo?a("v-col",{attrs:{cols:"3"}},[a("h3",[t._v("Group")]),a("v-flex",{staticClass:"overflow-y-auto mt-3",staticStyle:{"max-height":"350px"},attrs:{id:"scroll-target"}},[a("v-data-table",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:t.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticClass:"elevation-1 text-no-wrap",attrs:{headers:t.headersGroup,items:t.selCampos,"items-per-page":-1,"hide-default-footer":"",dense:"",justify:"center"},scopedSlots:t._u([{key:"item.agrupado",fn:function(e){var o=e.item;return[a("div",[a("v-simple-checkbox",{model:{value:o.agrupado,callback:function(e){t.$set(o,"agrupado",e)},expression:"item.agrupado"}})],1)]}}],null,!1,13517971)})],1)],1):t._e()],1),t.selCampos.length>0?a("v-row",[a("v-flex",[a("v-data-table",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:t.onScroll,expression:"onScroll",arg:"#scroll-target"}],staticClass:"elevation-1 text-no-wrap",attrs:{headers:t.resHeaders,items:t.result,search:t.filter,"items-per-page":5,dense:"","multi-sort":"",align:"center",justify:"center"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-card",{staticStyle:{"border-radius":"4px 4px 0px 0px"},attrs:{color:"primary",flat:"",dark:""}},[a("v-card-text",{staticStyle:{padding:"5px 16px 5px 16px"}},[a("v-layout",{attrs:{"align-center":""}},[a("div",[t._v("Resultado")]),a("v-spacer"),a("v-text-field",{staticStyle:{"max-width":"250px"},attrs:{dark:"",placeholder:"filtro","hide-details":"",dense:"",flat:""},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)],1)],1)]},proxy:!0}],null,!1,3528065320)})],1)],1):t._e(),t.result.length>0?a("v-row",[a("v-col",[a("div",{staticStyle:{"text-align":"-webkit-center"}},[a("td",[a("download-excel",{attrs:{data:t.result,fields:t.setFields,name:"informe.xls"}},[a("v-btn",{attrs:{outlined:"",color:"green",small:""}},[t._v("Descargar"),a("v-icon",{attrs:{color:"green",right:""}},[t._v("get_app")])],1)],1)],1)])])],1):t._e()],1)],1)},Km=[],tv={getVistas:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/InfoViews",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getCampos:function(t){return new Promise((function(e,a){p()({method:"GET",url:m["a"].apiUrl+"/InfoCampos",dataType:"json",params:{vista:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},launchConsulta:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/launchConsulta",dataType:"json",data:{consulta:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},ev=tv;function av(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function ov(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){av(n,o,i,r,s,"next",t)}function s(t){av(n,o,i,r,s,"throw",t)}r(void 0)}))}}var iv={data:function(){return{tipoInfo:"",tipoInformes:[],vistaCampos:[],headers:[{text:"Op",align:"left",value:"op"},{text:"Campos",align:"left",value:"campo"}],headersGroup:[{text:"Group",align:"left",value:"agrupado"},{text:"Campos",align:"left",value:"campo"}],hCondicionales:[{text:"Campo",align:"left",value:"campo"},{text:"Condicional",align:"left",value:"condicional"},{text:"Valor",align:"left",value:"valor"},{text:"Opción",align:"left",value:"opcion"}],selCampos:[],offsetTop:0,condicionales:["=",">","<",">=","<=","LIKE","AND","OR"],condicional:"",valor:"",result:[],filter:"",selCampo:1,selCond:1,groups:["","COUNT","SUM","AVG","MAX","MIN"],query:""}},mounted:function(){var t=ov(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ev.getVistas();case 2:e=t.sent,console.log(e),200===e.status&&(this.tipoInformes=e.data);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{launchConsulta:function(){var t=ov(He.a.mark((function t(){var e,a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="SELECT",a="",this.selCampos.forEach((function(t){var e=t.op?"".concat(t.op,"(").concat(t.campo,")"):t.campo;t.agrupado&&t.op&&(e="".concat(e,", ").concat(t.campo)),a?a=a+", "+e:a+=e})),e="".concat(e," ").concat(a," FROM ").concat(this.tipoInfo," ").concat(this.condicional," ").concat(this.hasGroup()),console.log(e),this.query=e,t.next=8,ev.launchConsulta(e);case 8:o=t.sent,console.log(o),200===o.status?this.result=o.data:this.result=[];case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),bringCampos:function(){var t=ov(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ev.getCampos(e);case 2:a=t.sent,200===a.status&&(a.data.map((function(t){t.agrupado=""!==t.agrupado})),this.vistaCampos=a.data);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteCondicional:function(){var t=this.condicional,e=t.split(" "),a=(e.splice(e.length-1,1),e.reduce((function(t,e){return t+" "+e}),""));this.condicional=a.trim()},addSelected:function(t){""===this.condicional&&(this.condicional="WHERE"),this.condicional="".concat(this.condicional," ").concat(t),this.selCampo++},addCondicional:function(t){""===this.condicional&&(this.condicional="WHERE"),this.condicional="".concat(this.condicional," ").concat(t),"LIKE"===t&&(this.valor="%".concat(this.valor,"%")),this.selCond++},addValor:function(t){function e(t){var e=["select","delete","insert","update"],a=!0;return e.forEach((function(e){t.includes(e)&&(a=!1)})),a}e(t)&&(""===this.condicional&&(this.condicional="WHERE"),this.condicional="".concat(this.condicional," '").concat(t,"'"),this.valor="")},hasGroup:function(){var t=this.selCampos.filter((function(t){return t.agrupado}));if(t.length>0){var e=t.reduce((function(t,e){return"".concat(t).concat(e.campo,", ")}),"GROUP BY ");return e=e.slice(0,-2),e}return""},onScroll:function(t){this.offsetTop=t.target.scrollTop}},computed:{setFields:function(){var t={};return this.selCampos.forEach((function(e){t[e.campo]=e.campo})),t},resHeaders:function(){var t=[];if(this.result.length>0){var e=this.result[0],a=Object.keys(e);a.forEach((function(e){t.push({text:e,align:"rigth",value:e})}))}return t}},watch:{tipoInfo:function(t){t&&this.bringCampos(t)}}},nv=iv,rv=(a("86da"),Object(C["a"])(nv,Qm,Km,!1,null,"11c1f4d0",null)),sv=rv.exports,cv={components:{consultasDinamicas:sv},data:function(){return{}}},lv=cv,dv=Object(C["a"])(lv,Zm,Wm,!1,null,"07ad665c",null),uv=dv.exports,pv=a("8c4f"),mv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.actions",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{"justify-center":"","my-1":""}},[a("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(e){return t.$router.push("TerminosReferencia/"+o.tipo+"/"+o.id)}}},[a("v-icon",{attrs:{dark:"",small:"",left:""}},[t._v("search")]),t._v("ver\n          ")],1)],1)]}}])})],1)],1)},vv=[];function hv(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function fv(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){hv(n,o,i,r,s,"next",t)}function s(t){hv(n,o,i,r,s,"throw",t)}r(void 0)}))}}var gv={data:function(){return{headers:[{text:"Tipo",align:"center",value:"tipo"},{text:"Solicitud Contratacion",align:"center",value:"id_solcontratacion"},{text:"Proceso Contratacion",align:"center",value:"id"},{text:"Estado",align:"center",value:"estado"},{text:"Fecha creacion",align:"center",value:"fecha_cracion"},{text:"Tipo Contratación",align:"left",value:"tipo_contratacion"},{text:"Acción",align:"center",value:"actions"}],items:[],solproc:[],termref:[]}},mounted:function(){var t=fv(He.a.mark((function t(){var e=this;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Promise.all([this.getSolProcs(),this.getTermRefs()]).then((function(t){e.fusItems(t[0],t[1])})).catch((function(t){console.error(t)}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{sendToRoute:function(t){"T"===t.tipo&&this.$router.push("TerminosReferencia/"+t.id),"S"===t.tipo&&this.$router.push("solproc_termref/"+t.id)},fusItems:function(t,e){var a=this;e.forEach((function(t){a.items.push(t)})),t.forEach((function(t){e.find((function(e){return t.id===e.id}))||a.items.push(t)}))},getSolProcs:function(){var t=fv(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,Sc.getData({estado:"aprobado"});case 4:a=t.sent,console.log(a),e=a.data,e.map((function(t){t.tipo="S"})),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(){return t.apply(this,arguments)}return e}(),getTermRefs:function(){var t=fv(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,Sl.getTermRef();case 4:a=t.sent,console.log(a),e=a.data,e.map((function(t){t.tipo="T"})),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(){return t.apply(this,arguments)}return e}()}},bv=gv,xv=Object(C["a"])(bv,mv,vv,!1,null,"441c920c",null),_v=xv.exports,yv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["T"===t.tipo?a("TerminoReferenciaDetail"):t._e(),"S"===t.tipo?a("solprocTermref"):t._e()],1)},kv=[],Cv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("h1",[t._v("Terminos de referencia")]),a("v-card",[a("v-card-text",[a("h3",[t._v("Proyectos")]),t.data.idSolContratacion?a("proyectos",{staticClass:"mb-3",attrs:{idSolicitud:t.data.idSolContratacion}}):t._e(),a("h3",[t._v("Necesidades")]),t.data.idSolContratacion?a("necesidades",{staticClass:"mb-5",attrs:{idSolicitud:t.data.idSolContratacion}}):t._e(),a("v-textarea",{staticClass:"mb-3",attrs:{label:"Alcance de la contratación",dense:"",rows:"3"},model:{value:t.data.alcance,callback:function(e){t.$set(t.data,"alcance",e)},expression:"data.alcance"}}),a("v-select",{staticClass:"mb-3",attrs:{label:"Proyecto - Términos de referencia",items:t.planes,"item-text":"proynomcor","item-value":"proycod",dense:""}}),a("v-row",{attrs:{"no-gutters":""}},[a("v-select",{attrs:{items:t.tiposContrata,dense:"",label:"Tipo de contratación","item-value":"id","item-text":"nombre"},model:{value:t.data.tipoContrata,callback:function(e){t.$set(t.data,"tipoContrata",e)},expression:"data.tipoContrata"}}),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_add_tipo_contrata=!0,t.txtnombre=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("\n            add\n          ")])],1)],1),a("v-textarea",{staticClass:"mb-3",attrs:{label:"Norma aplicable",dense:"",rows:"3"},model:{value:t.data.norma_aplicable,callback:function(e){t.$set(t.data,"norma_aplicable",e)},expression:"data.norma_aplicable"}}),t.tiposContratacionDirecta.includes(t.data.tipoContratacion)?a("v-textarea",{staticClass:"mb-3",attrs:{label:"Causal",dense:"",rows:"3"},model:{value:t.data.causal,callback:function(e){t.$set(t.data,"causal",e)},expression:"data.causal"}}):t._e(),a("h3",[t._v("Modalidad de selección")]),"dir_personal"===t.data.tipoContratacion?a("div",{staticClass:"mb-6"},[t._v("Contratación directa Personal")]):"dir_bien"===t.data.tipoContratacion?a("div",{staticClass:"mb-6"},[t._v("Contratación directa persona natural/Bienes/Servicios/Obras")]):"dir_juridica"===t.data.tipoContratacion?a("div",{staticClass:"mb-6"},[t._v("Contratación directa persona jurídica/Bienes/Servicios/Obras")]):"lista_corta"===t.data.tipoContratacion?a("div",{staticClass:"mb-6"},[t._v("Lista corta")]):"conv_publica"===t.data.tipoContratacion?a("div",{staticClass:"mb-6"},[t._v("Convocatoria Pública")]):t._e(),a("v-textarea",{staticClass:"mb-3",attrs:{label:"Justificación de la modalidad de selección",dense:"",rows:"3"},model:{value:t.data.justificacion,callback:function(e){t.$set(t.data,"justificacion",e)},expression:"data.justificacion"}}),a("v-text-field",{attrs:{label:"Objeto Contractual",dense:""},model:{value:t.data.objContractual,callback:function(e){t.$set(t.data,"objContractual",e)},expression:"data.objContractual"}}),a("h3",[t._v("Descripción del Bien/servicio/obra")]),a("v-card",{staticClass:"mb-3"},[a("v-card-text",[a("v-textarea",{staticClass:"mb-3",attrs:{placeholder:"Descripción de bien o servicio",dense:"",rows:"3"},model:{value:t.data.caracteristicasBS,callback:function(e){t.$set(t.data,"caracteristicasBS",e)},expression:"data.caracteristicasBS"}}),a("v-row",{attrs:{align:"center","no-gutters":""}},[a("multipleAdj",{attrs:{datos:t.bienAdjuntos,text:"Adjunto bienes/servicios/obras"}}),a("v-spacer"),a("v-switch",{staticStyle:{margin:"0px"},attrs:{label:"Requerido","hide-details":""},model:{value:t.data.reqBien,callback:function(e){t.$set(t.data,"reqBien",e)},expression:"data.reqBien"}})],1)],1)],1),a("oneValueList",{attrs:{data:t.data.obligaciones,tipo:"obligaciones"}}),a("oneValueList",{staticClass:"mt-3",attrs:{data:t.data.infoprod,tipo:"infoprod"}}),a("h3",{staticClass:"mt-4"},[t._v("Valor máximo de contratación")]),t.data.necesidades?a("valorContratacion",{attrs:{idSol:t.data.idSolContratacion,necesidades:t.data.necesidades,lectura:!1}}):t._e(),a("h3",{staticClass:"mt-3"},[t._v("Forma de pago")]),t.data.pagos?a("formaDePago",{staticClass:"mb-4",attrs:{anticip:t.data.anticipo,pagos:t.data.pagos,infoprod:t.data.infoprod,lectura:!0,showliquida:!0},on:{"set-anticipo":t.setAnticipo}}):t._e(),t.data.adjuntos?a("CdpCrp",{attrs:{idRef:t.data.id,data:t.data.adjuntos,mode:"CDP",lectura:!0}}):t._e(),a("div",{staticClass:"mt-5"},[t.data.id?a("termEjTime",{attrs:{data:t.data}}):t._e()],1),a("div",{staticClass:"mt-5"},[a("v-autocomplete",{attrs:{items:t.ciudades,label:"Lugar de ejecución","item-text":"nombrecompleto","item-value":"codigo",color:"primary",multiple:"",chips:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",t._b({attrs:{"input-value":e.selected,color:"primary",close:""},on:{click:e.select,"click:close":function(a){return t.remove(e.item)}}},"v-chip",e.attrs,!1),[t._v("\n              "+t._s(e.item.nombrecompleto)+"\n            ")])]}}]),model:{value:t.data.ciudad,callback:function(e){t.$set(t.data,"ciudad",e)},expression:"data.ciudad"}})],1),a("div",{staticClass:"mt-3"},[a("v-autocomplete",{attrs:{items:t.supervisores,label:"Supervisor","item-text":"nombrecompleto","item-value":"codigo",multiple:"",chips:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",t._b({attrs:{"input-value":e.selected,close:"",color:"primary"},on:{click:e.select,"click:close":function(a){return t.removeSupervisor(e.item)}}},"v-chip",e.attrs,!1),[t._v("\n              "+t._s(e.item.nombrecompleto)+"\n            ")])]}}]),model:{value:t.data.supervisor,callback:function(e){t.$set(t.data,"supervisor",e)},expression:"data.supervisor"}})],1),a("v-row",[a("v-col",[a("v-switch",{attrs:{label:"Incluye gastos de viaje?"},model:{value:t.data.incGastosViaje,callback:function(e){t.$set(t.data,"incGastosViaje",e)},expression:"data.incGastosViaje"}})],1),t.data.incGastosViaje?a("v-col",[a("v-checkbox",{attrs:{label:"Incluye tarifa SINCHI"},model:{value:t.data.tarSinchi,callback:function(e){t.$set(t.data,"tarSinchi",e)},expression:"data.tarSinchi"}})],1):t._e(),t.data.incGastosViaje?a("v-col",[t.data.tarSinchi?t._e():a("v-text-field",{staticClass:"ml-7",staticStyle:{"max-width":"250px"},attrs:{label:"Tarifa diaria, sin puntos ni comas",type:"number","prepend-icon":"attach_money",suffix:t.data.compTarDiaria},model:{value:t.data.tarDiaria,callback:function(e){t.$set(t.data,"tarDiaria",e)},expression:"data.tarDiaria"}})],1):t._e()],1),t.tiposContratacionDirecta.includes(t.data.tipoContratacion)?a("datosAdjuntos",{attrs:{tipoContratacion:t.data.tipoContratacion,adjuntosIn:t.data.adjuntos,idSolProc:t.data.id,causal:t.data.cod_causal,pertenece:"personal",evaluacion:!1}}):t._e(),["lista_corta","conv_publica"].includes(t.data.tipoContratacion)?a("v-card",{staticClass:"mt-5",attrs:{color:"grey lighten-2"}},[a("v-card-text",[a("proponentesListaCorta",{attrs:{proponentes:t.data.proponentes}})],1)],1):t._e(),["lista_corta","conv_publica"].includes(t.data.tipoContratacion)?a("v-card",{staticClass:"mt-5",attrs:{color:"grey lighten-2"}},[a("v-card-text",[a("h2",[t._v("Criterios minimos")]),t.dataLoaded?a("criteriosMinimos",{attrs:{solproc:t.data}}):t._e()],1)],1):t._e(),["lista_corta","conv_publica"].includes(t.data.tipoContratacion)?a("v-card",{staticClass:"mt-5",attrs:{color:"grey lighten-2"}},[a("v-card-text",[a("h2",[t._v("Criterios De Selección")]),t.dataLoaded?a("criteriosSeleccion",{attrs:{solproc:t.data}}):t._e()],1)],1):t._e()],1),a("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-end",position:"fixed",right:"100px",bottom:"100px"}},[a("v-btn",{staticClass:"mb-5",attrs:{color:"primary",fab:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("reply")])],1),a("v-btn",{attrs:{color:"primary",fab:""},on:{click:t.saveProgress}},[a("v-icon",[t._v("save")])],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog_add_tipo_contrata,callback:function(e){t.dialog_add_tipo_contrata=e},expression:"dialog_add_tipo_contrata"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("\n          Añadir registro\n        ")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Nombre",outlined:"",dense:"","hide-details":""},model:{value:t.txtnombre,callback:function(e){t.txtnombre=e},expression:"txtnombre"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",fab:"","x-small":"",dark:""},on:{click:function(e){t.dialog_add_tipo_contrata=!1}}},[a("v-icon",[t._v("close")])],1),a("v-btn",{attrs:{color:"success",fab:"","x-small":"",dark:""},on:{click:function(e){return t.saveTipoContrata()}}},[a("v-icon",[t._v("save")])],1)],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialogSaving,callback:function(e){t.dialogSaving=e},expression:"dialogSaving"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n          Salvando los cambios...\n          "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1),a("pre",[t._v(t._s(t.$data.data))])],1)},Sv=[],wv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.antecedentes,"items-per-page":5,"item-key":"proycod","show-expand":"",dense:""},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("div",{staticClass:"row sp-details"},[a("b",[t._v("Antecedentes")])]),a("p",{attrs:{contenteditable:"true"}},[t._v(t._s(i.proyant))])])]}}])})},Pv=[];function Av(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function jv(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Av(n,o,i,r,s,"next",t)}function s(t){Av(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Ev={props:["idSolicitud","antecedentes"],data:function(){return{headers:[{text:"Código",align:"center",sortable:!1,value:"proycod"},{text:"Nombre",align:"left",sortable:!1,value:"proynomcor"},{text:"Estado",align:"left",sortable:!1,value:"estado"}],proyectos:[]}},mounted:function(){this.getProyectos(this.idSolicitud)},filters:{moneyFormat:function(t){return t?"$".concat(t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")):""}},methods:{getProyectos:function(){var t=jv(He.a.mark((function t(e){var a,o=this;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ze["a"].proyectosFromSolicitud(e);case 3:a=t.sent,console.log(a),a=a.data,a.forEach((function(t){var e=o.antecedentes.find((function(e){return e.proycod===t.proycod}));e?(e.proynomcor=t.proynomcor,e.estado=t.estado):o.antecedentes.push(t)})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));function e(e){return t.apply(this,arguments)}return e}()}},Tv=Ev,Dv=Object(C["a"])(Tv,wv,Pv,!1,null,"5c3fbac1",null),Iv=Dv.exports,Ov=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.data,"items-per-page":5,search:t.filtro},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-layout",{staticClass:"px-2",staticStyle:{"background-color":"#943A4A"},attrs:{"align-center":""}},[a("v-btn",{staticClass:"mr-2",attrs:{fab:"",color:"white",small:""}},[a("v-icon",{attrs:{color:"primary"},on:{click:function(e){t.dAddInfo=!t.dAddInfo}}},[t._v("add")])],1),a("div",{staticClass:"title",staticStyle:{color:"white"}},[t._v(t._s(t.titletxt))]),a("v-spacer"),a("v-text-field",{staticClass:"inputTable my-1",staticStyle:{"max-width":"300px"},attrs:{light:"",placeholder:"Filtro","prepend-inner-icon":"mdi-filter","hide-details":"",solo:"",dense:"",flat:""},model:{value:t.filtro,callback:function(e){t.filtro=e},expression:"filtro"}})],1)]},proxy:!0},{key:"item.obligacion",fn:function(e){return[a("p",{staticStyle:{"text-align":"left"},attrs:{contenteditable:"true"},on:{blur:function(a){return t.updateText(a,e.item,"obligacion")}}},[t._v(t._s(e.item.obligacion))])]}},{key:"item.titulo",fn:function(e){return[a("div",{staticStyle:{"text-align":"left"},attrs:{contenteditable:"true"},on:{blur:function(a){return t.updateText(a,e.item,"titulo")}}},[t._v(t._s(e.item.titulo))])]}},{key:"item.tipo",fn:function(e){return[a("v-edit-dialog",{attrs:{"return-value":e.item.name},on:{"update:returnValue":function(a){return t.$set(e.item,"name",a)},"update:return-value":function(a){return t.$set(e.item,"name",a)}},scopedSlots:t._u([{key:"input",fn:function(){return[a("v-select",{attrs:{items:t.tiposIP,label:"Tipo","single-line":"",outlined:"",dense:"","hide-details":""},model:{value:e.item.tipo,callback:function(a){t.$set(e.item,"tipo",a)},expression:"props.item.tipo"}})]},proxy:!0}],null,!0)},[t._v(t._s(e.item.tipo)+"\n        ")])]}},{key:"item.descripcion",fn:function(e){return[a("p",{staticStyle:{"text-align":"left"},attrs:{contenteditable:"true"},on:{blur:function(a){return t.updateText(a,e.item,"descripcion")}}},[t._v(t._s(e.item.descripcion))])]}},{key:"item.accion",fn:function(e){return[a("div",[a("v-btn",{attrs:{color:"error",small:""},on:{click:function(a){return t.delItem(e.item)}}},[t._v("eliminar")])],1)]}}])}),a("v-dialog",{attrs:{width:"800"},model:{value:t.dAddInfo,callback:function(e){t.dAddInfo=e},expression:"dAddInfo"}},[a("v-card",[a("v-card-title",[t._v("Agregar "+t._s(t.titletxt))]),a("v-card-text",["infoprod"===t.tipo?a("v-text-field",{attrs:{placeholder:"titulo",dense:""},model:{value:t.titulo,callback:function(e){t.titulo=e},expression:"titulo"}}):t._e(),"infoprod"===t.tipo?a("v-select",{attrs:{items:t.tiposIP,label:"Tipo","single-line":"",dense:""},model:{value:t.tipoIP,callback:function(e){t.tipoIP=e},expression:"tipoIP"}}):t._e(),"infoprod"===t.tipo?a("v-textarea",{attrs:{dense:"",rows:"4",placeholder:"Descripcion..."},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}}):t._e(),"obligaciones"===t.tipo?a("v-textarea",{attrs:{dense:"",rows:"4",placeholder:"Descripcion..."},model:{value:t.textData,callback:function(e){t.textData=e},expression:"textData"}}):t._e(),a("v-row",{attrs:{justify:"end"}},[a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.dAddInfo=!t.dAddInfo}}},[t._v("cancelar")]),a("v-btn",{attrs:{color:"primary",small:""},on:{click:t.addItem}},[t._v("Agregar")])],1)],1)],1)],1)],1)},Nv=[],Mv={props:["tipo","data"],data:function(){return{filtro:"",dAddInfo:!1,textData:"",tiposIP:["Informe","Producto"],titulo:"",tipoIP:"",descripcion:"",ciudades:[]}},methods:{delItem:function(t){var e=this.data.findIndex((function(e){return e===t}));this.data.splice(e,1)},updateText:function(t,e,a){"obligacion"===a&&(e.obligacion=t.target.innerText),"titulo"===a&&(e.titulo=t.target.innerText),"descripcion"===a&&(e.descripcion=t.target.innerText)},addItem:function(){var t="",e=this.textData,a=this.titulo,o=this.tipoIP,i=this.descripcion;"obligaciones"===this.tipo&&(t={obligacion:e}),"infoprod"===this.tipo&&(t={titulo:a,tipo:o,descripcion:i}),t&&(this.data.unshift(t),this.dAddInfo=!this.dAddInfo)}},computed:{headers:function(){return"obligaciones"===this.tipo?[{text:"Obligación especifica",align:"center",value:"obligacion"},{text:"Acciones",align:"center",value:"accion"}]:"infoprod"===this.tipo?[{text:"Titulo",align:"center",value:"titulo"},{text:"Tipo",align:"center",value:"tipo"},{text:"Descripción",align:"center",value:"descripcion"},{text:"Acciones",align:"center",value:"accion"}]:[]},titletxt:function(){return"obligaciones"===this.tipo?"Obligaciones Especificas":"infoprod"===this.tipo?"Informes y Productos":"unset"}},watch:{dAddInfo:function(t){!1===t&&(this.textData="")}}},Rv=Mv,Fv=Object(C["a"])(Rv,Ov,Nv,!1,null,"0eeeced3",null),qv=Fv.exports,Uv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-card-text",[a("h3",[t._v("Tiempo de ejecución")]),a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Años",type:"number",dense:"","hide-details":""},model:{value:t.cYears,callback:function(e){t.cYears=e},expression:"cYears"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Meses",type:"number",dense:"","hide-details":""},model:{value:t.cMonths,callback:function(e){t.cMonths=e},expression:"cMonths"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Semanas",type:"number",dense:"","hide-details":""},model:{value:t.cWeeks,callback:function(e){t.cWeeks=e},expression:"cWeeks"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Dias",type:"number",dense:"","hide-details":""},model:{value:t.cDays,callback:function(e){t.cDays=e},expression:"cDays"}})],1),a("v-col",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.saveTimeEjec}},[t._v("Agregar")])],1)],1),a("v-layout",{attrs:{"align-center":"","mx-3":""}},[a("strong",{staticClass:"title",class:{errorColor:t.totalDias>t.exedsTimeLimit}},[t._v("Tiempo asignado: "+t._s(t._f("currency")(t.totalDias))+" dias "),t.totalDias>t.exedsTimeLimit?a("span",[t._v(", excede la fecha limite "+t._s(t.$data.dateLimit)+" por "+t._s(t.totalDias-t.exedsTimeLimit)+" día(s)")]):t._e()]),a("v-col",{staticClass:"ml-3",attrs:{cols:"3"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha limite",readonly:"",dense:"","hide-details":""},model:{value:t.dateLimit,callback:function(e){t.dateLimit=e},expression:"dateLimit"}},"v-text-field",i,!1),o))]}}]),model:{value:t.menuLimite,callback:function(e){t.menuLimite=e},expression:"menuLimite"}},[a("v-date-picker",{attrs:{locale:"es"},on:{input:function(e){t.menuLimit=!1}},model:{value:t.dateLimit,callback:function(e){t.dateLimit=e},expression:"dateLimit"}})],1)],1),a("v-spacer")],1)],1)],1)],1)},$v=[];function Lv(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Bv={props:["data"],data:function(){return{cYears:"",cMonths:"",cWeeks:"",cDays:"",menuLimite:!1,menuTerminacion:!1}},mounted:function(){this.setTimes()},methods:{setTimes:function(){var t=this.data.tiempoAsignado,e=parseInt(t/365);this.cYears=e;var a=parseInt((t-365*e)/30);this.cMonths=a;var o=parseInt((t-365*e-30*a)/7);this.cWeeks=o;var i=parseInt(t-365*e-30*a-7*o);this.cDays=i},saveTimeEjec:function(){var t=parseInt(365*this.cYears)+parseInt(30*this.cMonths)+parseInt(7*this.cWeeks)+parseInt(this.cDays);this.cYears="",this.cMonths="",this.cWeeks="",this.cDays="",this.data.tiempoAsignado=t,this.setTimes()}},computed:Lv({totalDias:function(){return this.data.tiempoEjecucion},exedsTimeLimit:function(){if(this.dateLimit){var t=new Date(this.dateLimit).getTime()-(new Date).getTime();return t=parseInt(t/864e5)+1,t}},dateLimit:{get:function(){return this.data.fechaLimite},set:function(t){this.data.fechaLimite=t}},dateTerminacion:{get:function(){return this.data.fechaTerminacion},set:function(t){this.data.fechaTerminacion=t}}},"totalDias",(function(){return this.data.tiempoAsignado}))},Gv=Bv,Vv=(a("2b41"),Object(C["a"])(Gv,Uv,$v,!1,null,"1dc62487",null)),zv=Vv.exports,Xv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.necesidades,"items-per-page":5,dense:""},scopedSlots:t._u([{key:"item.planadquisicion",fn:function(e){var o=e.item;return[a("div",[t._v("\n      "+t._s(o.proyecto)+"\n    ")])]}},{key:"item.valor",fn:function(e){var o=e.item;return[a("div",[t._v("\n      "+t._s(t._f("moneyFormat")(o.valor))+"\n    ")])]}}])})},Hv=[];function Jv(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Yv(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Jv(n,o,i,r,s,"next",t)}function s(t){Jv(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Zv={props:["idSolicitud"],data:function(){return{headers:[{text:"Necesidad",align:"left",sortable:!1,value:"descripcion"},{text:"Proyecto",align:"left",sortable:!1,value:"planadquisicion"},{text:"valor",align:"left",sortable:!1,value:"valor"}],necesidades:[]}},mounted:function(){this.getSolProcesos(this.idSolicitud)},filters:{moneyFormat:function(t){return t?"$".concat(t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")):""}},methods:{getSolProcesos:function(){var t=Yv(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,as.detailSol(e);case 3:a=t.sent,console.log(a),this.necesidades=a.data.necesidades,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),this.necesidades=[];case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}()}},Wv=Zv,Qv=Object(C["a"])(Wv,Xv,Hv,!1,null,"94d900b8",null),Kv=Qv.exports,th=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"adjuntos"}},[a("v-flex",[a("v-file-input",{staticStyle:{"font-size":".8rem"},attrs:{"prepend-inner-icon":"$file","prepend-icon":"",placeholder:"Adjunto","small-chips":"","hide-details":"",dense:"",multiple:""}}),t._l(t.datos,(function(e,o){return[a("v-chip",{key:o,staticClass:"mt-2 mr-2",attrs:{color:"green darken-2","text-color":"white"},on:{click:function(a){return t.openInNewTab(e.file_path)}}},[t._v("\n      "+t._s(e.file_name)+"\n    ")])]}))],2)],1)},eh=[];function ah(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function oh(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){ah(n,o,i,r,s,"next",t)}function s(t){ah(n,o,i,r,s,"throw",t)}r(void 0)}))}}var ih={props:["datos"],data:function(){return{}},mounted:function(){var t=oh(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("Va un item desde multipleAdj"),console.log(this.datos);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{openInNewTab:function(t){var e=window.open(t,"_blank");e.focus()}},computed:{},watch:{}},nh=ih,rh=Object(C["a"])(nh,th,eh,!1,null,"003f4466",null),sh=rh.exports;function ch(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function lh(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){ch(n,o,i,r,s,"next",t)}function s(t){ch(n,o,i,r,s,"throw",t)}r(void 0)}))}}var dh={components:{proyectos:Iv,oneValueList:qv,termEjTime:zv,necesidades:Kv,smallAdj:Xs,multipleAdj:sh,CdpCrp:Rm,valorContratacion:Tl,formaDePago:Bl,datosAdjuntos:qd,proponentesListaCorta:du,criteriosMinimos:mp,criteriosSeleccion:Yp},data:function(){return{data:{},ciudades:[],supervisores:[],tiposContrata:[],planes:[],txtnombre:"",dialog_add_tipo_contrata:!1,dataLoaded:!1,dialogSaving:!1}},mounted:function(){var t=this,e=this.$route.params.id;Promise.all([this.getSolProcDetail(e),this.getAllCiudades(),this.getPersonal(),this.getPlanes(e),this.getTipoContrata()]).finally((function(){t.dataLoaded=!t.dataLoaded}))},methods:{saveProgress:function(){var t=lh(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.dialogSaving=!0,t.prev=1,e=this.data,t.next=5,Sl.saveFromSolicitud(e);case 5:a=t.sent,this.$toasted.success("Datos guardados!",{icon:"done",duration:3e3}),console.log(a),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),this.$toasted.error(t.t0.response.data,{icon:"error",duration:5e3}),console.log(t.t0.response.data);case 14:this.dialogSaving=!1;case 15:case"end":return t.stop()}}),t,this,[[1,10]])})));function e(){return t.apply(this,arguments)}return e}(),saveTipoContrata:function(){var t=lh(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Cl.savetipocontrata({nombre:this.txtnombre});case 3:e=t.sent,a=e.data,"success"===a.tipo?(this.$toasted.success(a.respuesta,{icon:"done",duration:3e3}),this.dialog_add_tipo_contrata=!1,this.getTipoContrata()):this.$toasted.error(a.respuesta,{icon:"error",duration:3e3}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),getTipoContrata:function(){var t=lh(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Cl.gettipocontrata();case 3:e=t.sent,a=e.data,this.tiposContrata=a.termref_tipocontratas,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),getSolProcDetail:function(){var t=lh(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sc.getSolProcDetail(e);case 3:a=t.sent,console.log(a),this.setSolData(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}(),getPlanes:function(){var t=lh(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gr["a"].getBySolProc(e);case 3:a=t.sent,console.log(a),this.planes=a.data,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),this.planes=[];case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}(),getPersonal:function(){var t=lh(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st["a"].getData();case 3:e=t.sent,this.supervisores=e.data.data,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),this.supervisores=[];case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getAllCiudades:function(){var t=lh(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qi["a"].getAllCiudades();case 3:e=t.sent,console.log(e),this.ciudades=e.data.data,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),this.ciudades=[];case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),removeSupervisor:function(t){var e=this.data.supervisor.indexOf(t.codigo);this.data.supervisor.splice(e,1)},setSolData:function(t){var e={id:t.id?t.id:"",idSolContratacion:t.id_solcontratacion?t.id_solcontratacion:this.idSolicitud,objContractual:t.obj_contractual?t.obj_contractual:"",obligaciones:t.obligaciones?t.obligaciones:[],infoprod:t.infoprod?t.infoprod:[],fechaLimite:t.fecha_limite?"0000-00-00 00:00:00"===t.fecha_limite?"":t.fecha_limite:"",fechaTerminacion:t.fecha_terminacion?"0000-00-00 00:00:00"===t.fecha_terminacion?"":t.fecha_terminacion:"",tiempoAsignado:t.tiempo_asignado?t.tiempo_asignado:"",ciudad:t.ciudad?t.ciudad:[],supervisor:t.supervisor?t.supervisor:[],incGastos:!!t.inc_gastos&&1===t.inc_gastos,tarSinchi:!!t.tar_sinchi&&1===t.tar_sinchi,valGastosViaje:t.val_gastos_viaje?t.val_gastos_viaje:"",tipoProc:t.tipo_proc?t.tipo_proc:"",necesidades:t.necesidades?t.necesidades:[],pagos:t.pagos?t.pagos:[],anticipo:t.anticipo?t.anticipo:"",accesInfoConf:!!t.acces_info_conf&&1===t.acces_info_conf,caracteristicasBS:t.caracteristicas_bs?t.caracteristicas_bs:"",cod_causal:t.causal?t.causal:"",causal:t.causal?this.causales.find((function(e){return e.valor===t.causal})).text:"",contrapartida:t.contrapartida?t.contrapartida:"",convDinero:t.conv_dinero?t.conv_dinero:"",convEspecie:t.conv_especie?t.conv_especie:"",convValor:t.conv_valor?t.conv_valor:"",convenioMarco:t.convenio_marco?t.convenio_marco:"",correo:t.correo?t.correo:"",fechaCreacion:t.fecha_creacion?t.fecha_creacion:"",justificacion:t.justificacion?t.justificacion:"",nombre:t.nombre?t.nombre:"",ofEconomica:t.of_economica?t.of_economica:"",pesoEco:t.peso_eco?0===t.peso_eco?"":t.peso_eco:"",pesoEqu:t.peso_equ?0===t.peso_equ?"":t.peso_equ:"",pesoFin:t.peso_fin?0===t.peso_fin?"":t.peso_fin:"",pesoMet:t.peso_met?0===t.peso_met?"":t.peso_met:"",pesoOrg:t.peso_org?0===t.peso_org?"":t.peso_org:"",pesoProp:t.peso_prop?0===t.peso_prop?"":t.peso_prop:"",porcOfEco:t.porc_of_eco?0===t.porc_of_eco?"":t.porc_of_eco:"",rol:t.rol?t.rol:"",telefono:t.telefono?t.telefono:"",tipoContratacion:t.tipo_contratacion?t.tipo_contratacion:"",valArl:t.val_arl?t.val_arl:"",educacion:t.educacion?t.educacion:[],experiencia:t.experiencia?t.experiencia:[],adjuntos:t.adjuntos?this.adjMaped(t.adjuntos):[],proponentes:t.proponentes?this.propMapped(t.proponentes):[],expProp:t.expProp?this.expMaped(t.expProp):[],roles:t.roles?this.rolesMaped(t.roles):[],expFin:t.expFin?t.expFin:[],expOrg:t.expOrg?t.expOrg:[],expMet:t.expMet?t.expMet:[],criDes:t.criDes?t.criDes:[],estado:t.estado?t.estado:"creado",cdp:t.cdp?t.cdp:"",cdp_nombre:t.cdp_nombre?t.cdp_nombre:"",cdp_number:t.cdp_number?t.cdp_number:"",crp:t.crp?t.crp:"",crp_nombre:t.crp_nombre?t.crp_nombre:"",crp_number:t.crp_number?t.crp_number:"",ab_asignado:t.ab_asignado?t.ab_asignado:""};this.data=e},propMapped:function(t){return t.map((function(t){t.adjuntos=[]})),t},adjMaped:function(t){return console.log(t),t.map((function(t){t.aprobado=!!t.aprobado&&0!==t.aprobado,t.noAplica=!!t.noAplica&&0!==t.noAplica,t.file_name=t.nombre,t.file_path=t.path})),t},expMaped:function(t){return t.map((function(t){t.cumple=!!t.cumple&&0!==t.cumple})),t},rolesMaped:function(t){return t.map((function(t){t.educacion.map((function(t){t.cumple=!!t.cumple&&0!==t.cumple,t.noAplica=!!t.noAplica&&0!==t.noAplica}))})),t},remove:function(t){var e=this.data.ciudad.indexOf(t.codigo);e>=0&&this.data.ciudad.splice(e,1)},actAdjuntos:function(t){this.data.adjuntos=this.data.adjuntos.filter((function(t){return"bienserv"!==t.tipo})),console.log(t);var e={tipo:"bienserv",nombre:t.file_name,path:t.file_path};e.path&&this.data.adjuntos.push(e)},setAnticipo:function(t){this.data.anticipo=t}},computed:{causales:function(){return this.$store.state.causales},bienAdjuntos:{get:function(){if(this.data.adjuntos){var t=[],e=this.data.adjuntos.find((function(t){return"bienserv"===t.tipo}));return e&&t.push({file_name:e.nombre,file_path:e.path}),t}return{}},set:function(t){}},tiposContratacionDirecta:function(){return this.$store.state.tiposContratacionDirecta}}},uh=dh,ph=(a("434c"),Object(C["a"])(uh,Cv,Sv,!1,null,"dbd8322c",null)),mh=ph.exports,vh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("h1",[t._v("Terminos de referencia")]),a("v-card",[a("v-card-text",[a("h3",[t._v("Proyectos")]),t.data.idSolContratacion?a("proyectos",{staticClass:"mb-3",attrs:{idSolicitud:t.data.idSolContratacion,antecedentes:t.data.antecedentes}}):t._e(),a("h3",[t._v("Necesidades")]),t.data.idSolContratacion?a("necesidades",{staticClass:"mb-5",attrs:{idSolicitud:t.data.idSolContratacion}}):t._e(),a("v-textarea",{staticClass:"mb-3",attrs:{label:"Alcance de la contratación",dense:"",rows:"3"},model:{value:t.data.alcance,callback:function(e){t.$set(t.data,"alcance",e)},expression:"data.alcance"}}),a("v-select",{staticClass:"mb-3",attrs:{label:"Proyecto - Términos de referencia",items:t.planes,"item-text":"proynomcor","item-value":"proycod",dense:""},model:{value:t.data.proyTermRef,callback:function(e){t.$set(t.data,"proyTermRef",e)},expression:"data.proyTermRef"}}),a("v-row",{attrs:{"no-gutters":""}},[a("v-select",{attrs:{items:t.tiposContrata,dense:"",label:"Tipo de contratación","item-value":"id","item-text":"nombre"},model:{value:t.data.tipoContrata,callback:function(e){t.$set(t.data,"tipoContrata",e)},expression:"data.tipoContrata"}}),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_add_tipo_contrata=!0,t.txtnombre=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("\n            add\n          ")])],1)],1),a("v-textarea",{staticClass:"mb-3",attrs:{label:"Norma aplicable",dense:"",rows:"3"},model:{value:t.data.norma_aplicable,callback:function(e){t.$set(t.data,"norma_aplicable",e)},expression:"data.norma_aplicable"}}),t.tiposContratacionDirecta.includes(t.data.tipoContratacion)?a("v-textarea",{staticClass:"mb-3",attrs:{label:"Causal",dense:"",rows:"3"},model:{value:t.data.causal,callback:function(e){t.$set(t.data,"causal",e)},expression:"data.causal"}}):t._e(),a("h3",[t._v("Modalidad de selección")]),"dir_personal"===t.data.tipoContratacion?a("div",{staticClass:"mb-6"},[t._v("Contratación directa Personal")]):"dir_bien"===t.data.tipoContratacion?a("div",{staticClass:"mb-6"},[t._v("Contratación directa persona natural/Bienes/Servicios/Obras")]):"dir_juridica"===t.data.tipoContratacion?a("div",{staticClass:"mb-6"},[t._v("Contratación directa persona jurídica/Bienes/Servicios/Obras")]):"lista_corta"===t.data.tipoContratacion?a("div",{staticClass:"mb-6"},[t._v("Lista corta")]):"conv_publica"===t.data.tipoContratacion?a("div",{staticClass:"mb-6"},[t._v("Convocatoria Pública")]):t._e(),a("v-textarea",{staticClass:"mb-3",attrs:{label:"Justificación de la modalidad de selección",dense:"",rows:"3"},model:{value:t.data.justificacion,callback:function(e){t.$set(t.data,"justificacion",e)},expression:"data.justificacion"}}),a("v-text-field",{attrs:{label:"Objeto Contractual",dense:""},model:{value:t.data.objContractual,callback:function(e){t.$set(t.data,"objContractual",e)},expression:"data.objContractual"}}),a("h3",[t._v("Descripción del Bien/servicio/obra")]),a("v-card",{staticClass:"mb-3"},[a("v-card-text",[a("v-textarea",{staticClass:"mb-3",attrs:{placeholder:"Descripción de bien o servicio",dense:"",rows:"3"},model:{value:t.data.caracteristicasBS,callback:function(e){t.$set(t.data,"caracteristicasBS",e)},expression:"data.caracteristicasBS"}}),a("v-row",{attrs:{align:"center","no-gutters":""}},[a("multipleAdj",{attrs:{datos:t.bienAdjuntos,text:"Adjunto bienes/servicios/obras"}}),a("v-spacer"),a("v-switch",{staticStyle:{margin:"0px"},attrs:{label:"Requerido","hide-details":""},model:{value:t.data.reqBien,callback:function(e){t.$set(t.data,"reqBien",e)},expression:"data.reqBien"}})],1)],1)],1),a("oneValueList",{attrs:{data:t.data.obligaciones,tipo:"obligaciones"}}),a("oneValueList",{staticClass:"mt-3",attrs:{data:t.data.infoprod,tipo:"infoprod"}}),a("h3",{staticClass:"mt-4"},[t._v("Valor máximo de contratación")]),t.data.necesidades?a("valorContratacion",{attrs:{idSol:t.data.idSolContratacion,necesidades:t.data.necesidades,lectura:!1}}):t._e(),a("h3",{staticClass:"mt-3"},[t._v("Forma de pago")]),t.data.pagos?a("formaDePago",{staticClass:"mb-4",attrs:{anticip:t.data.anticipo,pagos:t.data.pagos,infoprod:t.data.infoprod,lectura:!0,showliquida:!0},on:{"set-anticipo":t.setAnticipo}}):t._e(),t.data.adjuntos?a("CdpCrp",{attrs:{idRef:t.data.id,data:t.data.adjuntos,mode:"CDP",lectura:!0}}):t._e(),a("div",{staticClass:"mt-5"},[t.data.id?a("termEjTime",{attrs:{data:t.data}}):t._e()],1),a("div",{staticClass:"mt-5"},[a("v-autocomplete",{attrs:{items:t.ciudades,label:"Lugar de ejecución","item-text":"nombrecompleto","item-value":"codigo",color:"primary",multiple:"",chips:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",t._b({attrs:{"input-value":e.selected,color:"primary",close:""},on:{click:e.select,"click:close":function(a){return t.remove(e.item)}}},"v-chip",e.attrs,!1),[t._v("\n              "+t._s(e.item.nombrecompleto)+"\n            ")])]}}]),model:{value:t.data.ciudad,callback:function(e){t.$set(t.data,"ciudad",e)},expression:"data.ciudad"}})],1),a("div",{staticClass:"mt-3"},[a("v-autocomplete",{attrs:{items:t.supervisores,label:"Supervisor","item-text":"nombrecompleto","item-value":"codigo",multiple:"",chips:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",t._b({attrs:{"input-value":e.selected,close:"",color:"primary"},on:{click:e.select,"click:close":function(a){return t.removeSupervisor(e.item)}}},"v-chip",e.attrs,!1),[t._v("\n              "+t._s(e.item.nombrecompleto)+"\n            ")])]}}]),model:{value:t.data.supervisor,callback:function(e){t.$set(t.data,"supervisor",e)},expression:"data.supervisor"}})],1),a("v-row",[a("v-col",[a("v-switch",{attrs:{label:"Incluye gastos de viaje?"},model:{value:t.data.incGastosViaje,callback:function(e){t.$set(t.data,"incGastosViaje",e)},expression:"data.incGastosViaje"}})],1),t.data.incGastosViaje?a("v-col",[a("v-checkbox",{attrs:{label:"Incluye tarifa SINCHI"},model:{value:t.data.tarSinchi,callback:function(e){t.$set(t.data,"tarSinchi",e)},expression:"data.tarSinchi"}})],1):t._e(),t.data.incGastosViaje?a("v-col",[t.data.tarSinchi?t._e():a("v-text-field",{staticClass:"ml-7",staticStyle:{"max-width":"250px"},attrs:{label:"Tarifa diaria, sin puntos ni comas",type:"number","prepend-icon":"attach_money",suffix:t.data.compTarDiaria},model:{value:t.data.tarDiaria,callback:function(e){t.$set(t.data,"tarDiaria",e)},expression:"data.tarDiaria"}})],1):t._e()],1),t.tiposContratacionDirecta.includes(t.data.tipoContratacion)?a("datosAdjuntos",{attrs:{tipoContratacion:t.data.tipoContratacion,adjuntosIn:t.data.adjuntos,idSolProc:t.data.id,causal:t.data.cod_causal,pertenece:"personal",evaluacion:!1}}):t._e(),["lista_corta","conv_publica"].includes(t.data.tipoContratacion)?a("v-card",{staticClass:"mt-5",attrs:{color:"grey lighten-2"}},[a("v-card-text",[a("proponentesListaCorta",{attrs:{proponentes:t.data.proponentes}})],1)],1):t._e(),["lista_corta","conv_publica"].includes(t.data.tipoContratacion)?a("v-card",{staticClass:"mt-5",attrs:{color:"grey lighten-2"}},[a("v-card-text",[a("h2",[t._v("Criterios minimos")]),t.dataLoaded?a("criteriosMinimos",{attrs:{solproc:t.data}}):t._e()],1)],1):t._e(),["lista_corta","conv_publica"].includes(t.data.tipoContratacion)?a("v-card",{staticClass:"mt-5",attrs:{color:"grey lighten-2"}},[a("v-card-text",[a("h2",[t._v("Criterios De Selección")]),t.dataLoaded?a("criteriosSeleccion",{attrs:{solproc:t.data}}):t._e()],1)],1):t._e()],1),a("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-end",position:"fixed",right:"100px",bottom:"100px"}},[a("v-btn",{staticClass:"mb-5",attrs:{color:"primary",fab:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("reply")])],1),a("v-btn",{attrs:{color:"primary",fab:""},on:{click:t.saveProgress}},[a("v-icon",[t._v("save")])],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog_add_tipo_contrata,callback:function(e){t.dialog_add_tipo_contrata=e},expression:"dialog_add_tipo_contrata"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("\n          Añadir registro\n        ")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Nombre",outlined:"",dense:"","hide-details":""},model:{value:t.txtnombre,callback:function(e){t.txtnombre=e},expression:"txtnombre"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",fab:"","x-small":"",dark:""},on:{click:function(e){t.dialog_add_tipo_contrata=!1}}},[a("v-icon",[t._v("close")])],1),a("v-btn",{attrs:{color:"success",fab:"","x-small":"",dark:""},on:{click:function(e){return t.saveTipoContrata()}}},[a("v-icon",[t._v("save")])],1)],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialogSaving,callback:function(e){t.dialogSaving=e},expression:"dialogSaving"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n          Salvando los cambios...\n          "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)],1)},hh=[];function fh(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function gh(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){fh(n,o,i,r,s,"next",t)}function s(t){fh(n,o,i,r,s,"throw",t)}r(void 0)}))}}var bh={components:{proyectos:Iv,oneValueList:qv,termEjTime:zv,necesidades:Kv,smallAdj:Xs,multipleAdj:sh,CdpCrp:Rm,valorContratacion:Tl,formaDePago:Bl,datosAdjuntos:qd,proponentesListaCorta:du,criteriosMinimos:mp,criteriosSeleccion:Yp},data:function(){return{data:{},ciudades:[],supervisores:[],tiposContrata:[],planes:[],txtnombre:"",dialog_add_tipo_contrata:!1,dataLoaded:!1,dialogSaving:!1}},mounted:function(){var t=this,e=this.$route.params.id;Promise.all([this.getSolProcDetail(e),this.getAllCiudades(),this.getPersonal(),this.getPlanes(e),this.getTipoContrata()]).finally((function(){t.dataLoaded=!t.dataLoaded}))},methods:{saveProgress:function(){var t=gh(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.dialogSaving=!0,t.prev=1,e=this.data,t.next=5,Sl.saveFromSolicitud(e);case 5:a=t.sent,this.$toasted.success("Datos guardados!",{icon:"done",duration:3e3}),this.$router.push("TerminoReferenciaDetail/"+e.id),console.log(a),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),this.$toasted.error(t.t0.response.data,{icon:"error",duration:5e3}),console.log(t.t0.response.data);case 15:this.dialogSaving=!1;case 16:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(){return t.apply(this,arguments)}return e}(),saveTipoContrata:function(){var t=gh(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Cl.savetipocontrata({nombre:this.txtnombre});case 3:e=t.sent,a=e.data,"success"===a.tipo?(this.$toasted.success(a.respuesta,{icon:"done",duration:3e3}),this.dialog_add_tipo_contrata=!1,this.getTipoContrata()):this.$toasted.error(a.respuesta,{icon:"error",duration:3e3}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),getTipoContrata:function(){var t=gh(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Cl.gettipocontrata();case 3:e=t.sent,a=e.data,this.tiposContrata=a.termref_tipocontratas,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),getSolProcDetail:function(){var t=gh(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sc.getSolProcDetail(e);case 3:a=t.sent,console.log(a),this.setSolData(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}(),getPlanes:function(){var t=gh(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gr["a"].getBySolProc(e);case 3:a=t.sent,console.log(a),this.planes=a.data,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),this.planes=[];case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}(),getPersonal:function(){var t=gh(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st["a"].getData();case 3:e=t.sent,this.supervisores=e.data.data,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),this.supervisores=[];case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getAllCiudades:function(){var t=gh(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qi["a"].getAllCiudades();case 3:e=t.sent,console.log(e),this.ciudades=e.data.data,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),this.ciudades=[];case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),removeSupervisor:function(t){var e=this.data.supervisor.indexOf(t.codigo);this.data.supervisor.splice(e,1)},setSolData:function(t){var e={id:t.id?t.id:"",idSolContratacion:t.id_solcontratacion?t.id_solcontratacion:this.idSolicitud,objContractual:t.obj_contractual?t.obj_contractual:"",obligaciones:t.obligaciones?t.obligaciones:[],infoprod:t.infoprod?t.infoprod:[],fechaLimite:t.fecha_limite?"0000-00-00 00:00:00"===t.fecha_limite?"":t.fecha_limite:"",fechaTerminacion:t.fecha_terminacion?"0000-00-00 00:00:00"===t.fecha_terminacion?"":t.fecha_terminacion:"",tiempoAsignado:t.tiempo_asignado?t.tiempo_asignado:"",ciudad:t.ciudad?t.ciudad:[],supervisor:t.supervisor?t.supervisor:[],incGastos:!!t.inc_gastos&&1===t.inc_gastos,tarSinchi:!!t.tar_sinchi&&1===t.tar_sinchi,valGastosViaje:t.val_gastos_viaje?t.val_gastos_viaje:"",tipoProc:t.tipo_proc?t.tipo_proc:"",necesidades:t.necesidades?t.necesidades:[],pagos:t.pagos?t.pagos:[],anticipo:t.anticipo?t.anticipo:"",accesInfoConf:!!t.acces_info_conf&&1===t.acces_info_conf,caracteristicasBS:t.caracteristicas_bs?t.caracteristicas_bs:"",cod_causal:t.causal?t.causal:"",causal:t.causal?this.causales.find((function(e){return e.valor===t.causal})).text:"",contrapartida:t.contrapartida?t.contrapartida:"",convDinero:t.conv_dinero?t.conv_dinero:"",convEspecie:t.conv_especie?t.conv_especie:"",convValor:t.conv_valor?t.conv_valor:"",convenioMarco:t.convenio_marco?t.convenio_marco:"",correo:t.correo?t.correo:"",fechaCreacion:t.fecha_creacion?t.fecha_creacion:"",justificacion:t.justificacion?t.justificacion:"",nombre:t.nombre?t.nombre:"",ofEconomica:t.of_economica?t.of_economica:"",pesoEco:t.peso_eco?0===t.peso_eco?"":t.peso_eco:"",pesoEqu:t.peso_equ?0===t.peso_equ?"":t.peso_equ:"",pesoFin:t.peso_fin?0===t.peso_fin?"":t.peso_fin:"",pesoMet:t.peso_met?0===t.peso_met?"":t.peso_met:"",pesoOrg:t.peso_org?0===t.peso_org?"":t.peso_org:"",pesoProp:t.peso_prop?0===t.peso_prop?"":t.peso_prop:"",porcOfEco:t.porc_of_eco?0===t.porc_of_eco?"":t.porc_of_eco:"",rol:t.rol?t.rol:"",telefono:t.telefono?t.telefono:"",tipoContratacion:t.tipo_contratacion?t.tipo_contratacion:"",valArl:t.val_arl?t.val_arl:"",educacion:t.educacion?t.educacion:[],experiencia:t.experiencia?t.experiencia:[],adjuntos:t.adjuntos?this.adjMaped(t.adjuntos):[],proponentes:t.proponentes?this.propMapped(t.proponentes):[],expProp:t.expProp?this.expMaped(t.expProp):[],roles:t.roles?this.rolesMaped(t.roles):[],expFin:t.expFin?t.expFin:[],expOrg:t.expOrg?t.expOrg:[],expMet:t.expMet?t.expMet:[],criDes:t.criDes?t.criDes:[],estado:t.estado?t.estado:"creado",cdp:t.cdp?t.cdp:"",cdp_nombre:t.cdp_nombre?t.cdp_nombre:"",cdp_number:t.cdp_number?t.cdp_number:"",crp:t.crp?t.crp:"",crp_nombre:t.crp_nombre?t.crp_nombre:"",crp_number:t.crp_number?t.crp_number:"",ab_asignado:t.ab_asignado?t.ab_asignado:"",antecedentes:[],alcance:"",proyTermRef:""};this.data=e},propMapped:function(t){return t.map((function(t){t.adjuntos=[]})),t},adjMaped:function(t){return console.log(t),t.map((function(t){t.aprobado=!!t.aprobado&&0!==t.aprobado,t.noAplica=!!t.noAplica&&0!==t.noAplica,t.file_name=t.nombre,t.file_path=t.path})),t},expMaped:function(t){return t.map((function(t){t.cumple=!!t.cumple&&0!==t.cumple})),t},rolesMaped:function(t){return t.map((function(t){t.educacion.map((function(t){t.cumple=!!t.cumple&&0!==t.cumple,t.noAplica=!!t.noAplica&&0!==t.noAplica}))})),t},remove:function(t){var e=this.data.ciudad.indexOf(t.codigo);e>=0&&this.data.ciudad.splice(e,1)},actAdjuntos:function(t){this.data.adjuntos=this.data.adjuntos.filter((function(t){return"bienserv"!==t.tipo})),console.log(t);var e={tipo:"bienserv",nombre:t.file_name,path:t.file_path};e.path&&this.data.adjuntos.push(e)},setAnticipo:function(t){this.data.anticipo=t}},computed:{causales:function(){return this.$store.state.causales},bienAdjuntos:{get:function(){if(this.data.adjuntos){var t=[],e=this.data.adjuntos.find((function(t){return"bienserv"===t.tipo}));return e&&t.push({file_name:e.nombre,file_path:e.path}),t}return{}},set:function(t){}},tiposContratacionDirecta:function(){return this.$store.state.tiposContratacionDirecta}}},xh=bh,_h=(a("7c7e"),Object(C["a"])(xh,vh,hh,!1,null,"652517a3",null)),yh=_h.exports,kh={components:{TerminoReferenciaDetail:mh,solprocTermref:yh},data:function(){return{tipo:""}},mounted:function(){this.tipo=this.$route.params.tipo}},Ch=kh,Sh=Object(C["a"])(Ch,yv,kv,!1,null,"80f4c40c",null),wh=Sh.exports,Ph=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.editaist=0,t.edit_tareas=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tMesa de ayuda\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"",dense:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[t.ActivarIcono(o,1)?a("v-template",[t.ActivarIcono(o,1)?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[t.ActivarIcono(o,1)?a("v-icon",t._g(t._b({staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.editaist=0,t.itemactual=o}}},"v-icon",n,!1),i),[t._v("\n\t\t\t\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t\t\t\t")]):t._e()]}}],null,!0)},[a("span",[t._v("Editar")])]):t._e(),t.ActivarIcono(o,2)?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[t.ActivarIcono(o,2)?a("v-icon",t._g(t._b({staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_addpart=!0,t.editaist=1,t.edit=0,t.itemactual=o}}},"v-icon",n,!1),i),[t._v("\n\t\t\t\t\t\t\t\t\t\t\tadd\n\t\t\t\t\t\t\t\t\t\t")]):t._e()]}}],null,!0)},[a("span",[t._v("Agregar participantes")])]):t._e()],1):t._e(),t.ActivarIcono(o,3)?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[t.ActivarIcono(o,3)?a("v-icon",t._g(t._b({staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_orden=!0,t.itemactual=o,t.ordendia=1}}},"v-icon",n,!1),i),[t._v("\n\t\t\t\t\t\t\t\t\t\tschedule\n\t\t\t\t\t\t\t\t\t")]):t._e()]}}],null,!0)},[a("span",[t._v("Programación y Orden")])]):t._e(),t.ActivarIcono(o,4)?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[t.ActivarIcono(o,4)?a("v-icon",t._g(t._b({staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_notificar=!0,t.itemactual=o}}},"v-icon",n,!1),i),[t._v("\n\t\t\t\t\t\t\t\t\tmail\n\t\t\t\t\t\t\t\t")]):t._e()]}}],null,!0)},[a("span",[t._v("Enviar citación")])]):t._e(),t.ActivarIcono(o,5)?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[t.ActivarIcono(o,5)?a("v-icon",t._g(t._b({staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_resumen=!0,t.desareu=1,t.itemactual=o}}},"v-icon",n,!1),i),[t._v("\n\t\t\t\t\t\t\t\t\t\tlist_alt\n\t\t\t\t\t\t\t\t\t")]):t._e()]}}],null,!0)},[a("span",[t._v("Desarrollo de la reunión")])]):t._e(),t.ActivarIcono(o,6)?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[t.ActivarIcono(o,6)?a("v-icon",t._g(t._b({staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_tareas=!0,t.itemactual=o}}},"v-icon",n,!1),i),[t._v("\n\t\t\t\t\t\t\t\t\t\twork\n\t\t\t\t\t\t\t\t\t")]):t._e()]}}],null,!0)},[a("span",[t._v("Asignar compromisos")])]):t._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){e.on,e.attrs;return[t._e()]}}],null,!0)},[a("span",[t._v("Mostrar PDF")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){e.on,e.attrs;return[t._e()]}}],null,!0)},[a("span",[t._v("Enviar para aprobación")])]),o.fase>=1?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[o.fase>=1?a("v-icon",t._g(t._b({staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_info=!0,t.itemactual=o}}},"v-icon",n,!1),i),[t._v("\n\t\t\t\t\t\t\t\t\t\tfind_in_page\n\t\t\t\t\t\t\t\t\t")]):t._e()]}}],null,!0)},[a("span",[t._v("Visualizar información")])]):t._e(),t.ActivarIcono(o,7)?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[t.ActivarIcono(o,7)?a("v-icon",t._g(t._b({staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.aprrecacta=1,t.apracta=0,t.itemactual=o}}},"v-icon",n,!1),i),[t._v("\n\t\t\t\t\t\t\t\tassignment_turned_in\n\t\t\t\t\t\t\t")]):t._e()]}}],null,!0)},[a("span",[t._v("Aprobar/Rechazar acta")])]):t._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){e.on,e.attrs;return[t._e()]}}],null,!0)},[a("span",[t._v("Historia de actas")])]),t.ActivarIcono(o,8)?a("v-template",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_tareas_seguimiento=!0,t.itemactual=o}}},"v-icon",n,!1),i),[t._v("\n\t\t\t\t\t\t\t\t\t\t\trestore\n\t\t\t\t\t\t\t\t\t\t")])]}}],null,!0)},[a("span",[t._v("Seguimiento a los compromisos")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.aprrecCompro=!0,t.AprRechCom=!1,t.itemactual=o}}},"v-icon",n,!1),i),[t._v("\n\t\t\t\t\t\t\t\t\t\t\tplaylist_add_check\n\t\t\t\t\t\t\t\t\t\t")])]}}],null,!0)},[a("span",[t._v("Aprobación a los compromisos")])])],1):t._e()]}}])})],1)],1)],1),t.dialog?a("v-dialog",{attrs:{"max-width":"700px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-select",{attrs:{items:t.arrProcesos,"item-value":"codigo","item-text":"nombre",label:"Proceso","return-object":!1,readonly:t.readonly,dense:""},on:{change:t.OnChangeProcesos},model:{value:t.proceso,callback:function(e){t.proceso=e},expression:"proceso"}})],1),a("v-col",[a("v-select",{attrs:{items:t.arrSubProc,"item-value":"codigo","item-text":1==t.proceso?"nombre":2==t.proceso||3==t.proceso?"descripcion":"objetivo",label:"","return-object":!1,readonly:t.readonly,dense:""},scopedSlots:t._u([1==t.proceso?{key:"selection",fn:function(e){var o=e.item;return[o.nombre.length<=20?a("span",[t._v(t._s(o.nombre))]):t._e(),o.nombre.length>20?a("span",[t._v(t._s(o.nombre.substring(0,20))+" ...")]):t._e()]}}:2==t.proceso?{key:"selection",fn:function(e){var o=e.item;return[o.descripcion.length<=20?a("span",[t._v(t._s(o.descripcion))]):t._e(),o.descripcion.length>20?a("span",[t._v(t._s(o.descripcion.substring(0,20))+" ...")]):t._e()]}}:3==t.proceso?{key:"selection",fn:function(e){var o=e.item;return[o.descripcion.length<=20?a("span",[t._v(t._s(o.descripcion))]):t._e(),o.descripcion.length>20?a("span",[t._v(t._s(o.descripcion.substring(0,20))+" ...")]):t._e()]}}:4==t.proceso?{key:"selection",fn:function(e){var o=e.item;return[o.objetivo.length<=20?a("span",[t._v(t._s(o.objetivo))]):t._e(),o.objetivo.length>20?a("span",[t._v(t._s(o.objetivo.substring(0,20))+" ...")]):t._e()]}}:null],null,!0),model:{value:t.SubProceso,callback:function(e){t.SubProceso=e},expression:"SubProceso"}})],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-textarea",{attrs:{maxlength:"250",dense:""},scopedSlots:t._u([{key:"label",fn:function(){return[a("div",[t._v("\n\t\t\t\t\t\t\t\t\t\tDescripción\n\t\t\t\t\t\t\t\t\t\t")])]},proxy:!0}],null,!1,3160589338),model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1),a("v-flex",[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-flex",[a("v-label",[t._v("Los contenidos de la reunión se podrán heredar en otras reuniones")])],1)],1),a("v-col",[a("v-flex",[a("v-checkbox",{attrs:{color:"primary",label:"",dense:""},model:{value:t.hereda,callback:function(e){t.hereda=e},expression:"hereda"}})],1)],1)],1)],1),a("v-flex",[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-flex",[a("v-select",{attrs:{items:t.arrSedes,"item-value":"codigo","item-text":"nombre",label:"Sede","return-object":!1,readonly:t.readonly,dense:""},model:{value:t.sede,callback:function(e){t.sede=e},expression:"sede"}})],1)],1)],1)],1),a("v-flex",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{sm3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha de reunion","prepend-icon":"event",readonly:"",dense:"",rules:[t.rules.required]},model:{value:t.Fechareunion,callback:function(e){t.Fechareunion=e},expression:"Fechareunion"}},o))]}}],null,!1,1299849940),model:{value:t.menuDate,callback:function(e){t.menuDate=e},expression:"menuDate"}},[a("v-date-picker",{attrs:{type:"date"},on:{input:function(e){t.menuDate=!1}},model:{value:t.Fechareunion,callback:function(e){t.Fechareunion=e},expression:"Fechareunion"}})],1)],1)],1)],1),a("v-flex",[a("v-text-field",{attrs:{dense:"",label:"Lugar",rules:[t.rules.required]},model:{value:t.lugar,callback:function(e){t.lugar=e},expression:"lugar"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1):t._e(),t.dialog_addpart?a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.dialog_addpart,callback:function(e){t.dialog_addpart=e},expression:"dialog_addpart"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-flex",[a("v-select",{ref:"citadorreu",attrs:{items:t.arrCitador,"item-value":"codigo","item-text":"nombrecompleto",label:"Citador de la reunión","return-object":!1,readonly:t.readonly,filled:"",outlined:"",autofocus:"",dense:""},model:{value:t.citador,callback:function(e){t.citador=e},expression:"citador"}})],1)],1)],1),a("v-row",{attrs:{justify:"space-around",align:"center",dense:""}},[a("v-chip",{staticClass:"ma-2",class:{primary:1==t.e1},attrs:{"input-value":1==t.e1,filter:""},on:{click:function(e){t.e1=1,t.Seleccionasistentes=0,t.arrAsistentes=[],t.asistentes=[],t.arrAsistentesTotal=[]}}},[t._v("\n\t\t\t\t\t\t\t\t\t1. Convocados y asistentes \n\t\t\t\t\t\t\t\t")]),a("v-chip",{staticClass:"ma-2",class:{primary:2==t.e1},attrs:{"input-value":2==t.e1,filter:""},on:{click:function(e){t.e1=2}}},[t._v("\n\t\t\t\t\t\t\t\t\t2. Otros asistentes externos\n\t\t\t\t\t\t\t\t")])],1),a("v-form",{ref:"form",model:{value:t.valid_addpar,callback:function(e){t.valid_addpar=e},expression:"valid_addpar"}},[a("v-stepper",{attrs:{vertical:!1},model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:"1",editable:!0}}),a("v-divider"),a("v-stepper-step",{attrs:{step:"2",editable:!0}})],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-flex",[a("v-select",{attrs:{items:t.arrSeleccion,"item-value":"codigo","item-text":"nombre",label:"Selección",dense:"","return-object":!1,readonly:t.readonly},on:{change:t.OnChangeSeleccion},model:{value:t.Seleccionasistentes,callback:function(e){t.Seleccionasistentes=e},expression:"Seleccionasistentes"}})],1)],1),a("v-col",[a("v-flex",[t.Seleccionasistentes>1?a("v-autocomplete",{attrs:{chips:"",items:t.arrSearchAsis,label:t.labelSearchAsis,"item-value":"id","item-text":"nombre",dense:""},on:{change:t.OnChangeSeleccionCarAre},model:{value:t.SearchAsis,callback:function(e){t.SearchAsis=e},expression:"SearchAsis"}}):t._e()],1)],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-flex",[t.arrAsistentes.length>0?a("v-autocomplete",{attrs:{chips:"",multiple:"",items:t.arrAsistentes,label:"Personal",dense:"","item-value":"codigo","item-text":"nombrecompleto"},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",t._b({attrs:{"input-value":e.selected,close:""},on:{click:e.select,"click:close":function(a){return t.removearrasisten(e.item)}}},"v-chip",e.attrs,!1),[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.item.nombrecompleto)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}],null,!1,3274324966),model:{value:t.Asistentes,callback:function(e){t.Asistentes=e},expression:"Asistentes"}}):t._e()],1)],1)],1),a("v-row",{attrs:{dense:""}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.AgregarAsistentes}},[t._v("Agregar")])],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-data-table",{attrs:{headers:t.headersAsist,items:t.dataAsist,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.asistente",fn:function(e){var o=e.item;return[a("td",[t._v(t._s(o.asistente))])]}},{key:"item.ponente",fn:function(e){var o=e.item;return[a("v-simple-checkbox",{attrs:{color:"primary"},on:{input:function(e){return t.checkedAsist(o)}},model:{value:o.ponente,callback:function(e){t.$set(o,"ponente",e)},expression:"item.ponente"}})]}},{key:"item.oyente",fn:function(e){var o=e.item;return[a("v-simple-checkbox",{attrs:{color:"primary"},on:{input:function(e){return t.checkedAsist(o)}},model:{value:o.oyente,callback:function(e){t.$set(o,"oyente",e)},expression:"item.oyente"}})]}},{key:"item.informativo",fn:function(e){var o=e.item;return[a("v-simple-checkbox",{attrs:{color:"primary"},on:{input:function(e){return t.checkedAsist(o)}},model:{value:o.informativo,callback:function(e){t.$set(o,"informativo",e)},expression:"item.informativo"}})]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){return t.asistente_del(o)}}},[a("v-icon",[t._v("delete")])],1)]}}],null,!1,628124630)})],1)],1)],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-flex",[a("v-text-field",{attrs:{dense:"",label:"Nombre"},model:{value:t.nombreexterno,callback:function(e){t.nombreexterno=e},expression:"nombreexterno"}})],1)],1),a("v-col",[a("v-flex",[a("v-text-field",{attrs:{dense:"",label:"Cargo"},model:{value:t.cargoexterno,callback:function(e){t.cargoexterno=e},expression:"cargoexterno"}})],1)],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-flex",[a("v-text-field",{attrs:{dense:"",label:"Entidad"},model:{value:t.entidadexterno,callback:function(e){t.entidadexterno=e},expression:"entidadexterno"}})],1)],1),a("v-col",[a("v-flex",[a("v-text-field",{attrs:{dense:"",label:"Email"},model:{value:t.emailexterno,callback:function(e){t.emailexterno=e},expression:"emailexterno"}})],1)],1)],1),a("v-row",{attrs:{dense:""}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.AgregarExternos}},[t._v("Agregar")])],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-data-table",{attrs:{headers:t.headersExternos,items:t.dataExternos,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.ponente",fn:function(e){var o=e.item;return[a("v-simple-checkbox",{attrs:{color:"primary"},on:{input:function(e){return t.checkedAsistext(o)}},model:{value:o.ponente,callback:function(e){t.$set(o,"ponente",e)},expression:"item.ponente"}})]}},{key:"item.oyente",fn:function(e){var o=e.item;return[a("v-simple-checkbox",{attrs:{color:"primary"},on:{input:function(e){return t.checkedAsistext(o)}},model:{value:o.oyente,callback:function(e){t.$set(o,"oyente",e)},expression:"item.oyente"}})]}},{key:"item.informativo",fn:function(e){var o=e.item;return[a("v-simple-checkbox",{attrs:{color:"primary"},on:{input:function(e){return t.checkedAsistext(o)}},model:{value:o.informativo,callback:function(e){t.$set(o,"informativo",e)},expression:"item.informativo"}})]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){return t.externo_del(o)}}},[a("v-icon",[t._v("delete")])],1)]}}],null,!1,2722750023)})],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo_addPart}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid_addpar},on:{click:t.saveitem_addPart}},[t._v("Guardar")])],1)],1)],1):t._e(),t.dialog_orden?a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.dialog_orden,callback:function(e){t.dialog_orden=e},expression:"dialog_orden"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-row",{attrs:{justify:"space-around",align:"center",dense:""}},[a("v-chip",{staticClass:"ma-2",class:{primary:1==t.e1_o},attrs:{"input-value":1==t.e1_o,filter:""},on:{click:function(e){t.e1_o=1}}},[t._v("\n\t\t\t\t\t\t\t\t\t1. Programación de la reunión \n\t\t\t\t\t\t\t\t")]),a("v-chip",{staticClass:"ma-2",class:{primary:2==t.e1_o},attrs:{"input-value":2==t.e1_o,filter:""},on:{click:function(e){t.e1_o=2,t.traerReunionOrden()}}},[t._v("\n\t\t\t\t\t\t\t\t\t2. Orden del día\n\t\t\t\t\t\t\t\t")]),a("v-chip",{staticClass:"ma-2",class:{primary:3==t.e1_o},attrs:{"input-value":3==t.e1_o,filter:""},on:{click:function(e){t.e1_o=3,t.traerAsistentesactvidades(),t.traerExternoActividades()}}},[t._v(" \n\t\t\t\t\t\t\t\t\t3. Actividades de los participantes\n\t\t\t\t\t\t\t\t")])],1),a("v-stepper",{attrs:{vertical:!1},model:{value:t.e1_o,callback:function(e){t.e1_o=e},expression:"e1_o"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:"1",editable:!0}}),a("v-divider"),a("v-stepper-step",{attrs:{step:"2",editable:!0}}),a("v-divider"),a("v-stepper-step",{attrs:{step:"3",editable:!0}})],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-form",{ref:"form",model:{value:t.valid_programacion,callback:function(e){t.valid_programacion=e},expression:"valid_programacion"}},[a("v-flex",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{sm3:""}},[a("v-text-field",{attrs:{label:"Hora de inicio","prepend-icon":"alarm",dense:"",rules:[t.rules.required],pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",type:"time"},model:{value:t.HoraIni,callback:function(e){t.HoraIni=e},expression:"HoraIni"}})],1),a("v-col",{attrs:{sm3:""}},[a("v-text-field",{attrs:{label:"Hora de final","prepend-icon":"alarm",dense:"",rules:[t.rules.required],pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",type:"time"},model:{value:t.HoraFin,callback:function(e){t.HoraFin=e},expression:"HoraFin"}})],1)],1)],1),a("v-flex",[a("v-container",{attrs:{fluid:""}},[a("v-checkbox",{attrs:{color:"primary",label:"Reunión virtual",dense:""},on:{change:function(e){return t.ChangeOrdCheckVirtual()}},model:{value:t.ordcheckvirtual,callback:function(e){t.ordcheckvirtual=e},expression:"ordcheckvirtual"}}),a("v-checkbox",{attrs:{color:"primary",dense:"",label:"Reunión presencial"},model:{value:t.ordcheckpresencial,callback:function(e){t.ordcheckpresencial=e},expression:"ordcheckpresencial"}})],1)],1)],1),t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid_programacion},on:{click:t.saveProgramacion}},[t._v("Guardar")])],1)],1),a("v-stepper-content",{attrs:{step:"2"}},[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_orden_addupd=!0,t.editOrden=0}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-data-table",{attrs:{headers:t.headersOrden,items:t.dataOrden,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){t.dialog_orden_addupd=!0,t.editOrden=1,t.itemorden=o}}},[a("v-icon",[t._v("edit")])],1),a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){t.dialog_del_orden=!0,t.itemorden=o}}},[a("v-icon",[t._v("delete")])],1)]}}],null,!1,1732894917)})],1)],1)],1),a("v-stepper-content",{attrs:{step:"3"}},[a("v-flex",[a("v-flex",[a("div",[t._v("Asistentes de la reunión")])]),[a("v-expansion-panels",t._l(t.dataAsist,(function(e){return a("v-expansion-panel",{key:e.asistente,attrs:{dense:""}},[a("v-expansion-panel-header",[t._v(t._s(e.asistente))]),a("v-expansion-panel-content",[a("v-text-field",{attrs:{dense:"",label:"Actividades del asistente"},model:{value:e.actividad,callback:function(a){t.$set(e,"actividad",a)},expression:"data.actividad"}})],1)],1)})),1)]],2),a("v-flex",[a("v-flex",[a("div",[t._v("Externos de la reunión")])]),[a("v-expansion-panels",t._l(t.dataExternos,(function(e){return a("v-expansion-panel",{key:e.NombreExterno,attrs:{dense:""}},[a("v-expansion-panel-header",[t._v(t._s(e.NombreExterno))]),a("v-expansion-panel-content",[a("v-text-field",{attrs:{dense:"",label:"Actividades del externo"},model:{value:e.actividad,callback:function(a){t.$set(e,"actividad",a)},expression:"data.actividad"}})],1)],1)})),1)]],2),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.saveActividades}},[t._v("Guardar")])],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo_orden}},[t._v("Salir")])],1)],1)],1):t._e(),t.dialog_info?a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog_info,callback:function(e){t.dialog_info=e},expression:"dialog_info"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Reunión")])]),a("v-card-subtitle",[a("span",{staticClass:"headline"},[t._v("Información general")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-text-field",{attrs:{readonly:"",dense:"",label:"Proceso"},model:{value:t.arrInfoGeneral.nombreproceso,callback:function(e){t.$set(t.arrInfoGeneral,"nombreproceso",e)},expression:"arrInfoGeneral.nombreproceso"}})],1),a("v-col",[a("v-text-field",{attrs:{readonly:"",dense:"",label:"SubProceso"},model:{value:t.arrInfoGeneral.NombreSubProceso,callback:function(e){t.$set(t.arrInfoGeneral,"NombreSubProceso",e)},expression:"arrInfoGeneral.NombreSubProceso"}})],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-textarea",{attrs:{readonly:"",dense:"",label:"Descripción"},model:{value:t.arrInfoGeneral.descripcion,callback:function(e){t.$set(t.arrInfoGeneral,"descripcion",e)},expression:"arrInfoGeneral.descripcion"}})],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-checkbox",{attrs:{readonly:"",dense:"",color:"primary",label:"Los contenidos de la reunión se podrán heredar en otras reuniones"},model:{value:t.arrInfoGeneral.hereda,callback:function(e){t.$set(t.arrInfoGeneral,"hereda",e)},expression:"arrInfoGeneral.hereda"}})],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-text-field",{attrs:{readonly:"",dense:"",label:"Sede"},model:{value:t.arrInfoGeneral.nombresede,callback:function(e){t.$set(t.arrInfoGeneral,"nombresede",e)},expression:"arrInfoGeneral.nombresede"}})],1),a("v-col",[a("v-text-field",{attrs:{readonly:"",dense:"",label:"Fecha"},model:{value:t.arrInfoGeneral.fecha,callback:function(e){t.$set(t.arrInfoGeneral,"fecha",e)},expression:"arrInfoGeneral.fecha"}})],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-text-field",{attrs:{readonly:"",dense:"",label:"Lugar"},model:{value:t.arrInfoGeneral.lugar,callback:function(e){t.$set(t.arrInfoGeneral,"lugar",e)},expression:"arrInfoGeneral.lugar"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{readonly:"",dense:"",label:"Citador",outlined:""},model:{value:t.arrInfoGeneral.NombreCitador,callback:function(e){t.$set(t.arrInfoGeneral,"NombreCitador",e)},expression:"arrInfoGeneral.NombreCitador"}})],1)],1),a("v-card-subtitle",[a("span",{staticClass:"headline"},[t._v("Asistentes")])]),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-data-table",{attrs:{headers:t.headersAsistinfo,items:t.arrInfoGeneral.Asistentes,"single-expand":"",expanded:t.expandedAsistInfo,"item-key":"codasistente","show-expand":"","items-per-page":5,"disable-sort":!0},on:{"update:expanded":function(e){t.expandedAsistInfo=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Internos")])],1)]},proxy:!0},{key:"item",fn:function(e){var o=e.item,i=e.expand,n=e.isExpanded;return[a("tr",[a("td",[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(t){return i(!n)}}},[t._v("info\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),a("td",[t._v(t._s(o.nombre))]),a("td",[a("v-checkbox",{attrs:{readonly:"",color:"primary"},model:{value:o.ponente,callback:function(e){t.$set(o,"ponente",e)},expression:"item.ponente"}})],1),a("td",[a("v-checkbox",{attrs:{readonly:"",color:"primary"},model:{value:o.oyente,callback:function(e){t.$set(o,"oyente",e)},expression:"item.oyente"}})],1),a("td",[a("v-checkbox",{attrs:{readonly:"",color:"primary"},model:{value:o.informativo,callback:function(e){t.$set(o,"informativo",e)},expression:"item.informativo"}})],1),a("td",[a("v-checkbox",{attrs:{readonly:"",color:"primary"},model:{value:o.asistio,callback:function(e){t.$set(o,"asistio",e)},expression:"item.asistio"}})],1),a("td",[a("v-text-field",{attrs:{readonly:"",maxlength:"250"},model:{value:o.observacionasistio,callback:function(e){t.$set(o,"observacionasistio",e)},expression:"item.observacionasistio"}})],1),a("td",[a("v-checkbox",{attrs:{readonly:"",color:"primary"},model:{value:o.aprobaracta,callback:function(e){t.$set(o,"aprobaracta",e)},expression:"item.aprobaracta"}})],1),a("td",[a("v-checkbox",{attrs:{readonly:"",color:"primary"},model:{value:o.aprobarcompromiso,callback:function(e){t.$set(o,"aprobarcompromiso",e)},expression:"item.aprobarcompromiso"}})],1)])]}},{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-card",{attrs:{flat:""}},[a("v-card-title",[t._v("Actividad:")]),a("v-card-text",{attrs:{dense:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(i.actividad)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1),a("v-col",{attrs:{cols:"8"}},[a("v-card",{attrs:{flat:""}},[a("v-card-title",[t._v("Aprobaciones:")]),a("v-card-text",{attrs:{dense:""}},[a("v-data-table",{attrs:{headers:t.headers_aprobacion_acta_info,items:i.aprobaciones,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.estado",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(2==o.estado?"RECHAZÓ":"APROBÓ"))])]}}],null,!0)})],1)],1)],1)],1)],1)]}}],null,!1,2147724837)})],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-data-table",{attrs:{headers:t.headersExternoinfo,items:t.arrInfoGeneral.Externos,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Externos")])],1)]},proxy:!0},{key:"item.ponente",fn:function(e){var o=e.item;return[a("v-checkbox",{attrs:{readonly:"",color:"primary"},model:{value:o.ponente,callback:function(e){t.$set(o,"ponente",e)},expression:"item.ponente"}})]}},{key:"item.oyente",fn:function(e){var o=e.item;return[a("v-checkbox",{attrs:{readonly:"",color:"primary"},model:{value:o.oyente,callback:function(e){t.$set(o,"oyente",e)},expression:"item.oyente"}})]}},{key:"item.informativo",fn:function(e){var o=e.item;return[a("v-checkbox",{attrs:{readonly:"",color:"primary"},model:{value:o.informativo,callback:function(e){t.$set(o,"informativo",e)},expression:"item.informativo"}})]}},{key:"item.asistio",fn:function(e){var o=e.item;return[a("v-checkbox",{attrs:{readonly:"",color:"primary"},model:{value:o.asistio,callback:function(e){t.$set(o,"asistio",e)},expression:"item.asistio"}})]}},{key:"item.observacionasistio",fn:function(e){var o=e.item;return[a("v-text-field",{attrs:{readonly:"",maxlength:"250"},model:{value:o.observacionasistio,callback:function(e){t.$set(o,"observacionasistio",e)},expression:"item.observacionasistio"}})]}}],null,!1,147443253)})],1)],1),a("v-card-subtitle",[a("span",{staticClass:"headline"},[t._v("Programación y orden del día")])]),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-checkbox",{attrs:{readonly:"",color:"primary",dense:"",label:"Presencial"},model:{value:t.arrInfoGeneral.presencial,callback:function(e){t.$set(t.arrInfoGeneral,"presencial",e)},expression:"arrInfoGeneral.presencial"}})],1),a("v-col",[a("v-checkbox",{attrs:{readonly:"",color:"primary",dense:"",label:"Virtual"},model:{value:t.arrInfoGeneral.virtual,callback:function(e){t.$set(t.arrInfoGeneral,"virtual",e)},expression:"arrInfoGeneral.virtual"}})],1)],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{icon:"alarm",outlined:""}},[t._v("Inicio de la reunión "+t._s(t.arrInfoGeneral.fecha)+" "+t._s(t.arrInfoGeneral.horainicio))])],1)],1),a("v-row",[a("v-col",[a("v-data-table",{attrs:{headers:t.headersOrdenDesarrInfo,items:t.arrInfoGeneral.Programacion,"single-expand":"",expanded:t.expandedOrdenInfo,"item-key":"codorden","show-expand":"","items-per-page":5,"disable-sort":!0},on:{"update:expanded":function(e){t.expandedOrdenInfo=e}},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item,i=e.expand,n=e.isExpanded;return[a("tr",[a("td",[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(t){return i(!n)}}},[t._v("info\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),a("td",[a("center",[t._v(t._s(o.horainicio))])],1),a("td",[a("center",[t._v(t._s(o.horafinal))])],1),a("td",[t._v(t._s(o.descripcion))]),a("td",[a("v-text-field",{attrs:{maxlength:"250"},model:{value:o.observaciondesarrollo,callback:function(e){t.$set(o,"observaciondesarrollo",e)},expression:"item.observaciondesarrollo"}})],1)])]}},{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-row",[a("v-col",[a("v-data-table",{attrs:{headers:t.headers_adjunto_ordenes_info,items:i.adjuntos,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.pdf",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.veradjord(o.pdf)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpicture_as_pdf\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}],null,!0)})],1)],1)],1)]}}],null,!1,2977073473)})],1)],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{icon:"alarm",outlined:""}},[t._v("Fin de la reunión "+t._s(t.arrInfoGeneral.fecha)+" "+t._s(t.arrInfoGeneral.horafin))])],1)],1),a("v-card-subtitle",[a("span",{staticClass:"headline"},[t._v("Compromisos")])]),a("v-row",[a("v-col",[a("v-data-table",{attrs:{headers:t.headers_tareas_info,items:t.arrInfoGeneral.Tareas,expanded:t.expandedTareasInfo,"show-expand":"","single-expand":"","item-key":"codtarea","items-per-page":5,"disable-sort":!0,search:t.search_tareas},on:{"update:expanded":function(e){t.expandedTareasInfo=e}},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item,i=e.expand,n=e.isExpanded;return[a("tr",[a("td",[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){i(!n),t.e1_inf_tareas="1"}}},[t._v("info\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),a("td",[t._v(t._s(o.fechalimite))]),a("td",[t._v(t._s(o.descripcion))]),a("td",[a("v-checkbox",{attrs:{readonly:"",color:"primary"},model:{value:o.estado,callback:function(e){t.$set(o,"estado",e)},expression:"item.estado"}})],1),a("td",[a("v-checkbox",{attrs:{readonly:"",color:"primary"},model:{value:o.aprobada,callback:function(e){t.$set(o,"aprobada",e)},expression:"item.aprobada"}})],1)])]}},{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-stepper",{model:{value:t.e1_inf_tareas,callback:function(e){t.e1_inf_tareas=e},expression:"e1_inf_tareas"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:"1",editable:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tResponsables y Aprobaciones\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-divider"),a("v-stepper-step",{attrs:{step:"2",editable:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAdjuntos\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-divider"),a("v-stepper-step",{attrs:{step:"3",editable:""}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tHistorial\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-card",{attrs:{flat:""}},[a("v-card-title",[t._v("Responsables:")]),a("v-card-text",{attrs:{dense:""}},t._l(i.responsables,(function(e,o){return a("v-list-item",{key:o,attrs:{dense:""}},[a("v-list-item-content",[a("span",{domProps:{textContent:t._s(e.NombreResponsable)}})])],1)})),1)],1)],1),a("v-col",{attrs:{cols:"8"}},[a("v-card",{attrs:{flat:""}},[a("v-card-title",[t._v("Aprobaciones")]),a("v-card-text",{attrs:{dense:""}},[a("v-data-table",{attrs:{headers:t.headers_tareas_aprobadores_info,items:i.aprobaciones,"items-per-page":5,"disable-sort":!0}})],1)],1)],1)],1)],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-row",[a("v-col",[a("v-data-table",{attrs:{headers:t.headers_adjunto_tareas_inf,items:i.adjuntos,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.pdf",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.veradjtar(o.pdf)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpicture_as_pdf\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}],null,!0)})],1)],1)],1),a("v-stepper-content",{attrs:{step:"3"}},[i.historial.length>0?a("v-row",[a("v-col",[a("perfect-scrollbar",{staticStyle:{height:"640px"}},[a("v-container",[a("v-expansion-panels",t._l(i.historial,(function(e){return a("v-expansion-panel",{key:e.codigo,staticStyle:{maxWidth:"750px"},attrs:{dense:""}},[a("v-expansion-panel-header",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"8"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.Usuario)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-col",{staticClass:"text--secondary",attrs:{cols:"3"}},[a("center",[t._v(t._s(e.fecha))])],1),a("v-col",{attrs:{cols:"1"}},[""!=e.pdf?a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(a){return t.veradjcom(e.pdf)}}},[a("v-icon",{attrs:{dark:""}},[t._v("picture_as_pdf")])],1):t._e()],1)],1)],1),a("v-expansion-panel-content",[a("perfect-scrollbar",{staticStyle:{height:"300px"}},[a("v-container",[a("vue-editor",{attrs:{editorOptions:t.editorOptions},model:{value:e.comentario,callback:function(a){t.$set(e,"comentario",a)},expression:"obj.comentario"}})],1)],1)],1)],1)})),1)],1)],1)],1)],1):t._e()],1)],1)],1)],1)]}}],null,!1,2412258586)})],1)],1)],1)],1)],1)],1)],1):t._e(),t.dialog_tareas?a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog_tareas,callback:function(e){t.dialog_tareas=e},expression:"dialog_tareas"}},[a("v-card",[a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-card-actions",[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_tareas_addupd=!0,t.edit_tareas=0,t.itemactual_tareas=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_import_tareas=!0,t.import_tareas=1,t.itemactual_tareas=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("cloud_download")])],1),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){return t.EnviarNotificarActa()}}},[a("v-icon",{attrs:{dark:""}},[t._v("mail")])],1)],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tCompromisos\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search_tareas,callback:function(e){t.search_tareas=e},expression:"search_tareas"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers_tareas,items:t.data_tareas,expanded:t.expanded,"show-expand":"","single-expand":"","item-key":"codigo","items-per-page":5,"disable-sort":!0,search:t.search_tareas},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item,i=e.expand,n=e.isExpanded;return[a("tr",{class:{blue:1===o.codestado,green:2===o.codestado,red:3===o.codestado}},[a("td",[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(t){return i(!n)}}},[t._v("info\n\t\t\t\t\t\t\t\t\t")])],1),a("td",[t._v(t._s(o.fecha))]),a("td",[t._v(t._s(o.tarea))]),a("td",[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog_tareas_addupd=!0,t.edit_tareas=1,t.itemactual_tareas=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual_tareas===o},on:{click:function(e){t.dialog_del_tarea=!0,t.itemactual_tareas=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])],1)])]}},{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-card",{attrs:{flat:""}},[a("v-card-title",[t._v("Responsables:")]),a("v-card-text",t._l(i.responsables,(function(e,o){return a("v-list-item",{key:o},[a("v-list-item-content",[a("span",{domProps:{textContent:t._s(e.nombre)}})])],1)})),1)],1)],1)]}}],null,!1,343272890)})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo_tareas}},[t._v("Salir")])],1)],1)],1):t._e(),t.dialog_tareas_seguimiento?a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog_tareas_seguimiento,callback:function(e){t.dialog_tareas_seguimiento=e},expression:"dialog_tareas_seguimiento"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Seguimiento de compromisos")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-flex",[a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\t\t\t\t\tCompromisos\n\t\t\t\t\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search_tareas,callback:function(e){t.search_tareas=e},expression:"search_tareas"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers_tareas,items:t.data_tareas,expanded:t.expanded,"show-expand":"","single-expand":"","item-key":"codigo","items-per-page":5,"disable-sort":!0,search:t.search_tareas},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item,i=e.expand,n=e.isExpanded;return[0===o.codestado?a("tr",{class:{"blue-grey lighten-1":t.ValidaFecha10(new Date,o.fecha),"orange lighten-1":t.ValidaFecha5(new Date,o.fecha),"purple lighten-1":t.ValidaFecha1(new Date,o.fecha),"red lighten-1":t.ValidaFechaVencido(new Date,o.fecha)}},[a("td",[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(t){return i(!n)}}},[t._v("info\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),a("td",[t._v(t._s(o.fecha))]),a("td",[t._v(t._s(o.tarea))]),a("td",[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog_tareas_segui_edit=!0,t.segui_tareas=1,t.itemactual_tareas_seguimiento=o}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)]):t._e()]}},{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-card",{attrs:{flat:""}},[a("v-card-title",[t._v("Responsables:")]),a("v-card-text",t._l(i.responsables,(function(e,o){return a("v-list-item",{key:o},[a("v-list-item-content",[a("span",{domProps:{textContent:t._s(e.nombre)}})])],1)})),1)],1)],1)]}}],null,!1,2844900535)})],1)],1)],1),a("v-row",[a("v-col",[a("span",[t._v("Vencido:")]),a("v-btn",{staticClass:"red lighten-1 text-center"})],1),a("v-col",[a("span",[t._v("1 día:")]),a("v-btn",{staticClass:"purple lighten-1 text-center"})],1),a("v-col",[a("span",[t._v("5 día:")]),a("v-btn",{staticClass:"orange lighten-1 text-center"})],1),a("v-col",[a("span",[t._v("10 día:")]),a("v-btn",{staticClass:"blue-grey lighten-1 text-center"})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo_tareas_seguimiento}},[t._v("Salir")])],1)],1)],1):t._e(),t.AprRechCom?a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.AprRechCom,callback:function(e){t.AprRechCom=e},expression:"AprRechCom"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Aprobar compromisos")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-flex",[a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\t\t\t\t\tCompromisos\n\t\t\t\t\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search_tareas,callback:function(e){t.search_tareas=e},expression:"search_tareas"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers_tareas_Aprobar,items:t.data_tareas,expanded:t.expanded,"show-expand":"","single-expand":"","item-key":"codigo","items-per-page":5,"disable-sort":!0,search:t.search_tareas},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item,i=e.expand,n=e.isExpanded;return[1===o.codestado&&0===o.aprobada?a("tr",[a("td",[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(t){return i(!n)}}},[t._v("info\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),a("td",[t._v(t._s(o.fecha))]),a("td",[t._v(t._s(o.tarea))]),a("td",[a("v-checkbox",{attrs:{color:"primary",dense:""},model:{value:o.aprobar,callback:function(e){t.$set(o,"aprobar",e)},expression:"item.aprobar"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",label:"Comentario",maxlength:"250"},model:{value:o.comentario,callback:function(e){t.$set(o,"comentario",e)},expression:"item.comentario"}})],1)]):t._e()]}},{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-card",{attrs:{flat:""}},[a("v-card-title",[t._v("Responsables:")]),a("v-card-text",t._l(i.responsables,(function(e,o){return a("v-list-item",{key:o},[a("v-list-item-content",[a("span",{domProps:{textContent:t._s(e.nombre)}})])],1)})),1)],1)],1)]}}],null,!1,3090742519)})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo_Aprobartareas_seguimiento}},[t._v("Salir")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.saveitemReunionTareasAprob}},[t._v("Guardar")])],1)],1)],1):t._e(),t.dialog_histoactadetalle?a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog_histoactadetalle,callback:function(e){t.dialog_histoactadetalle=e},expression:"dialog_histoactadetalle"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Detalle de acta")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-flex",[a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\t\t\t\t\tDetalle\n\t\t\t\t\t\t\t\t")]),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers_actas_detalle,items:t.dataAsistResp,"items-per-page":5,"disable-sort":!0}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo_histoactadet}},[t._v("Salir")])],1)],1)],1):t._e(),t.dialog_histoacta?a("v-dialog",{attrs:{"max-width":"1200px"},model:{value:t.dialog_histoacta,callback:function(e){t.dialog_histoacta=e},expression:"dialog_histoacta"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Historial de actas")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-flex",[a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\t\t\t\t\tActas\n\t\t\t\t\t\t\t\t")]),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers_actas,items:t.data_actas,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog_histoactadetalle=!0,t.histoactadet=1,t.itemactual_acta=o}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\tlist_alt\n\t\t\t\t\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.verata(o.pdf)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\tpicture_as_pdf\n\t\t\t\t\t\t\t\t\t\t\t")])]}}],null,!1,458335827)})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo_histoacta}},[t._v("Salir")])],1)],1)],1):t._e(),t.dialog_tareas_addupd?a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.dialog_tareas_addupd,callback:function(e){t.dialog_tareas_addupd=e},expression:"dialog_tareas_addupd"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle_tareas))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid_tareas,callback:function(e){t.valid_tareas=e},expression:"valid_tareas"}},[a("v-flex",[a("v-textarea",{attrs:{dense:"",label:"Tareas",rules:[t.rules.required]},model:{value:t.tareas,callback:function(e){t.tareas=e},expression:"tareas"}})],1),a("v-flex",[a("v-card",[a("v-card-title",[t._v("\n\t\t\t\t\t\t\t\t\t\t\tResponsables\n\t\t\t\t\t\t\t\t\t\t")]),a("v-flex",[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-flex",[a("v-select",{attrs:{items:t.arrSeleccion,"item-value":"codigo","item-text":"nombre",dense:"",label:"Selección","return-object":!1,readonly:t.readonly},on:{change:t.OnChangeSeleccion},model:{value:t.Seleccionasistentes,callback:function(e){t.Seleccionasistentes=e},expression:"Seleccionasistentes"}})],1)],1),a("v-col",[a("v-flex",[t.Seleccionasistentes>1?a("v-autocomplete",{attrs:{chips:"",dense:"",items:t.arrSearchAsis,label:t.labelSearchAsis,"item-value":"id","item-text":"nombre"},on:{change:t.OnChangeSeleccionCarAre},model:{value:t.SearchAsis,callback:function(e){t.SearchAsis=e},expression:"SearchAsis"}}):t._e()],1)],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-flex",[t.arrAsistentes.length>0?a("v-autocomplete",{attrs:{chips:"",multiple:"",dense:"",items:t.arrAsistentes,label:"Personal","item-value":"codigo","item-text":"nombrecompleto"},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",t._b({attrs:{"input-value":e.selected,close:""},on:{click:e.select,"click:close":function(a){return t.removearrRespons(e.item)}}},"v-chip",e.attrs,!1),[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.item.nombrecompleto)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}],null,!1,3061581495),model:{value:t.responsables,callback:function(e){t.responsables=e},expression:"responsables"}}):t._e()],1)],1)],1),a("v-row",{attrs:{dense:""}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.AgregarResponsables}},[t._v("Agregar")])],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-data-table",{attrs:{headers:t.headersResponsables,items:t.dataResponsables,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.responsable",fn:function(e){var o=e.item;return[a("td",[t._v(t._s(o.responsable))])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){return t.responsable_del(o)}}},[a("v-icon",[t._v("delete")])],1)]}}],null,!1,3732956793)})],1)],1)],1)],1)],1),a("br"),a("v-flex",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{sm3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha limite",dense:"","prepend-icon":"event",readonly:"",rules:[t.rules.required]},model:{value:t.FechaLimite,callback:function(e){t.FechaLimite=e},expression:"FechaLimite"}},o))]}}],null,!1,1494747509),model:{value:t.menuDateLimite,callback:function(e){t.menuDateLimite=e},expression:"menuDateLimite"}},[a("v-date-picker",{attrs:{type:"date"},on:{input:function(e){t.menuDateLimite=!1}},model:{value:t.FechaLimite,callback:function(e){t.FechaLimite=e},expression:"FechaLimite"}})],1)],1)],1)],1),a("v-flex",[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Adjuntos")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-flex",[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_adjuntos_tarea_add=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-flex",[a("v-card",[a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers_adjunto_tareas,items:t.arrAdjuntoTareas,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.archivo",fn:function(e){var o=e.item;return[""==o.nombre?a("v-file-input",{attrs:{disabled:""},model:{value:o.archivo,callback:function(e){t.$set(o,"archivo",e)},expression:"item.archivo"}}):t._e(),""!=o.nombre?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.veradjtar(o.nombre)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpicture_as_pdf\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){return t.adjuntoTareas_del(o)}}},[a("v-icon",[t._v("delete")])],1)]}}],null,!1,3557024983)})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo_dialog_tareas_addupd}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid_tareas},on:{click:t.saveitemReunionTareas}},[t._v("Guardar")])],1)],1)],1):t._e(),t.dialog_tareas_segui_edit?a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.dialog_tareas_segui_edit,callback:function(e){t.dialog_tareas_segui_edit=e},expression:"dialog_tareas_segui_edit"}},[a("v-card",[a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-row",{staticClass:"mb-6",attrs:{dense:""}},[a("v-col",[a("v-card",{staticClass:"pa-2"},[a("v-card-title",[t._v("Compromiso: "+t._s(t.tareas))]),a("v-card-subtitle",[t._v("Fecha: "+t._s(t.FechaLimite)+" ")])],1),a("br"),a("v-card",{staticClass:"pa-2"},[a("v-card-title",[t._v("\n\t\t\t\t\t\t\t\t\t\t\tResponsables\n\t\t\t\t\t\t\t\t\t\t")]),a("v-flex",[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-flex",[a("v-select",{attrs:{items:t.arrSeleccion,"item-value":"codigo","item-text":"nombre",dense:"",label:"Selección","return-object":!1,readonly:t.readonly},on:{change:t.OnChangeSeleccion},model:{value:t.Seleccionasistentes,callback:function(e){t.Seleccionasistentes=e},expression:"Seleccionasistentes"}})],1)],1),a("v-col",[a("v-flex",[t.Seleccionasistentes>1?a("v-autocomplete",{attrs:{chips:"",items:t.arrSearchAsis,label:t.labelSearchAsis,dense:"","item-value":"id","item-text":"nombre"},on:{change:t.OnChangeSeleccionCarAre},model:{value:t.SearchAsis,callback:function(e){t.SearchAsis=e},expression:"SearchAsis"}}):t._e()],1)],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-flex",[t.arrAsistentes.length>0?a("v-autocomplete",{attrs:{chips:"",multiple:"",dense:"",items:t.arrAsistentes,label:"Personal","item-value":"codigo","item-text":"nombrecompleto"},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",t._b({attrs:{"input-value":e.selected,close:""},on:{click:e.select,"click:close":function(a){return t.removearrRespons(e.item)}}},"v-chip",e.attrs,!1),[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.item.nombrecompleto)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}],null,!1,3061581495),model:{value:t.responsables,callback:function(e){t.responsables=e},expression:"responsables"}}):t._e()],1)],1)],1),a("v-row",{attrs:{dense:""}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.AgregarResponsables}},[t._v("Agregar")])],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-data-table",{attrs:{headers:t.headersResponsablesSegui,items:t.dataResponsables,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.responsable",fn:function(e){var o=e.item;return[a("td",[t._v(t._s(o.responsable))])]}}],null,!1,1260095336)})],1)],1)],1)],1),a("br"),a("v-card",[a("v-card-subtitle",[a("v-flex",[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-flex",[a("v-label",[t._v("Compromiso realizado:")])],1)],1),a("v-col",[a("v-flex",[a("v-simple-checkbox",{attrs:{label:"",dense:"",color:"primary"},model:{value:t.chkComproRealiz,callback:function(e){t.chkComproRealiz=e},expression:"chkComproRealiz"}})],1)],1)],1)],1)],1)],1)],1),a("v-col",[a("v-card",{staticClass:"pa-2"},[a("v-card-title",[a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"11"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\tHistorial\n\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-col",{attrs:{cols:"1"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_history_compromisos_add=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1)],1)],1),a("v-card-text",[a("perfect-scrollbar",{staticStyle:{height:"640px"}},[a("v-container",[a("v-expansion-panels",t._l(t.dataComentariosTarea,(function(e){return a("v-expansion-panel",{key:e.codigo,staticStyle:{maxWidth:"500px"},attrs:{dense:""}},[a("v-expansion-panel-header",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"8"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.nombrecompletopersonal)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("v-col",{staticClass:"text--secondary",attrs:{cols:"3"}},[a("center",[t._v(t._s(e.fecha))])],1),a("v-col",{attrs:{cols:"1"}},[""!=e.adjunto?a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(a){return t.veradjcom(e.adjunto)}}},[a("v-icon",{attrs:{dark:""}},[t._v("picture_as_pdf")])],1):t._e()],1)],1)],1),a("v-expansion-panel-content",[a("perfect-scrollbar",{staticStyle:{height:"300px"}},[a("v-container",[a("vue-editor",{attrs:{editorOptions:t.editorOptions},model:{value:e.comentario,callback:function(a){t.$set(e,"comentario",a)},expression:"item.comentario"}})],1)],1)],1)],1)})),1)],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo_dialog_tareas_segui_edit}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.saveitemTareasSegui}},[t._v("Guardar")])],1)],1)],1):t._e(),t.dialog_history_compromisos_add?a("v-dialog",{attrs:{"max-width":"700px",persistent:""},model:{value:t.dialog_history_compromisos_add,callback:function(e){t.dialog_history_compromisos_add=e},expression:"dialog_history_compromisos_add"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Historial Nuevo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-flex",[a("span",[t._v("Comentario")])]),a("v-flex",[[a("perfect-scrollbar",{staticStyle:{height:"300px"}},[a("v-container",[a("vue-editor",{model:{value:t.Comentario_historial,callback:function(e){t.Comentario_historial=e},expression:"Comentario_historial"}})],1)],1)]],2),a("v-flex",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-flex",[""===t.adjuntoComentario?a("v-file-input",{attrs:{accept:"application/pdf",chips:"",dense:"",label:"Cargar archivo adjunto",rules:[t.rules.required]},on:{change:function(e){t.handleFileUploadComentario(e)}}}):t._e(),""!=t.adjuntoComentario?a("v-chip",{staticClass:"ma-2",staticStyle:{margin:"5px"},attrs:{close:"",color:"red darken-2","text-color":"white"},on:{"click:close":function(e){t.adjuntoComentario=""}}},[t._v(t._s(t.adjuntoComentario.substring(0,50))+"\n\t\t\t\t\t\t\t\t\t\t")]):t._e()],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrar_dialog_history_compromisos_add}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.saveitemComentarioTarea}},[t._v("Guardar")])],1)],1)],1):t._e(),t.dialog_agenda_addupd?a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog_agenda_addupd,callback:function(e){t.dialog_agenda_addupd=e},expression:"dialog_agenda_addupd"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle_agenda))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid_agenda,callback:function(e){t.valid_agenda=e},expression:"valid_agenda"}},[a("v-flex",[a("v-text-field",{attrs:{dense:"",type:"number",label:"No. Agenda",rules:[t.rules.required]},model:{value:t.numagenda,callback:function(e){t.numagenda=e},expression:"numagenda"}})],1),a("v-flex",[a("v-textarea",{attrs:{dense:"",label:"Descripción",rules:[t.rules.required]},model:{value:t.descripAgenda,callback:function(e){t.descripAgenda=e},expression:"descripAgenda"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarAgente_addupd}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid_agenda},on:{click:t.saveitemAgenda}},[t._v("Guardar")])],1)],1)],1):t._e(),t.dialog_orden_addupd?a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog_orden_addupd,callback:function(e){t.dialog_orden_addupd=e},expression:"dialog_orden_addupd"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle_orden))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid_orden,callback:function(e){t.valid_orden=e},expression:"valid_orden"}},[a("v-flex",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{sm3:""}},[a("v-text-field",{attrs:{dense:"",label:"Hora de inicio","prepend-icon":"alarm",rules:[t.rules.required],pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",type:"time"},model:{value:t.HoraIniOrd,callback:function(e){t.HoraIniOrd=e},expression:"HoraIniOrd"}})],1),a("v-col",{attrs:{sm3:""}},[a("v-text-field",{attrs:{dense:"",label:"Hora de final","prepend-icon":"alarm",rules:[t.rules.required],pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",type:"time"},model:{value:t.HoraFinOrd,callback:function(e){t.HoraFinOrd=e},expression:"HoraFinOrd"}})],1)],1)],1),a("v-flex",[a("v-textarea",{attrs:{dense:"",label:"Descripcion",rules:[t.rules.required]},model:{value:t.tematica,callback:function(e){t.tematica=e},expression:"tematica"}})],1),a("v-flex",[a("v-textarea",{attrs:{dense:"",label:"Observaciones"},model:{value:t.obsOrden,callback:function(e){t.obsOrden=e},expression:"obsOrden"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarOrden_addupd}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid_orden},on:{click:t.saveitemOrden}},[t._v("Guardar")])],1)],1)],1):t._e(),t.dialog_import_tareas?a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog_import_tareas,callback:function(e){t.dialog_import_tareas=e},expression:"dialog_import_tareas"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Importar tareas")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid_import_tareas,callback:function(e){t.valid_import_tareas=e},expression:"valid_import_tareas"}},[a("v-flex",[a("v-autocomplete",{attrs:{items:t.dataReunHereda,"item-value":"codigo","item-text":"descripcion",dense:"",label:"Reunión","return-object":!1,readonly:t.readonly,require:""},on:{change:t.OnChangeReuniones},model:{value:t.ReunionImportar,callback:function(e){t.ReunionImportar=e},expression:"ReunionImportar"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:"",dense:""}},[a("v-data-table",{attrs:{headers:t.headers_tareas_importar,items:t.data_tareas_importar,expanded:t.expanded_imp,"show-expand":"","single-expand":"","item-key":"codigo","items-per-page":5,"disable-sort":!0,search:t.search_tareas},on:{"update:expanded":function(e){t.expanded_imp=e}},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item,i=e.expand,n=e.isExpanded;return[a("tr",[a("td",[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(t){return i(!n)}}},[t._v("info\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),a("td",[a("v-checkbox",{attrs:{color:"primary",label:""},model:{value:o.seleccionado,callback:function(e){t.$set(o,"seleccionado",e)},expression:"item.seleccionado"}})],1),a("td",[t._v(t._s(o.fecha))]),a("td",[t._v(t._s(o.tarea))])])]}},{key:"expanded-item",fn:function(e){var o=e.headers,i=e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-card",{attrs:{flat:""}},[a("v-card-title",[t._v("Responsables:")]),a("v-card-text",t._l(i.responsables,(function(e,o){return a("v-list-item",{key:o},[a("v-list-item-content",[a("span",{domProps:{textContent:t._s(e.nombre)}})])],1)})),1)],1)],1)]}}],null,!1,3512314928)})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo_importar_tareas}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid_import_tareas},on:{click:t.ImportarTareas}},[t._v("Importar")])],1)],1)],1):t._e(),t.enviaraprobar?a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.enviaraprobar,callback:function(e){t.enviaraprobar=e},expression:"enviaraprobar"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Enviar acta a los probadores")])]),a("v-card-text",[0!=t.dataAsist.length?a("div",[t._v("\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t¿Esta seguro de enviar el acta para aprobar?\n\t\t\t\t\t")]):a("div",[t._v("\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tNo hay aprobadores para esta reunión, Por favor oprima aceptar para aprobar el acta\n\t\t\t\t\t")])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoEnviarActa}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:"",disabled:t.reunionPdf.length<=0},on:{click:t.EnviarActa}},[t._v("Aceptar")])],1)],1)],1):t._e(),t.AprRechActa?a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.AprRechActa,callback:function(e){t.AprRechActa=e},expression:"AprRechActa"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Aprobar / Rechazar acta")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid_aprrech_acta,callback:function(e){t.valid_aprrech_acta=e},expression:"valid_aprrech_acta"}},[a("v-flex",[a("v-radio-group",{attrs:{dense:"",row:"",label:"Desición: "},model:{value:t.OpcionActa,callback:function(e){t.OpcionActa=e},expression:"OpcionActa"}},[a("v-radio",{attrs:{label:"Aprobar",value:"1"}}),a("v-radio",{attrs:{label:"Rechazar",value:"2"}})],1)],1),a("v-flex",["2"===t.OpcionActa?a("div",[a("v-flex",[a("v-textarea",{attrs:{dense:"",label:"Observaciones"},model:{value:t.ObsRechActa,callback:function(e){t.ObsRechActa=e},expression:"ObsRechActa"}})],1)],1):t._e()])],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoAprRechActa}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.AprobarActa}},[t._v("Aceptar")])],1)],1)],1):t._e(),t.dialog_del?a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Reunión")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la reunión seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1):t._e(),t.dialog_del_agenda?a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog_del_agenda,callback:function(e){t.dialog_del_agenda=e},expression:"dialog_del_agenda"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar agenda de la Reunión")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la agenda de la reunión seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDelAgenda}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItemAgenda}},[t._v("Eliminar")])],1)],1)],1):t._e(),t.dialog_del_orden?a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog_del_orden,callback:function(e){t.dialog_del_orden=e},expression:"dialog_del_orden"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar orden de la Reunión")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el orden de la reunión seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDelOrden}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItemOrden}},[t._v("Eliminar")])],1)],1)],1):t._e(),t.dialog_resumen?a("v-dialog",{attrs:{persistent:"","max-width":"1000px"},model:{value:t.dialog_resumen,callback:function(e){t.dialog_resumen=e},expression:"dialog_resumen"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Desarrollo de la reunión")])]),a("br"),a("v-card-text",[a("v-flex",[t._v("\n\t\t\t\t\t\tAsistentes internos\n\t\t\t\t\t")]),a("v-flex",[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-data-table",{attrs:{headers:t.headersAsistdesarr,items:t.dataAsist,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.asistio",fn:function(e){var o=e.item;return[a("v-simple-checkbox",{attrs:{color:"primary"},model:{value:o.asistio,callback:function(e){t.$set(o,"asistio",e)},expression:"item.asistio"}})]}},{key:"item.observacion",fn:function(e){var o=e.item;return[a("v-text-field",{attrs:{label:"Observación no asistencia",maxlength:"250"},model:{value:o.observacion,callback:function(e){t.$set(o,"observacion",e)},expression:"item.observacion"}})]}},{key:"item.aprobar",fn:function(e){var o=e.item;return[a("v-simple-checkbox",{attrs:{color:"primary"},model:{value:o.aprobar,callback:function(e){t.$set(o,"aprobar",e)},expression:"item.aprobar"}})]}},{key:"item.aproCompro",fn:function(e){var o=e.item;return[a("v-simple-checkbox",{attrs:{color:"primary"},model:{value:o.aproCompro,callback:function(e){t.$set(o,"aproCompro",e)},expression:"item.aproCompro"}})]}}],null,!1,3961005025)})],1)],1)],1),a("v-flex",[t._v("\n\t\t\t\t\t\tAsistentes externos\n\t\t\t\t\t")]),a("v-flex",[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-data-table",{attrs:{headers:t.headersExternosDesarr,items:t.dataExternos,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.asistio",fn:function(e){var o=e.item;return[a("v-simple-checkbox",{attrs:{color:"primary"},model:{value:o.asistio,callback:function(e){t.$set(o,"asistio",e)},expression:"item.asistio"}})]}},{key:"item.observacion",fn:function(e){var o=e.item;return[a("v-text-field",{attrs:{label:"Observación no asistencia",maxlength:"250"},model:{value:o.observacion,callback:function(e){t.$set(o,"observacion",e)},expression:"item.observacion"}})]}}],null,!1,1033686849)})],1)],1)],1),a("v-flex",[a("v-alert",{attrs:{icon:"alarm",outlined:""}},[t._v("Inicio de la reunión "+t._s(t.itemactual.fecha)+" "+t._s(t.itemactual.horainicio))])],1),a("br"),a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_orden_addupd=!0,t.editOrden=0}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-data-table",{attrs:{headers:t.headersOrdenDesarr,items:t.dataOrden,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.desarrollo",fn:function(e){var o=e.item;return[a("v-text-field",{attrs:{label:"Desarrollo de la actividad",maxlength:"250"},model:{value:o.desarrollo,callback:function(e){t.$set(o,"desarrollo",e)},expression:"item.desarrollo"}})]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){t.dialog_adjuntos_orden=!0,t.editadjord=1,t.itemorden=o}}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-icon",t._g(t._b({},"v-icon",i,!1),o),[t._v("picture_as_pdf")])]}}],null,!0)},[a("span",[t._v("Adjuntos")])])],1)]}}],null,!1,2360654260)})],1)],1)],1),a("br"),a("v-flex",[a("v-alert",{attrs:{icon:"alarm",outlined:""}},[t._v("Fin de la reunión "+t._s(t.itemactual.fecha)+" "+t._s(t.itemactual.horafinal))])],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoResumen}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.SaveitemDesarrollo}},[t._v("Guardar")])],1)],1)],1):t._e(),t.dialog_adjuntos_orden?a("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:t.dialog_adjuntos_orden,callback:function(e){t.dialog_adjuntos_orden=e},expression:"dialog_adjuntos_orden"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Adjuntos orden del día")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_adjuntos_orden_add=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1)]),a("v-flex",[a("v-card",[a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers_adjunto_ordenes,items:t.arrAdjuntoOrden,"items-per-page":5,"disable-sort":!0},scopedSlots:t._u([{key:"item.pdf",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.veradjord(o.pdf)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\tpicture_as_pdf\n\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){return t.adjuntoOrden_del(o.codigo,o.pdf)}}},[a("v-icon",[t._v("delete")])],1)]}}],null,!1,296613284)})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo_adjuntoorden}},[t._v("Salir")])],1)],1)],1):t._e(),t.dialog_adjuntos_tarea_add?a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog_adjuntos_tarea_add,callback:function(e){t.dialog_adjuntos_tarea_add=e},expression:"dialog_adjuntos_tarea_add"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Adjunto Compromiso")])]),a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-flex",[""===t.adjuntoTarea?a("v-file-input",{attrs:{accept:"application/pdf",chips:"",label:"Cargar archivo adjunto",rules:[t.rules.required]},on:{change:function(e){t.handleFileUploadTarea(e)}}}):t._e(),""!=t.adjuntoTarea?a("v-chip",{staticClass:"ma-2",staticStyle:{margin:"5px"},attrs:{close:"",color:"red darken-2","text-color":"white"},on:{"click:close":function(e){t.adjuntoTarea=""}}},[t._v(t._s(t.adjuntoTarea.substring(0,50))+"\n\t\t\t\t\t\t\t\t")]):t._e()],1),a("br"),a("br"),a("v-flex",[a("v-text-field",{attrs:{dense:"",label:"Descripción",rules:[t.rules.required]},model:{value:t.DescAdjTarea,callback:function(e){t.DescAdjTarea=e},expression:"DescAdjTarea"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo_adjuntoTarea_add}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitemAdjTarea}},[t._v("Guardar")])],1)],1)],1):t._e(),t.dialog_adjuntos_orden_add?a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog_adjuntos_orden_add,callback:function(e){t.dialog_adjuntos_orden_add=e},expression:"dialog_adjuntos_orden_add"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Adjunto orden del día")])]),a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-flex",[""===t.adjuntoOrden?a("v-file-input",{attrs:{accept:"application/pdf",chips:"",label:"Cargar archivo adjunto",rules:[t.rules.required]},on:{change:function(e){t.handleFileUploadOrden(e)}}}):t._e(),""!=t.adjuntoOrden?a("v-chip",{staticClass:"ma-2",staticStyle:{margin:"5px"},attrs:{close:"",color:"red darken-2","text-color":"white"},on:{"click:close":function(e){t.adjuntoOrden=""}}},[t._v(t._s(t.adjuntoOrden.substring(0,50))+"\n\t\t\t\t\t\t\t\t")]):t._e()],1),a("br"),a("br"),a("v-flex",[a("v-text-field",{attrs:{dense:"",label:"Descripción",rules:[t.rules.required]},model:{value:t.DescAdjOrden,callback:function(e){t.DescAdjOrden=e},expression:"DescAdjOrden"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo_adjuntoorden_add}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitemAdjOrden}},[t._v("Guardar")])],1)],1)],1):t._e(),t.dialog_del_tarea?a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del_tarea,callback:function(e){t.dialog_del_tarea=e},expression:"dialog_del_tarea"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar tarea")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la tarea seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDelTarea}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItemTarea}},[t._v("Eliminar")])],1)],1)],1):t._e(),t.dialog_notificar?a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_notificar,callback:function(e){t.dialog_notificar=e},expression:"dialog_notificar"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Notificar Reunión")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de notificar a todos los participantes?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoNot}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:"",disabled:!t.authorized},on:{click:t.EnviarNotificar}},[t._v("Notificar")])],1)],1)],1):t._e()],1)},Ah=[],jh={getReuniones:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesXadminXasistentes",dataType:"json",data:{codpersonal:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getSolicitudesContratacion:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/GetSolicitudContratacion",dataType:"json",data:{}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDesplazamientos:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/GetDesplazamientosAll",dataType:"json",data:{}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getInformacionTotal:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getInformacionTotal",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getContratos:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/GetContratos",dataType:"json",data:{}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarReunion",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getPDFActaXReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getPDFReuniones",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getReunionesActaxReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ActasxReunion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delReunion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ActualizarReunionesEstado:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/updatereunionesestado",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ActualizarReunionesProgramacion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/updatereunionesprogramacion",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ActualizarReunionesCitador:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/updatereunionescitador",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ActualizarReunionesResumen:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/updatereunionesresumen",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},uploadadjunto:function(t){var e=new FormData;return e.append("archivo",t),new Promise((function(t,a){p.a.post(m["a"].apiUrl+"/uploadAdjuntoReunion",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getReunionesHereda:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesHerada",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Eh=jh,Th={getSede:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/Sede",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarSede:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarSede",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelSede:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delSede",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Dh=Th,Ih={getReunionesAsistentes:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesAsistentes",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarReunionAsistentes:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarReunionAsistentes",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ActualizarAsistencia:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionAsistentesActualizarAsistencia",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getReunionesAsistentesXReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesAsistentesXReunion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getReunionesAsistentesActividadXReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesAsistentesActividadesXReunion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getReunionesAsistentesAprobarXReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesAsistentesAprobarXReunion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getReunionesAsistentesAprobarTareaXReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesAsistentesAprobarTareaXReunion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},deleteAsistente:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesAsistentesEliminarxId",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Oh=Ih,Nh={getReunionesVisualiza:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesVisualiza",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarReunionVisualiza:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarReunionVisualiza",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getReunionesVisualizaXReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesVisualizaXReunion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Mh=Nh,Rh={getReunionesExterno:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesExterno",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarReunionExterno:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarReunionExterno",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ActualizarAsistencia:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionExternosActualizarAsistencia",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getReunionesExternoActividadesXReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesExternoActividadesXReunion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getReunionesExternoXReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesExternoXReunion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delete:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesExternoDelete",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Fh=Rh,qh={getReunionesTarea:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesTarea",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},GuardarReunionesTareaImportar:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesTareasImportar",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarReunionTareaSegui:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesTareasSegumiento",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarReunionTareaAproba:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesTareasAprobacion",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getReunionesTareaxReunionAprobar:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesTareaAprobarXCodReunion",dataType:"json",data:{id:t,idasist:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getReunionesTareaxReunionXrespon:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesTareaXCodReunionxRespons",dataType:"json",data:{id:t,responsable:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getReunionesTareaxReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesTareaXCodReunion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarReunionTarea:function(t,e){var a=new FormData;return e.forEach((function(t,e){a.append("adjuntos["+e+"]",t.archivo),a.append("descripciones["+e+"]",t.descripcion)})),a.append("data",JSON.stringify(t)),new Promise((function(t,e){p.a.post(m["a"].apiUrl+"/guardarReunionTarea",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarReunionTareaComentario:function(t,e){var a=new FormData;return a.append("adjunto",e),a.append("data",JSON.stringify(t)),new Promise((function(t,e){p.a.post(m["a"].apiUrl+"/guardarReunionTareaComentario",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},DelReunionTarea:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delReunionTarea",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ComentariosXCodTarea:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionTareaComentarioXCodTarea",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},PersonalXCodTarea:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/PersonalXCodTarea",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Uh=qh,$h={getReunionesOrden:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesOrden",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getReunionesOrdenxReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesOrdenXCodReunion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarReunionOrden:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarReunionOrden",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ActualizarDesarrollo:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionOrdenDesarrollo",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelReunionOrden:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/delReunionOrden",dataType:"json",data:{id:t,codreunion:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))}},Lh=$h,Bh={getReunionesAgenda:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesAgenda",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getReunionesAgendaxReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesAgendaXCodReunion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarReunionAgenda:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarReunionAgenda",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelReunionAgenda:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delReunionAgenda",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Gh=Bh,Vh={getReunionesActa:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesActa",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getReunionesActaxReunion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesActaXCodReunion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarReunionActa:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarReunionActa",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelReunionActa:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delReunionActa",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},zh=Vh,Xh={getReunionesActaAprobaciones:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesActaAprobaciones",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getReunionesActaAprobacionesxActa:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/ReunionesActaAprobacionesXActa",dataType:"json",data:{CodReunion:t,CodActa:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},guardarReunionActaAprovaciones:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarReunionActaAprobaciones",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelReunionActaAprovaciones:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delReunionActaAprovaciones",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Hh=Xh,Jh={guardarReunionActividades:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarReunionActividadesinternos",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Yh=Jh,Zh={guardarReunionActividades:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarReunionActividadesexternos",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Wh=Zh,Qh={getAdjuntosXOrden:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/AdjuntosxOrden",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarAdjuntoOrden:function(t,e,a){var o=new FormData;return o.append("archivo",t),o.append("codOrden",e),o.append("descripcion",a),new Promise((function(t,e){p.a.post(m["a"].apiUrl+"/guardarAdjuntoOrden",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},DelAdjunto:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/delAdjuntoOrden",dataType:"json",data:{id:t,adjunto:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))}},Kh=Qh,tf={getAdjuntosXOrden:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/AdjuntosxTarea",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelAdjunto:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/delAdjuntoTarea",dataType:"json",data:{id:t,adjunto:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))}},ef=tf,af=(a("f28c"),a("c1df")),of=a.n(af);function nf(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function rf(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){nf(n,o,i,r,s,"next",t)}function s(t){nf(n,o,i,r,s,"throw",t)}r(void 0)}))}}function sf(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var cf="296927143639-l34huk38rk6bjm0rn1i6da2p39qtmlsp.apps.googleusercontent.com",lf="AIzaSyAB6xwLv-6M6mSWNojjI6DrctV9QZ4_jCw",df=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],uf="https://www.googleapis.com/auth/calendar.readonly https://www.googleapis.com/auth/calendar",pf={components:{VueEditor:km["a"]},data:function(){var t;return t={items:void 0,api:void 0,authorized:!1,modulo:"REUNIONES",loading:!1,dialog:!1,edit:-1,editaist:-1,apracta:-1,aprrecacta:-1,editOrden:-1,editAgen:-1,edit_tareas:-1,ordendia:-1,histoacta:-1,histoactadet:-1,editadjord:-1,desareu:-1,segui_tareas:-1,import_tareas:-1,aprrecCompro:!1,dialog_info:!1,dialog_del:!1,dialog_del_orden:!1,dialog_del_agenda:!1,dialog_notificar:!1,dialog_addpart:!1,dialog_tareas:!1,dialog_tareas_seguimiento:!1,dialog_tareas_addupd:!1,dialog_del_tarea:!1,dialog_import_tareas:!1,dialog_resumen:!1,dialog_adjuntos_orden:!1,dialog_adjuntos_orden_add:!1,dialog_orden:!1,dialog_agenda_addupd:!1,dialog_orden_addupd:!1,dialog_histoacta:!1,dialog_histoactadetalle:!1,dialog_history_compromisos_add:!1,dialog_tareas_segui_edit:!1,enviaraprobar:!1,processing:!1,formTitle:"",formTitle_orden:"",formTitle_agenda:"",Comentario_historial:"",valid:!1,valid_tareas:!1,valid_programacion:!1,valid_import_tareas:!1,valid_addpar:!1,valid_orden:!1,valid_progracion:!1,valid_agenda:!1,valid_aprrech_acta:!1,search:"",search_tareas:"",codigo:"0",descripcion:"",descripcionant:"",DescAdjOrden:"",hereda:0,heredaAnt:0,itemactual:"",itemactualAsist:"",itemactual_tareas:"",itemactual_acta:"",itemorden:"",itemagenda:"",data:[],dataReunHereda:[],dataComentariosTarea:[],data_tareas:[],dataAgenda:[],data_tareas_importar:[],proceso:0,arrSubProc:[],SubProceso:0,readonly:!1,HoraFin:"",HoraIni:"",HoraFinOrd:"",HoraIniOrd:"",Fechareunion:"",labelSearchAsis:"",lugar:"",linkreunion:"",arrCitador:[],citador:0,CodAproTarAsis:0,arrElaboActa:[],ElaboActa:0,arrSedes:[],arrAdjuntoOrden:[],arrAdjuntoTareas:[],arrSearchAsis:[],SearchAsis:0,sede:0,e1:"1",e1_o:"1",e1_inf_tareas:"1",menuDate:!1,menuTime1:!1,menuTime2:!1,menuTime1Ord:!1,menuTime2Ord:!1,menuDateLimite:!1,arrAsistentes:[],arrAsistentesTotal:[],asistentes:[],visualiza:[],dataAsist:[],dataResponsables:[],dataResponsablesSegui:[],dataVisualiza:[],dataExternos:[],Seleccionasistentes:0,AprRechActa:!1,AprRechCom:!1,nombreexterno:"",emailexterno:"",entidadexterno:"",cargosexterno:"",ObsRechActa:"",expanded:[],expandedOrdenInfo:[],expandedTareasInfo:[],expandedAsistInfo:[],expanded_imp:[],SubProcesoAnt:0,FechareunionAnt:"",HoraIniAnt:"",HoraFinAnt:"",lugarAnt:"",linkreunionAnt:"",citadorAnt:0,ElaboActaAnt:0,sedeAnt:0,formTitle_tareas:"",tareas:"",recursos:"",responsables:[],FechaLimite:"",tipo_tarea:"2",OpcionActa:"1",FechaLimiteAnt:"",tipo_tareaAnt:"",tareasAnt:"",recursosAnt:"",estadotarea:1,estadotareaAnt:0,ReunionImportar:0,codasistusuario:"",resumen:"",dataOrden:[],NumOrden:"",numagenda:"",tematica:"",obsOrden:"",cargoexterno:"",arrPersonalReunion:[],responsableOrden:"",codigoOrden:"0",descripAgenda:"",codigoAgenda:"0",dataAsistResp:[],UsuCodPersonal:"",reunionPdf:"",data_actas:[],data_actas_detalle:[],arrInfoGeneral:[],adjuntoreunion:null,adjOrden:null,adjComentario:null,adjuntoOrden:"",adjuntoComentario:"",adjuntoTarea:"",adjTarea:null,DescAdjTarea:"",dialog_adjuntos_tarea_add:!1,searchtreeview:"",ordcheckvirtual:!1,ordcheckpresencial:!1,chkComproRealiz:!1,headersResponsables:[{text:"Responsable",align:"left",sortable:!1,value:"responsable"},{text:"Accion",value:"action",sortable:!1}],headersResponsablesSegui:[{text:"Responsable",align:"left",sortable:!1,value:"responsable"}],headersAsistinfo:[{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Ponente",align:"left",sortable:!1,value:"ponente"},{text:"Oyente",align:"center",sortable:!1,value:"oyente"},{text:"Informativo",align:"center",sortable:!1,value:"informativo"},{text:"Asistió",align:"left",sortable:!1,value:"asistio"},{text:"Observcaión no asistencia",align:"center",sortable:!1,value:"observacionasistio"},{text:"Aprobar acta",align:"center",sortable:!1,value:"aprobaracta"},{text:"Aprobar Compromisos",align:"center",sortable:!1,value:"aprobarcompromiso"}],headersAsist:[{text:"Asistente",align:"left",sortable:!1,value:"asistente"},{text:"Ponente",align:"left",sortable:!1,value:"ponente"},{text:"Oyente",align:"center",sortable:!1,value:"oyente"},{text:"Informativo",align:"center",sortable:!1,value:"informativo"},{text:"Accion",value:"action",sortable:!1}],headersAsistdesarr:[{text:"Asistente",align:"left",sortable:!1,value:"asistente"},{text:"Asistió",align:"left",sortable:!1,value:"asistio"},{text:"Observcaión no asistencia",align:"center",sortable:!1,value:"observacion"},{text:"Aprobar acta",align:"center",sortable:!1,value:"aprobar"},{text:"Aprobar Compromisos",align:"center",sortable:!1,value:"aproCompro"}],headersOrdenDesarrInfo:[{text:"Hora de inicio",align:"center",sortable:!1,value:"horainicio"},{text:"Hora final",align:"center",sortable:!1,value:"horafinal"},{text:"Descripción de la actividad",align:"left",sortable:!1,value:"descripcion"},{text:"Desarrollo",align:"left",sortable:!1,value:"observaciondesarrollo"}],headersOrdenDesarr:[{text:"Descripción de la actividad",align:"left",sortable:!1,value:"descripcion"},{text:"Hora de inicio",align:"center",sortable:!1,value:"horainicio"},{text:"Hora final",align:"center",sortable:!1,value:"horafinal"},{text:"Desarrollo",align:"center",sortable:!1,value:"desarrollo"},{text:"Accion",value:"action",sortable:!1}],headersOrden:[{text:"Descripción de la actividad",align:"left",sortable:!1,value:"descripcion"},{text:"Hora de inicio",align:"center",sortable:!1,value:"horainicio"},{text:"Hora final",align:"center",sortable:!1,value:"horafinal"},{text:"Observaciones",align:"center",sortable:!1,value:"observaciones"},{text:"Accion",value:"action",sortable:!1}],headersExternoinfo:[{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Cargo",align:"left",sortable:!1,value:"cargo"},{text:"Entidad",align:"left",sortable:!1,value:"entidad"},{text:"Email",align:"left",sortable:!1,value:"email"},{text:"Ponente",align:"left",sortable:!1,value:"ponente"},{text:"Oyente",align:"center",sortable:!1,value:"oyente"},{text:"Informativo",align:"center",sortable:!1,value:"informativo"},{text:"Asistió",align:"center",sortable:!1,value:"asistio"},{text:"Observación no asistencia",align:"center",sortable:!1,value:"observacionasistio"}],headersExternos:[{text:"Nombre",align:"left",sortable:!1,value:"NombreExterno"},{text:"Cargo",align:"left",sortable:!1,value:"CargoExterno"},{text:"Entidad",align:"left",sortable:!1,value:"EntidadExterno"},{text:"Email",align:"left",sortable:!1,value:"EmailExterno"},{text:"Ponente",align:"left",sortable:!1,value:"ponente"},{text:"Oyente",align:"center",sortable:!1,value:"oyente"},{text:"Informativo",align:"center",sortable:!1,value:"informativo"},{text:"Accion",value:"action",sortable:!1}],headersExternosDesarr:[{text:"Nombre",align:"left",sortable:!1,value:"NombreExterno"},{text:"Asistio",align:"left",sortable:!1,value:"asistio"},{text:"Observación no asistencia",align:"left",sortable:!1,value:"observacion"}],headers:[{text:"Consecutivo",align:"left",sortable:!1,value:"consecutivo"},{text:"Descrición",align:"left",sortable:!1,value:"descripcion"},{text:"Fecha",align:"left",sortable:!1,value:"fecha"},{text:"Estado",align:"left",sortable:!1,value:"estado"},{text:"Administrador",align:"left",sortable:!1,value:"administrador"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}},arrEstadotarea:[{codigo:0,nombre:"PENDIENTE"},{codigo:1,nombre:"PROGRAMADO"},{codigo:2,nombre:"EJECUTADO"},{codigo:3,nombre:"VENCIDO"}],headers_tareas_Aprobar:[{text:"Fecha",align:"left",sortable:!1,value:"fecha"},{text:"Tarea",align:"left",sortable:!1,value:"tarea"},{text:"Aprobar",align:"left",sortable:!1,value:"aprobar"},{text:"Comentario",align:"left",sortable:!1,value:"comentario"}],headers_tareas_info:[{text:"Fecha",align:"left",sortable:!1,value:"fechalimite"},{text:"Tarea",align:"left",sortable:!1,value:"descripcion"},{text:"Realizada",align:"left",sortable:!1,value:"estado"},{text:"Aprobada",align:"left",sortable:!1,value:"aprobada"}],headers_tareas:[{text:"Fecha",align:"left",sortable:!1,value:"fecha"},{text:"Tarea",align:"left",sortable:!1,value:"tarea"},{text:"Accion",value:"action",sortable:!1}],headersAgenda:[{text:"Agenda",align:"center",sortable:!1,value:"agenda"},{text:"Accion",value:"action",sortable:!1}],headers_tareas_importar:[{text:"Seleccionado",align:"left",sortable:!1,value:"seleccionado"},{text:"Fecha",align:"left",sortable:!1,value:"fecha"},{text:"Tarea",align:"left",sortable:!1,value:"tarea"}]},sf(t,"rules",{required:function(t){return!!t||"Campo requerido."}}),sf(t,"arrProcesos",[{nombre:"Proyecto",codigo:1},{nombre:"Desplazamiento",codigo:2},{nombre:"Solicitud de contratación",codigo:3},{nombre:"Contrato",codigo:4}]),sf(t,"arrSeleccion",[{nombre:"Todos",codigo:1},{nombre:"Cargos",codigo:2},{nombre:"Areas",codigo:3}]),sf(t,"headers_aprobacion_acta_info",[{text:"Fecha",align:"center",sortable:!1,value:"fecha"},{text:"Estado",align:"center",sortable:!1,value:"estado"},{text:"Observación",align:"center",sortable:!1,value:"observacion"}]),sf(t,"headers_adjunto_tareas_inf",[{text:"Descripcion",align:"center",sortable:!1,value:"descripcion"},{text:"Adjunto",align:"center",sortable:!1,value:"pdf"}]),sf(t,"headers_adjunto_tareas",[{text:"Descripcion",align:"center",sortable:!1,value:"descripcion"},{text:"Adjunto",align:"center",sortable:!1,value:"archivo"},{text:"Accion",value:"action",sortable:!1}]),sf(t,"headers_tareas_aprobadores_info",[{text:"Fecha",align:"center",sortable:!1,value:"fecha"},{text:"Aprobador",align:"center",sortable:!1,value:"Aprobador"},{text:"Observación",align:"center",sortable:!1,value:"observacion"}]),sf(t,"headers_adjunto_ordenes_info",[{text:"Descripción",align:"center",sortable:!1,value:"descripcion"},{text:"Adjunto",align:"center",sortable:!1,value:"pdf"}]),sf(t,"headers_adjunto_ordenes",[{text:"Descripción",align:"center",sortable:!1,value:"descripcion"},{text:"Adjunto",align:"center",sortable:!1,value:"pdf"},{text:"Accion",value:"action",sortable:!1}]),sf(t,"headers_actas",[{text:"Fecha",align:"center",sortable:!1,value:"fecha"},{text:"Estado",align:"center",sortable:!1,value:"estadodescripcion"},{text:"Accion",value:"action",sortable:!1}]),sf(t,"editorOptions",{modules:{toolbar:!1},readOnly:!0}),sf(t,"headers_actas_detalle",[{text:"Aprobador",align:"center",sortable:!1,value:"aprobador"},{text:"Respuesta",align:"center",sortable:!1,value:"estadodescripcion"},{text:"Observación",align:"center",sortable:!1,value:"observacion"}]),t},filters:{},methods:{initClient:function(){var t=this,e=this;e.api.client.init({apiKey:lf,clientId:cf,discoveryDocs:df,scope:uf}).then((function(a){e.api.auth2.getAuthInstance().isSignedIn.listen(e.authorized),t.authorized=!0}))},traerSubproceso:function(t){var e=this;switch(this.loading=!0,this.arrSubProc=[],t){case 1:Ze["a"].getDataAll().then((function(t){t.request&&t.data&&(e.arrSubProc=t.data.data),e.loading=!1})).catch((function(t){e.loading=!1}));break;case 2:Eh.getDesplazamientos().then((function(t){t.request&&t.data&&(console.log(t.data),e.arrSubProc=t.data),e.loading=!1})).catch((function(t){e.loading=!1}));break;case 3:Eh.getSolicitudesContratacion().then((function(t){t.request&&t.data&&(e.arrSubProc=t.data),e.loading=!1})).catch((function(t){e.loading=!1}));break;case 4:Eh.getContratos().then((function(t){t.request&&t.data&&(e.arrSubProc=t.data),e.loading=!1})).catch((function(t){e.loading=!1}));break}},OnChangeProcesos:function(){var t=this;this.traerSubproceso(t.proceso)},verata:function(t){window.open(m["a"].apiUrl+"/getverActa?archivo="+t,"_blank")},veradjtar:function(t){window.open(m["a"].apiUrl+"/getadjuntotarea?archivo="+t,"_blank")},veradjord:function(t){window.open(m["a"].apiUrl+"/getadjuntoorden?archivo="+t,"_blank")},veradjunto:function(t){""!=t&&null!=t?window.open(m["a"].apiUrl+"/getveradjunto?archivo="+t,"_blank"):this.showMessage(!0,3e3,"info","No hay archivo adjunto")},veradjcom:function(t){""!=t&&null!=t?window.open(m["a"].apiUrl+"/getadjuntocomentario?archivo="+t,"_blank"):this.showMessage(!0,3e3,"info","No hay archivo adjunto")},removearrRespons:function(t){var e=this.responsables.indexOf(t.codigo);e>=0&&this.responsables.splice(e,1)},removearrasisten:function(t){var e=this.Asistentes.indexOf(t.codigo);e>=0&&this.Asistentes.splice(e,1)},OnChangeSeleccionCarAre:function(){var t=this;switch(t.arrAsistentes=[],t.Seleccionasistentes){case 2:st["a"].PersonalXCargos(t.SearchAsis).then((function(e){e.request&&e.data&&(t.arrAsistentes=e.data.data),t.loading=!1})).catch((function(e){t.loading=!1}));break;case 3:st["a"].PersonalXAreas(t.SearchAsis).then((function(e){e.request&&e.data&&(t.arrAsistentes=e.data.data),t.loading=!1})).catch((function(e){t.loading=!1}));break}},OnChangeSeleccion:function(){var t=this,e=[];switch(t.arrSearchAsis=[],t.labelSearchAsis="",t.SearchAsis=0,t.arrAsistentes=[],t.Asistentes=[],t.Seleccionasistentes){case 1:st["a"].getData().then((function(e){e.request&&e.data&&(t.arrAsistentes=e.data.data),t.loading=!1})).catch((function(e){t.loading=!1}));break;case 2:t.labelSearchAsis="Cargos",Ft.getCargos().then((function(a){a.request&&a.data&&(e=a.data.data,e.forEach((function(e){t.arrSearchAsis.push({id:e.codigo,nombre:e.nombre})}))),t.loading=!1})).catch((function(e){t.loading=!1}));break;case 3:t.labelSearchAsis="Areas",jt["a"].getAreas().then((function(a){a.request&&a.data&&(e=a.data.data,e.forEach((function(e){t.arrSearchAsis.push({id:e.codigo,nombre:e.nombre})}))),t.loading=!1})).catch((function(e){t.loading=!1}));break}},showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.proceso=0,this.arrSubProc=[],this.SubProceso=0,this.Fechareunion="",this.lugar="",this.linkreunion="",this.descripcionant="",this.hereda=0,this.sede=0,this.adjunto=""},resetForm_tareas:function(){var t=this;t.codigotarea="0",t.tareas="",t.FechaLimite="",t.responsablestarea=[],t.dataResponsables=[],t.estadotarea=1},resetFormOrden:function(){this.codigoOrden="0",this.tematica="",this.obsOrden="",this.HoraIni="",this.HoraFin="",this.ordcheckvirtual=!1,this.ordcheckpresencial=!1},resetFormAgenda:function(){this.codigoAgenda="0",this.numagenda="",this.descripAgenda=""},cerrarAgente_addupd:function(){this.resetFormAgenda(),this.dialog_agenda_addupd=!1,this.editAgen=-1},cerrar_dialog_history_compromisos_add:function(){this.dialog_history_compromisos_add=!1,this.adjComentario=null,this.adjuntoComentario="",console.log(this.Comentario_historial),this.Comentario_historial=""},cerrarOrden_addupd:function(){this.resetFormOrden(),this.dialog_orden_addupd=!1,this.editOrden=-1},cerrarDialogo_adjuntoorden:function(){this.data_adjuntos_ord=[],this.dialog_adjuntos_orden=!1,this.editadjord=-1},cerrarDialogo_adjuntoTarea_add:function(){this.adjTarea=null,this.adjuntoTarea="",this.DescAdjTarea="",this.dialog_adjuntos_tarea_add=!1},cerrarDialogo_adjuntoorden_add:function(){this.adjOrden=null,this.adjuntoOrden="",this.DescAdjOrden="",this.dialog_adjuntos_orden_add=!1},cerrarDialogo_histoactadet:function(){this.dialog_histoactadetalle=!1,this.histoactadet=-1,this.data_actas_detalle=[]},cerrarDialogo_histoacta:function(){this.dialog_histoacta=!1,this.histoacta=-1,this.data_actas=[]},cerrarDialogo_orden:function(){this.traerReuniones(),this.resetForm(),this.resetFormOrden(),this.dialog_orden=!1,this.editOrden=-1,this.ordendia=0},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1,this.editaist=-1},closeDialogoEnviarActa:function(){this.enviaraprobar=!1,this.apracta=0,this.dataAsist=[]},closeDialogoAprRechActa:function(){this.OpcionActa="1",this.ObsRechActa="",this.codasistusuario="",this.AprRechActa=!1,this.aprrecacta=0},closeDialogoResumen:function(){this.resetForm(),this.dialog_resumen=!1,this.edit=-1,this.editaist=-1},cerrarDialogo_importar_tareas:function(){this.dialog_import_tareas=!1,this.ReunionImportar=0,this.data_tareas_importar=[],this.import_tareas=0},cerrarDialogo_dialog_tareas_addupd:function(){this.resetForm_tareas(),this.dialog_tareas_addupd=!1,this.edit_tareas=-1,this.Asistentes=[]},cerrarDialogo_dialog_tareas_segui_edit:function(){this.resetForm_tareas(),this.dialog_tareas_segui_edit=!1,this.segui_tareas=-1},cerrarDialogo_tareas:function(){this.dialog_tareas=!1,this.edit_tareas=-1},cerrarDialogo_tareas_seguimiento:function(){this.dialog_tareas_seguimiento=!1,this.edit_tareas_seguimiento=-1},cerrarDialogo_Aprobartareas_seguimiento:function(){this.AprRechCom=!1,this.aprrecCompro=!1},abrirActaReuniones:function(t){window.open(m["a"].apiUrl+"/getActaReuniones?reunion="+t,"_blank")},AdjuntarArchivoOrden:function(){this.$refs.uploaderOrden.$refs.input.click()},EnviarActa:function(){var t=this;this.loading=!0;var e=t.reunionPdf.ruta+"/"+t.reunionPdf.nombrepdf;t.dataAsist.forEach((function(a){var o="Cordial Saludo,<br><br> Se realizó el acta de la reunión con el titulo : "+t.itemactual.titulo+" del día "+t.itemactual.fecha+"<br> Usted a sido seleccionado para ser aprobador del acta, por favor dirijase al registro para aprobar o rechazar.<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";t.envioNotificaciones({mensajenotificacion:"Se realizó el acta de la reunión con el titulo : "+t.itemactual.titulo+" del día "+t.itemactual.fecha+" por favor dijirse al registro para aprobar o rechazar",asuntocorreo:"Aprobar/rechazar acta de la reunión "+t.itemactual.titulo,mensajecorreo:o,anexo:e},57,t.itemactual.consecutivo,a.Codigopersonal)}));var a="Acta de la reunión "+t.itemactual.codigo;if(0!=t.dataAsist.length)var o={codigo:0,pdf:t.reunionPdf.nombrepdf,estado:1,codigoreunion:t.itemactual.codigo};else o={codigo:0,pdf:t.reunionPdf.nombrepdf,estado:3,codigoreunion:t.itemactual.codigo};zh.guardarReunionActa(o).then((function(e){if(e.response){var o=e.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(e.statusText){var i="",n="";t.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),t.showMessage(!0,3e3,"success","Se "+i+" el acta de la reunión con éxito"),t.dataAsist=[],t.enviaraprobar=!1,t.traerReuniones(),t.resetForm(),t.agregaBitacora(n,a)}else t.showMessage(!0,3e3,"error",e.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},traerReunionesHereda:function(){var t=this;this.loading=!0,Eh.getReunionesHereda(t.itemactual.codigo).then((function(e){e.request&&e.data?t.dataReunHereda=e.data.data:t.dataReunHereda=[],t.loading=!1})).catch((function(e){t.dataReunHereda=[],t.loading=!1}))},traerReuniones:function(){var t=this;this.loading=!0,Eh.getReuniones(this.UsuCodPersonal).then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},GetComentariosTarea:function(t){var e=this;this.loading=!0,Uh.ComentariosXCodTarea(t).then((function(t){t.request&&t.data?e.dataComentariosTarea=t.data.data:e.dataComentariosTarea=[],e.loading=!1})).catch((function(t){e.data=[],e.loading=!1}))},saveitemAgenda:function(){var t="";this.editAgen?(this.itemagenda.descripcion!=this.descripAgenda&&(t+="descripción: "+this.itemagenda.descripcion.toUpperCase()+" a "+this.descripAgenda.toUpperCase()),this.itemagenda.numagenda!=this.numagenda&&(t+=""==t?"Número Agenda: "+this.itemagenda.numagenda+" a "+this.numagenda:", Número Agenda: "+this.itemagenda.numagenda+" a "+this.numagenda)):t+="descripción: "+this.descripAgenda.toUpperCase();var e=this;this.loading=!0;var a={codigo:this.codigoAgenda,numagenda:this.numagenda,descripcion:this.descripAgenda,codigoreunion:this.itemactual.codigo};Gh.guardarReunionAgenda(a).then((function(a){if(a.response){var o=a.response.data.message;e.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";e.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),e.showMessage(!0,3e3,"success","Se "+i+" la agenda de la reunión con éxito"),e.del_item="",e.edit=-1,e.traerReunionAgenda(),e.resetFormAgenda(),e.dialog_agenda_addupd=!1,e.agregaBitacora(n,t)}else e.showMessage(!0,3e3,"error",a.message);e.loading=!1})).catch((function(t){e.showMessage(!0,3e3,"error",t),e.loading=!1}))},EnviarNotificarActa:function(){var t=[],e=this;this.loading=!0;var a=e.itemactual.codigo,o=e.itemactual;Oh.getReunionesAsistentesAprobarXReunion(a).then((function(i){if(i.request)if(i.data){t=i.data.data,t.forEach((function(t){var a="Cordial Saludo,<br><br> Se programaron los compromisos de la reunión sobre: "+o.descripcion+" el día "+o.fecha+".";e.envioNotificaciones({mensajenotificacion:"Se programaron los compromisos de la reunión sobre: "+o.descripcion+" el día "+o.fecha+". Ingresar a aprobar/rechazar el acta",asuntocorreo:"Aprobar/rechazar acta de la reunión "+o.descripcion,mensajecorreo:a,anexo:""},55,o.consecutivo,t.Codigopersonal)})),e.showMessage(!0,3e3,"success","Se envió notificación a los aprobadores del acta");var n={codigo:a,estado:3,fase:6};Eh.ActualizarReunionesEstado(n).then((function(t){if(t.response){var a=t.response.data.message;e.showMessage(!0,3e3,"error",a)}else t.statusText?(e.traerReuniones(),e.resetForm()):e.showMessage(!0,3e3,"error",t.message);e.loading=!1})).catch((function(t){e.showMessage(!0,3e3,"error",t),e.loading=!1}))}else t=[];else t=[]})).catch((function(a){t=[],e.loading=!1}))},saveActividades:function(){var t=this;this.loading=!0;var e={codigoreunion:t.itemactual.codigo,asistentes:t.dataAsist};Yh.guardarReunionActividades(e).then((function(e){if(e.response){var a=e.response.data.message;t.showMessage(!0,3e3,"error",a)}else if(e.statusText){var o={codigoreunion:t.itemactual.codigo,externos:t.dataExternos};Wh.guardarReunionActividades(o).then((function(e){if(e.response){var a=e.response.data.message;t.showMessage(!0,3e3,"error",a)}else if(e.statusText){var o="",i="",n="asistentes";o="Agregó",i="Se agregaron las actividades de la reunión "+t.itemactual.codigo,t.showMessage(!0,3e3,"success","Se "+o+" las actividades con éxito"),t.agregaBitacora(i,n)}else t.showMessage(!0,3e3,"error",e.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}else t.showMessage(!0,3e3,"error",e.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},saveitemOrden:function(){var t="",e=this,a=new Date(e.itemactual.fecha+" "+e.itemactual.horainicio),o=new Date(e.itemactual.fecha+" "+e.itemactual.horafinal);if(isNaN(a)||isNaN(o))e.showMessage(!0,3e3,"error","Revisar programación de la reunión, Hora de la reunión no guardada");else{console.log(a),console.log(o);var i=new Date(e.itemactual.fecha+" "+e.HoraIniOrd),n=new Date(e.itemactual.fecha+" "+e.HoraFinOrd);if(i>=n)e.showMessage(!0,3e3,"error","Hora final debe ser mayor a la hora inicial");else if(i<a)e.showMessage(!0,3e3,"error","La Hora inicial de la orden del día no puede ser menor a la hora inicial de la reunión");else if(n>o)e.showMessage(!0,3e3,"error","La Hora final de la orden del día no puede ser mayor a la hora final de la reunión");else{var r="";if(""==t){this.editOrden?(this.itemorden.descripcion!=this.tematica&&(r+="tematica: "+this.itemorden.descripcion.toUpperCase()+" a "+this.tematica.toUpperCase()),this.itemorden.obsOrden!=this.obsOrden&&(r+=""==r?"Observaciones: "+this.itemorden.obsOrden+" a "+this.obsOrden:", Observaciones: "+this.itemorden.obsOrden+" a "+this.obsOrden),this.itemorden.horainicio!=this.HoraIniOrd&&(r+="Hora inicial: "+this.itemorden.horainicio+" a "+this.HoraIniOrd),this.itemorden.horafinal!=this.HoraFinOrd&&(r+="Hora inicial: "+this.itemorden.horafinal+" a "+this.HoraFinOrd)):r+="tematica: "+this.tematica.toUpperCase();e=this;this.loading=!0;var s={codigo:e.codigoOrden,tematica:e.tematica,observaciones:e.obsOrden,codigoreunion:e.codigo,fechainicial:e.HoraIniOrd,fechafinal:e.HoraFinOrd};Lh.guardarReunionOrden(s).then((function(t){if(t.response){var a=t.response.data.message;e.showMessage(!0,3e3,"error",a)}else if(t.statusText){var o={codigo:e.codigo,estado:7};Eh.ActualizarReunionesEstado(o).then((function(t){if(t.response){var a=t.response.data.message;e.showMessage(!0,3e3,"error",a)}else if(t.statusText){var o="",i="";e.edit?(o="Actualizó",i="ACTUALIZACION"):(o="Agregó",i="CREACION"),e.showMessage(!0,3e3,"success","Se "+o+" el Orden de la reunión con éxito"),e.del_item="",e.editOrden=-1,e.traerReunionOrden(),e.resetFormOrden(),e.dialog_orden_addupd=!1,e.agregaBitacora(i,r)}else e.showMessage(!0,3e3,"error",res2.message);e.loading=!1})).catch((function(t){e.showMessage(!0,3e3,"error",t),e.loading=!1}))}else e.showMessage(!0,3e3,"error",t.message);e.loading=!1})).catch((function(t){e.showMessage(!0,3e3,"error",t),e.loading=!1}))}else this.showMessage(!0,3e3,"error",t)}}},handleSearchtreeview:function(){""!=this.searchtreeview?this.$refs.tree.updateAll(!0):this.$refs.tree.updateAll(!1)},traerReunionAgenda:function(){var t=this;this.loading=!0,Gh.getReunionesAgendaxReunion(this.itemactual.codigo).then((function(e){e.request&&e.data?t.dataAgenda=e.data.data:t.dataAgenda=[],t.loading=!1})).catch((function(e){t.dataAgenda=[],t.loading=!1}))},traerReunionOrden:function(){var t=this;this.loading=!0,Lh.getReunionesOrdenxReunion(this.itemactual.codigo).then((function(e){e.request&&e.data?t.dataOrden=e.data.data:t.dataOrden=[],t.loading=!1})).catch((function(e){t.dataOrden=[],t.loading=!1}))},traerAsistentes:function(){var t=[],e=this;this.loading=!0,e.dataAsist=[],Oh.getReunionesAsistentesXReunion(e.codigo).then((function(a){a.request&&a.data?(t=a.data.data,console.log(t),t.forEach((function(t){e.dataAsist.push({id:t.codigo,codigo:t.Codigopersonal,codigoasist:t.codigo,asistente:t.nombrecompletopersonal,ponente:1===t.ponente,oyente:1===t.oyente,informativo:1===t.informativo,actividad:"",asistio:1===t.asistio,observacion:t.observacion,aprobar:1===t.aprobar,aproCompro:1===t.aprobarCompromiso})}))):t=[],e.loading=!1})).catch((function(a){t=[],e.loading=!1}))},traerAsistentesactvidades:function(){var t=[],e=this;this.loading=!0,e.dataAsist=[],Oh.getReunionesAsistentesActividadXReunion(e.codigo).then((function(a){a.request&&a.data?(t=a.data.data,console.log(t),t.forEach((function(t){e.dataAsist.push({id:t.codigo,codigo:t.Codigopersonal,codigoasist:t.codigo,asistente:t.nombrecompletopersonal,ponente:1===t.ponente,oyente:1===t.oyente,informativo:1===t.informativo,actividad:t.actividad,asistio:1===t.asistio,observacion:t.observacion})}))):t=[],e.loading=!1})).catch((function(a){t=[],e.loading=!1}))},traerAsistentesAprobTarea:function(){var t=this;this.loading=!0,Oh.getReunionesAsistentesAprobarTareaXReunion(this.itemactual.codigo).then((function(e){if(e.request)if(e.data){t.dataAsist=e.data.data;var a=!1;t.dataAsist.forEach((function(e){if(t.$session.get("codigopersonal")==e["Codigopersonal"])return a=!0,void(t.CodAproTarAsis=e["codigo"])})),1==a?(t.AprRechCom=!0,t.traertareasAprobar(t.CodAproTarAsis)):(t.showMessage(!0,3e3,"info","No tiene permisos para aprobar compromisos"),t.aprrecCompro=!1)}else t.dataAsist=[];else t.dataAsist=[];t.loading=!1})).catch((function(e){t.dataAsist=[],t.loading=!1}))},traerAsistentesAprob:function(){var t=this;this.loading=!0,Oh.getReunionesAsistentesAprobarXReunion(this.itemactual.codigo).then((function(e){if(e.request)if(e.data){t.dataAsist=e.data.data;var a=!1;t.dataAsist.forEach((function(e){t.$session.get("codigopersonal")!=e["Codigopersonal"]||(a=!0)})),1==a?t.AprRechActa=!0:(t.showMessage(!0,3e3,"info","No tiene permisos para aprobar el acta"),t.aprrecacta=-1)}else t.dataAsist=[];else t.dataAsist=[];t.loading=!1})).catch((function(e){t.dataAsist=[],t.loading=!1}))},traerPDFActa:function(){var t=this;this.loading=!0,Eh.getPDFActaXReunion(this.itemactual.codigo).then((function(e){e.request&&e.data?t.reunionPdf=e.data.data:t.reunionPdf=[],t.loading=!1})).catch((function(e){t.reunionPdf=[],t.loading=!1}))},traeractas:function(){var t=this;this.loading=!0,t.data_actas=[],zh.getReunionesActaxReunion(this.itemactual.codigo).then((function(e){e.request&&e.data?t.data_actas=e.data.data:t.data_actas=[],t.loading=!1})).catch((function(e){t.data_actas=[],t.loading=!1}))},ValidaFechaVencido:function(t,e){return of()(String(e)).format("MM/DD/YYYY")<=of()(String(t)).format("MM/DD/YYYY")},ValidaFecha10:function(t,e){return of()(String(e)).format("MM/DD/YYYY")>=of()(String(t)).add(10,"days").calendar()},ValidaFecha1:function(t,e){return of()(String(e)).format("MM/DD/YYYY")>=of()(String(t)).add(1,"days").format("MM/DD/YYYY")},ValidaFecha5:function(t,e){return of()(String(e)).format("MM/DD/YYYY")>=of()(String(t)).add(5,"days").format("MM/DD/YYYY")},traerAsistentesAprobResp:function(t){var e=this;this.loading=!0,Hh.getReunionesActaAprobacionesxActa(t).then((function(t){t.request&&t.data?e.dataAsistResp=t.data:e.dataAsistResp=[],e.loading=!1})).catch((function(t){e.dataAsistResp=[],e.loading=!1}))},ChangeOrdCheckVirtual:function(){var t=this;!1===t.ordcheckvirtual&&(t.linkreunion="")},traerExternoActividades:function(){var t=[],e=this;this.loading=!0,e.dataExternos=[],Fh.getReunionesExternoActividadesXReunion(e.codigo).then((function(a){a.request&&a.data?(t=a.data.data,t.forEach((function(t){e.dataExternos.push({codigo:t.codigo,NombreExterno:t.nombre,CargoExterno:t.cargo,EntidadExterno:t.entidad,ponente:1===t.ponente,oyente:1===t.oyente,informativo:1===t.informativo,EmailExterno:t.email,actividad:t.actividad,asistio:1===t.asistio,observacion:t.observacion})}))):t=[],e.loading=!1})).catch((function(a){t=[],e.loading=!1}))},traerExterno:function(){var t=[],e=this;this.loading=!0,e.dataExternos=[],Fh.getReunionesExternoXReunion(e.codigo).then((function(a){a.request&&a.data?(t=a.data.data,t.forEach((function(t){e.dataExternos.push({codigo:t.codigo,NombreExterno:t.nombre,CargoExterno:t.cargo,EntidadExterno:t.entidad,ponente:1===t.ponente,oyente:1===t.oyente,informativo:1===t.informativo,EmailExterno:t.email,actividad:"",asistio:1===t.asistio,observacion:t.observacion})}))):t=[],e.loading=!1})).catch((function(a){t=[],e.loading=!1}))},EnviarNotificar:function(){var t=[],e=[],a=this;this.loading=!0;var o=a.itemactual.codigo,i=a.itemactual,n="";Oh.getReunionesAsistentesXReunion(o).then((function(r){r.request&&r.data?(t=r.data.data,t.forEach((function(t){e.push({email:t.email})})),t=[],Fh.getReunionesExternoXReunion(o).then((function(r){if(r.request)if(r.data){switch(t=r.data.data,t.forEach((function(t){e.push({email:t.email})})),i.proceso){case 1:n="Proyecto: ";break;case 2:n="Desplazamientos: ";break;case 3:n="Solicitud de contratación: ";break;case 4:n="Contrato: ";break}if(n+=i.NombreSubProceso,1==i.reunionvirtual)var s={summary:n,location:"Sede: "+i.sedenombre+", Lugar: "+i.lugar+". "+(""!=i.linkreunion&&null!=i.linkreunion?"Reunion virtual":""),description:i.descripcion,start:{dateTime:i.fecha+"T"+i.horainicio+"-05:00",timeZone:"America/Bogota"},end:{dateTime:i.fecha+"T"+i.horafinal+"-05:00",timeZone:"America/Bogota"},conferenceData:{createRequest:{conferenceSolutionKey:{type:"hangoutsMeet"},requestId:"meet-reun-"+i.consecutivo}},recurrence:["RRULE:FREQ=DAILY;COUNT=1"],attendees:e,reminders:{useDefault:!1,overrides:[{method:"email",minutes:10},{method:"popup",minutes:10}]}};else s={summary:n,location:"Sede: "+i.sedenombre+", Lugar: "+i.lugar+". "+(""!=i.linkreunion&&null!=i.linkreunion?"Reunion virtual":""),description:i.descripcion,start:{dateTime:i.fecha+"T"+i.horainicio+"-05:00",timeZone:"America/Bogota"},end:{dateTime:i.fecha+"T"+i.horafinal+"-05:00",timeZone:"America/Bogota"},recurrence:["RRULE:FREQ=DAILY;COUNT=1"],attendees:e,reminders:{useDefault:!1,overrides:[{method:"email",minutes:10},{method:"popup",minutes:10}]}};console.log(s),Promise.resolve(a.api.auth2.getAuthInstance().signIn()).then((function(t){console.log(a.api.client),a.api.client.calendar.events.insert({calendarId:"primary",sendNotifications:!0,resource:s,conferenceDataVersion:1}).then((function(t){var e={codigo:o,estado:2,fase:4};Eh.ActualizarReunionesEstado(e).then((function(t){if(t.response){var e=t.response.data.message;a.showMessage(!0,3e3,"error",e)}else t.statusText?(a.showMessage(!0,3e3,"success","Se creó la notificación correctamente"),a.traerReuniones(),a.resetForm(),a.dialog_notificar=!1,Promise.resolve(a.api.auth2.getAuthInstance().signOut()).then((function(t){}))):a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}))}))}else{switch(i.proceso){case 1:n="Proyecto: ";break;case 2:n="Desplazamientos: ";break;case 3:n="Solicitud de contratación: ";break;case 4:n="Contrato: ";break}n+=i.NombreSubProceso;s={summary:n,location:"Sede: "+i.sedenombre+", Lugar: "+i.lugar+". "+(""!=i.linkreunion&&null!=i.linkreunion?" Reunión virtual ":""),description:i.descripcion,start:{dateTime:i.fecha+"T"+i.horainicio+"-05:00",timeZone:"America/Bogota"},end:{dateTime:i.fecha+"T"+i.horafinal+"-05:00",timeZone:"America/Bogota"},recurrence:["RRULE:FREQ=DAILY;COUNT=1"],attendees:e,reminders:{useDefault:!1,overrides:[{method:"email",minutes:10},{method:"popup",minutes:10}]}};Promise.resolve(a.api.auth2.getAuthInstance().signIn()).then((function(t){a.api.client.calendar.events.insert({calendarId:"primary",sendNotifications:!0,resource:s}).then((function(t){var e={codigo:o,estado:2,fase:4};Eh.ActualizarReunionesEstado(e).then((function(t){if(t.response){var e=t.response.data.message;a.showMessage(!0,3e3,"error",e)}else t.statusText?(a.showMessage(!0,3e3,"success","Se creó la notificación correctamente"),a.traerReuniones(),a.resetForm(),a.dialog_notificar=!1,Promise.resolve(a.api.auth2.getAuthInstance().signOut()).then((function(t){}))):a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}))}))}else t=[]})).catch((function(e){t=[],a.loading=!1}))):t=[]})).catch((function(e){t=[],a.loading=!1}))},AprobarActa:function(){var t=this.validaaprob(),e="";if(""==t){var a=this;e=a.ObsRechActa;var o={codigo:0,comentario:a.ObsRechActa,estado:a.OpcionActa,codigoacta:a.itemactual.codigoacta,codigoreunion:a.itemactual.codigo,codigoasist:a.codasistusuario};Hh.guardarReunionActaAprovaciones(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){if(console.log(t),"APROBADA"==t.data.EstadoRes){var i="Cordial Saludo,<br><br> Se aprobó el acta de la reunión sobre : "+a.itemactual.descripcion+" por favor revisar el registro.<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";a.envioNotificaciones({mensajenotificacion:"Se aprobó el acta de la reunión sobre: "+a.itemactual.descripcion+" el día "+a.itemactual.fecha+".",asuntocorreo:"Aprobación acta de la reunión "+a.itemactual.descripcion,mensajecorreo:i,anexo:""},55,a.itemactual.consecutivo,a.itemactual.codadmin)}else if("RECHAZADA"==t.data.EstadoRes){i="Cordial Saludo,<br><br> Se rechazó el acta de la reunión sobre : "+a.itemactual.descripcion+" por favor revisar el registro. Observación: "+e+".<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";a.envioNotificaciones({mensajenotificacion:"Se rechazó el acta de la reunión sobre: "+a.itemactual.descripcion+" el día "+a.itemactual.fecha+".",asuntocorreo:"Aprobación acta de la reunión "+a.itemactual.descripcion,mensajecorreo:i,anexo:""},55,a.itemactual.consecutivo,a.itemactual.codadmin)}var n="Agregó",r="CREACION",s="Se agrego aprobación del acta "+a.itemactual.codigoacta;a.showMessage(!0,3e3,"success","Se "+n+" la respuesta del acta con éxito"),a.del_item="",a.aprrecacta=-1,a.traerReuniones(),a.resetForm(),a.closeDialogoAprRechActa(),a.agregaBitacora(r,s)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},envioNotificaciones:function(t,e,a,o){var i=0,n=e,r=a;0!=o?(i=o,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:t.mensajenotificacion,asuntocorreo:t.asuntocorreo,mensajecorreo:t.mensajecorreo,codigoopcion:n,numerointerno:r,adjunto:t.anexo})):this.$root.$emit("sendMail",{email:t.email,nombre:t.nombre,asunto:t.asuntocorreo,mensaje:t.mensajecorreo})},traerAdjuntoTarea:function(t){var e=this;this.loading=!0,e.arrAdjuntoTareas=[],ef.getAdjuntosXOrden(t).then((function(t){t.request&&t.data&&t.data.data.forEach((function(t){e.arrAdjuntoTareas.push({id:t.codigo,nombre:t.pdf,archivo:null,descripcion:t.descripcion})})),e.loading=!1})).catch((function(t){e.loading=!1}))},ActivarIcono:function(t,e){var a=!1;switch(e){case 1:a=t.fase>=1&&t.fase<7&&t.codadmin==this.UsuCodPersonal;break;case 2:a=t.fase>=1&&t.fase<7&&t.codadmin==this.UsuCodPersonal;break;case 3:a=t.fase>=2&&t.fase<7&&t.codadmin==this.UsuCodPersonal;break;case 4:a=t.fase>=3&&t.fase<7&&t.codadmin==this.UsuCodPersonal;break;case 5:a=t.fase>=4&&t.fase<7&&t.codadmin==this.UsuCodPersonal;break;case 6:a=t.fase>=5&&t.fase<7&&t.codadmin==this.UsuCodPersonal;break;case 7:a=t.fase>=6&t.fase<7;break;case 8:a=7==t.fase;break;case 9:a=7==t.fase;break}return a},traerAdjuntosxOrden:function(t){var e=this;this.loading=!0,Kh.getAdjuntosXOrden(t).then((function(t){t.request&&t.data?e.arrAdjuntoOrden=t.data.data:e.arrAdjuntoOrden=[],e.loading=!1})).catch((function(t){e.arrAdjuntoOrden=[],e.loading=!1}))},traerSedes:function(){var t=this;this.loading=!0,Dh.getSede().then((function(e){e.request&&e.data?t.arrSedes=e.data.data:t.arrSedes=[],t.loading=!1})).catch((function(e){t.arrSedes=[],t.loading=!1}))},ImportarTareas:function(){var t=this,e=!1;if(0!==t.ReunionImportar)if(t.data_tareas_importar.forEach((function(t){!0===t.seleccionado&&(e=!0)})),!1!==e){var a={importar:t.data_tareas_importar,codreunion:t.itemactual.codigo};Uh.GuardarReunionesTareaImportar(a).then((function(e){if(e.response){var a=e.response.data.message;t.showMessage(!0,3e3,"error",a)}else if(e.statusText){var o="Importó",i="IMPORTACIÓN",n="De la reunión "+t.ReunionImportar+" a la reunión "+t.itemactual.codigo;t.showMessage(!0,3e3,"success","Se "+o+" las tareas con éxito"),t.del_item="",t.edit_tareas=-1,t.codigotarea="0",t.traertareas(),t.resetForm_tareas(),t.data_tareas_importar=[],t.dialog_import_tareas=!1,t.agregaBitacora(i,n)}else t.showMessage(!0,3e3,"error",e.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}else this.showMessage(!0,3e3,"error","Seleccione una tarea");else this.showMessage(!0,3e3,"error","Seleccione una reunión")},traertareasAprobar:function(t){var e=this,a=[],o="",i=[];this.loading=!0,e.data_tareas=[],console.log(t),Uh.getReunionesTareaxReunionAprobar(this.itemactual.codigo,t).then((function(t){t.request&&t.data?(i=t.data.data,i.forEach((function(t){Uh.PersonalXCodTarea(t.codigo).then((function(i){if(i.request&&i.data){switch(a=[],i.data.data.forEach((function(t){a.push({id:t.codigoresponsable,codigo:t.codigopersonal,nombre:t.Responsable})})),t.estado){case 1:o="PROGRAMADO";break;case 2:o="EJECUTADO";break;case 3:o="VENCIDO";break}e.data_tareas.push({codigo:t.codigo,codestado:t.estado,estado:o,aprobada:t.aprobada,tarea:t.tarea,fecha:t.fechalimite,responsables:a,aprobar:0,comentario:""})}})).catch((function(t){e.loading=!1}))})),console.log(e.data_tareas)):e.data_tareas=[],e.loading=!1})).catch((function(t){e.data_tareas=[],e.loading=!1}))},traertareasResponsables:function(){var t=this,e=[],a="",o=[];this.loading=!0,t.data_tareas=[],Uh.getReunionesTareaxReunionXrespon(this.itemactual.codigo,this.UsuCodPersonal).then((function(i){i.request&&i.data?(o=i.data.data,o.forEach((function(o){Uh.PersonalXCodTarea(o.codigo).then((function(i){if(i.request&&i.data){switch(e=[],i.data.data.forEach((function(t){e.push({id:t.codigoresponsable,codigo:t.codigopersonal,nombre:t.Responsable})})),o.estado){case 1:a="PROGRAMADO";break;case 2:a="EJECUTADO";break;case 3:a="VENCIDO";break}t.data_tareas.push({codigo:o.codigo,codestado:o.estado,estado:a,aprobada:o.aprobada,tarea:o.tarea,fecha:o.fechalimite,responsables:e,aprobar:0,comentario:""})}})).catch((function(e){t.loading=!1}))})),console.log(t.data_tareas)):t.data_tareas=[],t.loading=!1})).catch((function(e){t.data_tareas=[],t.loading=!1}))},traertareas:function(){var t=this,e=[],a="",o=[];this.loading=!0,t.data_tareas=[],Uh.getReunionesTareaxReunion(this.itemactual.codigo).then((function(i){i.request&&i.data?(o=i.data.data,o.forEach((function(o){Uh.PersonalXCodTarea(o.codigo).then((function(i){if(i.request&&i.data){switch(e=[],i.data.data.forEach((function(t){e.push({id:t.codigoresponsable,codigo:t.codigopersonal,nombre:t.Responsable})})),o.estado){case 1:a="PROGRAMADO";break;case 2:a="EJECUTADO";break;case 3:a="VENCIDO";break}t.data_tareas.push({codigo:o.codigo,codestado:o.estado,estado:a,aprobada:o.aprobada,tarea:o.tarea,fecha:o.fechalimite,responsables:e,aprobar:0,comentario:""})}})).catch((function(e){t.loading=!1}))})),console.log(t.data_tareas)):t.data_tareas=[],t.loading=!1})).catch((function(e){t.data_tareas=[],t.loading=!1}))},OnChangeReuniones:function(){var t=this,e=[],a=[];this.loading=!0,Uh.getReunionesTareaxReunion(t.ReunionImportar).then((function(o){o.request&&o.data?(a=o.data.data,t.data_tareas_importar=[],a.forEach((function(a){Uh.PersonalXCodTarea(a.codigo).then((function(o){o.request&&o.data&&(e=[],o.data.data.forEach((function(t){e.push({codigo:t.codigopersonal,nombre:t.Responsable})})),t.data_tareas_importar.push({seleccionado:!1,codigo:a.codigo,codestado:a.estado,tarea:a.tarea,fecha:a.fechalimite,responsables:e}))})).catch((function(e){t.loading=!1}))}))):t.data_tareas_importar=[],t.loading=!1})).catch((function(e){t.data_tareas_importar=[],t.loading=!1}))},AgregarResponsables:function(){var t=this;if(!(t.responsables.length>0))return"Selección invalida";t.responsables.forEach((function(e){t.arrAsistentes.forEach((function(a){if(e==a.codigo){var o=!1;t.dataResponsables.forEach((function(t){a.codigo==t.codigo&&(o=!0)})),0==o&&t.dataResponsables.push({id:0,codigo:a.codigo,responsable:a.nombrecompleto})}}))}))},AgregarAsistentes:function(){var t=this;if(!(t.Asistentes.length>0))return"Selección invalida";t.Asistentes.forEach((function(e){t.arrAsistentes.forEach((function(a){if(e==a.codigo){var o=!1;t.dataAsist.forEach((function(t){a.codigo==t.codigo&&(o=!0)})),0==o&&t.dataAsist.push({id:0,codigo:a.codigo,codigoasist:a.codigo,asistente:a.nombrecompleto,ponente:!1,oyente:!1,informativo:!1})}}))}))},AgregarVisualiza:function(){var t=this;if(!(t.visualiza.length>0))return"Selección invalida";t.visualiza.forEach((function(e){t.arrAsistentesTotal.forEach((function(a){if(e==a.id){var o=!1;t.dataVisualiza.forEach((function(t){a.codigo==t.codigo&&(o=!0)})),0==o&&t.dataVisualiza.push({codigo:a.codigo,visualiza:a.nombre})}}))}))},AgregarExternos:function(){var t=this,e="";""!=t.nombreexterno?""!=t.emailexterno&&t.validEmail(t.emailexterno)?(t.dataExternos.forEach((function(a){t.nombreexterno!=a.NombreExterno?t.emailexterno!=a.EmailExterno||(e="Email ya registrado"):e="Nombre ya registrado"})),""==e?(t.dataExternos.push({codigo:0,NombreExterno:t.nombreexterno,EmailExterno:t.emailexterno,CargoExterno:t.cargoexterno,EntidadExterno:t.entidadexterno,ponente:!1,oyente:!1,informativo:!1}),t.nombreexterno="",t.emailexterno="",t.cargoexterno="",t.entidadexterno=""):this.showMessage(!0,3e3,"error",e)):this.showMessage(!0,3e3,"error","Email invalido"):this.showMessage(!0,3e3,"error","Nombre invalido")},validEmail:function(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)},traerPersonal:function(){var t=this;this.loading=!0,st["a"].getData().then((function(e){e.request&&e.data?(t.arrElaboActa=e.data.data,t.arrCitador=e.data.data):(t.arrElaboActa=[],t.arrCitador=[]),t.loading=!1})).catch((function(e){t.arrElaboActa=[],t.arrCitador=[],t.loading=!1}))},closeDialogoDelAgenda:function(){this.dialog_del_agenda=!1},closeDialogoDelOrden:function(){this.dialog_del_orden=!1},closeDialogoDelTarea:function(){this.dialog_del_tarea=!1},closeDialogoDel:function(){this.dialog_del=!1},closeDialogoNot:function(){this.dialog_notificar=!1,this.loading=!1},cerrarDialogo_addPart:function(){this.dialog_addpart=!1,this.edit=-1,this.editaist=-1,this.Asistentes=[]},adjuntoOrden_del:function(t,e){var a=this;this.loading=!0,Kh.DelAdjunto(t,e).then((function(t){t.statusText?(a.showMessage(!0,3e3,"success","Se eliminó el adjunto con éxito"),a.traerAdjuntosxOrden(a.itemorden.codigo),a.agregaBitacora("ELIMINACION","SE ELIMINÓ EL ADJUNTO DE LA ORDEN DEL DÍA:"+a.itemorden.codigo+", REUNIÓN:"+a.itemactual.codigo)):a.showMessage(!0,3e3,"error",t.message),a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))},deleteItemAgenda:function(){var t=this;this.loading=!0,Gh.DelReunionAgenda(t.itemagenda.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la agenda de la reunión con éxito"),t.del_item="",t.traerReunionAgenda(),t.closeDialogoDelAgenda(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA AGENDA DE LA REUNIÓN CON CODIGO:"+t.itemorden.codigo+", REUNIÓN:"+t.itemactual.codigo)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},deleteItemOrden:function(){var t=this;this.loading=!0,Lh.DelReunionOrden(t.itemorden.codigo,t.itemorden.codigoreunion).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la orden de la reunión con éxito"),t.del_item="",t.traerReunionOrden(),t.closeDialogoDelOrden(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA ORDEN DE LA REUNIÓN CON CODIGO:"+t.itemorden.codigo+", REUNIÓN:"+t.itemactual.codigo)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},deleteItem:function(){var t=this;this.loading=!0,Eh.DelReunion(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la reunión con éxito"),t.del_item="",t.traerReuniones(),t.resetForm(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA REUNIÖN CON CODIGO:"+t.itemactual.codigo+", TITULO:"+t.itemactual.titulo)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},deleteItemTarea:function(){var t=this;this.loading=!0,Uh.DelReunionTarea(t.itemactual_tareas.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la tarea con éxito"),t.del_item="",t.traertareas(),t.closeDialogoDelTarea(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA tarea CON CODIGO:"+t.itemactual_tareas.codigo+", TITULO:"+t.itemactual_tareas.tarea)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){var t=!1;return this.descripcion!=this.descripcionant&&(t=!0),this.SubProceso!=this.SubProcesoAnt&&(t=!0),this.Fechareunion!=this.FechareunionAnt&&(t=!0),this.lugar!=this.lugarAnt&&(t=!0),this.sede!=this.sedeAnt&&(t=!0),0==t?"No hay datos para actualizar":""},validaGuardarReunionTareas:function(){var t=!1;return this.tareas!=this.tareasant&&(t=!0),this.FechaLimite!=this.FechaLimiteAnt&&(t=!0),0==this.dataResponsables.length?"No se han asignado responsables":this.FechaLimite<=this.itemactual.fecha?"La fecha limite de la tarea debe ser superior a la fecha de la reunión":0==t?"No hay datos para actualizar":""},saveitemAdjTarea:function(){var t=this;t.arrAdjuntoTareas.push({id:0,nombre:"",archivo:t.adjTarea,descripcion:t.DescAdjTarea}),t.cerrarDialogo_adjuntoTarea_add()},handleFileUploadTarea:function(){var t=rf(He.a.mark((function t(e){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!==e?(this.adjTarea=e,this.adjuntoTarea=e["name"]):(this.adjTarea=null,this.adjuntoTarea="");case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleFileUploadOrden:function(){var t=rf(He.a.mark((function t(e){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!==e?(this.adjOrden=e,this.adjuntoOrden=e["name"]):(this.adjOrden=null,this.adjuntoOrden="");case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleFileUploadComentario:function(){var t=rf(He.a.mark((function t(e){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!==e?(this.adjComentario=e,this.adjuntoComentario=e["name"]):(this.adjComentario=null,this.adjuntoComentario="");case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),saveitemComentarioTarea:function(){var t=this,e="Comentario en la tarea "+t.itemactual_tareas_seguimiento.codigo,a=[];if(""!=t.Comentario_historial){null!==t.adjComentario&&"undefined"!=typeof t.adjComentario&&(a=t.adjComentario);var o={codigo:t.itemactual_tareas_seguimiento.codigo,codpers:t.UsuCodPersonal,comentario:t.Comentario_historial};Uh.guardarReunionTareaComentario(o,a).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="Agregó",n="CREACION";t.showMessage(!0,3e3,"success","Se "+i+" el comentario al compromiso"),t.GetComentariosTarea(t.itemactual_tareas_seguimiento.codigo),t.cerrar_dialog_history_compromisos_add(),t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}else t.showMessage(!0,3e3,"error","Escriba un comentario")},InformacionReunion:function(t){var e=this;this.loading=!0,Eh.getInformacionTotal(t).then((function(t){t.request&&t.data?(e.arrInfoGeneral=t.data.respuesta,console.log(e.arrInfoGeneral)):e.arrInfoGeneral=[],e.loading=!1})).catch((function(t){e.arrInfoGeneral=[],e.loading=!1}))},saveitemAdjOrden:function(){var t=this,e="Adjunto en la orden del día "+this.itemorden.codigo;console.log(t.adjOrden),null!==t.adjOrden&&"undefined"!=typeof t.adjOrden?Kh.guardarAdjuntoOrden(t.adjOrden,t.itemorden.codigo,t.DescAdjOrden).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="Agregó",n="CREACION";t.showMessage(!0,3e3,"success","Se "+i+" el adjunto a la orden"),t.traerAdjuntosxOrden(t.itemorden.codigo),t.cerrarDialogo_adjuntoorden_add(),t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1})):(this.adjuntoreunion=null,this.adjunto="")},saveitem:function(){var t=this.validaGuardar(),e="",a=0,o=0,i=0,n=0,r=0;if(""==t){this.edit?(this.itemactual.titulo!=this.titulo&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="DESCRIPCION: "+this.descripcion.toUpperCase();var s=this;switch(this.loading=!0,s.proceso){case 1:a=s.SubProceso;break;case 2:o=s.SubProceso;break;case 3:i=s.SubProceso;break;case 4:n=s.SubProceso;break}null!=this.adjuntoreunion&&this.adjuntoreunion.nombrepdf,r=1==this.hereda?1:0;var c={codigo:this.codigo,descripcion:this.descripcion,codproyecto:a,coddesplazamiento:o,codsolicitud:i,codcontratacion:n,fecha:this.Fechareunion,lugar:this.lugar,sede:this.sede,hereda:r,codadmin:this.$session.get("codigopersonal")};console.log(c),Eh.guardarReunion(c).then((function(t){if(t.response){var a=t.response.data.message;s.showMessage(!0,3e3,"error",a)}else if(t.statusText){var o="",i="";s.edit?(o="Actualizó",i="ACTUALIZACION"):(o="Agregó",i="CREACION"),s.showMessage(!0,3e3,"success","Se "+o+" la reunión con éxito"),s.del_item="",s.edit=-1,s.traerReuniones(),s.resetForm(),s.dialog=!1,s.agregaBitacora(i,e)}else s.showMessage(!0,3e3,"error",t.message);s.loading=!1})).catch((function(t){s.showMessage(!0,3e3,"error",t),s.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},saveProgramacion:function(){var t=this,e=new Date(t.itemactual.fecha+" "+t.HoraIni),a=new Date(t.itemactual.fecha+" "+t.HoraFin);if(e>=a)t.showMessage(!0,3e3,"error","Hora final debe ser mayor a la hora inicial");else{var o={codigo:t.itemactual.codigo,horaini:t.HoraIni,horafin:t.HoraFin,presencial:t.ordcheckpresencial,virtual:t.ordcheckvirtual,linkreunion:t.linkreunion};Eh.ActualizarReunionesProgramacion(o).then((function(e){if(e.response){var a=e.response.data.message;t.showMessage(!0,3e3,"error",a)}else if(e.statusText){var o="Actualizó",i="ACTUALIZACION",n="Progrmación de la reunión en el codigo "+t.itemactual.codigo;t.showMessage(!0,3e3,"success","Se "+o+" la reunión con éxito"),t.itemactual.reunionvirtual=t.ordcheckvirtual,t.itemactual.reunionpresencial=t.ordcheckpresencial,t.itemactual.horainicio=t.HoraIni,t.itemactual.horafinal=t.HoraFin,t.itemactual.linkreunion=t.linkreunion,t.agregaBitacora(i,n)}else t.showMessage(!0,3e3,"error",e.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}},SaveitemDesarrollo:function(){var t=this,e="";if(t.dataAsist.forEach((function(t){0!=t.asistio||null!=t.observacion&&""!=t.observacion||(e="El asistente interno "+t.asistente+" no asistio, por favor ingrese la observación de no asistencia")})),""==e)if(t.dataExternos.forEach((function(t){0!=t.asistio||null!=t.observacion&&""!=t.observacion||(e="El asistente externo "+t.NombreExterno+" no asistio, por favor ingrese la observación de no asistencia")})),""==e){var a={asistentes:t.dataAsist};Oh.ActualizarAsistencia(a).then((function(e){if(e.response){var a=e.response.data.message;t.showMessage(!0,3e3,"error",a)}else if(e.statusText){var o={externos:t.dataExternos};Fh.ActualizarAsistencia(o).then((function(a){if(e.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i={orden:t.dataOrden};Lh.ActualizarDesarrollo(i).then((function(a){if(e.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i={codigo:t.codigo,estado:3,fase:5};Eh.ActualizarReunionesEstado(i).then((function(e){if(a.response){var o=e.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="Actualizó",n="ACTUALIZACION",r="Desarrollo de la reunión "+t.itemactual.codigo;t.showMessage(!0,3e3,"success","Se "+i+" la reunión con éxito"),t.del_item="",t.edit=-1,t.traerReuniones(),t.resetForm(),t.dialog_resumen=!1,t.agregaBitacora(n,r)}else t.showMessage(!0,3e3,"error",e.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}else t.showMessage(!0,3e3,"error",e.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}else t.showMessage(!0,3e3,"error",e);else t.showMessage(!0,3e3,"error",e)},validaaprob:function(){var t=!1,e=!1,a=this;return a.dataAsist.forEach((function(e){a.UsuCodPersonal===e.Codigopersonal&&(a.codasistusuario=e.codigo,t=!0)})),!1===t?"No esta seleccionado para aprobar esta acta":(console.log(a.dataAsistResp),a.dataAsistResp.forEach((function(t){a.UsuCodPersonal===t.codigopersonal&&null!=t.estado&&1==t.estado&&(e=!0)})),e?"Ya aprobó esta acta":""===a.ObsRechActa&&"2"===a.OpcionActa?"Ha rechazado el acta por favor escriba un comentario":"")},saveitemEstadoTarea:function(){},saveitemReunionTareas:function(){var t="",e=[];this.estadotareaAnt!=this.estadotarea&&(t+="Estado tarea: "+this.estadotareaAnt+" a "+this.estadotarea),t="CODIGO: "+this.itemactual.codigo+" ("+t+")";var a=this;this.loading=!0;var o={codigo:this.codigotarea,tareas:this.tareas,fechalimite:this.FechaLimite,codigoreunion:this.itemactual.codigo,responsables:this.dataResponsables};this.arrAdjuntoTareas.forEach((function(t){0==t.id&&e.push(t)})),Uh.guardarReunionTarea(o,e).then((function(e){if(e.response){var o=e.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(e.statusText){var i="",n="";a.edit_tareas?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" la tarea con éxito"),a.del_item="",a.edit_tareas=-1,a.codigotarea="0",a.traertareas(),a.resetForm_tareas(),a.dialog_tareas_addupd=!1,a.agregaBitacora(n,t)}else a.showMessage(!0,3e3,"error",e.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))},adjuntoTareas_del:function(t){var e=this;if(""!=t.nombre){e=this;this.loading=!0,ef.DelAdjunto(t.id,t.nombre).then((function(t){t.statusText?(e.showMessage(!0,3e3,"success","Se eliminó el adjunto con éxito"),e.traerAdjuntoTarea(e.itemactual_tareas.codigo),e.agregaBitacora("ELIMINACION","SE ELIMINÓ EL ADJUNTO DE LA TAREA:"+e.itemactual_tareas.codigo+", REUNIÓN:"+e.itemactual.codigo)):e.showMessage(!0,3e3,"error",t.message),e.loading=!1})).catch((function(t){e.showMessage(!0,3e3,"error",t),e.loading=!1}))}else e.arrAdjuntoTareas.forEach((function(a,o,i){t.archivo==a.archivo&&e.arrAdjuntoTareas.splice(o,1)}))},responsable_del:function(t){var e=this;e.dataResponsables.forEach((function(a,o,i){t.codigo==a.codigo&&e.dataResponsables.splice(o,1)}))},asistente_del:function(t){var e=this;t.id>0?Oh.deleteAsistente(t.id).then((function(a){a.statusText?(""!==a.data.message?e.showMessage(!0,3e3,"error",a.data.message):e.showMessage(!0,3e3,"success","Se eliminó el asistente interno con éxito"),e.del_item="",e.traerAsistentes(),e.agregaBitacora("ELIMINACION","SE ELIMINÓ EL ASISTENTE INTERNO DE LA REUNIÖN CON CODIGO:"+t.id+", CÓDIGO PERSONAL:"+t.codigo)):e.showMessage(!0,3e3,"error",a.message),e.del_item="",e.loading=!1})).catch((function(t){e.showMessage(!0,3e3,"error",t),e.loading=!1})):e.dataAsist.forEach((function(a,o,i){t.codigo==a.codigo&&e.dataAsist.splice(o,1)}))},checkedAsist:function(t){var e=this;!0!==t.ponente&&!0!==t.oyente||e.dataAsist.forEach((function(a){a.codigo==t.codigo&&e.dataAsist.forEach((function(a,o,i){t.codigo==a.codigo&&(e.dataAsist[o].informativo=!1)}))}))},checkedAsistext:function(t){var e=this;!0!==t.ponente&&!0!==t.oyente||e.dataExternos.forEach((function(a){a.codigo==t.codigo&&e.dataExternos.forEach((function(a,o,i){t.codigo==a.codigo&&(e.dataExternos[o].informativo=!1)}))}))},visualiza_del:function(t){var e=this;e.dataVisualiza.forEach((function(a,o,i){t.codigo==a.codigo&&e.dataVisualiza.splice(o,1)}))},externo_del:function(t){var e=this;t.codigo>0?Fh.delete(t.codigo).then((function(a){a.statusText?(""!==a.data.message?e.showMessage(!0,3e3,"error",a.data.message):e.showMessage(!0,3e3,"success","Se eliminó el externo interno con éxito"),e.del_item="",e.traerExterno(),e.agregaBitacora("ELIMINACION","SE ELIMINÓ EL ASISTENTE EXTERNO DE LA REUNIÖN CON CODIGO:"+t.codigo)):e.showMessage(!0,3e3,"error",a.message),e.del_item="",e.loading=!1})).catch((function(t){e.showMessage(!0,3e3,"error",t),e.loading=!1})):e.dataExternos.forEach((function(a,o,i){t.NombreExterno==a.NombreExterno&&t.EmailExterno==a.EmailExterno&&e.dataExternos.splice(o,1)}))},saveitemReunionTareasAprob:function(){var t=this,e=[],a=[],o="Tareas de la reunión "+this.itemactual.codigo+" Actualizar aprobaciones",i={codigoaprobo:this.CodAproTarAsis,tareas:this.data_tareas,codigoreunion:this.itemactual.codigo};Uh.guardarReunionTareaAproba(i).then((function(i){if(i.response){var n=i.response.data.message;t.showMessage(!0,3e3,"error",n)}else if(i.statusText){var r="",s="";if(r="Actualizó",s="ACTUALIZACION",t.showMessage(!0,3e3,"success","Se "+r+" la tarea con éxito"),t.aprrecCompro=!1,t.AprRechCom=!1,t.traerReuniones(),t.resetForm(),t.agregaBitacora(s,o),console.log(i.data),"CONCLUIDA"==i.data.EstadoRes){console.log("OK");var c="Cordial Saludo,<br><br> Se concluyó la reunión sobre: "+t.itemactual.descripcion+" del día "+t.itemactual.fecha+".";t.envioNotificaciones({mensajenotificacion:"Se concluyó la reunión la reunión sobre: "+t.itemactual.descripcion+" del día "+t.itemactual.fecha+". Por favor revisar",asuntocorreo:"Reunión concluida "+t.itemactual.descripcion,mensajecorreo:c,anexo:""},55,t.itemactual.consecutivo,t.itemactual.codadmin),Oh.getReunionesAsistentesXReunion(t.itemactual.codigo).then((function(a){a.request?a.data&&(console.log(a.data),e=a.data.data,e.forEach((function(e){console.log(e),t.envioNotificaciones({mensajenotificacion:"Se concluyó la reunión la reunión sobre: "+t.itemactual.descripcion+" del día "+t.itemactual.fecha+". Por favor revisar",asuntocorreo:"Reunión concluida "+t.itemactual.descripcion,mensajecorreo:c,anexo:""},55,t.itemactual.consecutivo,e.Codigopersonal)}))):(console.log("Error asist 1"),t.showMessage(!0,3e3,"error",a.message)),t.del_item="",t.loading=!1})).catch((function(e){console.log("Error asist 2"),t.showMessage(!0,3e3,"error",e),t.loading=!1})),Fh.getReunionesExternoXReunion(t.itemactual.codigo).then((function(e){e.request?e.data&&(console.log(e.data),a=e.data.data,a.forEach((function(e){t.envioNotificaciones({email:e.email,nombre:e.nombre,asuntocorreo:"Reunión concluida "+t.itemactual.descripcion,mensajecorreo:c,anexo:""},55,t.itemactual.consecutivo,"0")}))):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))}}else t.showMessage(!0,3e3,"error",i.message);t.loading=!1})).catch((function(e){console.log("Error funct 2"),t.showMessage(!0,3e3,"error",e),t.loading=!1}))},saveitemTareasSegui:function(){var t=this,e="Tarea "+this.itemactual_tareas_seguimiento.codigo+" Actualiza seguimiento",a={codigo:this.itemactual_tareas_seguimiento.codigo,responsables:this.dataResponsables,estado:this.chkComproRealiz};Uh.guardarReunionTareaSegui(a).then((function(a){if(a.response){var o=a.response.data.message;t.showMessage(!0,3e3,"error",o)}else if(a.statusText){var i="",n="";i="Actualizó",n="ACTUALIZACION",t.showMessage(!0,3e3,"success","Se "+i+" la tarea con éxito"),t.del_item="",t.edit_tareas=-1,t.codigotarea="0",t.traertareasResponsables(),t.cerrarDialogo_dialog_tareas_segui_edit(),t.agregaBitacora(n,e)}else t.showMessage(!0,3e3,"error",a.message);t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},saveitem_addPart:function(){var t="",e="",a=this,o=a.itemactual.codigo;if(0==this.dataAsist.length&&(t="Debe ingresar asistentes internos"),""==t){this.editaist?(this.itemactual.titulo!=this.titulo&&(e+="Descripción: "+this.itemactual.titulo.toUpperCase()+" a "+this.titulo.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="DESCRIPCION: "+this.titulo.toUpperCase();var i={codigoreunion:o,asistentes:this.dataAsist};Oh.guardarReunionAsistentes(i).then((function(t){if(t.response){var i=t.response.data.message;a.showMessage(!0,3e3,"error",i)}else if(t.statusText){var n={codigoreunion:o,visualizacion:a.dataVisualiza};Mh.guardarReunionVisualiza(n).then((function(t){if(t.response){var i=t.response.data.message;a.showMessage(!0,3e3,"error",i)}else if(t.statusText){var n={codigoreunion:o,externo:a.dataExternos};Fh.guardarReunionExterno(n).then((function(t){if(t.response){var i=t.response.data.message;a.showMessage(!0,3e3,"error",i)}else if(t.statusText){var n={codigo:o,estado:7};Eh.ActualizarReunionesEstado(n).then((function(i){if(i.response){var n=i.response.data.message;a.showMessage(!0,3e3,"error",n)}else if(i.statusText){var r={codigo:o,citador:a.citador};Eh.ActualizarReunionesCitador(r).then((function(t){if(i.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var n="",r="";n="Agrego asistentes ",r="AGREGO ASISTENTES ",a.showMessage(!0,3e3,"success","Se "+n+" de la reunión con éxito"),a.del_item="",a.editaist=-1,a.traerReuniones(),a.resetForm(),a.dialog_addpart=!1,a.agregaBitacora(r,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.proceso=this.itemactual.proceso,this.traerSubproceso(this.proceso),this.SubProceso=this.itemactual.SubProceso,this.Fechareunion=this.itemactual.fecha,this.lugar=this.itemactual.lugar,this.linkreunion=this.itemactual.linkreunion,this.sede=this.itemactual.sede,this.hereda=this.itemactual.hereda,this.descripcionant=this.itemactual.descripcion,this.SubProcesoAnt=this.itemactual.SubProceso,this.FechareunionAnt=this.itemactual.Fechareunion,this.lugarAnt=this.itemactual.lugar,this.linkreunionAnt=this.itemactual.linkreunion,this.sedeAnt=this.itemactual.sede,this.heredaAnt=this.itemactual.hereda,""!=this.itemactual.adjunto&&null!=this.itemactual.adjunto?this.adjunto=this.itemactual.adjunto:this.adjunto=""):(this.resetForm(),this.formTitle="Nuevo")},editaist:function(t){t&&(this.e1=1,this.formTitle="Agregar participantes",this.codigo=this.itemactual.codigo,this.citador=this.itemactual.codcitador,this.arrAsistentes=[],this.dataAsist=[],this.dataVisualiza=[],this.dataExternos=[],this.Seleccionasistentes=0,this.traerAsistentes(),this.traerExterno())},dialog_tareas_seguimiento:function(t){t&&this.traertareasResponsables()},dialog_tareas:function(t){t&&this.traertareas()},dialog_resumen:function(t){t&&(this.codigo=this.itemactual.codigo,this.dataAsist=[],this.dataExternos=[],this.traerAsistentes(),this.traerExterno(),this.traerReunionOrden())},ordendia:function(t){t&&(this.formTitle="Programación y Orden del día",this.e1_o=1,this.traerReunionOrden(),this.traerReunionAgenda(),this.codigo=this.itemactual.codigo,this.HoraIni=this.itemactual.horainicio,this.HoraFin=this.itemactual.horafinal,0===this.itemactual.reunionvirtual?this.ordcheckvirtual=!1:this.ordcheckvirtual=!0,this.ordcheckpresencial=this.itemactual.reunionpresencial,this.linkreunion=this.itemactual.linkreunion)},edit_tareas:function(t){if(t){var e=this,a=[];this.formTitle_tareas="Editar",this.codigotarea=this.itemactual_tareas.codigo,this.FechaLimite=this.itemactual_tareas.fecha,this.tipo_tarea=this.itemactual_tareas.tipo,this.tareas=this.itemactual_tareas.tarea,this.recursos=this.itemactual_tareas.recursos,this.estadotarea=this.itemactual_tareas.codestado,a=e.itemactual_tareas.responsables,e.dataResponsables=[],a.forEach((function(t){e.dataResponsables.push({id:t.id,codigo:t.codigo,responsable:t.nombre})})),this.traerAdjuntoTarea(this.codigotarea),this.FechaLimiteAnt=this.itemactual_tareas.fecha,this.tipo_tareaAnt=this.itemactual_tareas.tipo,this.tareasAnt=this.itemactual_tareas.tarea,this.recursosAnt=this.itemactual_tareas.recursos,this.estadotareaAnt=this.itemactual_tareas.codestado,this.arrAsistentes=[],this.Seleccionasistentes=0}else this.resetForm_tareas(),this.formTitle_tareas="Nuevo",this.arrAsistentes=[],this.arrAdjuntoTareas=[],this.Seleccionasistentes=0,this.responsables=[]},segui_tareas:function(t){if(t){var e=this,a=[];this.formTitle_tareas="Seguimiento",this.codigotarea=this.itemactual_tareas_seguimiento.codigo,this.FechaLimite=this.itemactual_tareas_seguimiento.fecha,this.tipo_tarea=this.itemactual_tareas_seguimiento.tipo,this.tareas=this.itemactual_tareas_seguimiento.tarea,this.recursos=this.itemactual_tareas_seguimiento.recursos,1==this.itemactual_tareas_seguimiento.codestado?this.chkComproRealiz=!0:this.chkComproRealiz=!1,this.GetComentariosTarea(this.codigotarea),a=e.itemactual_tareas_seguimiento.responsables,e.dataResponsables=[],a.forEach((function(t){e.dataResponsables.push({id:t.id,codigo:t.codigo,responsable:t.nombre})})),this.arrAsistentes=[],this.Seleccionasistentes=0}else this.resetForm_tareas(),this.formTitle_tareas="Nuevo",this.arrAsistentes=[],this.arrAdjuntoTareas=[],this.Seleccionasistentes=0,this.responsables=[]},dialog_addpart:function(t){t&&this.$refs.citadorrue.focus()},editOrden:function(t){if(t){this.formTitle_orden="Editar",this.codigo=this.itemactual.codigo,this.codigoOrden=this.itemorden.codigo,this.HoraIni=this.itemactual.horainicio,this.HoraFin=this.itemactual.horafinal,this.tematica=this.itemorden.descripcion,this.obsOrden=this.itemorden.observaciones,0===this.itemactual.reunionvirtual?this.ordcheckvirtual=!1:this.ordcheckvirtual=!0,this.ordcheckpresencial=this.itemactual.reunionpresencial,this.linkreunion=this.itemactual.linkreunion}else this.resetFormOrden(),this.formTitle_orden="Nuevo"},editAgen:function(t){if(t){this.formTitle_agenda="Editar",this.codigoAgenda=this.itemagenda.codigo,this.numagenda=this.itemagenda.numagenda,this.descripAgenda=this.itemagenda.descripcion}else this.resetFormAgenda(),this.formTitle_agenda="Nuevo"},apracta:function(t){if(t){if(1===this.itemactual.estadoacta)return this.showMessage(!0,3e3,"info","Acta ya fue enviada para aprobación"),void(this.apracta=-1);if(this.itemactual.estadoacta>=3)return this.showMessage(!0,3e3,"info","Acta ya fue approbada"),void(this.apracta=-1);this.enviaraprobar=!0,this.dataAsist=[],this.traerAsistentesAprob(),this.traerPDFActa()}},aprrecacta:function(t){if(t){if(this.itemactual.codestado>=4)return this.showMessage(!0,3e3,"info","Acta ya fue approbada"),void(this.aprrecacta=-1);this.dataAsist=[],this.traerAsistentesAprob(),this.dataAsistResp=[],this.traerAsistentesAprobResp(this.itemactual.codigo)}},aprrecCompro:function(t){t&&(console.log(t),this.CodAproTarAsis=0,this.dataAsist=[],this.traerAsistentesAprobTarea(),this.dataAsistResp=[],this.traerAsistentesAprobResp(this.itemactual.codigo))},histoacta:function(t){t&&this.traeractas()},histoactadet:function(t){t&&this.traerAsistentesAprobResp(this.itemactual.codigo,this.itemactual_acta.codigo)},editadjord:function(t){t&&this.traerAdjuntosxOrden(this.itemorden.codigo)},import_tareas:function(t){t&&this.traerReunionesHereda()},dialog_notificar:function(t){t&&(this.api=window.gapi,this.api.load("client:auth2",this.initClient))},dialog_info:function(t){t&&this.InformacionReunion(this.itemactual.codigo)}},mounted:function(){var t=document.createElement("script");t.setAttribute("src","https://apis.google.com/js/platform.js"),document.head.appendChild(t),this.UsuCodPersonal=this.$session.get("codigopersonal"),this.traerReuniones(),this.traerPersonal(),this.traerSedes(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},mf=pf,vf=Object(C["a"])(mf,Ph,Ah,!1,null,null,null),hf=vf.exports,ff=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tSede\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"Descripción",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Sede")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Sede seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},gf=[],bf={data:function(){return{modulo:"SEDE",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",nombre:"",nombreant:"",itemactual:"",data:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"nombre"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.nombre="",this.nombreant=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerSede:function(){var t=this;this.loading=!0,Dh.getSede().then((function(e){e.request&&e.data?t.data=e.data.data:t.data=[],t.loading=!1})).catch((function(e){t.data=[],t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,Dh.DelCategoria(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la Sede con éxito"),t.del_item="",t.traerSede(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA CATEGORIA CON CODIGO:"+t.itemactual.codigo+", nombre:"+t.itemactual.nombre)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return this.nombre==this.nombreant?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.nombre!=this.nombre&&(e+="Descripción: "+this.itemactual.nombre.toUpperCase()+" a "+this.nombre.toUpperCase()),e="CODIGO: "+this.codigo+" ("+e+")"):e+="nombre: "+this.nombre.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,nombre:this.nombre};Dh.guardarCategoria(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" la Sede con éxito"),a.del_item="",a.edit=-1,a.traerSede(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.nombre,this.nombreant=this.itemactual.nombre):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerSede(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},xf=bf,_f=Object(C["a"])(xf,ff,gf,!1,null,null,null),yf=_f.exports,kf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[2===t.$session.get("perfilpqr")||3===t.$session.get("perfilpqr")?a("pqr"):a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")])],1)],1)],1)},Cf=[],Sf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{width:"100%"}},[a("v-card",{attrs:{width:"100%"}},[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1),a("v-toolbar-title",[t._v("Dashboard - Charts")])],1),a("v-flex",[a("iframe",{attrs:{id:"inlineFrameExample",title:"Gráficas",width:"1400",height:"800",src:"https://datastudio.google.com/embed/reporting/4bbdefa3-cbc1-4112-902e-d3dd562afb38/page/nXDGB"}})])],1)],1)},wf=[],Pf={getData:function(t,e,a){return new Promise((function(o,i){p()({method:"POST",url:m["a"].apiUrl+"/getPqrs",dataType:"json",data:{filtro:t,valor:e,estado:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},getMunicipios:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getMunicipios",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getUsersAdminPqrs:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getUsersAdminPqrs",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getRecordsPanelUsuarios:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getRecordsPanelUsuarios",dataType:"json",data:{user_id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getPersonalArea:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getPersonalArea",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},validateResponsable:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/validateResponsable",dataType:"json",data:{documento:t,area:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},updatePerfilPqrUser:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/updatePerfilPqrUser",dataType:"json",data:{iduser:t,tipo:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getDependencias:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getDependencias",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getTipoComunicacion:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getTipoComunicacion",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getEjeTematico:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getEjeTematico",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getInstituciones:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getInstituciones",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getMaestroRespuestas:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getMaestroRespuestas",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getTipoRespuestasA:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getTipoRespuestasA",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getUsers:function(){return new Promise((function(t,e){p()({method:"GET",url:m["a"].apiUrl+"/getUsers",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataResponsable:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getDataResponsable",dataType:"json",data:{documento:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getInfoUser:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getInfoUser",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getAsignados:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getAsignados",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getRecordsPanelControl:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/getRecordsPanelControl",dataType:"json",data:{fechaini:t,fechafin:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getRecordsCharts:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/getRecordsCharts",dataType:"json",data:{fechaini:t,fechafin:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getInfoResponsable:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getInfoResponsable",dataType:"json",data:{idarea:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},savePqr:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/savePqr",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},uploadFile:function(t){var e=new FormData;return e.append("archivo",t),new Promise((function(t,a){p.a.post(m["a"].apiUrl+"/uploadFilepqr",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},savefromH:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/savefromH",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},updateOficio:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/updateOficio",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},updateTipoComunicacion:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/updateTipoComunicacion",dataType:"json",data:{id:t,dias_respuesta:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},saveAdjunto:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/saveAdjunto",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},updateAdjunto:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/updateAdjunto",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},listPqr:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/listPqr",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},updatePqr:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/updatePqr",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getAgentes:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getAgentes",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getBodyRespuesta:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getBodyRespuesta",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},deleteAsignacion:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/deleteAsignacion",dataType:"json",data:{id:t,user:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},deleteEjeTematico:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/deleteEjeTematico",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},deleteInstitucion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/deleteInstitucion",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},deleteRespuestaAutomatica:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/deleteRespuestaAutomatica",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},validatePasswordPqr:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/validatePasswordPqr",dataType:"json",data:{id:t,password:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},changevbresponsable:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/changevbresponsable",dataType:"json",data:{user:t,id:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},changevbdireccion:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/changevbdireccion",dataType:"json",data:{user:t,id:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},cerrarPqr:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/cerrarPqr",dataType:"json",data:{user:t,id:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getComentario:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getComentario",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getComentariosRespuesta:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getComentariosRespuesta",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},saveRespuesta:function(t,e){for(var a=new FormData,o=0;o<e.length;o++){var i=e[o];a.append("archivos[".concat(o,"]"),i)}return a.append("obj",JSON.stringify(t)),new Promise((function(t,e){p.a.post(m["a"].apiUrl+"/saveRespuesta",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getRespuesta:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getRespuesta",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getResponsablepqr:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/getResponsablepqr",dataType:"json",data:{id:t,id_pqr:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},saveComentario:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/saveComentario",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},saveEjeTematico:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/saveEjeTematico",dataType:"json",data:{nombre:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},saveInstitucion:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/saveInstitucion",dataType:"json",data:{nombre:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},saveRespuestaAutomatica:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/saveRespuestaAutomatica",dataType:"json",data:{nombre:t,cuerpo:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},updateEjeTematico:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/updateEjeTematico",dataType:"json",data:{id:t,nombre:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},updateInstitucion:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/updateInstitucion",dataType:"json",data:{id:t,nombre:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},updateRespuestaAutomatica:function(t,e,a){return new Promise((function(o,i){p()({method:"POST",url:m["a"].apiUrl+"/updateRespuestaAutomatica",dataType:"json",data:{id:t,nombre:e,cuerpo:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},saveAsignacion:function(t,e,a,o){return new Promise((function(i,n){p()({method:"POST",url:m["a"].apiUrl+"/saveAsignacion",dataType:"json",data:{tipo:t,data:e,id:a,user:o}}).then((function(t){i(t)})).catch((function(t){i(t)}))}))},getResponsables:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/getResponsables",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},listAdjuntos:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/listAdjuntos",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},deleteFile:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/deleteFilepqr",dataType:"json",data:{archivo:t,id:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},deleteOficio:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/deleteOficio",dataType:"json",data:{archivo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},Af=Pf;function jf(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Ef(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){jf(n,o,i,r,s,"next",t)}function s(t){jf(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Tf={props:["fechaini","fechafin"],data:function(){return{loaded:!1,options_estado:{chart:{height:250},title:{text:"Solicitudes por estado",align:"left"},labels:[]},series_estado:[],options_municipio:{chart:{height:250},title:{text:"Solicitudes por municipio",align:"left"},labels:[],colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],plotOptions:{pie:{startAngle:0,endAngle:360,expandOnClick:!0,offsetX:0,offsetY:0,customScale:1,dataLabels:{offset:20,minAngleToShowLabel:10}}}},series_municipio:[],options_tipoc:{chart:{height:250},colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],title:{text:"Solicitudes por tipo de comunicación",align:"left"},labels:[],plotOptions:{pie:{startAngle:0,endAngle:360,expandOnClick:!0,offsetX:0,offsetY:0,customScale:1,dataLabels:{offset:15,minAngleToShowLabel:15}}}},series_tipoc:[],options_medio:{chart:{height:"250px"},title:{text:"Solicitudes por medio solicitante",align:"left"},dataLabels:{enabled:!0},labels:[],yaxis:{title:{text:"Número de registros"}},xaxis:{labels:{show:!1}}},series_medio:[{name:"Medio solicitante",data:[]}],options_time:{chart:{height:250,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:"Gráfico línea de tiempo",align:"left"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep"]}},series_time:[{name:"Registros",data:[10,41,35,51,49,62,69,91,148]}]}},mounted:function(){this.getData()},methods:{getData:function(){var t=Ef(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Af.getRecordsCharts(this.fechaini,this.fechafin);case 3:e=t.sent,a=e.data,console.log(a),this.series_estado=a.data_estado,this.options_estado.labels=a.label_estado,this.series_municipio=a.data_municipio,this.options_municipio.labels=a.label_municipio,this.series_tipoc=a.data_eje,this.options_tipoc.labels=a.label_eje,this.series_medio[0].data=a.data_medio,this.options_medio.labels=a.label_medio,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.log(t.t0);case 19:return t.prev=19,this.loaded=!0,t.finish(19);case 22:case"end":return t.stop()}}),t,this,[[0,16,19,22]])})));function e(){return t.apply(this,arguments)}return e}(),closeModal:function(){this.$emit("closemodal")}},computed:{}},Df=Tf,If=Object(C["a"])(Df,Sf,wf,!1,null,"0c24184e",null),Of=If.exports,Nf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.mydatacomputed,"items-per-page":5,loading:t.loading,search:t.filtro},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",{staticClass:"text-center"},[e.item.dias_respuesta<=3&&0!=e.item.dias_respuesta&&4!=e.item.id_estado?a("div",[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"orange",fab:"","x-small":"",dark:""}},o),[a("v-icon",{attrs:{small:""}},[t._v("alarm")])],1)]}}],null,!0)},[a("span",[t._v("Por vencer")])]),t._v("\n              "+t._s(e.item.consecutivo)+"\n            ")],1):0===e.item.dias_respuesta&&4!=e.item.id_estado?a("div",[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"grey",fab:"","x-small":"",dark:""}},o),[a("v-icon",{attrs:{small:""}},[t._v("alarm_off")])],1)]}}],null,!0)},[a("span",[t._v("Vencido")])]),t._v("\n              "+t._s(e.item.consecutivo)+"\n            ")],1):a("div",[t._v("\n              "+t._s(e.item.consecutivo)+"\n            ")])]),a("td",{staticClass:"text-left"},[t._v(t._s(e.item.fecha_creacion))]),a("td",{staticClass:"text-center",class:[{abierta:0===e.item.id_estado},{asignado:1===e.item.id_estado},{endesarrollo:2===e.item.id_estado},{cerrada:4===e.item.id_estado}]},[a("div",[t._v(t._s(e.item.estado))])]),a("td",{staticClass:"text-center"},[t._v(t._s(e.item.dias_respuesta))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.item.descripcion))]),a("td",{staticClass:"text-center"},[1===e.item.confidencialidad?a("v-btn",{attrs:{color:"primary",icon:"",dark:"",loading:t.loading_edit},on:{click:function(a){return t.openverifyPassword(e.item,"edit")}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1):a("v-btn",{attrs:{color:"primary",icon:"",dark:"",loading:t.loading_edit},on:{click:function(a){return t.editRecord(e.item.id)}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1),1===e.item.confidencialidad?a("v-btn",{attrs:{color:"primary",icon:"",dark:""},on:{click:function(a){return t.openverifyPassword(e.item,"detail")}}},[a("v-icon",{attrs:{small:""}},[t._v("question_answer")])],1):a("v-btn",{attrs:{color:"primary",icon:"",dark:""},on:{click:function(a){return t.verPqr(e.item)}}},[a("v-icon",{attrs:{small:""}},[t._v("question_answer")])],1),1===e.item.confidencialidad?a("v-btn",{attrs:{color:"primary",icon:"",dark:""},on:{click:function(a){return t.verPassword(e.item)}}},[a("v-icon",{attrs:{small:""}},[t._v("vpn_key")])],1):t._e()],1)])]}},{key:"top",fn:function(){return[a("v-layout",{attrs:{"align-center":"","pa-2":""}},[a("h3",[t._v(" Tablero PQRS")]),a("v-btn",{staticClass:"ml-2",attrs:{color:"primary",fab:"",small:"",dark:""},on:{click:function(e){return t.openDialog()}}},[a("v-icon",[t._v("add")])],1),a("v-col",{attrs:{align:"center",justify:"center"}},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"purple",fab:"",small:"",dark:""},on:{click:function(e){t.filter_estado=0,t.getInfo()}}},o),[a("v-icon",[t._v("person_add_alt_1")])],1)]}}])},[a("span",[t._v("Abiertas")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"green",fab:"",small:"",dark:""},on:{click:function(e){t.filter_estado=1,t.getInfo()}}},o),[a("v-icon",[t._v("how_to_reg")])],1)]}}])},[a("span",[t._v("Asignadas")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"amber",fab:"",small:"",dark:""},on:{click:function(e){t.filter_estado=2,t.getInfo()}}},o),[a("v-icon",[t._v("work")])],1)]}}])},[a("span",[t._v("En desarrollo")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"red",fab:"",small:"",dark:""},on:{click:function(e){t.filter_estado=4,t.getInfo()}}},o),[a("v-icon",[t._v("cancel")])],1)]}}])},[a("span",[t._v("Cerradas")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"orange",fab:"",small:"",dark:""}},o),[a("v-icon",[t._v("alarm")])],1)]}}])},[a("span",[t._v("Por vencer")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"grey",fab:"",small:"",dark:""}},o),[a("v-icon",[t._v("alarm_off")])],1)]}}])},[a("span",[t._v("Vencidas")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mr-1",attrs:{color:"black",fab:"",small:"",dark:""},on:{click:function(e){t.filter_estado="",t.getInfo()}}},o),[a("v-icon",[t._v("remove_circle")])],1)]}}])},[a("span",[t._v("Sin filtros")])])],1),a("v-col",{attrs:{cols:"4"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Filtrar",outlined:"",dense:"","hide-details":"","prepend-icon":"filter_alt"},model:{value:t.filtro,callback:function(e){t.filtro=e},expression:"filtro"}})],1),t.showbtn?a("v-col",{attrs:{cols:"3"}},[a("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1)],1):t._e()],1)],1)],1)]},proxy:!0}])}),a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-tabs",{attrs:{"background-color":"primary",centered:"",dark:"","icons-and-text":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-1"}},[t._v("\n              Remitente\n              "),a("v-icon",[t._v("person")])],1),a("v-tab",{attrs:{href:"#tab-2"}},[t._v("\n              Información\n              "),a("v-icon",[t._v("info")])],1),a("v-tab",{attrs:{href:"#tab-3"}},[t._v("\n              Soportes\n              "),a("v-icon",[t._v("attach_file")])],1)],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{flat:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-col",{staticClass:"pa-0 mt-8",attrs:{cols:"6"}},[a("v-text-field",{staticClass:"pa-0",attrs:{label:"Nombre","prepend-icon":"person_pin"},model:{value:t.txtnombre,callback:function(e){t.txtnombre=e},expression:"txtnombre"}})],1)],1),a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-col",{staticClass:"pa-0 mt-2",attrs:{cols:"6"}},[a("v-text-field",{staticClass:"pa-0",attrs:{label:"Cédula","prepend-icon":"assignment_ind"},model:{value:t.txtcedula,callback:function(e){t.txtcedula=e},expression:"txtcedula"}})],1)],1),a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-col",{staticClass:"pa-0 mt-2",attrs:{cols:"6"}},[a("v-text-field",{staticClass:"pa-0",attrs:{label:"Dirección","prepend-icon":"location_on"},model:{value:t.txtdireccion,callback:function(e){t.txtdireccion=e},expression:"txtdireccion"}})],1)],1),a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-col",{staticClass:"pa-0 mt-2",attrs:{cols:"6"}},[a("v-text-field",{staticClass:"pa-0",attrs:{label:"Teléfono","prepend-icon":"phone"},model:{value:t.txttelefono,callback:function(e){t.txttelefono=e},expression:"txttelefono"}})],1)],1),a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-col",{staticClass:"pa-0 mt-2",attrs:{cols:"6"}},[a("v-text-field",{staticClass:"pa-0",attrs:{label:"Email","prepend-icon":"email"},model:{value:t.txtemail,callback:function(e){t.txtemail=e},expression:"txtemail"}})],1)],1)],1)],1)],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-card",{attrs:{flat:""}},[a("v-container",[a("v-row",[t.editedIndex>0?a("v-col",{attrs:{align:"center",justify:"center"}},[a("barcode",{attrs:{value:t.valBarcode,width:"1",height:"50"}})],1):t._e()],1),a("v-row",[a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha radicado","prepend-icon":"calendar_today",readonly:""},model:{value:t.date_radicado,callback:function(e){t.date_radicado=e},expression:"date_radicado"}},"v-text-field",i,!1),o))]}}]),model:{value:t.f_radicado,callback:function(e){t.f_radicado=e},expression:"f_radicado"}},[a("v-date-picker",{on:{input:function(e){t.f_radicado=!1}},model:{value:t.date_radicado,callback:function(e){t.date_radicado=e},expression:"date_radicado"}})],1)],1)],1),a("v-row",[a("v-col",{staticClass:"ml-2"},[a("v-autocomplete",{attrs:{items:t.municipios,label:"Municipio","item-value":"idmunicipio","item-text":"municipio"},model:{value:t.txtmunicipio,callback:function(e){t.txtmunicipio=e},expression:"txtmunicipio"}})],1),a("v-col",[a("v-autocomplete",{attrs:{items:t.comunicacion,label:"Tipo de comunicación","item-value":"id","item-text":"descripcion"},on:{change:function(e){return t.setRespuesta()}},model:{value:t.txttipocomunica,callback:function(e){t.txttipocomunica=e},expression:"txttipocomunica"}})],1),a("v-col",{staticClass:"mr-2"},[a("v-autocomplete",{attrs:{items:t.medios,label:"Medio solicitante"},model:{value:t.txtmediosolicita,callback:function(e){t.txtmediosolicita=e},expression:"txtmediosolicita"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-text-field",{attrs:{outlined:"",label:"Asunto"},model:{value:t.txtasunto,callback:function(e){t.txtasunto=e},expression:"txtasunto"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-file-input",{attrs:{"small-chips":"",label:"Oficio",disabled:""!=this.nombre_oficio.trim()},model:{value:t.txtOficio,callback:function(e){t.txtOficio=e},expression:"txtOficio"}})],1)],1),""!=this.nombre_oficio.trim()?a("v-row",[a("v-col",{staticClass:"mx-4"},[a("v-chip",{staticClass:"ma-2",attrs:{color:"primary",close:"",cols:"auto"},on:{click:function(e){return t.downloadAdjunto(t.ruta_oficio)},"click:close":function(e){return t.deleteOficio(t.nombre_oficio)}}},[t._v("\n                        "+t._s(this.nombre_oficio)+"\n                      ")])],1)],1):t._e(),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha asignación oficio","prepend-icon":"calendar_today",readonly:""},model:{value:t.date_oficio,callback:function(e){t.date_oficio=e},expression:"date_oficio"}},"v-text-field",i,!1),o))]}}]),model:{value:t.f_oficio,callback:function(e){t.f_oficio=e},expression:"f_oficio"}},[a("v-date-picker",{on:{input:function(e){t.f_oficio=!1}},model:{value:t.date_oficio,callback:function(e){t.date_oficio=e},expression:"date_oficio"}})],1)],1),a("v-col",{staticClass:"pa-0 mx-4"},[a("v-text-field",{attrs:{label:"Número de días para respuesta"},model:{value:t.txtdias,callback:function(e){t.txtdias=e},expression:"txtdias"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-text-field",{attrs:{label:"Número de folios"},model:{value:t.txtnumfolios,callback:function(e){t.txtnumfolios=e},expression:"txtnumfolios"}})],1),a("v-col",{staticClass:"pa-0 mx-4"})],1),a("v-divider",{staticClass:"mt-4"}),2!=t.$session.get("perfilpqr")?a("v-flex",[a("v-row",{staticClass:"mt-4",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"pa-0 mx-4",attrs:{cols:"4"}},[a("v-layout",{staticClass:"align-center justify-center"},[a("v-autocomplete",{attrs:{items:t.respuestasa,label:"Respuesta automática","item-value":"id","item-text":"nombre"},model:{value:t.txtrespuestaa,callback:function(e){t.txtrespuestaa=e},expression:"txtrespuestaa"}})],1)],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-autocomplete",{attrs:{items:t.prioridad,label:"Prioridad","auto-select-first":""},model:{value:t.txtprioridad,callback:function(e){t.txtprioridad=e},expression:"txtprioridad"}})],1),a("v-col",[a("v-checkbox",{attrs:{color:"primary",label:"Confidencial"},on:{change:function(e){return t.changeConfidencialidad()}},model:{value:t.txtconfidencialidad,callback:function(e){t.txtconfidencialidad=e},expression:"txtconfidencialidad"}})],1),a("v-col",[a("v-checkbox",{attrs:{color:"primary",label:"VoBo Dirección"},model:{value:t.txtvb,callback:function(e){t.txtvb=e},expression:"txtvb"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-autocomplete",{attrs:{items:t.ejes,label:"Eje temático","item-value":"id","item-text":"nombre",multiple:""},model:{value:t.txtkeywords,callback:function(e){t.txtkeywords=e},expression:"txtkeywords"}})],1),a("v-col",[a("v-btn",{attrs:{small:"",color:"primary",rounded:"",dark:""},on:{click:function(e){return t.opendialogAddRecord("eje")}}},[a("v-icon",{staticClass:"mr-1"},[t._v("add")]),t._v("Agregar Eje")],1)],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-autocomplete",{attrs:{items:t.instituciones,label:"Instituciones","item-value":"id","item-text":"nombre",multiple:""},model:{value:t.txtinstituciones,callback:function(e){t.txtinstituciones=e},expression:"txtinstituciones"}})],1),a("v-col",[a("v-btn",{attrs:{small:"",color:"primary",rounded:"",dark:""},on:{click:function(e){return t.opendialogAddRecord("institucion")}}},[a("v-icon",{staticClass:"mr-1"},[t._v("add")]),t._v("Agregar Inst.")],1)],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-textarea",{attrs:{outlined:"",label:"Detalle de la solicitud"},model:{value:t.txtdetalle,callback:function(e){t.txtdetalle=e},expression:"txtdetalle"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4",attrs:{cols:"5"}},[a("v-autocomplete",{attrs:{items:t.dependencias,label:"Áreas","item-value":"arecod","item-text":"arenom",multiple:""},on:{change:function(e){return t.addResponsable()}},model:{value:t.txtejetematico,callback:function(e){t.txtejetematico=e},expression:"txtejetematico"}})],1),a("v-col",{attrs:{cols:"3",align:"center",justify:"center"}},[a("v-btn",{attrs:{color:"primary",rounded:"",dark:""},on:{click:function(e){t.btn_responsable=!1,t.showgridresponsable=!0}}},[a("v-icon",{staticClass:"mr-1"},[t._v("person_add")]),t._v("Individual")],1)],1),a("v-col",{attrs:{cols:"3",align:"center",justify:"center"}},[a("v-btn",{attrs:{color:"primary",rounded:"",dark:""},on:{click:function(e){return t.addAllUsers()}}},[a("v-icon",{staticClass:"mr-1"},[t._v("group_add")]),t._v("Todos")],1)],1)],1),t.showgridresponsable?a("v-row",[a("v-col",{staticClass:"pa-0 mx-4 mb-4"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers_responsables,items:t.responsables,"items-per-page":5},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"2"}},[t.btn_responsable?a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",fab:"",small:"",dark:""},on:{click:function(e){t.btn_responsable=!1}}},[a("v-icon",[t._v("person_add")])],1):t._e()],1),a("v-col",{attrs:{cols:"5"}},[a("v-autocomplete",{staticClass:"mx-4",attrs:{items:t.responsables,label:"Responsable salida","item-value":"documento","item-text":"nombre"},model:{value:t.txtresponsable_salida,callback:function(e){t.txtresponsable_salida=e},expression:"txtresponsable_salida"}})],1),t.btn_responsable?t._e():a("v-col",{attrs:{cols:"5"}},[a("v-autocomplete",{staticClass:"mx-4",attrs:{items:t.users,label:"Asignar usuario","item-value":"documento","item-text":"nombre",multiple:""},on:{change:function(e){return t.addResponsable2()}},model:{value:t.txtusers2,callback:function(e){t.txtusers2=e},expression:"txtusers2"}})],1)],1)]},proxy:!0},{key:"item.soporte_fisico",fn:function(e){var o=e.item;return[a("v-checkbox",{attrs:{color:"primary"},model:{value:o.soporte_fisico,callback:function(e){t.$set(o,"soporte_fisico",e)},expression:"item.soporte_fisico"}})]}},{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{attrs:{color:"primary",icon:"",dark:""},on:{click:function(e){return t.dropResponsable(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)]}}],null,!1,3292522830)})],1)],1):t._e(),a("v-row",[a("v-col",{staticClass:"pa-0 mx-4"},[a("v-textarea",{attrs:{outlined:"",label:"Observaciones"},model:{value:t.txtobservaciones,callback:function(e){t.txtobservaciones=e},expression:"txtobservaciones"}})],1)],1)],1):t._e()],1)],1)],1)],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-3"}},[a("v-card",{attrs:{flat:""}},[a("v-container",[a("v-row",[a("v-col",{staticClass:"mx-4"},[a("v-file-input",{attrs:{"small-chips":"",multiple:"",label:"Seleccione los archivos de soporte"},model:{value:t.txtfiles,callback:function(e){t.txtfiles=e},expression:"txtfiles"}})],1)],1),t.editedIndex>0?a("v-row",[a("v-col",{staticClass:"mx-4"},t._l(t.adjuntos,(function(e,o){return a("v-chip",{key:o,staticClass:"ma-2",attrs:{color:"primary",close:"",cols:"auto"},on:{click:function(a){return t.downloadAdjunto(e.ruta_adjunto)},"click:close":function(a){return t.deleteAdjunto(e)}}},[t._v("\n                        "+t._s(e.nombre)+"\n                      ")])})),1)],1):t._e()],1)],1)],1)],1),a("v-card-text"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dialog=!1,t.editedIndex=-1}}},[t._v("\n              Cerrar\n            ")]),t.editedIndex>0?a("v-btn",{attrs:{color:"green",text:"",loading:t.loading_edit},on:{click:function(e){return t.updatePqr()}}},[t._v("\n              Actualizar\n            ")]):t._e(),t.editedIndex<0?a("v-btn",{attrs:{color:"green",text:"",loading:t.loading_save},on:{click:function(e){return t.savePqr()}}},[t._v("\n              Guardar\n            ")]):t._e()],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialogaddrecord,callback:function(e){t.dialogaddrecord=e},expression:"dialogaddrecord"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n         Agregar "+t._s(t.tittlemodal)+"\n        ")]),a("v-card-text",[a("v-text-field",{staticClass:"mt-5",attrs:{label:"Nombre",outlined:"",dense:"","hide-details":""},model:{value:t.txtnom,callback:function(e){t.txtnom=e},expression:"txtnom"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialogaddrecord=!1,t.txtnom=""}}},[t._v("\n            Cerrar\n          ")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:t.loading_modaladd},on:{click:function(e){return t.savemodaladd()}}},[t._v("\n            Guardar\n          ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialogpassword,callback:function(e){t.dialogpassword=e},expression:"dialogpassword"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[!0===t.dialog&&!1===t.verifypassword?a("p",[t._v("Asignar contraseña")]):!1===t.verifypassword?a("p",[t._v("Mostrar contraseña")]):t._e(),t.verifypassword?a("p",[t._v("Verificar contraseña")]):t._e()]),a("v-card-text",[!0===t.dialog&&!1===t.verifypassword?a("p",[t._v("Por favor asigne una contraseña de 4 caracteres.")]):!1===t.verifypassword?a("p",[t._v("A continuación se muestra la contraseña asignada.")]):t._e(),t.verifypassword?a("p",[t._v("Por favor digite la contraseña.")]):t._e(),a("v-form",{ref:"form"},[a("v-text-field",{staticClass:"mt-4",attrs:{label:"Contraseña",dense:"",outlined:"","append-icon":t.show1?"visibility":"visibility_off",type:t.show1?"text":"password",counter:"4",rules:[t.rules.required,t.rules.max]},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.txtpassword,callback:function(e){t.txtpassword=e},expression:"txtpassword"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialogpassword=!1}}},[t._v("\n            Cerrar\n          ")]),t.verifypassword?a("v-btn",{attrs:{color:"green",text:""},on:{click:function(e){return t.verifypasswordbd()}}},[t._v("\n            Verificar\n          ")]):t._e()],1)],1)],1)],1)},Mf=[];function Rf(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Ff(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Rf(n,o,i,r,s,"next",t)}function s(t){Rf(n,o,i,r,s,"throw",t)}r(void 0)}))}}var qf={props:["showbtn","filtropqr","valor"],data:function(){return{name:"pqr",headers:[{text:"Radicado",align:"center",value:"consecutivo"},{text:"Fecha y hora creación",align:"left",value:"fecha_creacion"},{text:"Estado",align:"center",value:"id_estado"},{text:"Días restantes",align:"center",value:"dias_respuesta"},{text:"Tipo comunicación",align:"center",value:"tipo_comunicacion"},{text:"Acciones",align:"center",value:"acciones"}],headers_responsables:[{text:"Documento",align:"center",value:"documento"},{text:"Nombre",align:"center",value:"nombre"},{text:"Área",align:"center",value:"area"},{text:"Impresión",align:"center",value:"soporte_fisico",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."},max:function(t){return t.length<5||"Máximo 4 caracteres"}},openfromedit:!1,tittle_dp:"",body_dp:"",date_radicado:(new Date).toISOString().substr(0,10),date_oficio:(new Date).toISOString().substr(0,10),f_radicado:!1,f_oficio:!1,f_radicado_vu:!1,respuestasa:[],reclamos:[],misdatos:[],municipios:[],dependencias:[],users:[],adjuntos:[],responsables:[],ejes:[],instituciones:[],btn_responsable:!0,showgridresponsable:!1,loading:!1,loading_save:!1,loading_edit:!1,loading_drop:!1,loading_modaladd:!1,loading_password:!1,filtro:"",dialogpassword:!1,txtpassword:"",show1:!1,dialog:!1,dialogUsers:!1,dialogaddrecord:!1,editedIndex:-1,editItem:"",valBarcode:"",tab:null,estados:[{text:"Creado",value:"1"},{text:"Asignado",value:"2"},{text:"Verificado",value:"4"},{text:"Cerrado",value:"3"}],prioridad:["Normal","Alta","Baja","Urgente","Crítica"],medios:["Comunicación escrita - Carta","Comunicación escrita - Correo electrónico","Comunicación escrita - Memorando","Comunicación escrita - Página web","Comunicación escrita - Redes sociales","Comunicación verbal - Llamada telefónica","No disponible"],comunicacion:[],data_save:[],nombre_oficio:"",ruta_oficio:"",tittlemodal:"",txtrespuestaa:"",txtvb:"",txtnom:"",txtOficio:[],txtresponsable_salida:"",txtnombre:"",txtcedula:"",txtdireccion:"",txttelefono:"",txtemail:"",txtmunicipio:"",txttipocomunica:"",txtmediosolicita:"",txtkeywords:[],txtinstituciones:[],txtasunto:"",txtdetalle:"",txtejetematico:[],txtusers2:[],txtresponsable:"",txtdias:"",txtobservaciones:"",txtfiles:[],txtprioridad:"",txtconfidencialidad:"",txtnumfolios:"",verifypassword:!1,records:[],opciontype:"",filter_estado:""}},mounted:function(){this.getInfo(),this.getMunicipios(),this.getDependencias(),this.getTipoComunicacion(),this.getUsers(),this.getEjeTematico(),this.getInstituciones(),this.getrespuestasA()},methods:{envionotificaciones:function(){var t=Ff(He.a.mark((function t(e,a){var o,i,n,r,s,c;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Af.getUsersAdminPqrs();case 3:for(o=t.sent,i=o.data,n=i,r=n.map((function(t){return t.perscod})),s={mensajenotificacion:"Se creó un nuevo registro en la plataforma de PQRSDF, ID "+e,asuntocorreo:"Notificación de creación de registro",mensajecorreo:"Se creó un nuevo registro en la plataforma de PQRSDF, ID "+e},c=0;c<r.length;c++)this.$root.$emit("enviarNotificaciones",{codigopersona:r[c],mensajenotificacion:s.mensajenotificacion,asuntocorreo:s.asuntocorreo,mensajecorreo:s.mensajecorreo,codigoopcion:57,numerointerno:a});t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(e,a){return t.apply(this,arguments)}return e}(),verifypasswordbd:function(){var t=Ff(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.validatePasswordPqr(this.records.id,this.txtpassword);case 2:e=t.sent,a=e.data,a.respuesta?(this.dialogpassword=!1,"edit"===this.opciontype?this.editRecord(this.records.id):"detail"===this.opciontype&&this.verPqr(this.records)):this.$toasted.error("La contraseña es incorrecta",{icon:"error",duration:3e3});case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),openverifyPassword:function(t,e){this.opciontype=e,this.records=t,this.verifypassword=!0,this.txtpassword="",this.show1=!1,this.dialogpassword=!0},verPassword:function(t){this.txtpassword=t.password,this.show1=!0,this.dialogpassword=!0},changeConfidencialidad:function(){this.txtconfidencialidad&&(this.dialogpassword=!0)},savemodaladd:function(){var t=Ff(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.loading_modaladd=!0,"eje temático"!==this.tittlemodal){t.next=8;break}return t.next=5,Af.saveEjeTematico(this.txtnom);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,Af.saveInstitucion(this.txtnom);case 10:e=t.sent;case 11:"success"===e.data.tipo?(this.$toasted.success(e.data.respuesta,{icon:"done",duration:3e3}),this.dialogaddrecord=!1,"eje temático"===this.tittlemodal?this.getEjeTematico():this.getInstituciones()):this.$toasted.error(e.data.respuesta,{icon:"error",duration:3e3}),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:return t.prev=17,this.loading_modaladd=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[0,14,17,20]])})));function e(){return t.apply(this,arguments)}return e}(),opendialogAddRecord:function(t){this.tittlemodal="eje"===t?"eje temático":"institución",this.dialogaddrecord=!0},closeModal:function(){this.$emit("closemodal")},verPqr:function(t){this.$router.push("/pqrs/"+t.id)},addAllUsers:function(){this.showgridresponsable=!0,this.responsables=this.users},getUsers:function(){var t=Ff(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.getUsers();case 2:e=t.sent,a=e.data,this.users=a;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),dropResponsable:function(t){var e=this.responsables.findIndex((function(e){return JSON.stringify(e)===JSON.stringify(t)}));this.responsables.splice(e,1)},addResponsable2:function(){var t=Ff(He.a.mark((function t(){var e,a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.showgridresponsable=!0,t.next=3,Af.getDataResponsable(this.txtusers2.slice(-1).pop());case 3:for(e=t.sent,a=e.data,console.log(this.txtusers2.slice(-1).pop()),console.log(a),o=0;o<a.length;o++)this.responsables.push(a[o]);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addResponsable:function(){var t=Ff(He.a.mark((function t(){var e,a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.showgridresponsable=!0,t.next=3,Af.getInfoResponsable(this.txtejetematico.slice(-1).pop());case 3:for(e=t.sent,a=e.data,o=0;o<a.length;o++)this.responsables.push(a[o]);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getInfo:function(){var t=Ff(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.getData(this.filtropqr,this.valor,this.filter_estado);case 2:e=t.sent,a=e.data,"No hay datos para Mostrar"!=a&&(this.reclamos=a.pqrs_reclamos);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getMunicipios:function(){var t=Ff(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.getMunicipios();case 2:e=t.sent,a=e.data,this.municipios=a.municipios;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getDependencias:function(){var t=Ff(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.getDependencias();case 2:e=t.sent,a=e.data,this.dependencias=a.areas;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTipoComunicacion:function(){var t=Ff(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.getTipoComunicacion();case 2:e=t.sent,a=e.data,this.comunicacion=a.pqr_tipo_comunicacions;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getEjeTematico:function(){var t=Ff(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.getEjeTematico();case 2:e=t.sent,a=e.data,this.ejes=a.pqr_eje_tematicos;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getInstituciones:function(){var t=Ff(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.getInstituciones();case 2:e=t.sent,a=e.data,this.instituciones=a.pqr_instituciones;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getrespuestasA:function(){var t=Ff(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.getTipoRespuestasA();case 2:e=t.sent,a=e.data,this.respuestasa=a.pqr_respuesta_automaticas;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setRespuesta:function(){var t=this,e=this.comunicacion.filter((function(e){return e.id===t.txttipocomunica}));1===e.length&&(this.txtdias=e[0].dias_respuesta)},savePqr:function(){var t=Ff(He.a.mark((function t(){var e,a,o,i,n,r,s,c,l,d,u,p,v,h,f,g,b;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading_save=!0,a=!1,e=1==this.txtconfidencialidad?1:0,o={nombre:this.txtnombre,cedula:this.txtcedula,direccion:this.txtdireccion,telefono:this.txttelefono,email:this.txtemail,fecha_radicado:this.date_radicado,municipio:this.txtmunicipio,tipo_comunicacion:this.txttipocomunica,eje_tematico:this.txtkeywords,institucion:this.txtinstituciones,medio_solicita:this.txtmediosolicita,prioridad:this.txtprioridad,confidencial:e,asunto:this.txtasunto,detalle:this.txtdetalle,fecha_asignacion:this.date_oficio,dias:this.txtdias,observaciones:this.txtobservaciones,num_folios:this.txtnumfolios,responsables:this.responsables,responsable_salida:this.txtresponsable_salida,password:this.txtpassword,vistobueno:this.txtvb,user:this.$session.get("usuarioid")},t.next=6,Af.savePqr(o);case 6:if(i=t.sent,n=i.data,!0!==n.respuesta){t.next=50;break}if(r=n.id,s=n.consecutivo,!(this.txtfiles.length>0)){t.next=26;break}c=0;case 13:if(!(c<this.txtfiles.length)){t.next=26;break}return t.next=16,Af.uploadFile(this.txtfiles[c]);case 16:if(l=t.sent,200!==l.status){t.next=23;break}return t.next=20,Af.saveAdjunto({nombre:l.data.filename,ruta:l.data.url,oficio:"N"});case 20:d=t.sent,u=d.data,1!=u.respuesta&&this.$toasted.error("Error al guardar archivos adjuntos",{icon:"done",duration:3e3});case 23:c++,t.next=13;break;case 26:if(""==this.txtOficio){t.next=36;break}return t.next=29,Af.uploadFile(this.txtOficio);case 29:if(p=t.sent,200!==p.status){t.next=36;break}return t.next=33,Af.saveAdjunto({nombre:p.data.filename,ruta:p.data.url,oficio:"S"});case 33:v=t.sent,h=v.data,1!=h.respuesta?(a=!1,this.$toasted.error("Error al guardar archivo oficio",{icon:"done",duration:3e3})):a=!0;case 36:if(f=this.responsables.filter((function(t){return!0===t.soporte_fisico})),!(!0===a&&f.length>0)){t.next=44;break}return t.next=40,Af.listPqr(r);case 40:g=t.sent,b=g.data,this.ruta_oficio=b.pqrs_reclamos[0].ruta_oficio,this.downloadAdjunto(this.ruta_oficio);case 44:window.open(m["a"].apiUrl+"/generateStickerPqrsdf?id="+r,"_blank"),this.loading_save=!1,this.dialog=!1,this.getInfo(),this.$toasted.success("Registro creado correctamente",{icon:"done",duration:3e3}),this.envionotificaciones(r,s);case 50:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),editRecord:function(){var t=Ff(He.a.mark((function t(e){var a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.editedIndex=1,this.editItem=e,this.loading_edit=!0,t.next=5,Af.listPqr(e);case 5:a=t.sent,o=a.data,this.valBarcode=o.pqrs_reclamos[0].consecutivo,this.txtnombre=o.pqrs_reclamos[0].remitente,this.txtcedula=o.pqrs_reclamos[0].cedula,this.txtdireccion=o.pqrs_reclamos[0].direccion,this.txttelefono=o.pqrs_reclamos[0].telefono,this.txtemail=o.pqrs_reclamos[0].email,this.date_radicado=o.pqrs_reclamos[0].fecha_radicado.substring(0,10),this.txtmunicipio=o.pqrs_reclamos[0].codmunicipio,this.txttipocomunica=o.pqrs_reclamos[0].tipo_comunicacion,this.txtmediosolicita=o.pqrs_reclamos[0].medio_solicitante,this.txtkeywords=o.pqrs_reclamos[0].eje_tematico,this.txtinstituciones=o.pqrs_reclamos[0].instituciones,this.txtprioridad=o.pqrs_reclamos[0].prioridad,this.txtconfidencialidad=o.pqrs_reclamos[0].confidencialidad,this.txtvb=o.pqrs_reclamos[0].requierevb_director,this.txtasunto=o.pqrs_reclamos[0].asunto,this.txtdetalle=o.pqrs_reclamos[0].detalle,this.nombre_oficio=null===o.pqrs_reclamos[0].nombre_oficio?"":o.pqrs_reclamos[0].nombre_oficio,this.ruta_oficio=o.pqrs_reclamos[0].ruta_oficio,this.date_oficio=o.pqrs_reclamos[0].fecha_asignacion.substring(0,10),this.txtdias=o.pqrs_reclamos[0].dias_respuesta,this.txtobservaciones=o.pqrs_reclamos[0].observacion,this.txtnumfolios=o.pqrs_reclamos[0].num_folios,this.txtfiles=[],this.getResponsables(e),this.getAdjuntos(e),this.loading_edit=!1,this.dialog=!0;case 35:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getResponsables:function(){var t=Ff(He.a.mark((function t(e){var a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.getResponsables(e);case 2:a=t.sent,this.showgridresponsable=!0,this.responsables=a.data,o=this.responsables.filter((function(t){return 1===t.responsable_salida})),o.length>0?this.txtresponsable_salida=o[0].documento:this.txtresponsable_salida="";case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getAdjuntos:function(){var t=Ff(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.listAdjuntos(e);case 2:a=t.sent,this.adjuntos=a.data.pqr_adjuntos;case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),downloadAdjunto:function(t){var e=window.open(t,"_blank");e.focus()},deleteAdjunto:function(){var t=Ff(He.a.mark((function t(e){var a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.deleteFile(e.nombre,e.id);case 2:a=t.sent,o=a.data,"success"===o.tipo&&this.getAdjuntos(e.id_pqr);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteOficio:function(){var t=Ff(He.a.mark((function t(e){var a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.deleteOficio(e);case 2:a=t.sent,o=a.data,"success"===o.tipo&&(this.nombre_oficio="",this.ruta_oficio="");case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),openDialog:function(){this.txtnombre="",this.txtcedula="",this.txtdireccion="",this.txttelefono="",this.txtemail="",this.date_radicado=(new Date).toISOString().substr(0,10),this.txtmunicipio="",this.txttipocomunica="",this.txtmediosolicita="",this.txtprioridad=this.prioridad[0],this.txtconfidencialidad=!1,this.txtvb=!1,this.txtasunto="",this.txtdetalle="",this.txtejetematico=[],this.txtkeywords=[],this.txtinstituciones=[],this.txtOficio=[],this.date_oficio=(new Date).toISOString().substr(0,10),this.txtdias="",this.txtobservaciones="",this.txtnumfolios="",this.txtfiles=[],this.showgridresponsable=!1,this.responsables=[],this.txtpassword="",this.txtrespuestaa="",this.dialog=!0},updatePqr:function(){var t=Ff(He.a.mark((function t(){var e,a,o,i,n,r,s,c,l,d,u,p,m,v,h,f,g,b,x,_,y,k=this;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading_edit=!0,a=[],o=[],i=[],e=1==this.txtconfidencialidad?1:0,t.next=7,Af.getAsignados(this.editItem);case 7:for(n=t.sent,n.data.pqr_asignacions&&(o=n.data.pqr_asignacions.map((function(t){return t.documento}))),this.responsables.length>0&&(i=this.responsables.map((function(t){return t.documento}))),r=o.filter((function(t){return!i.includes(t)})),s=i.filter((function(t){return!o.includes(t)})),c=function(t){k.responsables.filter((function(e){e.documento==s[t]&&a.push(e)}))},l=0;l<s.length;l++)c(l);return n={id:this.editItem,cedula:this.txtcedula,nombre:this.txtnombre,direccion:this.txtdireccion,telefono:this.txttelefono,email:this.txtemail,municipio:this.txtmunicipio,fecha_radicado:this.date_radicado,tipo_comunicacion:this.txttipocomunica,medio_solicita:this.txtmediosolicita,prioridad:this.txtprioridad,confidencial:e,asunto:this.txtasunto,detalle:this.txtdetalle,fecha_asignacion:this.date_oficio,dias:this.txtdias,observaciones:this.txtobservaciones,num_folios:this.txtnumfolios,responsables_add:a,responsables_drop:r,responsable_salida:this.txtresponsable_salida,password:this.txtpassword,vistobueno:this.txtvb,user:this.$session.get("usuarioid"),respuesta_automatica:this.txtrespuestaa},t.next=17,Af.updatePqr(n);case 17:if(d=t.sent,u=d.data,!0!==u.respuesta){t.next=58;break}if(!(this.txtfiles.length>0)){t.next=35;break}p=0;case 22:if(!(p<this.txtfiles.length)){t.next=35;break}return t.next=25,Af.uploadFile(this.txtfiles[p]);case 25:if(m=t.sent,200!==m.status){t.next=32;break}return t.next=29,Af.savefromH({nombre:m.data.filename,ruta:m.data.url,id_comentario:null,id_pqr:this.editItem});case 29:v=t.sent,h=v.data,1!=h.respuesta&&this.$toasted.error("Error al guardar archivos adjuntos",{icon:"done",duration:3e3});case 32:p++,t.next=22;break;case 35:if(""==this.txtOficio){t.next=45;break}return t.next=38,Af.uploadFile(this.txtOficio);case 38:if(f=t.sent,200!==f.status){t.next=45;break}return t.next=42,Af.updateOficio({nombre:f.data.filename,ruta:f.data.url,id:this.editItem});case 42:g=t.sent,b=g.data,1!=b.respuesta&&this.$toasted.error("Error al guardar archivo oficio",{icon:"done",duration:3e3});case 45:if(x=this.responsables.filter((function(t){return!0===t.soporte_fisico})),!(x.length>0)){t.next=53;break}return t.next=49,Af.listPqr(this.editItem);case 49:_=t.sent,y=_.data,this.ruta_oficio=y.pqrs_reclamos[0].ruta_oficio,this.downloadAdjunto(this.ruta_oficio);case 53:this.$toasted.success("Registro actualizado correctamente",{icon:"done",duration:3e3}),this.loading_save=!1,this.loading_edit=!1,this.dialog=!1,this.getInfo();case 58:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},computed:{formTitle:function(){return-1===this.editedIndex?"Agregar registro":"Editar registro"},mydatacomputed:function(){var t=this,e=this.reclamos;return e.map((function(e){switch(parseInt(e.id_estado)){case 0:e.estado="Abierta";break;case 1:e.estado="Asignado";break;case 2:e.estado="En desarrollo";break;case 4:e.estado="Cerrada";break}var a,o=t.moment(),i=t.moment(e.fecha_radicado),n=o.diff(i,"days");a=parseInt(e.dias_respuesta)-parseInt(n),e.dias_respuesta=a<0?0:a})),e}}},Uf=qf,$f=(a("7dbf"),Object(C["a"])(Uf,Nf,Mf,!1,null,"27eaeca0",null)),Lf=$f.exports,Bf={components:{pqr:Lf,charts:Of},data:function(){return{}}},Gf=Bf,Vf=Object(C["a"])(Gf,kf,Cf,!1,null,"8829ef12",null),zf=Vf.exports,Xf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{"mx-5":""}},[a("v-row",[a("v-col",{staticClass:"coldev"},[a("headPqr",{on:{"set-show-hist":function(e){t.showHistorial=!t.showHistorial}}})],1)],1),a("v-row",[a("v-col",{staticClass:"coldev",attrs:{cols:t.showHistorial?"6":"12"}},[a("detalle")],1),t.showHistorial?a("v-col",{staticClass:"coldev",attrs:{cols:t.showHistorial?"6":"0"}},[a("historial")],1):t._e()],1),a("v-row",[a("v-col",{staticClass:"coldev"},[a("areas")],1)],1)],1)},Hf=[],Jf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticStyle:{"border-radius":"4px"},attrs:{flat:"",id:"headFactura"}},[a("v-toolbar",{attrs:{color:"primary",dark:"",dense:""}},[a("v-toolbar-title",[t._v("Información")]),a("v-spacer")],1),a("v-card-text",{staticStyle:{padding:"5px 16px 5px 16px"}},[a("v-row",{attrs:{"align-center":""}},[a("v-col",[a("v-flex",[a("div",{staticClass:"title"},[t._v("\n            "+t._s("# Reclamo: "+this.valBarcode)+"\n          ")]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Fecha:")]),t._v(" "+t._s(this.txtfecha))]),a("v-layout",{attrs:{"align-center":""}},[a("div",{staticClass:"subtitle"},[a("b",[t._v("Remitente:")]),t._v(" "+t._s(this.txtnombre))])]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Dirección:")]),t._v(" "+t._s(this.txtdireccion))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Teléfono:")]),t._v(" "+t._s(this.txttelefono)),a("span",[a("v-btn",{attrs:{icon:"",href:"https://api.whatsapp.com/send?phone=57"+this.txttelefono,target:"_blank"}},[a("v-icon",[t._v("phone")])],1)],1)]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Email:")]),t._v(" "+t._s(this.txtemail))])],1)],1),a("v-col",[a("v-flex",{attrs:{"align-self-end":""}},[a("div",{staticClass:"subtitle"},[a("b",[t._v("Tipo de comunicación:")]),t._v(" "+t._s(this.txttipocomunica))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Asunto:")]),t._v(" "+t._s(this.txtasunto))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Prioridad:")]),t._v(" "+t._s(this.txtprioridad))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Confidencialidad:")]),t._v(" "+t._s(this.txtconfidencialidad))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Municipio:")]),t._v(" "+t._s(this.txtmunicipio))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Medio solicitante:")]),t._v(" "+t._s(this.txtmediosolicita))]),a("div",{staticClass:"subtitle"},[a("b",[t._v("Estado:")]),a("v-chip",{staticClass:"subtitle ml-2",attrs:{color:t.estado_color,"text-color":"white"}},[t._v(t._s(this.txtestado))])],1)])],1),a("v-col",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"},attrs:{cols:"3"}},[a("v-row",[a("v-col",[a("div",[a("barcode",{attrs:{value:t.valBarcode,width:"1",height:"50"}})],1)])],1)],1)],1),a("v-row",[a("v-btn",{staticClass:"mx-1",attrs:{color:"primary",outlined:"",small:""},on:{click:function(e){return t.$emit("set-show-hist")}}},[t._v(t._s(t.textBtnCommits))]),a("v-btn",{staticClass:"mx-1",attrs:{color:"primary",outlined:"",small:""},on:{click:function(e){return t.openRespuesta()}}},[t._v("Respuesta")]),a("v-btn",{staticClass:"mx-1",attrs:{color:"primary",outlined:"",small:""},on:{click:function(e){return t.previewDoc()}}},[t._v("Previsualizar respuesta")]),a("v-btn",{staticClass:"mx-1",attrs:{color:t.validarColor(this.vb_lider),outlined:"",small:""},on:{click:function(e){return t.changevbresponsable()}}},[t._v("VoBo Responsable")]),1===t.requierevb?a("v-btn",{staticClass:"mx-1",attrs:{color:t.validarColor(this.vb_director),outlined:"",small:""},on:{click:function(e){return t.changevbdireccion()}}},[t._v("VoBo Directiva")]):t._e(),a("v-btn",{staticClass:"mx-1",attrs:{color:"green",outlined:"",small:""},on:{click:function(e){return t.cerrarRegistro()}}},[t._v("Cerrar")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{width:"900",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("v-layout",{staticClass:"justify-center align-center"},[t._v("\n        Proyectar respuesta\n        "),a("v-spacer"),a("v-btn",{attrs:{outlined:"",color:"primary",small:""},on:{click:function(e){t.dialog=!t.dialog}}},[t._v("Cerrar")]),a("v-btn",{staticClass:"ml-2",attrs:{color:"primary",small:""},on:{click:function(e){return t.saveRespuesta()}}},[t._v("Guardar")])],1)],1),a("v-card-text",[a("vue-editor",{attrs:{id:"editor2","editor-toolbar":t.customToolbar},model:{value:t.respuesta,callback:function(e){t.respuesta=e},expression:"respuesta"}}),a("v-file-input",{staticClass:"mt-4",attrs:{dense:"",outlined:"",multiple:"","small-chips":"",color:"primary",label:"Adjuntar Documentos"},model:{value:t.txtadjuntos,callback:function(e){t.txtadjuntos=e},expression:"txtadjuntos"}}),t.items_adjuntos.length>0?a("v-row",[a("v-col",{staticClass:"mx-4"},t._l(t.items_adjuntos,(function(e,o){return a("v-chip",{key:o,staticClass:"ma-2",attrs:{color:"primary",close:"",cols:"auto"},on:{click:function(a){return t.downloadAdjunto(e.ruta_adjunto)},"click:close":function(a){return t.deleteAdjunto(e)}}},[t._v("\n            "+t._s(e.nombre)+"\n          ")])})),1)],1):t._e(),a("v-layout",{staticClass:"align-center justify-center"},[a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){t.dialog_comment=!0}}},[a("v-icon",{staticClass:"mx-1",attrs:{color:"primary"}},[t._v("chat_bubble_outline")]),t._v("\n          Añadir comentario\n        ")],1)],1),t.comentarios.length>0?a("v-container",{staticClass:"pa-0 mt-2"},[a("v-row",[a("v-col",[a("v-card",{staticClass:"mx-auto"},[a("v-toolbar",{attrs:{color:"primary",dark:"",dense:""}},[a("v-toolbar-title",[t._v("Comentarios")]),a("v-spacer")],1),a("v-list",{attrs:{"three-line":""}},[t._l(t.comentarios,(function(e,o){return[a("v-list-item",{key:o},[a("v-list-item-avatar",[a("v-avatar",{attrs:{color:"primary"}},[a("span",{staticClass:"white--text headline"},[t._v(t._s(t.iniciales))])])],1),a("v-list-item-content",[a("v-list-item-title",[a("v-layout",[a("div",{domProps:{innerHTML:t._s(e.nombre)}}),a("v-spacer"),a("div",{staticClass:"text--secondary caption"},[t._v(t._s(e.fecha))])],1)],1),a("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.comentario)}})],1)],1),o+1<t.comentarios.length?a("v-divider",{key:o}):t._e()]}))],2)],1)],1)],1)],1):t._e()],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:t.dialog_comment,callback:function(e){t.dialog_comment=e},expression:"dialog_comment"}},[a("v-card",{staticClass:"mx-auto"},[a("v-card-title",{staticClass:"headline"},[a("v-layout",{staticClass:"align-center justify-center"})],1),a("v-card-text",[a("div",[a("v-layout",{staticClass:"headline font-weight-bold align-center justify-center mb-2"},[t._v("\n          Añadir comentario\n        ")]),a("v-textarea",{attrs:{outlined:"",label:"Comentario"},model:{value:t.txtcomentario,callback:function(e){t.txtcomentario=e},expression:"txtcomentario"}}),a("v-layout",{staticClass:"align-center justify-center"},[a("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.saveComentario()}}},[a("v-icon",{staticClass:"mr-1"},[t._v("save")]),t._v("Guardar")],1)],1)],1)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dialog_comment=!1}}},[t._v("Cerrar")])],1)],1)],1)],1)},Yf=[];a("21a6"),a("49fb");function Zf(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Wf(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Zf(n,o,i,r,s,"next",t)}function s(t){Zf(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Qf={components:{VueEditor:km["a"]},data:function(){return{nombreresponsable:"",cargo:"",iniciales:"",requierevb:"",txtconsecutivo:"",txtfecha:"",txtnombre:"",txtdireccion:"",txttelefono:"",txtemail:"",txttipocomunica:"",txtasunto:"",txtprioridad:"",txtmediosolicita:"",txtconfidencialidad:"",txtmunicipio:"",txtcomentario:"",txtadjuntos:[],comentarios:[],valBarcode:"",usuarionormal:!0,id_estado:"",txtestado:"",estado_color:"",dialog:!1,dialog_comment:!1,respuesta:"",vb_lider:"",vb_director:"",customToolbar:[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["image"]],items_adjuntos:[],items_comments:[]}},created:function(){var t=this.$session.get("nombre").split(" ",2);this.iniciales=t[0].substring(0,1)+t[1].substring(0,1)},mounted:function(){var t=Wf(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.getData(),this.getResponsable(),this.refreshComentariosRespuesta(),t.next=5,Af.getRespuesta(this.$route.params.id);case 5:e=t.sent,a=e.data,a.length>0&&(this.respuesta=a[0].comentario);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{changevbresponsable:function(){var t=Wf(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==this.usuarionormal){t.next=6;break}return t.next=3,Af.changevbresponsable(this.$session.get("usuarioid"),this.$route.params.id);case 3:e=t.sent,a=e.data,"success"===a.tipo?(this.$toasted.success("Registro actualizado correctamente",{icon:"done",duration:3e3}),this.getData()):this.$toasted.error("Error",{icon:"done",duration:3e3});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changevbdireccion:function(){var t=Wf(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(2!==parseInt(this.$session.get("usuarioid"))){t.next=6;break}return t.next=3,Af.changevbdireccion(this.$session.get("usuarioid"),this.$route.params.id);case 3:e=t.sent,a=e.data,"success"===a.tipo?(this.$toasted.success("Registro actualizado correctamente",{icon:"done",duration:3e3}),this.getData()):this.$toasted.error("Error",{icon:"done",duration:3e3});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cerrarRegistro:function(){var t=Wf(He.a.mark((function t(){var e,a,o,i;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!==parseInt(this.requierevb)){t.next=12;break}if(1!==parseInt(this.vb_lider)||!parseInt(this.vb_director)){t.next=9;break}return t.next=4,Af.cerrarPqr(this.$session.get("usuarioid"),this.$route.params.id);case 4:e=t.sent,a=e.data,"success"===a.tipo?(this.$toasted.success("Registro actualizado correctamente",{icon:"done",duration:3e3}),this.getData()):this.$toasted.error("Error",{icon:"done",duration:3e3}),t.next=10;break;case 9:this.$toasted.error("No es posible cerrar un documento sin ambos VoBo.",{icon:"done",duration:3e3});case 10:t.next=21;break;case 12:if(1!==parseInt(this.vb_lider)){t.next=20;break}return t.next=15,Af.cerrarPqr(this.$session.get("usuarioid"),this.$route.params.id);case 15:o=t.sent,i=o.data,"success"===i.tipo?(this.$toasted.success("Registro actualizado correctamente",{icon:"done",duration:3e3}),this.getData()):this.$toasted.error("Error",{icon:"done",duration:3e3}),t.next=21;break;case 20:this.$toasted.error("No es posible cerrar un documento sin el VoBo.",{icon:"done",duration:3e3});case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),downloadAdjunto:function(t){var e=window.open(t,"_blank");e.focus()},deleteAdjunto:function(){var t=Wf(He.a.mark((function t(e){var a,o,i;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.ruta_adjunto.substring(57),t.next=3,Af.deleteFile(a,e.id);case 3:o=t.sent,i=o.data,"success"===i.tipo&&this.openRespuesta();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getResponsable:function(){var t=Wf(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Af.getResponsablepqr(this.$session.get("usuarioid"),this.$route.params.id);case 3:e=t.sent,a=e.data,this.nombreresponsable=a.nombre,this.cargo=a.cargo,this.usuarionormal=a.respuesta,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}(),previewDoc:function(){window.open(m["a"].apiUrl+"/previewpdfPqrsdf?id="+this.$route.params.id,"_blank")},refreshComentariosRespuesta:function(){var t=Wf(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Af.getComentariosRespuesta(this.$route.params.id);case 3:e=t.sent,a=e.data,this.comentarios=a,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),saveComentario:function(){var t=Wf(He.a.mark((function t(){var e,a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={id_reclamo:this.$route.params.id,comentario:this.txtcomentario,id_usuario:this.$session.get("usuarioid"),respuesta:1},t.prev=1,t.next=4,Af.saveComentario(e);case 4:a=t.sent,o=a.data,"success"===o.tipo?this.$toasted.success("Registro actualizado correctamente",{icon:"done",duration:3e3}):this.$toasted.error("Error al guardar archivo oficio",{icon:"done",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:return t.prev=12,this.dialog_comment=!1,this.txtcomentario="",this.refreshComentariosRespuesta(),t.finish(12);case 17:case"end":return t.stop()}}),t,this,[[1,9,12,17]])})));function e(){return t.apply(this,arguments)}return e}(),saveRespuesta:function(){var t=Wf(He.a.mark((function t(){var e,a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={id_reclamo:this.$route.params.id,comentario:this.respuesta,id_usuario:this.$session.get("usuarioid")},t.prev=1,t.next=4,Af.saveRespuesta(e,this.txtadjuntos);case 4:a=t.sent,o=a.data,"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.getData()):this.$toasted.error(o.respuesta,{icon:"done",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:return t.prev=12,this.dialog=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[1,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),openRespuesta:function(){var t=Wf(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.getRespuesta(this.$route.params.id);case 2:e=t.sent,a=e.data,a.length>0&&(this.respuesta=a[0].comentario,this.items_adjuntos=a[0].adjuntos),this.dialog=!0,this.txtadjuntos=[];case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),validarColor:function(t){return 0===parseInt(t)?"primary":1===parseInt(t)?"green":void 0},getData:function(){var t=Wf(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.listPqr(this.$route.params.id);case 2:e=t.sent,a=e.data,this.requierevb=a.pqrs_reclamos[0].requierevb_director,this.valBarcode=a.pqrs_reclamos[0].consecutivo,this.txtfecha=a.pqrs_reclamos[0].fecha_creacion,this.txtnombre=a.pqrs_reclamos[0].remitente,this.txtdireccion=a.pqrs_reclamos[0].direccion,this.txttelefono=a.pqrs_reclamos[0].telefono,this.txtemail=a.pqrs_reclamos[0].email,this.txttipocomunica=a.pqrs_reclamos[0].descripcion,this.txtasunto=a.pqrs_reclamos[0].asunto,this.txtprioridad=a.pqrs_reclamos[0].prioridad,this.id_estado=a.pqrs_reclamos[0].id_estado,this.txtmediosolicita=a.pqrs_reclamos[0].medio_solicitante,this.txtmunicipio=a.pqrs_reclamos[0].municipio,this.vb_lider=a.pqrs_reclamos[0].vb_lider,this.vb_director=a.pqrs_reclamos[0].vb_director,0===parseInt(a.pqrs_reclamos[0].confidencialidad)?this.txtconfidencialidad="No":this.txtconfidencialidad="Si",t.t0=parseInt(this.id_estado),t.next=0===t.t0?23:1===t.t0?26:2===t.t0?29:4===t.t0?32:35;break;case 23:return this.txtestado="Abierta",this.estado_color="#5E35B1",t.abrupt("break",35);case 26:return this.txtestado="Asignado",this.estado_color="#58af58",t.abrupt("break",35);case 29:return this.txtestado="En desarrollo",this.estado_color="#FFC61A",t.abrupt("break",35);case 32:return this.txtestado="Cerrada",this.estado_color="#F44336",t.abrupt("break",35);case 35:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},computed:{textBtnCommits:function(){return"Ver historial"}},watch:{}},Kf=Qf,tg=(a("4e7b"),Object(C["a"])(Kf,Jf,Yf,!1,null,null,null)),eg=tg.exports,ag=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",[a("v-card",[a("v-layout",{staticStyle:{"background-color":"rgb(148, 58, 74)","border-radius":"3px 3px 0px 0px",padding:"0px 12px 0px 12px"},attrs:{"align-center":""}},[a("div",{staticClass:"title",staticStyle:{color:"white"}},[t._v("Detalles reclamo")]),a("v-spacer")],1),a("v-row",[a("v-col",[a("v-tabs",{attrs:{centered:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#tab-2"}},[t._v("\n            Datos\n          ")]),a("v-tab",{attrs:{href:"#tab-3"}},[t._v("\n            Adjuntos\n          ")])],1)],1)],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-row",[a("v-col",{staticClass:"mx-6 pa-0"},[a("v-textarea",{attrs:{outlined:"",label:"Detalle de la solicitud",rows:"2",readonly:""},model:{value:t.txtdetalle,callback:function(e){t.txtdetalle=e},expression:"txtdetalle"}})],1),a("v-col",{staticClass:"mx-6 pa-0"},[a("v-textarea",{attrs:{outlined:"",label:"Observaciones",rows:"2",readonly:""},model:{value:t.txtobservaciones,callback:function(e){t.txtobservaciones=e},expression:"txtobservaciones"}})],1)],1),a("v-row",[a("v-col",{staticClass:"ml-6 mr-4 pa-0",attrs:{cols:"3"}},[a("div",{staticClass:"subtitle grey--text"},[t._v("Oficio:\n              "),a("v-chip",{staticClass:"ma-2",attrs:{color:"primary",cols:"auto",disabled:"No agregado."===this.nombre_oficio},on:{click:function(e){return t.downloadAdjunto(t.ruta_oficio)}}},[t._v("\n                "+t._s(this.nombre_oficio)+"\n              ")])],1)]),a("v-col",{staticClass:"ml-4 mr-6 pa-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Fecha asignación oficio","prepend-icon":"calendar_today",readonly:""},model:{value:t.date_oficio,callback:function(e){t.date_oficio=e},expression:"date_oficio"}})],1),a("v-col",{staticClass:"ml-4 mr-6 pa-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Número de días para respuesta",readonly:""},model:{value:t.txtdias,callback:function(e){t.txtdias=e},expression:"txtdias"}})],1),a("v-col",{staticClass:"ml-4 mr-6 pa-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Número de folios",readonly:""},model:{value:t.txtnumfolios,callback:function(e){t.txtnumfolios=e},expression:"txtnumfolios"}})],1)],1)],1),a("v-tab-item",{attrs:{value:"tab-3"}},[a("v-row",[a("v-col",{staticClass:"mx-4"},t._l(t.adjuntos,(function(e,o){return a("v-chip",{key:o,staticClass:"ma-2",attrs:{color:"primary",cols:"auto"},on:{click:function(a){return t.downloadAdjunto(e.ruta_adjunto)}}},[t._v("\n              "+t._s(e.nombre)+"\n            ")])})),1)],1)],1)],1)],1)],1)},og=[];function ig(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function ng(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){ig(n,o,i,r,s,"next",t)}function s(t){ig(n,o,i,r,s,"throw",t)}r(void 0)}))}}var rg={data:function(){return{tab:null,txtdetalle:"",txtobservaciones:"",txtdias:"",txtradicado:"",txtnumfolios:"",date_oficio:"",date_radicado_vu:"",ruta_oficio:"",nombre_oficio:"",adjuntos:[]}},mounted:function(){var t=ng(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getData(),this.getAdjuntos(this.$route.params.id);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getData:function(){var t=ng(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.listPqr(this.$route.params.id);case 2:e=t.sent,a=e.data,this.txtdetalle=a.pqrs_reclamos[0].detalle,this.txtobservaciones=a.pqrs_reclamos[0].observacion,this.nombre_oficio=null===a.pqrs_reclamos[0].nombre_oficio?"No agregado.":a.pqrs_reclamos[0].nombre_oficio,this.ruta_oficio=a.pqrs_reclamos[0].ruta_oficio,this.date_oficio=a.pqrs_reclamos[0].fecha_asignacion.substring(0,10),this.txtdias=a.pqrs_reclamos[0].dias_respuesta,this.txtradicado=a.pqrs_reclamos[0].radicado_vu,this.date_radicado_vu=a.pqrs_reclamos[0].fecha_radicado_vu.substring(0,10),this.txtnumfolios=a.pqrs_reclamos[0].num_folios;case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),downloadAdjunto:function(t){var e=window.open(t,"_blank");e.focus()},getAdjuntos:function(){var t=ng(He.a.mark((function t(e){var a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.listAdjuntos(e);case 2:a=t.sent,this.adjuntos=a.data.pqr_adjuntos;case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},computed:{},watch:{}},sg=rg,cg=Object(C["a"])(sg,ag,og,!1,null,"5a93cea0",null),lg=cg.exports,dg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:"",dense:""}},[a("v-toolbar-title",[t._v("Historial")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.showSearch=!t.showSearch}}},[a("v-icon",[t._v("search")])],1),t.showSearch?a("v-text-field",{staticClass:"inputTable",staticStyle:{"max-width":"300px"},attrs:{light:"",placeholder:"Filtrar",rounded:"","hide-details":"",solo:"",dense:"",flat:""},model:{value:t.filtro,callback:function(e){t.filtro=e},expression:"filtro"}}):t._e(),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.showAddComment=!0}}},[a("v-icon",[t._v("add")])],1)],1),a("v-container",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target"}},[t.compItems.length>0?a("v-list",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:t.onScroll,expression:"onScroll",arg:"#scroll-target"}],attrs:{"two-line":""}},[a("v-list-item-group",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[t._l(t.compItems,(function(e,o){return[a("v-row",{key:e.id},[a("v-col",{attrs:{cols:"11"}},[a("v-list-item",{key:e.id,scopedSlots:t._u([{key:"default",fn:function(o){return[a("v-list-item-avatar",[a("v-avatar",{attrs:{color:"primary"}},[a("span",{staticClass:"white--text headline"},[t._v(t._s(t.iniciales))])])],1),a("v-list-item-content",[a("v-list-item-title",[a("v-layout",{attrs:{"align-center":""}},[a("div",{staticClass:"text--secondary"},[t._v(t._s(e.nombre))]),a("v-spacer"),a("div",{staticClass:"text--secondary caption"},[t._v(t._s(e.fecha.substring(0,19)))])],1)],1),a("v-list-item-subtitle",[a("v-layout",{staticClass:"text--primary text-wrap",attrs:{wrap:""}},[a("div",{domProps:{innerHTML:t._s(e.comentario)}})])],1),a("v-list-item-subtitle",[a("v-layout",{attrs:{wrap:""}},[a("v-spacer"),t._l(e.adjuntos,(function(e){return[a("v-btn",{key:e.id,staticClass:"mx-1",attrs:{small:"",outlined:"",color:"primary",href:e.ruta_adjunto,target:"_blank"}},[t._v(t._s(e.nombre))])]}))],2)],1)],1)]}}],null,!0)})],1)],1),o+1<t.compItems.length?a("v-divider",{key:o}):t._e()]}))],2)],1):t._e()],1),a("v-dialog",{attrs:{width:"800",persistent:""},model:{value:t.showAddComment,callback:function(e){t.showAddComment=e},expression:"showAddComment"}},[a("v-card",[a("v-card-title",[a("div",{staticClass:"lg-h2"},[t._v("Comentario")])]),a("v-card-text",[a("vue-editor",{staticStyle:{width:"100%"},attrs:{id:"editor1","editor-toolbar":t.customToolbar},model:{value:t.comentario,callback:function(e){t.comentario=e},expression:"comentario"}}),t.ruleste2?a("p",{staticStyle:{color:"red"}},[t._v(t._s(t.ruleste2))]):t._e(),a("v-file-input",{staticClass:"mt-3",attrs:{"small-chips":"",multiple:"",label:"Adjuntos",outlined:"","prepend-icon":"",dense:"","show-size":"",accept:"application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,text/plain,application/pdf,image/*",rules:t.inputRules},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}}),a("v-layout",[a("v-spacer"),a("v-btn",{attrs:{outlined:"",color:"primary",small:""},on:{click:function(e){t.showAddComment=!t.showAddComment}}},[t._v("cancelar")]),a("v-btn",{staticClass:"ml-2",attrs:{color:"primary",small:""},on:{click:function(e){return t.saveComentario()}}},[t._v("Guardar")])],1)],1)],1)],1)],1)},ug=[];function pg(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function mg(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){pg(n,o,i,r,s,"next",t)}function s(t){pg(n,o,i,r,s,"throw",t)}r(void 0)}))}}var vg={components:{VueEditor:km["a"]},data:function(){return{iniciales:"",selected:"",showSearch:!1,showAddComment:!1,filtro:"",comentario:"",files:[],items:[],offsetTop:0,customToolbar:[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]}},created:function(){var t=this.$session.get("nombre").split(" ",2);this.iniciales=t[0].substring(0,1)+t[1].substring(0,1)},mounted:function(){var t=mg(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getComentarios();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getComentarios:function(){var t=mg(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.getComentario(this.$route.params.id);case 2:e=t.sent,a=e.data,this.items=a;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveComentario:function(){var t=mg(He.a.mark((function t(){var e,a,o,i,n,r,s,c;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={id_reclamo:this.$route.params.id,comentario:this.comentario,id_usuario:this.$session.get("usuarioid")},t.next=3,Af.saveComentario(e);case 3:if(a=t.sent,o=a.data,i=o.id,"success"!==o.tipo){t.next=25;break}if(!(this.files.length>0)){t.next=22;break}n=0;case 9:if(!(n<this.files.length)){t.next=22;break}return t.next=12,Af.uploadFile(this.files[n]);case 12:if(r=t.sent,200!==r.status){t.next=19;break}return t.next=16,Af.savefromH({id_pqr:this.$route.params.id,nombre:r.data.filename,ruta:r.data.url,id_comentario:i});case 16:s=t.sent,c=s.data,1!=c.respuesta?this.$toasted.error("Error al guardar archivos adjuntos",{icon:"done",duration:3e3}):this.$emit("refresh-adjuntos");case 19:n++,t.next=9;break;case 22:this.showAddComment=!1,this.getComentarios(),this.$toasted.success("Registro creado correctamente",{icon:"done",duration:3e3});case 25:console.log(o);case 26:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onScroll:function(t){this.offsetTop=t.target.scrollTop}},computed:{compItems:function(){var t=this;return this.items.filter((function(e){return e.comentario.toUpperCase().includes(t.filtro.toUpperCase())||e.nombre.toUpperCase().includes(t.filtro.toUpperCase())||e.fecha.includes(t.filtro.toUpperCase())}))},inputRules:function(){var t=[];return this.files.forEach((function(e){e.size>5e6&&t.push("El archivo debe tener un tamaño menor a 5 MB!")})),t},ruleste2:function(){return this.comentario.length>500?"Demasiados caracteres en la observacion, limite 500":""}},watch:{}},hg=vg,fg=Object(C["a"])(hg,dg,ug,!1,null,"0f8d312a",null),gg=fg.exports,bg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:"",dense:""}},[a("v-toolbar-title",[t._v("Agentes involucrados")]),a("v-spacer")],1),a("v-card-text",[a("v-layout",{attrs:{"align-center":"",wrap:""}},[a("v-btn",{attrs:{outlined:"",fab:"",color:"primary",small:""},on:{click:function(e){t.dialog=!0,t.autocomplete=!1}}},[a("v-icon",[t._v("add")])],1),t._l(t.involved,(function(e,o){return[a("v-tooltip",{key:o,attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(o){var i=o.on;return[a("v-chip",t._g({staticClass:"ma-2",attrs:{outlined:"",close:"",color:"primary"},on:{"click:close":function(a){return t.remove(e)}}},i),[t._v("\n                "+t._s(e.arenom)+"\n              ")])]}}],null,!0)},[a("span",[t._v(t._s(e.nombre))])])]}))],2)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"350px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n          Agregar usuarios\n      ")]),a("v-container",[a("v-row",[a("v-col",{attrs:{align:"center",justify:"center"}},[a("v-btn",{attrs:{color:"primary",rounded:"",dark:""},on:{click:function(e){return t.showAutocomplete("individual")}}},[a("v-icon",{staticClass:"mr-1"},[t._v("person_add")]),t._v("Individual")],1)],1),a("v-col",{attrs:{align:"center",justify:"center"}},[a("v-btn",{attrs:{color:"primary",rounded:"",dark:""},on:{click:function(e){return t.showAutocomplete("areas")}}},[a("v-icon",{staticClass:"mr-1"},[t._v("group_add")]),t._v("Áreas")],1)],1)],1),t.autocomplete?a("v-row",[a("v-col",{staticClass:"mx-2"},[a("v-autocomplete",{attrs:{items:t.records,label:t.labelselect,"item-value":t.value,"item-text":t.text,multiple:""},model:{value:t.txtagregar,callback:function(e){t.txtagregar=e},expression:"txtagregar"}})],1)],1):t._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cerrar")]),a("v-btn",{attrs:{color:"success",text:""},on:{click:function(e){return t.saveAgentes()}}},[t._v("Guardar")])],1)],1)],1)],1)},xg=[];function _g(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function yg(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){_g(n,o,i,r,s,"next",t)}function s(t){_g(n,o,i,r,s,"throw",t)}r(void 0)}))}}var kg={data:function(){return{involved:[],records:[],dialog:!1,autocomplete:!1,labelselect:"",txtagregar:[],value:"",text:"",tipo:""}},mounted:function(){var t=yg(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getData();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{saveAgentes:function(){var t=yg(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.txtagregar.length>0)){t.next=9;break}return t.next=3,Af.saveAsignacion(this.tipo,this.txtagregar,this.$route.params.id,this.$session.get("usuarioid"));case 3:e=t.sent,a=e.data,console.log(a),"success"===a.tipo&&(this.getData(),this.$toasted.success(a.respuesta,{icon:"done",duration:3e3}),this.dialog=!1),t.next=10;break;case 9:this.$toasted.error("Debe seleccionar un registro",{icon:"error",duration:3e3});case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showAutocomplete:function(){var t=yg(He.a.mark((function t(e){var a,o,i,n;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.tipo=e,this.txtagregar="",this.autocomplete=!0,this.labelselect="individual"===e?"Usuarios":"Áreas","individual"!==e){t.next=15;break}return this.labelselect="Usuarios",t.next=8,Af.getUsers();case 8:a=t.sent,o=a.data,this.value="documento",this.text="nombre",this.records=o,t.next=23;break;case 15:return this.labelselect="Áreas",t.next=18,Af.getDependencias();case 18:i=t.sent,n=i.data,this.value="arecod",this.text="arenom",this.records=n.areas;case 23:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getData:function(){var t=yg(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.getAgentes(this.$route.params.id);case 2:e=t.sent,a=e.data,this.involved=a;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),remove:function(){var t=yg(He.a.mark((function t(e){var a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Af.deleteAsignacion(e.id,this.$session.get("usuarioid"));case 2:a=t.sent,o=a.data,console.log(o),"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.getData()):this.$toasted.error(o.respuesta,{icon:"error",duration:3e3});case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},computed:{},watch:{}},Cg=kg,Sg=Object(C["a"])(Cg,bg,xg,!1,null,"b3b6313a",null),wg=Sg.exports;function Pg(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Ag(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Pg(n,o,i,r,s,"next",t)}function s(t){Pg(n,o,i,r,s,"throw",t)}r(void 0)}))}}var jg={components:{headPqr:eg,detalle:lg,historial:gg,areas:wg},data:function(){return{showHistorial:!1}},beforeCreate:function(){var t=Ag(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=Ag(He.a.mark((function t(){return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),methods:{},computed:{}},Eg=jg,Tg=(a("e185"),Object(C["a"])(Eg,Xf,Hf,!1,null,"f810c4e6",null)),Dg=Tg.exports,Ig=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[3!=t.$session.get("perfilpqr")?a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")]):a("dashboard")],1)],1)],1)},Og=[],Ng=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{staticClass:"mx-4",attrs:{lg6:""}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",rounded:"",dark:""},on:{click:function(e){t.dialog_charts=!0}}},[a("v-icon",{staticClass:"mr-1"},[t._v("bar_chart")]),t._v(" Reporte Consolidado ")],1),a("v-card",[a("v-card-title",[t._v("\n        Panel de control\n      ")]),a("v-card-subtitle",[t._v("Reportar período entre:")]),a("v-card-text",[a("v-row",{staticClass:"justify-center align-center"},[a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha inicio","prepend-icon":"calendar_today",readonly:""},model:{value:t.date_inicio,callback:function(e){t.date_inicio=e},expression:"date_inicio"}},"v-text-field",i,!1),o))]}}]),model:{value:t.f_inicio,callback:function(e){t.f_inicio=e},expression:"f_inicio"}},[a("v-date-picker",{on:{input:function(e){t.f_inicio=!1}},model:{value:t.date_inicio,callback:function(e){t.date_inicio=e},expression:"date_inicio"}})],1)],1),a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha fin","prepend-icon":"calendar_today",readonly:""},model:{value:t.date_fin,callback:function(e){t.date_fin=e},expression:"date_fin"}},"v-text-field",i,!1),o))]}}]),model:{value:t.f_fin,callback:function(e){t.f_fin=e},expression:"f_fin"}},[a("v-date-picker",{on:{input:function(e){t.f_fin=!1}},model:{value:t.date_fin,callback:function(e){t.date_fin=e},expression:"date_fin"}})],1)],1),a("v-col",[a("v-btn",{attrs:{fab:"",dark:"",small:"",outlined:"",color:"primary"},on:{click:function(e){return t.filterData()}}},[t._v("\n                GO\n              ")])],1)],1),a("v-row",[a("v-col",[a("v-tabs",{attrs:{centered:"",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#tab-1"}},[t._v("\n                Dependencia\n              ")]),a("v-tab",{attrs:{href:"#tab-2"}},[t._v("\n                Tipo de solicitud\n              ")]),a("v-tab",{attrs:{href:"#tab-3"}},[t._v("\n                Agente\n              ")]),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{elevation:"2"}},[a("v-data-table",{staticClass:"mt-4",attrs:{headers:t.headers_dependencia,items:t.items_dep,"items-per-page":5,loading:t.loading,search:t.busqueda_dep},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col"),a("v-col",[a("v-text-field",{staticClass:"mx-4",attrs:{"append-icon":"search",label:"Filtrar",color:"primary","single-line":"","hide-details":""},model:{value:t.busqueda_dep,callback:function(e){t.busqueda_dep=e},expression:"busqueda_dep"}})],1)],1)]},proxy:!0},{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){t.showgrid=!0,t.filtro="dependencia",t.valor=o.id_area}}},[a("v-icon",[t._v("\n                            subdirectory_arrow_right\n                          ")])],1)]}}])})],1)],1),a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-card",{attrs:{elevation:"2"}},[a("v-data-table",{staticClass:"mt-4",attrs:{headers:t.headers_tipo,items:t.items_tipo,"items-per-page":5,loading:t.loading,search:t.busqueda_eje},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col"),a("v-col",[a("v-text-field",{staticClass:"mx-4",attrs:{"append-icon":"search",label:"Filtrar",color:"primary","single-line":"","hide-details":""},model:{value:t.busqueda_eje,callback:function(e){t.busqueda_eje=e},expression:"busqueda_eje"}})],1)],1)]},proxy:!0},{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){t.showgrid=!0,t.filtro="tiposolicitud",t.valor=o.id}}},[a("v-icon",[t._v("\n                            subdirectory_arrow_right\n                          ")])],1)]}}])})],1)],1),a("v-tab-item",{attrs:{value:"tab-3"}},[a("v-card",{attrs:{elevation:"2"}},[a("v-data-table",{staticClass:"mt-4",attrs:{headers:t.headers_agente,items:t.items_agen,"items-per-page":5,loading:t.loading,search:t.busqueda_agen},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col"),a("v-col",[a("v-text-field",{staticClass:"mx-4",attrs:{"append-icon":"search",label:"Filtrar",color:"primary","single-line":"","hide-details":""},model:{value:t.busqueda_agen,callback:function(e){t.busqueda_agen=e},expression:"busqueda_agen"}})],1)],1)]},proxy:!0},{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){t.showgrid=!0,t.filtro="agente",t.valor=o.documento}}},[a("v-icon",[t._v("\n                            subdirectory_arrow_right\n                          ")])],1)]}}])})],1)],1)],1)],1),a("v-card",{attrs:{elevation:"2"}},[a("v-btn",{staticClass:"ma-2",attrs:{small:"",rounded:"",color:"success"}},[a("v-icon",{staticClass:"ml-1",attrs:{left:""}},[t._v("\n                  list_alt\n                ")]),t._v("\n                Exportar\n              ")],1)],1)],1)],1)],1)],1)],1),t.showgrid?a("v-flex",{staticClass:"mx-4"},[t.showgrid?a("pqr",{attrs:{showbtn:!0,filtropqr:t.filtro,valor:t.valor},on:{closemodal:function(e){t.showgrid=!1}}}):t._e()],1):t._e()],1),a("v-dialog",{attrs:{width:"85%",transition:"dialog-bottom-transition"},model:{value:t.dialog_charts,callback:function(e){t.dialog_charts=e},expression:"dialog_charts"}},[a("v-card",[t.dialog_charts?a("charts",{attrs:{fechaini:t.date_inicio,fechafin:t.date_fin},on:{closemodal:function(e){return t.closeModal()}}}):t._e()],1)],1)],1)},Mg=[],Rg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1),a("v-toolbar-title",[t._v("Maestro tipos de comunicación")])],1),a("v-card-title",[a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-card-text",[a("v-data-table",{staticClass:"my-4 elevation-2",attrs:{headers:t.headers,items:t.items,"items-per-page":5,loading:t.loading,search:t.search},scopedSlots:t._u([{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){return t.openEdit(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1)]}}])})],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n        Editando "+t._s(t.editItem.descripcion)+"\n      ")]),a("v-card-text",[a("v-text-field",{staticClass:"mt-5",attrs:{type:"number",label:"Días respuesta",outlined:"",dense:"","hide-details":"","prepend-icon":"calendar_today"},model:{value:t.txtdias,callback:function(e){t.txtdias=e},expression:"txtdias"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n          Cerrar\n        ")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:t.loading},on:{click:function(e){return t.updateItem()}}},[t._v("\n          Guardar\n        ")])],1)],1)],1)],1)},Fg=[];function qg(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Ug(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){qg(n,o,i,r,s,"next",t)}function s(t){qg(n,o,i,r,s,"throw",t)}r(void 0)}))}}var $g={data:function(){return{search:"",txtdias:"",dialog:!1,loading:!1,headers:[{text:"Descripción",align:"center",value:"descripcion",sortable:!1},{text:"Días respuesta",align:"center",value:"dias_respuesta",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],items:[],editItem:[]}},mounted:function(){this.getData()},methods:{updateItem:function(){var t=Ug(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Af.updateTipoComunicacion(this.editItem.id,this.txtdias);case 4:e=t.sent,a=e.data,!0===a.respuesta?(this.$toasted.success("Registro actualizado correctamente.",{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error("Error al actualizar.",{icon:"error",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),openEdit:function(t){this.editItem=t,this.txtdias=this.editItem.dias_respuesta,this.dialog=!0},getData:function(){var t=Ug(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Af.getTipoComunicacion();case 4:e=t.sent,a=e.data,this.items=a.pqr_tipo_comunicacions,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),closeModal:function(){this.$emit("closemodal")}},computed:{}},Lg=$g,Bg=Object(C["a"])(Lg,Rg,Fg,!1,null,"4f74259c",null),Gg=Bg.exports,Vg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1),a("v-toolbar-title",[t._v("Maestro ejes temáticos")])],1),a("v-card-subtitle",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[t._v("\n          Agregar registro\n          "),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",outlined:"",color:"primary"},on:{click:function(e){return t.openModal([])}}},[a("v-icon",{attrs:{dark:""}},[t._v("\n              add\n            ")])],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"my-4 elevation-2",attrs:{headers:t.headers,items:t.items,"items-per-page":5,loading:t.loading,search:t.search},scopedSlots:t._u([{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){return t.openModal(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1),a("v-btn",{staticClass:"mx-1",attrs:{loading:t.loading_delete,small:"",color:"primary",icon:""},on:{click:function(e){return t.deleteRecord(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)]}}])})],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n       "+t._s(t.formTitle)+"\n      ")]),a("v-card-text",[a("v-text-field",{staticClass:"mt-5",attrs:{label:"Nombre",outlined:"",dense:"","hide-details":""},model:{value:t.txtnombre,callback:function(e){t.txtnombre=e},expression:"txtnombre"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialog=!1,t.editItem=[]}}},[t._v("\n          Cerrar\n        ")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:t.loading},on:{click:function(e){return t.save()}}},[t._v("\n          Guardar\n        ")])],1)],1)],1)],1)},zg=[];function Xg(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Hg(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){Xg(n,o,i,r,s,"next",t)}function s(t){Xg(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Jg={data:function(){return{search:"",txtnombre:"",dialog:!1,loading:!1,loading_delete:!1,headers:[{text:"Id",align:"center",value:"id",sortable:!1},{text:"Nombre",align:"center",value:"nombre",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],items:[],editItem:[]}},mounted:function(){this.getData()},methods:{deleteRecord:function(){var t=Hg(He.a.mark((function t(e){var a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading_delete=!0,t.next=4,Af.deleteEjeTematico(e.id);case 4:a=t.sent,o=a.data,"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error(o.respuesta,{icon:"error",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading_delete=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(e){return t.apply(this,arguments)}return e}(),save:function(){var t=Hg(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.loading=!0,0!==this.editItem.length){t.next=8;break}return t.next=5,Af.saveEjeTematico(this.txtnombre);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,Af.updateEjeTematico(this.editItem.id,this.txtnombre);case 10:e=t.sent;case 11:"success"===e.data.tipo?(this.$toasted.success(e.data.respuesta,{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error(e.data.respuesta,{icon:"error",duration:3e3}),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:return t.prev=17,this.loading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[0,14,17,20]])})));function e(){return t.apply(this,arguments)}return e}(),openModal:function(t){this.editItem=t,this.txtnombre=this.editItem.nombre,this.dialog=!0},getData:function(){var t=Hg(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Af.getEjeTematico();case 4:e=t.sent,a=e.data,this.items=a.pqr_eje_tematicos,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),closeModal:function(){this.$emit("closemodal")}},computed:{formTitle:function(){return 0===this.editItem.length?"Agregar registro":"Editando registro"}}},Yg=Jg,Zg=Object(C["a"])(Yg,Vg,zg,!1,null,"e223e894",null),Wg=Zg.exports,Qg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1),a("v-toolbar-title",[t._v("Maestro Instituciones")])],1),a("v-card-subtitle",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[t._v("\n          Agregar registro\n          "),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",outlined:"",color:"primary"},on:{click:function(e){return t.openModal([])}}},[a("v-icon",{attrs:{dark:""}},[t._v("\n              add\n            ")])],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"my-4 elevation-2",attrs:{headers:t.headers,items:t.items,"items-per-page":5,loading:t.loading,search:t.search},scopedSlots:t._u([{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){return t.openModal(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1),a("v-btn",{staticClass:"mx-1",attrs:{loading:t.loading_delete,small:"",color:"primary",icon:""},on:{click:function(e){return t.deleteRecord(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)]}}])})],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n       "+t._s(t.formTitle)+"\n      ")]),a("v-card-text",[a("v-text-field",{staticClass:"mt-5",attrs:{label:"Nombre",outlined:"",dense:"","hide-details":""},model:{value:t.txtnombre,callback:function(e){t.txtnombre=e},expression:"txtnombre"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialog=!1,t.editItem=[]}}},[t._v("\n          Cerrar\n        ")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:t.loading},on:{click:function(e){return t.save()}}},[t._v("\n          Guardar\n        ")])],1)],1)],1)],1)},Kg=[];function tb(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function eb(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){tb(n,o,i,r,s,"next",t)}function s(t){tb(n,o,i,r,s,"throw",t)}r(void 0)}))}}var ab={data:function(){return{search:"",txtnombre:"",dialog:!1,loading:!1,loading_delete:!1,headers:[{text:"Id",align:"center",value:"id",sortable:!1},{text:"Nombre",align:"center",value:"nombre",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],items:[],editItem:[]}},mounted:function(){this.getData()},methods:{deleteRecord:function(){var t=eb(He.a.mark((function t(e){var a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading_delete=!0,t.next=4,Af.deleteInstitucion(e.id);case 4:a=t.sent,o=a.data,"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error(o.respuesta,{icon:"error",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading_delete=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(e){return t.apply(this,arguments)}return e}(),save:function(){var t=eb(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.loading=!0,0!==this.editItem.length){t.next=8;break}return t.next=5,Af.saveInstitucion(this.txtnombre);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,Af.updateInstitucion(this.editItem.id,this.txtnombre);case 10:e=t.sent;case 11:"success"===e.data.tipo?(this.$toasted.success(e.data.respuesta,{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error(e.data.respuesta,{icon:"error",duration:3e3}),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:return t.prev=17,this.loading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[0,14,17,20]])})));function e(){return t.apply(this,arguments)}return e}(),openModal:function(t){this.editItem=t,this.txtnombre=this.editItem.nombre,this.dialog=!0},getData:function(){var t=eb(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Af.getInstituciones();case 4:e=t.sent,a=e.data,this.items=a.pqr_instituciones,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),closeModal:function(){this.$emit("closemodal")}},computed:{formTitle:function(){return 0===this.editItem.length?"Agregar registro":"Editando registro"}}},ob=ab,ib=Object(C["a"])(ob,Qg,Kg,!1,null,"0b503d16",null),nb=ib.exports;function rb(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function sb(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){rb(n,o,i,r,s,"next",t)}function s(t){rb(n,o,i,r,s,"throw",t)}r(void 0)}))}}var cb={components:{charts:Of,tipocomunicacion:Gg,ejetematico:Wg,institucion:nb,pqr:Lf},data:function(){return{showgrid:!1,dialog_charts:!1,filtro:"",valor:"",loading:!1,tab:null,tabs:["Dependencia","Eje temático","Agente"],date_inicio:this.moment().format("YYYY-MM-DD"),date_fin:this.moment().format("YYYY-MM-DD"),f_inicio:!1,f_fin:!1,items_dep:[],items_tipo:[],items_agen:[],busqueda_dep:"",busqueda_eje:"",busqueda_agen:"",headers_dependencia:[{text:"Dependencia",align:"center",value:"arenom",sortable:!1},{text:"Abierto",align:"center",value:"total_abiertas",sortable:!1},{text:"Asignado",align:"center",value:"total_asignadas",sortable:!1},{text:"Vencido",align:"center",value:"total_vencidas",sortable:!1},{text:"Cerrado",align:"center",value:"total_cerradas",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],headers_tipo:[{text:"Tipo de solicitud",align:"center",value:"descripcion",sortable:!1},{text:"Abierto",align:"center",value:"total_abiertas",sortable:!1},{text:"Asignado",align:"center",value:"total_asignadas",sortable:!1},{text:"Vencido",align:"center",value:"total_vencidas",sortable:!1},{text:"Cerrado",align:"center",value:"total_cerradas",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],headers_agente:[{text:"Agente",align:"center",value:"nombre",sortable:!1},{text:"Abierto",align:"center",value:"total_abiertas",sortable:!1},{text:"Asignado",align:"center",value:"total_asignadas",sortable:!1},{text:"Vencido",align:"center",value:"total_vencidas",sortable:!1},{text:"Cerrado",align:"center",value:"total_cerradas",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}]}},created:function(){},mounted:function(){this.filterData()},methods:{closeModal:function(){this.dialog_charts=!1},filterData:function(){var t=sb(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Af.getRecordsPanelControl(this.moment(this.date_inicio).format("YYYYMMDD"),this.moment(this.date_fin).format("YYYYMMDD"));case 4:e=t.sent,a=e.data,this.items_dep=a.dependencia,this.items_tipo=a.eje,this.items_agen=a.agente,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:return t.prev=14,this.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[0,11,14,17]])})));function e(){return t.apply(this,arguments)}return e}()},computed:{},watch:{}},lb=cb,db=Object(C["a"])(lb,Ng,Mg,!1,null,"0d2ecc1c",null),ub=db.exports,pb={components:{dashboard:ub},data:function(){return{}}},mb=pb,vb=Object(C["a"])(mb,Ig,Og,!1,null,"37b140fa",null),hb=vb.exports,fb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[3===t.$session.get("perfilpqr")||1===t.session.get("perfilpqr")?a("usuarios"):a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")])],1)],1)],1)},gb=[],bb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{staticClass:"mx-4",attrs:{lg6:""}},[a("v-card",[a("v-card-title",[t._v("\n        Usuarios\n        ")]),a("v-card-text",[a("v-row",[a("v-col",[a("v-tabs",{attrs:{centered:"",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#tab-1"}},[t._v("\n                Directorio de usuarios\n              ")]),a("v-tab",{attrs:{href:"#tab-2"}},[t._v("\n                Dependencias\n              ")]),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{elevation:"2"}},[a("v-data-table",{staticClass:"mt-4",attrs:{headers:t.headers_directorio,items:t.items_dir,"items-per-page":5,search:t.searchusuarios},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col"),a("v-col",[a("v-text-field",{staticClass:"mx-4",attrs:{"append-icon":"search",label:"Filtrar",color:"primary","single-line":"","hide-details":""},model:{value:t.searchusuarios,callback:function(e){t.searchusuarios=e},expression:"searchusuarios"}})],1)],1)]},proxy:!0},{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){t.showgrid=!0,t.typegrid="usuarios",t.sendDatos=o,t.filtro="agente",t.valor=o.documento}}},[a("v-icon",[t._v("\n                            subdirectory_arrow_right\n                          ")])],1)]}}])})],1)],1),a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-card",{attrs:{elevation:"2"}},[a("v-data-table",{staticClass:"mt-4",attrs:{headers:t.headers_dependencia,items:t.items_dep,"items-per-page":5,search:t.searchdependencias},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col"),a("v-col",[a("v-text-field",{staticClass:"mx-4",attrs:{"append-icon":"search",label:"Filtrar",color:"primary","single-line":"","hide-details":""},model:{value:t.searchdependencias,callback:function(e){t.searchdependencias=e},expression:"searchdependencias"}})],1)],1)]},proxy:!0},{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){t.showgrid=!0,t.typegrid="datos",t.filtro="dependencia",t.valor=o.id_area}}},[a("v-icon",[t._v("\n                            subdirectory_arrow_right\n                          ")])],1)]}}])})],1)],1)],1)],1),a("v-card",{attrs:{elevation:"2"}},[a("v-btn",{staticClass:"ma-2",attrs:{small:"",rounded:"",color:"success"}},[a("v-icon",{staticClass:"ml-1",attrs:{left:""}},[t._v("\n                  list_alt\n                ")]),t._v("\n                Exportar\n              ")],1)],1)],1)],1)],1)],1)],1),t.showgrid?a("v-flex",{staticClass:"mx-4"},["datos"===t.typegrid?a("pqr",{attrs:{filtropqr:t.filtro,valor:t.valor,showbtn:!0},on:{closemodal:function(e){t.showgrid=!1}}}):"usuarios"===t.typegrid?a("eventos",{attrs:{datos:t.sendDatos},on:{closemodal:function(e){t.showgrid=!1}}}):t._e()],1):t._e()],1)],1)},xb=[],_b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-card",[t.datos?a("v-card-title",[t._v("\n        Eventos\n          "),a("v-spacer"),a("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1)],1):a("v-card-title",[t._v("\n        Eventos\n      ")]),a("v-card-text",[a("v-row",[a("v-col",[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("div",{staticClass:"font-weight-bold",staticStyle:{"font-size":"1.25rem"}},[t._v("\n                    "+t._s(t.txtnombre)+"\n                    "),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",rounded:"",color:"primary"}},[a("v-icon",{staticClass:"ml-1",attrs:{left:""}},[t._v("\n                        admin_panel_settings\n                      ")]),t._v("\n                      Administrar cuenta\n                    ")],1)],1)])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4",align:"center",justify:"center"}},[a("v-avatar",{attrs:{color:"primary",size:"120"}},[a("img",{attrs:{src:"https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairShortWaved&accessoriesType=Blank&hairColor=Black&facialHairType=Blank&clotheType=BlazerSweater&eyeType=Default&eyebrowType=Default&mouthType=Smile&skinColor=Light",alt:"John"}})])],1),a("v-col",{attrs:{cols:"8"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{dense:"",label:"Nombre",readonly:""},model:{value:t.txtnombre,callback:function(e){t.txtnombre=e},expression:"txtnombre"}})],1),a("v-col",[a("v-text-field",{attrs:{dense:"",label:"Estado",readonly:""},model:{value:t.txtestado,callback:function(e){t.txtestado=e},expression:"txtestado"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{dense:"",label:"Correo",readonly:""},model:{value:t.txtemail,callback:function(e){t.txtemail=e},expression:"txtemail"}})],1),a("v-col",[a("v-text-field",{attrs:{dense:"",label:"Creado",value:"Si",readonly:""}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{dense:"",label:"Dependencia",readonly:""},model:{value:t.txtdependencia,callback:function(e){t.txtdependencia=e},expression:"txtdependencia"}})],1),a("v-col",[a("v-text-field",{attrs:{dense:"",label:"Última modificación",value:"",readonly:""}})],1)],1)],1)],1),a("v-row",[a("v-col",[""!=t.valor?a("pqr",{attrs:{filtropqr:t.filtro,valor:t.valor}}):t._e()],1)],1)],1)],1)],1)],1)},yb=[];function kb(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Cb(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){kb(n,o,i,r,s,"next",t)}function s(t){kb(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Sb={components:{pqr:Lf},props:["datos"],data:function(){return{txtnombre:"",txtestado:"",txtemail:"",txtdependencia:"",items:[],filtro:"agente",valor:""}},created:function(){},mounted:function(){this.datos?this.getData(this.datos.codigo):this.getData(this.$session.get("codigopersonal"))},methods:{closeModal:function(){this.$emit("closemodal")},getData:function(){var t=Cb(He.a.mark((function t(e){var a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Af.getInfoUser(e);case 3:a=t.sent,o=a.data,console.log(o),console.log(o[0].area),this.txtnombre=o[0].nombre,this.txtestado=o[0].estado,this.txtemail=o[0].email,this.txtdependencia=o[0].area,this.valor=o[0].perside,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(e){return t.apply(this,arguments)}return e}()},computed:{},watch:{}},wb=Sb,Pb=Object(C["a"])(wb,_b,yb,!1,null,"67dbf41a",null),Ab=Pb.exports;function jb(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function Eb(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){jb(n,o,i,r,s,"next",t)}function s(t){jb(n,o,i,r,s,"throw",t)}r(void 0)}))}}var Tb={components:{pqr:Lf,eventos:Ab},data:function(){return{filtro:"",valor:"",searchusuarios:"",searchdependencias:"",sendDatos:[],showgrid:!1,typegrid:"",loading:!1,tab:null,items_dir:[],items_dep:[],headers_directorio:[{text:"Nombre",align:"center",value:"nombre",sortable:!1},{text:"Estado",align:"center",value:"estado",sortable:!1},{text:"Creado",align:"center",value:"area",sortable:!1},{text:"Última actividad",align:"center",value:"soporte_fisico",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],headers_dependencia:[{text:"Dependencia",align:"center",value:"arenom",sortable:!1},{text:"Estado",align:"center",value:"estado",sortable:!1},{text:"Creado",align:"center",value:"area",sortable:!1},{text:"Última actividad",align:"center",value:"soporte_fisico",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}]}},created:function(){},mounted:function(){this.getData()},methods:{getData:function(){var t=Eb(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Af.getRecordsPanelUsuarios(this.$session.get("codigopersonal"));case 4:e=t.sent,a=e.data,console.log("van datos"),console.log(a.agente),console.log(a.dependencia),this.items_dir=a.agente,this.items_dep=a.dependencia,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:return t.prev=16,this.loading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,this,[[0,13,16,19]])})));function e(){return t.apply(this,arguments)}return e}()},computed:{},watch:{}},Db=Tb,Ib=Object(C["a"])(Db,bb,xb,!1,null,"64615178",null),Ob=Ib.exports,Nb={components:{usuarios:Ob},data:function(){return{}}},Mb=Nb,Rb=Object(C["a"])(Mb,fb,gb,!1,null,"75b71196",null),Fb=Rb.exports,qb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[3!=t.$session.get("perfilpqr")?a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")]):a("tipocomunicacion")],1)],1)],1)},Ub=[],$b={components:{tipocomunicacion:Gg},data:function(){return{}}},Lb=$b,Bb=Object(C["a"])(Lb,qb,Ub,!1,null,"49be95c5",null),Gb=Bb.exports,Vb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[3!=t.$session.get("perfilpqr")?a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")]):a("ejetematico")],1)],1)],1)},zb=[],Xb={components:{ejetematico:Wg},data:function(){return{}}},Hb=Xb,Jb=Object(C["a"])(Hb,Vb,zb,!1,null,"591c4499",null),Yb=Jb.exports,Zb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[3!=t.$session.get("perfilpqr")?a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")]):a("institucion")],1)],1)],1)},Wb=[],Qb={components:{institucion:nb},data:function(){return{}}},Kb=Qb,tx=Object(C["a"])(Kb,Zb,Wb,!1,null,"00c97fe2",null),ex=tx.exports,ax=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[3!=t.$session.get("perfilpqr")?a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")]):a("perfil")],1)],1)],1)},ox=[],ix=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1),a("v-toolbar-title",[t._v("Maestro Perfiles")])],1),a("v-card-subtitle",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-autocomplete",{attrs:{items:t.areas,label:"Áreas","item-value":"arecod","item-text":"arenom"},on:{change:function(e){return t.loadUsers()}},model:{value:t.txtareas,callback:function(e){t.txtareas=e},expression:"txtareas"}})],1)],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"my-4 elevation-2",attrs:{headers:t.headers,items:t.items,"items-per-page":5,loading:t.loading},scopedSlots:t._u([{key:"item.responsable",fn:function(e){var o=e.item;return[a("v-layout",{staticClass:"align-center justify-center"},[a("v-checkbox",{attrs:{color:"primary"},on:{change:function(e){return t.validateResponsable(o)}},model:{value:o.responsable,callback:function(e){t.$set(o,"responsable",e)},expression:"item.responsable"}})],1)]}},{key:"item.tipo",fn:function(e){var o=e.item;return[a("v-autocomplete",{attrs:{items:t.perfiles,"item-value":"value","item-text":"text"},on:{change:function(e){return t.changePerfil(o)}},model:{value:o.tipo,callback:function(e){t.$set(o,"tipo",e)},expression:"item.tipo"}})]}}])})],1)],1)],1)},nx=[];function rx(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function sx(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){rx(n,o,i,r,s,"next",t)}function s(t){rx(n,o,i,r,s,"throw",t)}r(void 0)}))}}var cx={data:function(){return{txtareas:"",dialog:!1,loading:!1,loading_delete:!1,headers:[{text:"Documento",align:"center",value:"documento",sortable:!1},{text:"Nombre",align:"center",value:"nombre",sortable:!1},{text:"Área",align:"center",value:"area",sortable:!1},{text:"Responsable",align:"center",value:"responsable",sortable:!1},{text:"Tipo",align:"center",value:"tipo",sortable:!1}],areas:[],items:[],perfiles:[{text:"Por defecto",value:0},{text:"Encargados",value:1},{text:"Ventanilla",value:2},{text:"Admin",value:3}]}},mounted:function(){this.getData()},methods:{changePerfil:function(){var t=sx(He.a.mark((function t(e){var a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Af.updatePerfilPqrUser(e.iduser,e.tipo);case 3:a=t.sent,o=a.data,"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.loadUsers()):this.$toasted.error(o.respuesta,{icon:"error",duration:3e3}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}(),validateResponsable:function(){var t=sx(He.a.mark((function t(e){var a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Af.validateResponsable(e.documento,e.arecod);case 3:a=t.sent,o=a.data,"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.loadUsers()):this.$toasted.error(o.respuesta,{icon:"error",duration:3e3}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}(),loadUsers:function(){var t=sx(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Af.getPersonalArea(this.txtareas);case 4:e=t.sent,a=e.data,this.items=a,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),getData:function(){var t=sx(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Af.getDependencias();case 4:e=t.sent,a=e.data,this.areas=a.areas,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}()},computed:{}},lx=cx,dx=Object(C["a"])(lx,ix,nx,!1,null,"fda31c9a",null),ux=dx.exports,px={components:{perfil:ux},data:function(){return{}}},mx=px,vx=Object(C["a"])(mx,ax,ox,!1,null,"50748516",null),hx=vx.exports,fx=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-content",[3!=t.$session.get("perfilpqr")?a("div",[t._v("\n\t\t\t\t\tNo tiene permisos asignados para esta opción.\n\t\t\t\t")]):a("respuestaautomatica")],1)],1)],1)},gx=[],bx=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.closeModal()}}},[a("v-icon",[t._v("close")])],1),a("v-toolbar-title",[t._v("Maestro Respuestas automáticas")])],1),a("v-card-subtitle",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[t._v("\n          Agregar registro\n          "),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",outlined:"",color:"primary"},on:{click:function(e){return t.openModal([])}}},[a("v-icon",{attrs:{dark:""}},[t._v("\n              add\n            ")])],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"my-4 elevation-2",attrs:{headers:t.headers,items:t.items,"items-per-page":5,loading:t.loading,search:t.search},scopedSlots:t._u([{key:"item.acciones",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{small:"",color:"primary",icon:""},on:{click:function(e){return t.openModal(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1),a("v-btn",{staticClass:"mx-1",attrs:{loading:t.loading_delete,small:"",color:"primary",icon:""},on:{click:function(e){return t.deleteRecord(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)]}}])})],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"900"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n       "+t._s(t.formTitle)+"\n      ")]),a("v-card-text",[a("v-row",[a("v-col",[a("v-text-field",{staticClass:"mt-5",attrs:{label:"Nombre",outlined:"",dense:"","hide-details":""},model:{value:t.txtnombre,callback:function(e){t.txtnombre=e},expression:"txtnombre"}})],1)],1),a("v-row",[a("v-col",[a("v-textarea",{attrs:{outlined:"",label:"Cuerpo Respuesta",rows:"7"},model:{value:t.respuesta,callback:function(e){t.respuesta=e},expression:"respuesta"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialog=!1,t.editItem=[]}}},[t._v("\n          Cerrar\n        ")]),a("v-btn",{attrs:{color:"green darken-1",text:"",loading:t.loading},on:{click:function(e){return t.save()}}},[t._v("\n          Guardar\n        ")])],1)],1)],1)],1)},xx=[];function _x(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function yx(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){_x(n,o,i,r,s,"next",t)}function s(t){_x(n,o,i,r,s,"throw",t)}r(void 0)}))}}var kx={data:function(){return{search:"",txtnombre:"",respuesta:"",dialog:!1,loading:!1,loading_delete:!1,headers:[{text:"Id",align:"center",value:"id",sortable:!1},{text:"Nombre",align:"center",value:"nombre",sortable:!1},{text:"Acciones",align:"center",value:"acciones",sortable:!1}],items:[],editItem:[]}},mounted:function(){this.getData()},methods:{deleteRecord:function(){var t=yx(He.a.mark((function t(e){var a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading_delete=!0,t.next=4,Af.deleteRespuestaAutomatica(e.id);case 4:a=t.sent,o=a.data,"success"===o.tipo?(this.$toasted.success(o.respuesta,{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error(o.respuesta,{icon:"error",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading_delete=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(e){return t.apply(this,arguments)}return e}(),save:function(){var t=yx(He.a.mark((function t(){var e;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.loading=!0,0!==this.editItem.length){t.next=8;break}return t.next=5,Af.saveRespuestaAutomatica(this.txtnombre,this.respuesta);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,Af.updateRespuestaAutomatica(this.editItem.id,this.txtnombre,this.respuesta);case 10:e=t.sent;case 11:"success"===e.data.tipo?(this.$toasted.success(e.data.respuesta,{icon:"done",duration:3e3}),this.dialog=!1,this.getData()):this.$toasted.error(e.data.respuesta,{icon:"error",duration:3e3}),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:return t.prev=17,this.loading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[0,14,17,20]])})));function e(){return t.apply(this,arguments)}return e}(),openModal:function(t){this.editItem=t,this.txtnombre=this.editItem.nombre,this.respuesta=this.editItem.cuerpo,this.dialog=!0},getData:function(){var t=yx(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Af.getMaestroRespuestas();case 4:e=t.sent,a=e.data,this.items=a.pqr_respuesta_automaticas,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),closeModal:function(){this.$emit("closemodal")}},computed:{formTitle:function(){return 0===this.editItem.length?"Agregar registro":"Editando registro"}}},Cx=kx,Sx=Object(C["a"])(Cx,bx,xx,!1,null,"06062efc",null),wx=Sx.exports,Px={components:{respuestaautomatica:wx},data:function(){return{}}},Ax=Px,jx=Object(C["a"])(Ax,fx,gx,!1,null,"f8201132",null),Ex=jx.exports,Tx=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){return t.abrirDialogo(0,"")}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tResguardos Indígenas\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search,expanded:t.expandDetalle,"item-key":"codigo","single-expand":!0,"show-expand":""},on:{"update:expanded":[function(e){t.expandDetalle=e},t.traerDetalle]},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.abrirDialogo(1,o)}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}},{key:"expanded-item",fn:function(e){var o=e.headers;e.item;return[a("td",{attrs:{colspan:o.length}},[a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.headersDet,items:t.datadetalle,"items-per-page":15,dense:""},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading},on:{click:function(e){t.dialog_del_detalle=!0,t.itemactualdetalle=o}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t")])]}}],null,!0)})],1)]}}])})],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"800px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",{attrs:{sm12:""}},[a("v-text-field",{attrs:{label:"Nombre",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{sm12:""}},[a("v-data-table",{attrs:{items:t.additems,"items-per-page":6},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{lg1:"",md12:"",xs12:"",sm12:""}},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(o.numero)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])]),a("v-flex",{attrs:{lg8:"",md12:"",xs12:"",sm12:""}},[a("v-autocomplete",{attrs:{items:t.arrCiudades,"item-value":"codigo","item-text":"nombrecompleto",label:"Ciudad"},model:{value:o.codigociudad,callback:function(e){t.$set(o,"codigociudad",e)},expression:"item.codigociudad"}})],1),a("v-flex",{attrs:{lg3:"",md12:"",xs12:"",sm12:""}},["xs"==t.$vuetify.breakpoint.name||"sm"==t.$vuetify.breakpoint.name||"md"==t.$vuetify.breakpoint.name?a("div",{staticStyle:{"border-radius":"40px",height:"30px",width:"100%","background-color":"#F1F3F4","text-align":"right"}},[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"error"},on:{click:function(e){return t.limpiarItem(o.numero)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1):a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"error"},on:{click:function(e){return t.limpiarItem(o.numero)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)]}}])})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Resguardo Indígena")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar el Resguardo Indígena seleccionado?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog_del_detalle,callback:function(e){t.dialog_del_detalle=e},expression:"dialog_del_detalle"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Ciudad de Resguardo Indígena")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Ciudad del Resguardo Indígena seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDelDetalle}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItemCiudad}},[t._v("Eliminar")])],1)],1)],1)],1)},Dx=[];function Ix(t){return Ix="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ix(t)}var Ox={data:function(){return{modulo:"RESGUARDOS INDÍGENAS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",nombre:"",itemactual:"",data:[],datadetalle:[],arrCiudades:[],additems:[],expandDetalle:[],itemactualdetalle:"",dialog_del_detalle:!1,headers:[{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Accion",value:"action",sortable:!1}],headersDet:[{text:"Nombre",align:"left",sortable:!1,value:"ciudadcompleto"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},generaDataDetalle:function(){for(var t=20,e=0;e<t;e++)this.additems.push({numero:e+1,codigociudad:"0"})},limpiarDataDetalle:function(){for(var t=0;t<this.additems.length;t++){var e=this.additems[t];e.codigociudad="0"}},limpiarItem:function(t){for(var e=0;e<this.additems.length;e++)if(this.additems[e].numero==t){this.additems[e].codigociudad="0";break}},traerCiudadesResguardo:function(){var t=this,e=[];this.limpiarDataDetalle(),$r.resguardosCiudades(t.codigo).then((function(a){if(a.request&&a.data){e=a.data.data;for(var o=0;o<e.length;o++){var i=e[o];t.additems[o].codigociudad=i.codigociudad}}})).catch((function(t){}))},resetForm:function(){this.codigo="0",this.nombre=""},abrirDialogo:function(t,e){this.limpiarDataDetalle(),this.edit=t,this.itemactual=e,this.dialog=!0},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerData:function(){var t=this;this.loading=!0,this.data=[],$r.getData().then((function(e){e.request&&e.data&&(t.data=e.data.data),t.loading=!1})).catch((function(e){t.loading=!1}))},traerDetalle:function(t){if(!(t.length<=0)){var e=t[0].codigo,a=this;this.datadetalle=[],$r.resguardosCiudades(e).then((function(t){t.request&&t.data&&(a.datadetalle=t.data.data)})).catch((function(t){}))}},traerCiudades:function(){var t=this;this.loading=!0,this.arrCiudades=[],qi["a"].getData().then((function(e){e.request&&e.data&&(t.arrCiudades=e.data.data,t.arrCiudadesResg=e.data.data),t.loading=!1})).catch((function(e){t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},closeDialogoDelDetalle:function(){this.dialog_del_detalle=!1},deleteItem:function(){var t=this;this.loading=!0,$r.DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó el Resguardo Indígena con éxito"),t.del_item="",t.traerData(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ EL RESGUARDO INDIGENA :"+t.itemactual.nombre)):t.showMessage(!0,4e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){for(var t=[],e=!0,a=0;a<this.additems.length;a++){var o=this.additems[a];if("0"!=o.codigociudad&&t.length>0){for(var i=0;i<t.length;i++){var n=t[i];if(n.codigociudad==o.codigociudad&&n.numero!=o.numero)return e=!1,this.showMessage(!0,3e3,"error","La Ciudad del item No. "+o.numero+" ya ha sido seleccionada."),e}t.push({codigociudad:o.codigociudad,numero:o.numero})}else"0"!=o.codigociudad&&t.push({codigociudad:o.codigociudad,numero:o.numero})}return t},saveitem:function(){var t="",e=this.validaGuardar();if("object"==Ix(e)){this.edit?(this.itemactual.nombre!=this.nombre&&(t+="Nombre: "+this.itemactual.nombre.toUpperCase()+" a "+this.nombre.toUpperCase()),t="CODIGO: "+this.codigo+", NOMBRE: "+this.nombre.toUpperCase()+" ("+t+"), NO. CIUDADES: "+e.length):t+="NOMBRE: "+this.nombre.toUpperCase()+", NO. CIUDADES: "+e.length;var a=this;this.loading=!0;var o={codigo:this.codigo,nombre:this.nombre.toUpperCase(),edicion:this.edit};$r.guardarData(o,e).then((function(e){if(e.response){var o=e.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(e.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el Resguardo Indígena con éxito"),a.del_item="",a.edit=-1,a.traerData(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,t)}else a.showMessage(!0,3e3,"error",e.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}},deleteItemCiudad:function(){var t=this;this.loading=!0;var e=[{codigo:t.itemactualdetalle.codigoresguardo}];$r.DelCiudadResguardo(t.itemactualdetalle.codigoresguardo,t.itemactualdetalle.codigociudad).then((function(a){a.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la Ciudad del Resguardo Indígena con éxito"),t.traerDetalle(e),t.closeDialogoDelDetalle(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA CIUDAD: "+t.itemactualdetalle.ciudadcompleto+" DEL RESGUARDO INDIGENA :"+t.itemactualdetalle.nombreresguardo)):t.showMessage(!0,4e3,"error",a.message),t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.nombre,this.traerCiudadesResguardo()):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerData(),this.generaDataDetalle(),this.traerCiudades(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Nx=Ox,Mx=Object(C["a"])(Nx,Tx,Dx,!1,null,null,null),Rx=Mx.exports,Fx=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){return t.abrirDialogo(0,"")}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tAsociaciones\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.abrirDialogo(1,o)}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"800px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",{attrs:{sm12:""}},[a("v-text-field",{attrs:{label:"Nombre Asociación",rules:[t.rules.required]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-tabs",{attrs:{"fixed-tabs":"","slider-color":"primary",color:"primary"},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab",{key:1,attrs:{href:"#tab-1"}},[t._v("\n\t\t\t\t\t\t\t\t\t\tComunidades\n\t\t\t\t\t\t\t\t\t")]),a("v-tab",{key:2,attrs:{href:"#tab-2"}},[t._v("\n\t\t\t\t\t\t\t\t\t\tResguardos\n\t\t\t\t\t\t\t\t\t")])],1),a("v-tabs-items",{model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab-item",{key:1,attrs:{value:"tab-1"}},[a("v-flex",{attrs:{sm12:""}},[a("v-data-table",{attrs:{items:t.additemscomunidades,"items-per-page":6},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{lg1:"",md12:"",xs12:"",sm12:""}},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(o.numero)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]),a("v-flex",{attrs:{lg8:"",md12:"",xs12:"",sm12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:o.nombre,callback:function(e){t.$set(o,"nombre",e)},expression:"item.nombre"}})],1),a("v-flex",{attrs:{lg3:"",md12:"",xs12:"",sm12:""}},["xs"==t.$vuetify.breakpoint.name||"sm"==t.$vuetify.breakpoint.name||"md"==t.$vuetify.breakpoint.name?a("div",{staticStyle:{"border-radius":"40px",height:"30px",width:"100%","background-color":"#F1F3F4","text-align":"right"}},[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"error"},on:{click:function(e){return t.limpiarItem(o.numero,"C")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1):a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"error"},on:{click:function(e){return t.limpiarItem(o.numero,"C")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)]}}])})],1)],1),a("v-tab-item",{key:2,attrs:{value:"tab-2"}},[a("v-flex",{attrs:{sm12:""}},[a("v-data-table",{attrs:{items:t.additemsresguardos,"items-per-page":6},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item;return[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{lg1:"",md12:"",xs12:"",sm12:""}},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(o.numero)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]),a("v-flex",{attrs:{lg8:"",md12:"",xs12:"",sm12:""}},[a("v-autocomplete",{attrs:{items:t.arrAllResguardos,"item-value":"codigo","item-text":"nombre",label:"Nombre"},model:{value:o.codigoresguardo,callback:function(e){t.$set(o,"codigoresguardo",e)},expression:"item.codigoresguardo"}})],1),a("v-flex",{attrs:{lg3:"",md12:"",xs12:"",sm12:""}},["xs"==t.$vuetify.breakpoint.name||"sm"==t.$vuetify.breakpoint.name||"md"==t.$vuetify.breakpoint.name?a("div",{staticStyle:{"border-radius":"40px",height:"30px",width:"100%","background-color":"#F1F3F4","text-align":"right"}},[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"error"},on:{click:function(e){return t.limpiarItem(o.numero,"R")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1):a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"error"},on:{click:function(e){return t.limpiarItem(o.numero,"R")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)]}}])})],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Asociación")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Asociación seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},qx=[];function Ux(t){return Ux="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ux(t)}var $x={data:function(){return{modulo:"ASOCIACIONES",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",tabs:"tab-1",codigo:"0",nombre:"",itemactual:"",data:[],arrComunidades:[],arrResguardos:[],arrAllResguardos:[],additemscomunidades:[],additemsresguardos:[],itemactualcomunidades:"",itemactualresguardos:"",headers:[{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Accion",value:"action",sortable:!1}],headersDet:[{text:"Nombre",align:"left",sortable:!1,value:"ciudadcompleto"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},generaDataDetalle:function(){for(var t=20,e=0;e<t;e++)this.additemscomunidades.push({numero:e+1,nombre:""});for(var a=0;a<t;a++)this.additemsresguardos.push({numero:a+1,codigoresguardo:"0"})},limpiarDataComunidad:function(){for(var t=0;t<this.additemscomunidades.length;t++){var e=this.additemscomunidades[t];e.nombre=""}},limpiarDataResguardo:function(){for(var t=0;t<this.additemsresguardos.length;t++){var e=this.additemsresguardos[t];e.codigoresguardo="0"}},limpiarItem:function(t,e){if("C"==e)for(var a=0;a<this.additemscomunidades.length;a++)if(this.additemscomunidades[a].numero==t){this.additemscomunidades[a].nombre="";break}if("R"==e)for(var o=0;o<this.additemsresguardos.length;o++)if(this.additemsresguardos[o].numero==t){this.additemsresguardos[o].codigoresguardo="0";break}},traerComunidadesAsociaciones:function(){var t=this,e=[];this.limpiarDataComunidad(),qr.asociacionesComunidades(t.codigo).then((function(a){if(a.request&&a.data){e=a.data.data;for(var o=0;o<e.length;o++){var i=e[o];t.additemscomunidades[o].nombre=i.nombre}}})).catch((function(t){}))},traerAsociacionesResguardos:function(){var t=this,e=[];this.limpiarDataResguardo(),qr.asociacionesResguardos(t.codigo).then((function(a){if(a.request&&a.data){e=a.data.data,console.log(e);for(var o=0;o<e.length;o++){var i=e[o];t.additemsresguardos[o].codigoresguardo=i.codigoresguardo}}})).catch((function(t){}))},resetForm:function(){this.codigo="0",this.nombre=""},abrirDialogo:function(t,e){this.limpiarDataComunidad(),this.limpiarDataResguardo(),this.tabs="tab-1",this.edit=t,this.itemactual=e,this.dialog=!0},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traerData:function(){var t=this;this.loading=!0,this.data=[],qr.getData().then((function(e){e.request&&e.data&&(t.data=e.data.data),t.loading=!1})).catch((function(e){t.loading=!1}))},traerResguardos:function(){var t=this;this.loading=!0,this.arrAllResguardos=[],$r.getData().then((function(e){e.request&&e.data&&(t.arrAllResguardos=e.data.data),t.loading=!1})).catch((function(e){t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,qr.DelData(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la Asociación con éxito"),t.del_item="",t.traerData(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA ASOCIACIÓN :"+t.itemactual.nombre)):t.showMessage(!0,4e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){for(var t=[],e=[],a=!0,o=0;o<this.additemscomunidades.length;o++){var i=this.additemscomunidades[o];if(""!=i.nombre&&t.length>0){for(var n=0;n<t.length;n++){var r=t[n];if(r.nombre==i.nombre&&r.numero!=i.numero)return a=!1,this.showMessage(!0,3e3,"error","La Comunidad del item No. "+i.numero+" ya se ingresó."),a}t.push({nombre:i.nombre,numero:i.numero})}else""!=i.nombre&&t.push({nombre:i.nombre,numero:i.numero})}for(var s=0;s<this.additemsresguardos.length;s++){var c=this.additemsresguardos[s];if("0"!=c.codigoresguardo&&e.length>0){for(var l=0;l<e.length;l++){var d=e[l];if(d.codigoresguardo==c.codigoresguardo&&d.numero!=c.numero)return a=!1,this.showMessage(!0,3e3,"error","El Resguardo del item No. "+c.numero+" ya ha sido Seleccionado."),a}e.push({codigoresguardo:c.codigoresguardo,numero:c.numero})}else"0"!=c.codigoresguardo&&e.push({codigoresguardo:c.codigoresguardo,numero:c.numero})}return{comunidades:t,resguardos:e}},saveitem:function(){var t="",e=this.validaGuardar();if("object"==Ux(e)){this.edit?(this.itemactual.nombre!=this.nombre&&(t+="Nombre: "+this.itemactual.nombre.toUpperCase()+" a "+this.nombre.toUpperCase()),t="CODIGO: "+this.codigo+", NOMBRE: "+this.nombre.toUpperCase()+" ("+t+"), NO. COMUNIDADES: "+e.comunidades.length+", NO. RESGUARDOS: "+e.resguardos.length):t+="NOMBRE: "+this.nombre.toUpperCase()+", NO. COMUNIDADES: "+e.comunidades.length+", NO. RESGUARDOS: "+e.resguardos.length;var a=this;this.loading=!0;var o={codigo:this.codigo,nombre:this.nombre.toUpperCase()};qr.guardarData(o,e.comunidades,e.resguardos).then((function(e){if(e.response){var o=e.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(e.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" la Asociación con éxito"),a.del_item="",a.edit=-1,a.traerData(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,t)}else a.showMessage(!0,3e3,"error",e.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.nombre=this.itemactual.nombre,this.traerComunidadesAsociaciones(),this.traerAsociacionesResguardos()):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traerData(),this.generaDataDetalle(),this.traerResguardos(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Lx=$x,Bx=Object(C["a"])(Lx,Fx,qx,!1,null,null,null),Gx=Bx.exports,Vx=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tParámetros Generales\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.valnumerico",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valnumerico,{symbol:"",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!1}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("span",{staticStyle:{"font-weight":"bold"}},[a("h4",[t._v("Descripción: "+t._s(t.descripcion))])])]),a("v-flex",[a("v-text-field",{attrs:{label:"Valor Numérico"},model:{value:t.valnumericoformato,callback:function(e){t.valnumericoformato=e},expression:"valnumericoformato"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Valor Texto"},model:{value:t.valtexto,callback:function(e){t.valtexto=e},expression:"valtexto"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Valor Fecha",type:"date"},model:{value:t.valfecha,callback:function(e){t.valfecha=e},expression:"valfecha"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:0==t.valnumerico&&""==t.valtexto&&""==t.valfecha},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1)],1)},zx=[],Xx={data:function(){return{modulo:"PARÁMETROS GENERALES",loading:!1,dialog:!1,edit:-1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"",nombreant:"",valnumerico:0,valtexto:"",valfecha:"",itemactual:"",data:[],arrPersonal:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Valor Numérico",align:"left",sortable:!1,value:"valnumerico"},{text:"Valor Texto",align:"left",sortable:!1,value:"valtexto"},{text:"Valor Fecha",align:"left",sortable:!1,value:"valfecha"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.nombreant="",this.valnumerico=0,this.valtexto="",this.valfecha=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traeData:function(){var t=this;this.loading=!0,this.data=[],Rr.getData().then((function(e){e.request&&e.data&&(t.data=e.data.data),t.loading=!1})).catch((function(e){t.loading=!1}))},validaGuardar:function(){return this.descripcion==this.itemactual.descripcion&&this.valnumerico==this.itemactual.valnumerico&&this.valtexto==this.itemactual.valtexto&&this.valfecha==this.itemactual.valfecha?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),this.itemactual.valnumerico!=this.valnumerico&&(""==e?e="Valor Numérico: "+this.itemactual.valnumerico+" a "+this.valnumerico:e+=", Valor Numérico: "+this.itemactual.valnumerico+" a "+this.valnumerico),this.itemactual.valtexto!=this.valtexto&&(""==e?e="Valor Texto: "+this.itemactual.valtexto+" a "+this.valtexto:e+=", Valor Texto: "+this.itemactual.valtexto+" a "+this.valtexto),this.itemactual.valfecha!=this.valfecha&&(""==e?e="Valor Fecha: "+this.itemactual.valfecha+" a "+this.valfecha:e+=", Valor Fecha: "+this.itemactual.valfecha+" a "+this.valfecha),e="DESCRIPCIÓN: "+this.descripcion+" ("+e+")"):e+="DESCRIPCIÓN: "+this.descripcion.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion,valnumerico:this.valnumerico,valtexto:this.valtexto,valfecha:this.valfecha};Rr.guardarData(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" el Parámetro con éxito"),a.del_item="",a.edit=-1,a.traeData(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},formatonumero:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var o=t.split("."),i=/(\d+)(\d{3})/;while(i.test(o[0]))o[0]=o[0].replace(i,"$1.$2");var n="";return n=a?"$ "+o.join(","):o.join(","),n},limpiarMoneda:function(t){var e=t.toString().replace(/[$.]/gi,"");return e=e.replace(/[,]/gi,"."),e},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},computed:{valnumericoformato:{get:function(){var t=this.formatonumero(this.valnumerico,0,0);return t},set:function(t){var e=this.limpiarMoneda(t);this.valnumerico=e}}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.valnumerico=this.itemactual.valnumerico,this.valtexto=this.itemactual.valtexto,this.valfecha=this.itemactual.valfecha):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traeData(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},Hx=Xx,Jx=Object(C["a"])(Hx,Vx,zx,!1,null,null,null),Yx=Jx.exports,Zx=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("\n\t\t\t\t\tMonedas\n\t\t\t\t")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:"$ ",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!1}))+"\n\t\t\t\t\t\t\t")])]}},{key:"item.action",fn:function(e){var o=e.item;return[o.codigo>1?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")]):t._e(),o.codigo>1?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading,loading:t.loading&&t.itemactual===o},on:{click:function(e){t.dialog_del=!0,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t")]):t._e()]}}])})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",[a("v-text-field",{attrs:{label:"descripcion",rules:[t.rules.required]},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Símbolo",rules:[t.rules.required]},model:{value:t.simbolo,callback:function(e){t.simbolo=e},expression:"simbolo"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Tasa",rules:[t.rules.required,t.rules.valor]},model:{value:t.valtasaformato,callback:function(e){t.valtasaformato=e},expression:"valtasaformato"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogo}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.valid},on:{click:t.saveitem}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Eliminar Moneda")])]),a("v-card-text",[t._v("\t\t\t\t\t\n\t\t\t\t\t¿Esta seguro de eliminar la Moneda seleccionada?\t\t\t\t\t\n\t\t\t\t")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.closeDialogoDel}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Eliminar")])],1)],1)],1)],1)},Wx=[];function Qx(t){return Qx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qx(t)}var Kx={data:function(){var t=this;return{modulo:"MONEDAS",loading:!1,dialog:!1,edit:-1,dialog_del:!1,processing:!1,formTitle:"",valid:!1,search:"",codigo:"0",descripcion:"0",simbolo:"",tasa:0,itemactual:"",data:[],headers:[{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Símbolo",align:"left",sortable:!1,value:"simbolo"},{text:"Tasa",align:"left",sortable:!1,value:"tasa"},{text:"Accion",value:"action",sortable:!1}],rules:{required:function(t){return!!t||"Campo requerido."},valor:function(e){return t.limpiarMoneda(e)>0||"El Valor debe ser mayor a 0."}}}},filters:{},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},resetForm:function(){this.codigo="0",this.descripcion="",this.tasa="0",this.simbolo=""},cerrarDialogo:function(){this.resetForm(),this.dialog=!1,this.edit=-1},traeData:function(){var t=this;this.loading=!0,this.data=[],_a.getData().then((function(e){e.request&&e.data&&(t.data=e.data.data),t.loading=!1})).catch((function(e){t.loading=!1}))},closeDialogoDel:function(){this.dialog_del=!1},deleteItem:function(){var t=this;this.loading=!0,_a.DelArea(t.itemactual.codigo).then((function(e){e.statusText?(t.showMessage(!0,3e3,"success","Se eliminó la Moneda con éxito"),t.del_item="",t.traeData(),t.closeDialogoDel(),t.agregaBitacora("ELIMINACION","SE ELIMINÓ LA MONEDA CON CODIGO: "+t.itemactual.codigo+", DESCRIPCIÓN: "+t.itemactual.descripcion+", SÍMBOLO: "+t.itemactual.simbolo)):t.showMessage(!0,3e3,"error",e.message),t.del_item="",t.loading=!1})).catch((function(e){t.showMessage(!0,3e3,"error",e),t.loading=!1}))},validaGuardar:function(){return"object"==Qx(this.encargadocodigo)?(this.encargadocodigo.codigo,this.encargadocodigo.nombrecompleto):(this.encargadocodigo,this.itemactual.encargadonombre),this.descripcion==this.itemactual.descripcion&&this.simbolo==this.itemactual.simbolo&&this.tasa==this.itemactual.tasa?"No hay datos para actualizar":""},saveitem:function(){var t=this.validaGuardar(),e="";if(""==t){this.edit?(this.itemactual.descripcion!=this.descripcion&&(e+="Descripción: "+this.itemactual.descripcion.toUpperCase()+" a "+this.descripcion.toUpperCase()),this.itemactual.simbolo!=this.simbolo&&(""==e?e="Símbolo: "+this.itemactual.simbolo+" a "+this.simbolo:e+=", Símbolo: "+this.itemactual.simbolo+" a "+this.simbolo),this.itemactual.tasa!=this.tasa&&(""==e?e="Tasa: "+this.formatonumero(this.itemactual.tasa,0,1)+" a "+this.formatonumero(this.tasa,0,1):e+=", Tasa: "+this.formatonumero(this.itemactual.tasa,0,1)+" a "+this.formatonumero(this.tasa,0,1)),e="CODIGO: "+this.codigo+" ("+e+")"):e+="Descripción: "+this.descripcion.toUpperCase();var a=this;this.loading=!0;var o={codigo:this.codigo,descripcion:this.descripcion,simbolo:this.simbolo,tasa:this.tasa};_a.guardarData(o).then((function(t){if(t.response){var o=t.response.data.message;a.showMessage(!0,3e3,"error",o)}else if(t.statusText){var i="",n="";a.edit?(i="Actualizó",n="ACTUALIZACION"):(i="Agregó",n="CREACION"),a.showMessage(!0,3e3,"success","Se "+i+" la Moneda con éxito"),a.del_item="",a.edit=-1,a.traeData(),a.resetForm(),a.dialog=!1,a.agregaBitacora(n,e)}else a.showMessage(!0,3e3,"error",t.message);a.loading=!1})).catch((function(t){a.showMessage(!0,3e3,"error",t),a.loading=!1}))}else this.showMessage(!0,3e3,"error",t)},formatonumero:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var o=t.split("."),i=/(\d+)(\d{3})/;while(i.test(o[0]))o[0]=o[0].replace(i,"$1.$2");var n="";return n=a?"$ "+o.join(","):o.join(","),n},limpiarMoneda:function(t){var e=t.toString().replace(/[$.]/gi,"");return e=e.replace(/[,]/gi,"."),e},agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},computed:{valtasaformato:{get:function(){var t=this.formatonumero(this.tasa,0,1);return t},set:function(t){var e=this.limpiarMoneda(t);this.tasa=e}}},watch:{edit:function(t){t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.descripcion=this.itemactual.descripcion,this.simbolo=this.itemactual.simbolo,this.tasa=this.itemactual.tasa):(this.resetForm(),this.formTitle="Nuevo")}},mounted:function(){this.traeData(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},t_=Kx,e_=Object(C["a"])(t_,Zx,Wx,!1,null,null,null),a_=e_.exports,o_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-flex",[0==t.readonlyData?a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_desplazamiento=!0,t.edit=0,t.itemactual=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1):t._e(),a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("NOVEDADES DESPLAZAMIENTOS")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":5,"disable-sort":!0,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog_desplazamiento=!0,t.edit=1,t.itemactual=o}}},[t._v("\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{persistent:"",scrollable:"",width:"1500"},model:{value:t.dialog_desplazamiento,callback:function(e){t.dialog_desplazamiento=e},expression:"dialog_desplazamiento"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle)+" Novedad")])]),a("v-card-text",[0==t.edit&&0==t.esUsuarioDIR?a("v-row",[a("v-col",[a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_adddesplazamiento=!0}}},[t._v("Seleccionar Desplazamiento")])],1)],1):t._e(),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-select",{attrs:{items:t.dataTiposNovedad,label:"Tipo de Novedad","item-value":"codigo","item-text":"descripcion",rules:[t.rules.required],"return-object":!0,readonly:t.readonlyData||1==t.edit},on:{change:t.mostrarOcultarNuevosDestinos},model:{value:t.tiponovedad,callback:function(e){t.tiponovedad=e},expression:"tiponovedad"}})],1)],1),a("v-row",[a("v-col",[a("v-textarea",{attrs:{filled:"",name:"input-7-4",label:"Motivo",rules:[t.rules.required],readonly:t.readonlyData||1==t.edit},model:{value:t.observacion,callback:function(e){t.observacion=e},expression:"observacion"}})],1)],1),1==t.esUsuarioDIR||0!=t.estadoComparaNovedad&&36!=t.estadoComparaNovedad?a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-select",{attrs:{items:t.dataestados,label:"Estado Novedad","item-value":"codigo","item-text":"descripcion","return-object":!0,readonly:0!=t.estadoComparaNovedad&&36!=t.estadoComparaNovedad},on:{change:t.habilitacausal},model:{value:t.estado,callback:function(e){t.estado=e},expression:"estado"}})],1),t.visiblecausal?a("v-col",{attrs:{cols:"6"}},[a("v-select",{attrs:{items:t.dataCausalesRechazo,label:"Causal Rechazo","item-value":"codigo","item-text":"descripcion","return-object":!0,readonly:0!=t.estadoComparaNovedad&&36!=t.estadoComparaNovedad},model:{value:t.causalrechazo,callback:function(e){t.causalrechazo=e},expression:"causalrechazo"}})],1):t._e()],1):t._e(),a("v-row",[a("v-col",[a("v-tabs",{attrs:{"fixed-tabs":"","slider-color":"primary",color:"primary"},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab",{key:1,attrs:{href:"#tab-1"}},[t._v("\n                                    Datos Generales\n                                ")]),a("v-tab",{key:2,attrs:{href:"#tab-2"}},[t._v("\n                                    Itinerario\n                                ")]),a("v-tab",{key:3,attrs:{href:"#tab-3"}},[t._v("\n                                    Rubros\n                                ")])],1),a("v-tabs-items",{model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab-item",{key:1,attrs:{value:"tab-1"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{sm6:""}},[a("br"),a("br"),a("v-text-field",{attrs:{readonly:"",label:"Estado Desplazamiento"},model:{value:t.estadotxt,callback:function(e){t.estadotxt=e},expression:"estadotxt"}})],1),a("v-flex",{attrs:{sm6:""}}),a("v-flex",{attrs:{sm6:"",width:"95%"}},[a("v-text-field",{attrs:{readonly:"",label:"Tipo de Beneficiario"},model:{value:t.tipobeneficiariotxt,callback:function(e){t.tipobeneficiariotxt=e},expression:"tipobeneficiariotxt"}})],1),a("v-flex",{attrs:{sm3:"",width:"95%"}},[a("v-text-field",{attrs:{readonly:"",label:"Tipo Identificación"},model:{value:t.tipoidentcodigo,callback:function(e){t.tipoidentcodigo=e},expression:"tipoidentcodigo"}})],1),a("v-flex",{attrs:{sm3:"",width:"95%"}},[a("v-text-field",{attrs:{readonly:"",label:"identificación"},model:{value:t.identificacion,callback:function(e){t.identificacion=e},expression:"identificacion"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{readonly:"",label:"Nombre Beneficiario"},model:{value:t.beneficiario,callback:function(e){t.beneficiario=e},expression:"beneficiario"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{readonly:"",label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-text-field",{attrs:{readonly:"",label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-text-field",{attrs:{label:"Fecha Nacimiento",readonly:""},model:{value:t.fechanacimiento,callback:function(e){t.fechanacimiento=e},expression:"fechanacimiento"}})],1),a("v-flex",{attrs:{sm4:""}},[a("v-text-field",{attrs:{readonly:"",label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),"I"!=t.tipobeneficiario?a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{readonly:"",label:"Cargo"},model:{value:t.cargo,callback:function(e){t.cargo=e},expression:"cargo"}})],1):a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Rol",readonly:""},model:{value:t.rolinvitado,callback:function(e){t.rolinvitado=e},expression:"rolinvitado"}})],1),"I"==t.tipobeneficiario||"C"==t.tipobeneficiario?a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Valor Base",prefix:"$ ",readonly:""},model:{value:t.valorbaseben,callback:function(e){t.valorbaseben=e},expression:"valorbaseben"}})],1):a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Tipo Salario",readonly:""},model:{value:t.txttiposalario,callback:function(e){t.txttiposalario=e},expression:"txttiposalario"}})],1),a("v-flex",{attrs:{sm6:""}},["C"==t.tipobeneficiario?a("v-text-field",{attrs:{prefix:"$ ",readonly:"",label:"Valor Contrato"},model:{value:t.valorcontrato,callback:function(e){t.valorcontrato=e},expression:"valorcontrato"}}):t._e()],1),a("v-flex",{attrs:{sm6:""}},["C"==t.tipobeneficiario?a("v-text-field",{attrs:{type:"number",readonly:"",label:"Meses Contrato"},model:{value:t.mesescontrato,callback:function(e){t.mesescontrato=e},expression:"mesescontrato"}}):t._e()],1),a("v-flex",{attrs:{sm12:""}},[a("v-text-field",{attrs:{label:"Objetivo General",readonly:""},model:{value:t.objetivogeneral,callback:function(e){t.objetivogeneral=e},expression:"objetivogeneral"}})],1),a("v-flex",{attrs:{sm2:""}},[a("v-text-field",{attrs:{label:"Requiere Tiquetes",readonly:""},model:{value:t.requieretiquetes,callback:function(e){t.requieretiquetes=e},expression:"requieretiquetes"}})],1),a("v-flex",{attrs:{sm2:""}},[a("v-text-field",{attrs:{label:"Valor Tiquetes",prefix:"$ ",readonly:""},model:{value:t.valortiquetes,callback:function(e){t.valortiquetes=e},expression:"valortiquetes"}})],1),a("v-flex",{attrs:{sm2:""}},[a("v-text-field",{attrs:{label:"Viáticos",readonly:""},model:{value:t.viaticos,callback:function(e){t.viaticos=e},expression:"viaticos"}})],1),a("v-flex",{attrs:{sm2:""}},[a("v-text-field",{attrs:{prefix:"$ ",readonly:"",label:" Valor Viáticos"},model:{value:t.valorviaticos,callback:function(e){t.valorviaticos=e},expression:"valorviaticos"}})],1),a("v-flex",{attrs:{sm2:""}},[a("v-text-field",{attrs:{label:"Pago Anticipado",readonly:""},model:{value:t.pagoanticipado,callback:function(e){t.pagoanticipado=e},expression:"pagoanticipado"}})],1),a("v-flex",{attrs:{sm2:""}},[a("v-text-field",{attrs:{prefix:"$ ",label:"Reembolso",readonly:""},model:{value:t.reembolso,callback:function(e){t.reembolso=e},expression:"reembolso"}})],1),a("v-flex",{attrs:{sm2:""}},[a("v-text-field",{attrs:{label:"Gastos de Viaje",readonly:""},model:{value:t.gastosviaje,callback:function(e){t.gastosviaje=e},expression:"gastosviaje"}})],1),a("v-flex",{attrs:{sm2:""}},[a("v-text-field",{attrs:{prefix:"$ ",readonly:"",label:"Valor Gastos de Viajes"},model:{value:t.valorgastosviaje,callback:function(e){t.valorgastosviaje=e},expression:"valorgastosviaje"}})],1),a("v-flex",{attrs:{sm8:""}},[a("v-text-field",{attrs:{readonly:"",label:" Descripción Gastos de Viajes"},model:{value:t.desgastosviaje,callback:function(e){t.desgastosviaje=e},expression:"desgastosviaje"}})],1),a("v-flex",{attrs:{sm12:""}},[a("v-text-field",{attrs:{label:"Observación",readonly:""},model:{value:t.observaciondesplaza,callback:function(e){t.observaciondesplaza=e},expression:"observaciondesplaza"}})],1)],1)],1),a("v-tab-item",{key:2,attrs:{value:"tab-2"}},[a("v-row",[a("v-col",[a("span",{staticClass:"title",staticStyle:{color:"black"}},[t._v("Actual")])])],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchDestinos,callback:function(e){t.searchDestinos=e},expression:"searchDestinos"}}),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headdestinos,items:t.arrDestinos,"items-per-page":5,"disable-sort":!0,search:t.searchDestinos},scopedSlots:t._u([{key:"item.tarifa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tarifa,{symbol:o.simbolomoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:" $",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}},{key:"item.tarifapesos",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tarifapesos,{symbol:" $",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),a("v-divider"),1==t.verNuevosdestinos||1==t.verSumarDias?a("div",[a("v-row",[a("v-col",[a("span",{staticClass:"title",staticStyle:{color:"black"}},[t._v("Nuevo")])])],1),a("v-row",[a("v-col",[0==t.edit&&0!=parseInt(t.codigodesplaza)&&0==t.verSumarDias?a("div",{staticStyle:{"padding-bottom":"10px"}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){t.dialog_destinos=!0,t.editdestinos=0,t.itemactualdes=""}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1):t._e(),a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchDestinosAdd,callback:function(e){t.searchDestinosAdd=e},expression:"searchDestinosAdd"}}),a("v-layout",{staticStyle:{"padding-top":"16px"},attrs:{column:""}},[a("v-data-table",{attrs:{headers:t.headdestinosadd,items:t.arrDestinosadd,"items-per-page":5,"disable-sort":!0,search:t.searchDestinosAdd},scopedSlots:t._u([{key:"item.tarifa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tarifa,{symbol:o.simbolomoneda,thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n                                                            ")])]}},{key:"item.tasa",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tasa,{symbol:" $",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n                                                            ")])]}},{key:"item.tarifapesos",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.tarifapesos,{symbol:" $",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n                                                            ")])]}},{key:"item.action",fn:function(e){var o=e.item;return[0==t.edit&&0==t.verSumarDias?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){t.dialog_destinos=!0,t.editdestinos=1,t.itemactualdes=o}}},[t._v("\n                                                                edit\n                                                            ")]):t._e(),0==t.edit&&0==t.verSumarDias?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary",disabled:t.loading},on:{click:function(e){return t.eliminaItemdestinos(o)}}},[t._v("\n                                                                delete\n                                                            ")]):t._e()]}},{key:"item.sumardias",fn:function(e){var o=e.item;return[1==t.verSumarDias&&0==t.edit?a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){t.dialog_sumdias=!0,t.itemactsumdias=o,t.fechafinanterior=o.fecharegreso}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tadd\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()]}}],null,!1,305213801)})],1)],1)],1)],1):t._e()],1),a("v-tab-item",{key:3,attrs:{value:"tab-3"}},[a("v-data-table",{attrs:{headers:t.headerrubrogen,items:t.arrRubrosGen,"disable-sort":!0,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.valor",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.valor,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n                                            ")])]}},{key:"item.comprometido",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.comprometido,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n                                            ")])]}},{key:"item.saldo",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t._f("currency")(o.saldo,{symbol:"$",thousandsSeparator:".",fractionCount:"0",fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0}))+"\n                                            ")])]}}])})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_desplazamiento=!1,t.edit=-1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.guardarNovedad}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"",scrollable:"",width:"1200"},model:{value:t.dialog_adddesplazamiento,callback:function(e){t.dialog_adddesplazamiento=e},expression:"dialog_adddesplazamiento"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Seleccionar Desplazamiento")])]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchdesplaza,callback:function(e){t.searchdesplaza=e},expression:"searchdesplaza"}}),a("v-data-table",{attrs:{headers:t.headerdesplazamiento,items:t.datadesplazamiento,"items-per-page":5,"disable-sort":!0,search:t.searchdesplaza,"show-select":"","item-key":"codigo"},model:{value:t.seldesplaza,callback:function(e){t.seldesplaza=e},expression:"seldesplaza"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_adddesplazamiento=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.seldesplaza.length<=0},on:{click:t.setDataDesplazamianto}},[t._v("Aceptar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"1200px"},model:{value:t.dialog_destinos,callback:function(e){t.dialog_destinos=e},expression:"dialog_destinos"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitleDestinos))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-form",{ref:"form2",model:{value:t.validDestinos,callback:function(e){t.validDestinos=e},expression:"validDestinos"}},[a("v-row",[a("span",{staticClass:"title",staticStyle:{color:"black"}},[t._v("Origen")]),t._v("  \t\n\t\t\t\t\t\t\t\t\t"),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){return t.abrirDialogoDestinos("o")}}},[a("v-icon",{attrs:{dark:""}},[t._v("add_location_alt")])],1)],1),a("v-row",[a("v-col",{attrs:{sm4:""}},[a("v-text-field",{attrs:{readonly:"",label:"Tipo"},model:{value:t.nombretipoorigen,callback:function(e){t.nombretipoorigen=e},expression:"nombretipoorigen"}})],1),a("v-col",{attrs:{sm4:""}},[a("v-text-field",{attrs:{readonly:"",label:"Población"},model:{value:t.nombrelugarorigen,callback:function(e){t.nombrelugarorigen=e},expression:"nombrelugarorigen"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{readonly:"",label:"Lugar de Origen",rules:[t.rules.required]},model:{value:t.txtdestinoorigen,callback:function(e){t.txtdestinoorigen=e},expression:"txtdestinoorigen"}})],1)],1),a("v-divider"),a("br"),a("v-row",[a("span",{staticClass:"title",staticStyle:{color:"black"}},[t._v("Destino")]),t._v("  \t\n\t\t\t\t\t\t\t\t\t"),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){return t.abrirDialogoDestinos("d")}}},[a("v-icon",{attrs:{dark:""}},[t._v("add_location_alt")])],1)],1),a("v-row",[a("v-col",{attrs:{sm4:""}},[a("v-text-field",{attrs:{readonly:"",label:"Tipo"},model:{value:t.nombretipodestino,callback:function(e){t.nombretipodestino=e},expression:"nombretipodestino"}})],1),a("v-col",{attrs:{sm4:""}},[a("v-text-field",{attrs:{readonly:"",label:"Población"},model:{value:t.nombrelugardestino,callback:function(e){t.nombrelugardestino=e},expression:"nombrelugardestino"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{readonly:"",label:"Lugar de Destino",rules:[t.rules.required]},on:{click:function(e){return t.abrirDialogoDestinos("d")}},model:{value:t.txtdestinofinal,callback:function(e){t.txtdestinofinal=e},expression:"txtdestinofinal"}})],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha de Ida","prepend-icon":"event",readonly:"",rules:[t.rules.required]},model:{value:t.fechaida,callback:function(e){t.fechaida=e},expression:"fechaida"}},o))]}}]),model:{value:t.menuDate2,callback:function(e){t.menuDate2=e},expression:"menuDate2"}},[a("v-date-picker",{attrs:{type:"date",rules:[t.rules.required]},on:{input:function(e){t.menuDate2=!1},change:t.calcularValorDias},model:{value:t.fechaida,callback:function(e){t.fechaida=e},expression:"fechaida"}})],1)],1),a("v-col",{attrs:{cols:"3"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Fecha de Regreso","prepend-icon":"event",readonly:"",rules:[t.rules.required]},model:{value:t.fecharegreso,callback:function(e){t.fecharegreso=e},expression:"fecharegreso"}},o))]}}]),model:{value:t.menuDate3,callback:function(e){t.menuDate3=e},expression:"menuDate3"}},[a("v-date-picker",{attrs:{type:"date",rules:[t.rules.required]},on:{input:function(e){t.menuDate3=!1},change:t.calcularValorDias},model:{value:t.fecharegreso,callback:function(e){t.fecharegreso=e},expression:"fecharegreso"}})],1)],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{readonly:"",label:"Dias Viaje"},model:{value:t.diasviaje,callback:function(e){t.diasviaje=e},expression:"diasviaje"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.tipotransporteSel,label:"Tipo de Transporte","item-value":"value","item-text":"text","return-object":!1,rules:[t.rules.required]},model:{value:t.tipotransporte,callback:function(e){t.tipotransporte=e},expression:"tipotransporte"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{readonly:"",label:"Tarifa",rules:[t.rules.required],prefix:t.simbolomoneda},model:{value:t.tarifa,callback:function(e){t.tarifa=e},expression:"tarifa"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{readonly:"",label:"Tasa",rules:[t.rules.required],prefix:"$"},model:{value:t.tasa,callback:function(e){t.tasa=e},expression:"tasa"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{readonly:"",label:"Total Provisional en Pesos",rules:[t.rules.required],prefix:"$"},model:{value:t.tarifapesos,callback:function(e){t.tarifapesos=e},expression:"tarifapesos"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cerrarDialogoDestino}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validDestinos},on:{click:t.saveitemDestino}},[t._v("\n\t\t\t\t\t\tGuardar\n\t\t\t\t\t")])],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",width:"1200"},model:{value:t.dialog_adddestino,callback:function(e){t.dialog_adddestino=e},expression:"dialog_adddestino"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s("Lugar de "+("o"==t.tipodesplazamiento?"Origen":"Destino")+" "+(""!=t.nombrelugaractual?": ("+t.nombrelugaractual.trim().toUpperCase()+")":"")))])]),a("v-card-text",[a("v-row",[a("v-col",[a("v-radio-group",{attrs:{row:""},model:{value:t.tipodestino,callback:function(e){t.tipodestino=e},expression:"tipodestino"}},[a("v-radio",{attrs:{label:"Nacional",value:"n",color:"primary"}}),a("v-radio",{attrs:{label:"Internacional",value:"i",color:"primary"}})],1)],1)],1),"n"==t.tipodestino?a("v-row",[a("v-flex",{attrs:{sm4:""}},[a("v-autocomplete",{attrs:{items:t.tipoDestinoNac,label:"Tipo","item-value":"value","item-text":"text","return-object":!0,clearable:""},on:{change:t.traerDataPoblacionOrigen},model:{value:t.tipolugar,callback:function(e){t.tipolugar=e},expression:"tipolugar"}})],1),a("v-flex",{attrs:{sm1:""}}),a("v-flex",{attrs:{sm7:""}},[a("v-autocomplete",{attrs:{items:t.arrtipolugar,label:"Población","item-value":"codigo","item-text":"nombre","return-object":!0,clearable:""},on:{change:t.traerCiudadesPoblacion},model:{value:t.codigotipolugar,callback:function(e){t.codigotipolugar=e},expression:"codigotipolugar"}})],1)],1):t._e(),a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.searchdestinoadd,callback:function(e){t.searchdestinoadd=e},expression:"searchdestinoadd"}}),""!=t.tipodestino?a("v-data-table",{attrs:{headers:t.headerdestinoAdd,items:t.arrLugares,"items-per-page":5,"disable-sort":!0,search:t.searchdestinoadd},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"primary"},on:{click:function(e){return t.seleccionarlugaractual(o)}}},[t._v("\n\t\t\t\t\t\t\t\tsend\n\t\t\t\t\t\t\t")])]}}],null,!1,2680853718)}):t._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:t.agregarDestino}},[t._v("Aceptar")]),a("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:function(e){t.dialog_adddestino=!1}}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",width:"600"},model:{value:t.dialog_sumdias,callback:function(e){t.dialog_sumdias=e},expression:"dialog_sumdias"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Sumar Días")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{label:"Fecha Regreso Actual",readonly:""},model:{value:t.fechafinanterior,callback:function(e){t.fechafinanterior=e},expression:"fechafinanterior"}})],1),a("v-flex",{attrs:{sm6:""}},[a("v-text-field",{attrs:{type:"date",label:"Fecho Regreso Nuevo",rules:[t.rules.required]},model:{value:t.fechafinnueva,callback:function(e){t.fechafinnueva=e},expression:"fechafinnueva"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog_sumdias=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:""==t.fechafinnueva},on:{click:t.agregarDias}},[t._v("Guardar")])],1)],1)],1)],1)},i_=[],n_={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/NovedadesDesplazamientos",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDestinos:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/NovedadDesplazaDestinos",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarNovedad:function(t,e){return new Promise((function(a,o){p()({method:"POST",url:m["a"].apiUrl+"/guardaNovedadDesplazamiento",dataType:"json",data:{data:t,nuevosdestinos:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))}},r_=n_,s_={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/TiposNovedadDesp",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))}},c_=s_,l_={getData:function(){return new Promise((function(t,e){p()({method:"POST",url:m["a"].apiUrl+"/CausalesrechazoNovDesp",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/guardarcausalRechazo",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){p()({method:"POST",url:m["a"].apiUrl+"/delcausalRechazo",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}},d_=l_;function u_(t){return u_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u_(t)}function p_(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(o,i)}function m_(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var n=t.apply(e,a);function r(t){p_(n,o,i,r,s,"next",t)}function s(t){p_(n,o,i,r,s,"throw",t)}r(void 0)}))}}function v_(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var h_={data:function(){var t;return t={modulo:"NOVEDADES DESPLAZAMIENTOS",loading:!1,dialog:!1,edit:-1,processing:!1,formTitle:"",search:"",valid:!1,readonlyData:!1,data:[],dataTiposNovedad:[],dataCausalesRechazo:[],dataestados:[],codigo:0,tiponovedad:"",tiponovedadtxt:"",causalrechazo:"",estado:"",observacion:"",usuarionovedad:"",usuarioactual:"",usuariossistema:[],usuariosDIR:[],usuariosPlanViaticos:[],usuariosTH:[],usuariosFI:[],usuariosPRE:[],usuariosTES:[],esUsuarioDIR:!1,tipoestadonotificacion:"",dialog_desplazamiento:!1,datadesplazamiento:[],dialog_adddesplazamiento:!1,seldesplaza:[],searchdesplaza:"",tabs:"tab-1",headers:[{text:"Fecha",value:"fecha",sortable:!1,align:"left"},{text:"Cód. Desplazamiento",value:"desplazamiento",sortable:!1,align:"left"},{text:"Tipo Novedad",value:"tiponovedad",sortable:!1,align:"left"},{text:"Motivo",value:"observacion",sortable:!1,align:"left"},{text:"Estado",value:"estado",sortable:!1,align:"left"},{text:"Causal Rechazo",value:"causalrechazo",sortable:!1,align:"left"},{text:"Accion",value:"action",sortable:!1}],headerdesplazamiento:[{text:"Consecutivo",align:"left",sortable:!1,value:"codigo"},{text:"Fecha",value:"fecha",sortable:!1,align:"left"},{text:"Tipo Benif.",value:"tipobeneficiariotxt",sortable:!1,align:"left"},{text:"Identificación",value:"identificacion",sortable:!1,align:"left"},{text:"Benificiario",value:"beneficiario",sortable:!1,align:"left"},{text:"Tiquetes",value:"requieretiquetestxt",sortable:!1,align:"left"},{text:"Viáticos",value:"viaticostxt",sortable:!1,align:"left"},{text:"Gastos Viaje",value:"gastosviajetxt",sortable:!1,align:"left"},{text:"Estado",value:"estado",sortable:!1,align:"left"}],codigodesplaza:0,fecha:"",codigoestadodesplaza:"",estadoanteriordesplaza:"",estadotxt:"",tipobeneficiario:"",tipobeneficiariotxt:"",tipoidentcodigo:"",identificacion:"",beneficiario:"",cargo:"",rolinvitado:"",direccion:"",telefono:"",email:"",fechanacimiento:"",valorcontrato:0,tiposalario:"",txttiposalario:"",mesescontrato:"",requieretiquetes:"",objetivogeneral:"",viaticos:"",pagoanticipado:"",reembolso:"",valortiquetes:0,gastosviaje:"",desgastosviaje:"",valorgastosviaje:0,observaciondesplaza:"",valorviaticos:0,valorbaseben:0,viaticosok:!1,gastosviajeok:!1,arrRubrosGen:[],arrDestinos:[],arrDestinosadd:[],searchDestinos:"",searchDestinosAdd:"",verNuevosdestinos:!1,verSumarDias:!1,formTitleDestinos:"",validDestinos:!1,itemactualdes:"",codigodestino:0,origennacional:"",origeninternacional:"",destinonacional:"",destinointernacional:"",txtdestinoorigen:"",txtdestinofinal:"",fechaida:"",fecharegreso:"",tipotransporte:"",tarifa:0,moneda:0,simbolomoneda:"",tasa:0,tarifapesos:0,totaltarifa:0,diasviaje:0,tipolugarorigen:"",tipolugardestino:"",nombretipoorigen:"",nombretipodestino:"",codigotipolugarorigen:"",codigotipolugardestino:"",nombrelugarorigen:"",nombrelugardestino:"",menuDate2:!1,menuDate3:!1,tipodestino:"",lugaractual:"",nombrelugaractual:"",tipodesplazamiento:"",tipolugar:"",arrtipolugar:[],codigotipolugar:"",arrLugares:[],searchdestinoadd:"",dialog_adddestino:!1,dialog_destinos:!1,editdestinos:-1},v_(t,"arrLugares",[]),v_(t,"estadoComparaNovedad",0),v_(t,"visiblecausal",!1),v_(t,"dialog_sumdias",!1),v_(t,"itemactsumdias",""),v_(t,"fechafinanterior",""),v_(t,"fechafinnueva",""),v_(t,"tipoDestinoNac",[{text:"ASOCIACIONES",value:"A"},{text:"COMUNIDADES",value:"C"},{text:"RESGUARDOS INDÍGENAS",value:"R"},{text:"MUNICIPIOS",value:"M"}]),v_(t,"tipotransporteSel",[{text:"AÉREO",value:"A"},{text:"FLUVIAL",value:"F"},{text:"TERRESTRE",value:"T"}]),v_(t,"headerrubrogen",[{text:"Nombre Convenio",align:"left",sortable:!1,value:"nombreconvenio"},{text:"Nombre Proyecto",align:"left",sortable:!1,value:"nombre"},{text:"Necesidad",align:"left",sortable:!1,value:"descripcion"},{text:"Rubro",value:"rubro",sortable:!1,align:"left"},{text:"Valor",value:"valor",sortable:!1,align:"left"},{text:"Comprometido",value:"comprometido",sortable:!1,align:"left"},{text:"Saldo",value:"saldo",sortable:!1,align:"left"}]),v_(t,"headdestinos",[{text:"Tipo Origen",align:"left",sortable:!1,value:"tipolugarorigen"},{text:"Población Ori.",align:"left",sortable:!1,value:"nombrelugarorigen"},{text:"Lugar Origen",align:"left",sortable:!1,value:"txtdestinoorigen"},{text:"Tipo Destino",align:"left",sortable:!1,value:"tipolugardestino"},{text:"Población Dest.",align:"left",sortable:!1,value:"nombrelugardestino"},{text:"Lugar Destino",align:"left",sortable:!1,value:"txtdestinofinal"},{text:"Fecha Ida",align:"left",sortable:!1,value:"fechaida"},{text:"Fecha Regreso",align:"left",sortable:!1,value:"fecharegreso"},{text:"Dias Viaje",align:"left",sortable:!1,value:"diasviaje"},{text:"Tipo Transporte",align:"left",sortable:!1,value:"txttipotransporte"},{text:"Tarifa",align:"left",sortable:!1,value:"tarifa"},{text:"Moneda",align:"left",sortable:!1,value:"simbolomoneda"},{text:"Tasa",align:"left",sortable:!1,value:"tasa"},{text:"Total Tarifa en Pesos",align:"left",sortable:!1,value:"tarifapesos"}]),v_(t,"headdestinosadd",[{text:"Tipo Origen",align:"left",sortable:!1,value:"tipolugarorigen"},{text:"Población Ori.",align:"left",sortable:!1,value:"nombrelugarorigen"},{text:"Lugar Origen",align:"left",sortable:!1,value:"txtdestinoorigen"},{text:"Tipo Destino",align:"left",sortable:!1,value:"tipolugardestino"},{text:"Población Dest.",align:"left",sortable:!1,value:"nombrelugardestino"},{text:"Lugar Destino",align:"left",sortable:!1,value:"txtdestinofinal"},{text:"Fecha Ida",align:"left",sortable:!1,value:"fechaida"},{text:"Fecha Regreso",align:"left",sortable:!1,value:"fecharegreso"},{text:"Dias Viaje",align:"left",sortable:!1,value:"diasviaje"},{text:"Tipo Transporte",align:"left",sortable:!1,value:"txttipotransporte"},{text:"Tarifa",align:"left",sortable:!1,value:"tarifa"},{text:"Moneda",align:"left",sortable:!1,value:"simbolomoneda"},{text:"Tasa",align:"left",sortable:!1,value:"tasa"},{text:"Total Tarifa en Pesos",align:"left",sortable:!1,value:"tarifapesos"},{text:"Accion",value:"action",sortable:!1},{text:"Sumar Dias",value:"sumardias",sortable:!1,align:"left"}]),v_(t,"headerdestinoAdd",[{text:"Lugar",align:"left",sortable:!1,value:"nombrecompleto"},{text:"Seleccionar",value:"action",sortable:!1}]),v_(t,"rules",{required:function(t){return!!t||"Campo requerido."},valor:function(t){return t>0||"El Valor debe ser mayor a 0."}}),t},methods:{showMessage:function(t,e,a,o){this.$root.$emit("showSnack",{snack:t,time:e,color:a,text:o})},envioNotificacionesEstado:function(){var t=m_(He.a.mark((function t(e,a,o){var i,n,r,s,c,l,d,u,p,m,v,h,f,g,b,x,_,y,k,C,S,w,P,A,j,E,T,D,I,O,N,M,R,F,q,U,$,L,B,G,V,z,X,H,J,Y;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=0,n=60,r=this.identificacion,0!=o){t.next=7;break}for(s=0;s<this.usuariosDIR.length;s++)c=this.usuariosDIR[s],i=c.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});t.next=49;break;case 7:l=0;case 8:if(!(l<this.usuariossistema.length)){t.next=16;break}if(d=this.usuariossistema[l],this.usuarionovedad!=d.usuarioid){t.next=13;break}return i=d.codigopersonal,t.abrupt("break",16);case 13:l++,t.next=8;break;case 16:if(""!=i&&0!=i&&this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r}),1!=a){t.next=49;break}u=0,u=35==parseInt(this.codigoestadodesplaza)?this.estadoanteriordesplaza:this.codigoestadodesplaza,t.t0=parseInt(u),t.next=22===t.t0?23:23===t.t0?25:25===t.t0?29:26===t.t0?33:29===t.t0?38:32===t.t0?43:48;break;case 23:for(p=0;p<this.usuariosPlanViaticos.length;p++)m=this.usuariosPlanViaticos[p],i=m.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});return t.abrupt("break",49);case 25:for(v=0;v<this.usuariosPlanViaticos.length;v++)h=this.usuariosPlanViaticos[v],i=h.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});for(f=0;f<this.usuariosFI.length;f++)g=this.usuariosFI[f],i=g.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});for(b=0;b<this.usuariosTH.length;b++)x=this.usuariosTH[b],i=x.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});return t.abrupt("break",49);case 29:for(_=0;_<this.usuariosPlanViaticos.length;_++)y=this.usuariosPlanViaticos[_],i=y.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});for(k=0;k<this.usuariosFI.length;k++)C=this.usuariosFI[k],i=C.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});for(S=0;S<this.usuariosTH.length;S++)w=this.usuariosTH[S],i=w.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});return t.abrupt("break",49);case 33:for(P=0;P<this.usuariosPlanViaticos.length;P++)A=this.usuariosPlanViaticos[P],i=A.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});for(j=0;j<this.usuariosFI.length;j++)E=this.usuariosFI[j],i=E.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});for(T=0;T<this.usuariosTH.length;T++)D=this.usuariosTH[T],i=D.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});if(1==a)for(I=0;I<this.usuariosPRE.length;I++)O=this.usuariosPRE[I],i=O.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});return t.abrupt("break",49);case 38:for(N=0;N<this.usuariosPlanViaticos.length;N++)M=this.usuariosPlanViaticos[N],i=M.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});for(R=0;R<this.usuariosFI.length;R++)F=this.usuariosFI[R],i=F.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});for(q=0;q<this.usuariosTH.length;q++)U=this.usuariosTH[q],i=U.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});if(1==a)for($=0;$<this.usuariosPRE.length;$++)L=this.usuariosPRE[$],i=L.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});return t.abrupt("break",49);case 43:for(B=0;B<this.usuariosPlanViaticos.length;B++)G=this.usuariosPlanViaticos[B],i=G.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});for(V=0;V<this.usuariosFI.length;V++)z=this.usuariosFI[V],i=z.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});for(X=0;X<this.usuariosTH.length;X++)H=this.usuariosTH[X],i=H.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});if(1==a)for(J=0;J<this.usuariosPRE.length;J++)Y=this.usuariosPRE[J],i=Y.codigopersonal,this.$root.$emit("enviarNotificaciones",{codigopersona:i,mensajenotificacion:e.mensajenotificacion,asuntocorreo:e.asuntocorreo,mensajecorreo:e.mensajecorreo,codigoopcion:n,numerointerno:r});return t.abrupt("break",49);case 48:return t.abrupt("break",49);case 49:case"end":return t.stop()}}),t,this)})));function e(e,a,o){return t.apply(this,arguments)}return e}(),limpiarDataDesplazamiento:function(){this.codigodesplaza=0,this.fecha="",this.codigoestadodesplaza=0,this.estadoanteriordesplaza=0,this.estadotxt="",this.tipobeneficiario="",this.tipobeneficiariotxt="",this.tipoidentcodigo="",this.identificacion="",this.beneficiario="",this.cargo="",this.rolinvitado="",this.direccion="",this.telefono="",this.email="",this.fechanacimiento="",this.valorcontrato=0,this.tiposalario="",this.txttiposalario="",this.mesescontrato="",this.requieretiquetes="",this.objetivogeneral="",this.viaticos="",this.pagoanticipado="",this.reembolso="",this.valortiquetes=0,this.gastosviaje="",this.desgastosviaje="",this.valorgastosviaje=0,this.observaciondesplaza="",this.valorviaticos=0,this.valorbaseben=0,this.viaticosok=!1,this.gastosviajeok=!1,this.arrRubrosGen=[],this.arrDestinos=[],this.arrDestinosadd=[]},traerDataPrincipal:function(){var t=this;this.loading=!0,this.data=[],r_.getData().then((function(e){e.request&&e.data&&(t.data=e.data.data),t.loading=!1})).catch((function(e){t.loading=!1}))},traerDataDestinos:function(){var t=this;this.arrDestinosadd=[],r_.getDestinos(this.codigo).then((function(e){e.request&&e.data&&(t.arrDestinosadd=e.data.data)})).catch((function(t){}))},traeTiposNovedad:function(){var t=this;this.dataTiposNovedad=[],c_.getData().then((function(e){e.request&&e.data&&(t.dataTiposNovedad=e.data.data)})).catch((function(t){}))},traeCausalesRechazo:function(){var t=this;this.dataCausalesRechazo=[],d_.getData().then((function(e){e.request&&e.data&&(t.dataCausalesRechazo=e.data.data)})).catch((function(t){}))},traeEstados:function(){var t=this;this.dataestados=[],ve["a"].getEstadosXTipo(6).then((function(e){e.request&&e.data&&(t.dataestados=e.data.data)})).catch((function(t){}))},traeDesplazamientos:function(){var t=this;this.datadesplazamiento=[];var e=this.usuarioactual;this.esUsuarioDIR&&(e="0"),Tr.getDataXEstadoUsuario(e).then((function(e){e.request&&e.data&&(t.datadesplazamiento=e.data.data)})).catch((function(t){}))},traeUsuariosPerfiles:function(){var t=m_(He.a.mark((function t(){var e,a,o,i,n,r,s,c;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.usuariosPlanViaticos=[],this.usuariosTH=[],this.usuariosFI=[],this.usuariosDIR=[],this.usuariosPRE=[],this.usuariosTES=[],this.readonlyData=!1,this.esUsuarioDIR=!1,t.prev=8,t.next=11,it.getUsuariosXPerfil(6);case 11:return e=t.sent,t.next=14,it.getUsuariosXPerfil(7);case 14:return a=t.sent,t.next=17,it.getUsuariosXPerfil(8);case 17:return o=t.sent,t.next=20,it.getUsuariosXPerfil(9);case 20:return i=t.sent,t.next=23,it.getUsuariosXPerfil(10);case 23:return n=t.sent,t.next=26,it.getUsuariosXPerfil(11);case 26:r=t.sent,e.data&&(this.usuariosPlanViaticos=e.data.data),a.data&&(this.usuariosTH=a.data.data),o.data&&(this.usuariosFI=o.data.data),i.data&&(this.usuariosDIR=i.data.data),n.data&&(this.usuariosPRE=n.data.data),r.data&&(this.usuariosTES=r.data.data),s=0;case 34:if(!(s<this.usuariosDIR.length)){t.next=43;break}if(c=this.usuariosDIR[s],this.usuarioactual!=c.usuarioid){t.next=40;break}return this.esUsuarioDIR=!0,this.readonlyData=!0,t.abrupt("break",43);case 40:s++,t.next=34;break;case 43:this.traeDesplazamientos(),t.next=48;break;case 46:t.prev=46,t.t0=t["catch"](8);case 48:return t.prev=48,t.finish(48);case 50:case"end":return t.stop()}}),t,this,[[8,46,48,50]])})));function e(){return t.apply(this,arguments)}return e}(),traeUsuarios:function(){var t=this;this.usuariossistema=[],it.getUsuarios().then((function(e){e.request&&e.data&&(t.usuariossistema=e.data.data)})).catch((function(t){}))},setDataDesplazamianto:function(){if(this.limpiarDataDesplazamiento(),this.seldesplaza.length>0){var t=this.seldesplaza[0];this.codigodesplaza=t.codigo,this.fecha=t.fecha,this.codigoestadodesplaza=t.estadocodigo,this.estadoanteriordesplaza=t.estadoantcodigo,this.estadotxt=t.estado,this.tipobeneficiario=t.tipobeneficiario,this.tipobeneficiariotxt=t.tipobeneficiariotxt,this.tipoidentcodigo=t.tipoidentificacion,this.identificacion=t.identificacion,this.beneficiario=t.beneficiario,this.cargo=t.cargo,this.rolinvitado=t.rolinvitado,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,this.fechanacimiento=t.fechanacimiento,this.valorcontrato=this.number_format(t.valorcontrato,0),this.tiposalario=t.txttiposalario,this.mesescontrato=t.mesescontrato,this.requieretiquetes=t.requieretiquetestxt,this.objetivogeneral=t.objetivogeneral,this.viaticos=t.viaticostxt,this.pagoanticipado="S"==t.pagoanticipado?"SI":"NO",this.reembolso=this.number_format(t.desviaree,0),this.valortiquetes=this.number_format(t.valortiquetes,0),this.gastosviaje=t.gastosviajetxt,this.desgastosviaje=t.desgastosviaje,this.valorgastosviaje=this.number_format(t.valorgastosviaje,0),this.observaciondesplaza=t.observacion,this.valorviaticos=this.number_format(t.valorviaticos,0),this.valorbaseben=this.number_format(t.valorbaseben,0),this.viaticosok="S"==t.viaticos,this.gastosviajeok="S"==t.gastosviaje,this.traerRubros(),this.traerDestinos()}this.dialog_adddesplazamiento=!1},number_format:function(t,e){if(t+="",t=parseFloat(t.replace(/[^0-9\.]/g,"")),e=e||0,isNaN(t)||0===t)return parseFloat(0).toFixed(e);t=""+t.toFixed(e);var a=t.split("."),o=/(\d+)(\d{3})/;while(o.test(a[0]))a[0]=a[0].replace(o,"$1.$2");return a.join(",")},limpiarDataNovedad:function(){this.codigo=0,this.tiponovedad="",this.causalrechazo="",this.estado="",this.observacion="",this.usuarionovedad=""},traerRubros:function(){var t=this;this.arrRubrosGen=[],Tr.rubrosXCodigo(this.codigodesplaza).then((function(e){e.request&&e.data&&(t.arrRubrosGen=e.data)})).catch((function(t){}))},traerDestinos:function(){var t=this;this.arrDestinos=[],Tr.destinosXCodigo(this.codigodesplaza).then((function(e){e.request&&e.data&&(t.arrDestinos=e.data.data)})).catch((function(t){}))},mostrarOcultarNuevosDestinos:function(){var t="object"==u_(this.tiponovedad)?this.tiponovedad.codigo:this.tiponovedad;parseInt(t)>=1&&parseInt(t)<=3?this.verNuevosdestinos=!0:this.verNuevosdestinos=!1,5==parseInt(t)?(this.verSumarDias=!0,this.arrDestinosadd=[],this.arrDestinosadd=this.arrDestinos.slice()):(this.verSumarDias=!1,this.arrDestinosadd=[])},abrirDialogoDestinos:function(t){this.tipodestino="",this.lugaractual="",this.nombrelugaractual="",this.tipodesplazamiento=t,this.tipolugar="",this.arrtipolugar=[],this.codigotipolugar="",this.arrLugares=[],this.searchdestinoadd="",this.dialog_adddestino=!0},calcularValorDias:function(){var t=0;if(this.diasviaje=0,""!=this.fechaida&&""!=this.fecharegreso){var e=new Date(this.fechaida),a=new Date(this.fecharegreso);if(e>a)return;var o=e.getTime(),i=a.getTime(),n=i-o;t=n/864e5,this.diasviaje=t;var r=this.limpiarMoneda(this.tasa),s=this.limpiarMoneda(this.tarifa),c=parseFloat(t)*parseFloat(s);this.totaltarifa=this.number_format(c,2),this.tarifapesos=0==parseFloat(r)?this.number_format(c,2):this.number_format(parseFloat(r)*parseFloat(c),2)}},cerrarDialogoDestino:function(){this.resetFormDestino(),this.dialog_destinos=!1,this.editdestinos=-1,this.arrLugares=[]},resetFormDestino:function(){this.codigodestino=0,this.origennacional="",this.origeninternacional="",this.destinonacional="",this.destinointernacional="",this.txtdestinoorigen="",this.txtdestinofinal="",this.fechaida="",this.fecharegreso="",this.tipotransporte="",this.tarifa=0,this.moneda=0,this.simbolomoneda="",this.tasa=0,this.tarifapesos=0,this.totaltarifa=0,this.diasviaje=0,this.tipolugarorigen="",this.tipolugardestino="",this.nombretipoorigen="",this.nombretipodestino="",this.codigotipolugarorigen="",this.codigotipolugardestino="",this.nombrelugarorigen="",this.nombrelugardestino=""},agregarDestino:function(){var t=m_(He.a.mark((function t(){var e,a,o,i,n,r,s,c,l,d,u,p,m,v,h,f,g,b,x;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("o"!=this.tipodesplazamiento){t.next=12;break}this.origennacional="",this.origeninternacional="",this.txtdestinoorigen="",this.tipolugarorigen="",this.nombretipoorigen="",this.nombrelugarorigen="",this.codigotipolugarorigen="","n"==this.tipodestino?(e="object"==u_(this.tipolugar)?this.tipolugar.value:this.tipolugar,a="object"==u_(this.tipolugar)?this.tipolugar.text:"",o="object"==u_(this.codigotipolugar)?this.codigotipolugar.codigo:this.codigotipolugar,i="object"==u_(this.codigotipolugar)?this.codigotipolugar.nombre:"",this.origennacional=this.lugaractual,this.tipolugarorigen=e,this.nombretipoorigen=a,this.nombrelugarorigen=i,this.codigotipolugarorigen=o):this.origeninternacional=this.lugaractual,this.txtdestinoorigen=this.nombrelugaractual.trim().toUpperCase(),t.next=81;break;case 12:if(this.destinonacional="",this.destinointernacional="",this.txtdestinofinal="",this.tipolugardestino="",this.nombretipodestino="",this.nombrelugardestino="",this.codigotipolugardestino="",n=this.limpiarMoneda(this.valorbaseben),"n"!=this.tipodestino){t.next=52;break}this.destinonacional=this.lugaractual,r="object"==u_(this.tipolugar)?this.tipolugar.value:this.tipolugar,s="object"==u_(this.tipolugar)?this.tipolugar.text:"",c="object"==u_(this.codigotipolugar)?this.codigotipolugar.codigo:this.codigotipolugar,l="object"==u_(this.codigotipolugar)?this.codigotipolugar.nombre:"",this.tipolugardestino=r,this.nombretipodestino=s,this.nombrelugardestino=l,this.codigotipolugardestino=c,d=this.destinonacional.substring(3,5),u=0,p=0;case 33:if(!(p<this.tarifas.length)){t.next=50;break}if(m=this.tarifas[p],1!=m.codigolugar||"01"!=d){t.next=39;break}parseFloat(n)>=parseFloat(m.rangoinicial)&&parseFloat(n)<=parseFloat(m.rangofinal)&&(v=0,this.tarifa=this.number_format(m.valordiario,2),this.totaltarifa=parseFloat(this.diasviaje)*parseFloat(m.valordiario),this.moneda=1,this.simbolomoneda="$ ",this.tasa=this.number_format(this.tmptasa),v=parseFloat(this.totaltarifa)*parseFloat(this.tmptasa),this.tarifapesos=0==parseFloat(this.tmptasa)?this.number_format(this.totaltarifa,2):this.number_format(v,2),u=1),t.next=45;break;case 39:if(2!=m.codigolugar){t.next=43;break}parseFloat(n)>=parseFloat(m.rangoinicial)&&parseFloat(n)<=parseFloat(m.rangofinal)&&(h=0,this.tarifa=this.number_format(m.valordiario,2),this.totaltarifa=parseFloat(this.diasviaje)*parseFloat(m.valordiario),this.moneda=1,this.simbolomoneda="$ ",this.tasa=this.number_format(this.tmptasa),h=parseFloat(this.totaltarifa)*parseFloat(this.tmptasa),this.tarifapesos=0==parseFloat(this.tmptasa)?this.number_format(this.totaltarifa,2):this.number_format(h,2),u=1),t.next=45;break;case 43:if(!(m.codigolugar>2)){t.next=45;break}return t.abrupt("break",50);case 45:if(1!=u){t.next=47;break}return t.abrupt("break",50);case 47:p++,t.next=33;break;case 50:t.next=80;break;case 52:return this.destinointernacional=this.lugaractual,this.tarifaspaises=[],t.next=56,Ir.getRangosXPais(this.lugaractual);case 56:if(f=t.sent,f.data&&(this.tarifaspaises=f.data.data),this.tarifa=this.number_format(0),this.moneda="",this.simbolomoneda="",this.tasa=this.number_format(this.tmptasa),this.tarifapesos=this.number_format(0),!(this.tarifaspaises.length>0)){t.next=80;break}g=0;case 65:if(!(g<this.tarifaspaises.length)){t.next=80;break}if(b=this.tarifaspaises[g],!(parseFloat(n)>=parseFloat(b.rangoinicial)&&parseFloat(n)<=parseFloat(b.rangofinal))){t.next=77;break}return x=0,this.tarifa=this.number_format(b.valordiario,2),this.totaltarifa=parseFloat(this.diasviaje)*parseFloat(b.valordiario),this.moneda=this.tmpmoneda,this.simbolomoneda=this.tmpsimbolomoneda,this.tasa=this.number_format(this.tmptasa),x=parseFloat(this.totaltarifa)*parseFloat(this.tmptasa),this.tarifapesos=0==parseFloat(this.tmptasa)?this.number_format(this.totaltarifa,2):this.number_format(x,2),t.abrupt("break",80);case 77:g++,t.next=65;break;case 80:this.txtdestinofinal=this.nombrelugaractual.trim().toUpperCase();case 81:this.dialog_adddestino=!1;case 82:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveitemDestino:function(){var t=m_(He.a.mark((function t(){var e,a,o,i,n,r,s,c,l,d,u,p,m,v,h,f,g,b,x,_,y,k,C,S,w,P;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=0,""==this.fechaida||""==this.fecharegreso){t.next=36;break}if(a=this.fechaida.split("-"),o=this.fecharegreso.split("-"),i=new Date(a[0],a[1]-1,a[2]),n=new Date(o[0],o[1]-1,o[2]),!(i>n)){t.next=9;break}return this.showMessage(!0,4e3,"error","La Fecha de Ida debe ser menor a la Fecha de Regreso"),t.abrupt("return");case 9:r=i.getTime(),s=n.getTime(),c=s-r,e=c/864e5,l=0;case 14:if(!(l<this.arrDestinosadd.length)){t.next=27;break}if(d=this.arrDestinosadd[l],u=d.fechaida.split("-"),p=d.fecharegreso.split("-"),m=new Date(u[0],u[1]-1,u[2]),v=new Date(p[0],p[1]-1,p[2]),this.codigodestino==d.codigo){t.next=24;break}if(!(i<=m&&n>=m||i>=m&&n<=v||i>m&&i<v&&n>v||i<m&&n>v)){t.next=24;break}return this.showMessage(!0,4e3,"error","Las Fechas Seleccionadas estan dentro de los rangos de otras fechas de Destino actuales"),t.abrupt("return");case 24:l++,t.next=14;break;case 27:return h=a[0]+"-"+a[1]+"-"+a[2],f=o[0]+"-"+o[1]+"-"+o[2],t.next=31,Tr.buscarFechasLugares(this.codigo,this.tipoidentcodigo,this.identificacion,h,f);case 31:if(g=t.sent,!g.data){t.next=36;break}if(!(g.data.length>0)){t.next=36;break}return this.showMessage(!0,4e3,"error","Las Fechas Seleccionadas estan dentro de los rangos de otras fechas para el Destino con código "+g.data[0].descod),t.abrupt("return");case 36:b=0,x=0,_=0;case 39:if(!(_<this.arrDestinosadd.length)){t.next=48;break}if(y=this.arrDestinosadd[_],this.origennacional!=y.origennacional||this.origeninternacional!=y.origeninternacional||this.destinonacional!=y.destinonacional||this.destinointernacional!=y.destinointernacional||this.tipolugarorigen!=y.tipolugarorigen||this.nombrelugarorigen!=y.nombrelugarorigen||this.tipolugardestino!=y.tipolugardestino||this.nombrelugardestino!=y.nombrelugardestino||this.codigodestino==y.codigo){t.next=44;break}return this.showMessage(!0,4e3,"error","Ya existen los lugares de Destino y Origen seleccionados"),t.abrupt("return");case 44:this.codigodestino!=y.codigo&&(b+=y.diasviaje,x+=parseFloat(y.tarifapesos));case 45:_++,t.next=39;break;case 48:if(k=this.limpiarMoneda(this.tarifapesos),C=parseInt(b)+parseInt(e),x+=parseFloat(k),!(C>30)){t.next=54;break}return this.showMessage(!0,4e3,"error","Los días de viaje de todos los destinos no pueden ser superior a 30"),t.abrupt("return");case 54:if(this.totaldiasviaje=C,this.totaltarifasviajes=this.number_format(x,2),0!=this.codigodestino){t.next=62;break}S=this.arrDestinosadd.reduce((function(t,e){return Math.max(t,e.codigo)}),0),S+=1,this.arrDestinosadd.push({desplazamiento:this.codigo,codigo:S,origennacional:this.origennacional,origeninternacional:this.origeninternacional,destinonacional:this.destinonacional,destinointernacional:this.destinointernacional,txtdestinoorigen:this.txtdestinoorigen,txtdestinofinal:this.txtdestinofinal,fechaida:this.fechaida,fecharegreso:this.fecharegreso,tipotransporte:this.tipotransporte,txttipotransporte:"F"==this.tipotransporte?"FLUVIAL":"T"==this.tipotransporte?"TERRRESTRE":"AÉREO",tarifa:this.limpiarMoneda(this.tarifa),moneda:this.moneda,simbolomoneda:this.simbolomoneda,tasa:this.limpiarMoneda(this.tasa),tarifapesos:this.limpiarMoneda(this.tarifapesos),totaltarifa:this.limpiarMoneda(this.totaltarifa),diasviaje:e,tipolugarorigen:this.tipolugarorigen,codigotipolugarorigen:this.codigotipolugarorigen,nombrelugarorigen:this.nombrelugarorigen,tipolugardestino:this.tipolugardestino,codigotipolugardestino:this.codigotipolugardestino,nombrelugardestino:this.nombrelugardestino,nombretipoorigen:this.nombretipoorigen,nombretipodestino:this.nombretipodestino}),t.next=90;break;case 62:w=0;case 63:if(!(w<this.arrDestinosadd.length)){t.next=90;break}if(P=this.arrDestinosadd[w],this.codigodestino!=P.codigo){t.next=87;break}return P.origennacional=this.origennacional,P.origeninternacional=this.origeninternacional,P.destinonacional=this.destinonacional,P.destinointernacional=this.destinointernacional,P.txtdestinoorigen=this.txtdestinoorigen,P.txtdestinofinal=this.txtdestinofinal,P.fechaida=this.fechaida,P.fecharegreso=this.fecharegreso,P.tipotransporte=this.tipotransporte,P.txttipotransporte="F"==this.tipotransporte?"FLUVIAL":"T"==this.tipotransporte?"TERRRESTRE":"AÉREO",P.tarifa=this.limpiarMoneda(this.tarifa),P.moneda=this.moneda,P.simbolomoneda=this.simbolomoneda,P.tasa=this.limpiarMoneda(this.tasa),P.tarifapesos=this.limpiarMoneda(this.tarifapesos),P.totaltarifa=this.limpiarMoneda(this.totaltarifa),P.diasviaje=e,P.tipolugarorigen=this.tipolugarorigen,P.codigotipolugarorigen=this.codigotipolugarorigen,P.nombrelugarorigen=this.nombrelugarorigen,P.tipolugardestino=this.tipolugardestino,P.codigotipolugardestino=this.codigotipolugardestino,P.nombrelugardestino=this.nombrelugardestino,P.nombretipoorigen=this.nombretipoorigen,P.nombretipodestino=this.nombretipodestino,t.abrupt("break",90);case 87:w++,t.next=63;break;case 90:this.cerrarDialogoDestino();case 91:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),traerDataPoblacionOrigen:function(){var t=m_(He.a.mark((function t(){var e,a;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.arrtipolugar=[],this.codigotipolugar=0,this.arrLugares=[],e="object"==u_(this.tipolugar)?this.tipolugar.value:this.tipolugar,a=[],t.t0=e,t.next="A"===t.t0?8:"C"===t.t0?12:"R"===t.t0?16:"M"===t.t0?20:22;break;case 8:return t.next=10,qr.getData();case 10:return a=t.sent,t.abrupt("break",23);case 12:return t.next=14,qr.soloComunidades();case 14:return a=t.sent,t.abrupt("break",23);case 16:return t.next=18,$r.getData();case 18:return a=t.sent,t.abrupt("break",23);case 20:return this.arrLugares=this.arrCiudades,t.abrupt("break",23);case 22:return t.abrupt("break",23);case 23:a.data&&(this.arrtipolugar=a.data.data);case 24:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),traerCiudadesPoblacion:function(){var t=m_(He.a.mark((function t(){var e,a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.arrLugares=[],e="object"==u_(this.codigotipolugar)?this.codigotipolugar.codigo:this.codigotipolugar,a="object"==u_(this.tipolugar)?this.tipolugar.value:this.tipolugar,o=[],t.t0=a,t.next="A"===t.t0?7:"C"===t.t0?11:"R"===t.t0?15:19;break;case 7:return t.next=9,qr.asociacionesCiudades(e);case 9:return o=t.sent,t.abrupt("break",20);case 11:return t.next=13,qr.comunidadesCiudades(e);case 13:return o=t.sent,t.abrupt("break",20);case 15:return t.next=17,$r.resguardosSoloCiudades(e);case 17:return o=t.sent,t.abrupt("break",20);case 19:return t.abrupt("break",20);case 20:o.data&&(this.arrLugares=o.data.data);case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),traeLugares:function(){this.arrLugares=[],"n"==this.tipodestino||"i"==this.tipodestino&&(this.arrLugares=this.arrPaises)},traePaises:function(){this.arrPaises=[];var t=this;Ir.getTarifasXPaises().then((function(e){e.request&&e.data&&(t.arrPaises=e.data)})).catch((function(t){}))},traeCiudades:function(){this.arrCiudades=[];var t=this;qi["a"].getData().then((function(e){e.request&&e.data&&(t.arrCiudades=e.data.data)})).catch((function(t){}))},seleccionarlugaractual:function(t){this.tarifa=0,this.moneda=0,this.simbolomoneda="",this.tasa=0,this.tarifapesos=0,this.tmptarifa=0,this.tmpmoneda=0,this.tmpsimbolomoneda="",this.tmptasa=0,this.tmptarifapesos=0,this.lugaractual=t.codigo,this.nombrelugaractual=t.nombrecompleto;var e=0;if("o"==this.tipodesplazamiento)if(""!=this.destinonacional){var a="object"==u_(this.tipolugar)?this.tipolugar.value:this.tipolugar,o="object"==u_(this.codigotipolugar)?this.codigotipolugar.nombre:"";this.lugaractual==this.destinonacional&&a==this.tipolugardestino&&o==this.nombrelugardestino&&(e=1)}else""!=this.destinointernacional&&this.lugaractual==this.destinointernacional&&(e=1);else if(""!=this.origennacional){var i="object"==u_(this.tipolugar)?this.tipolugar.value:this.tipolugar,n="object"==u_(this.codigotipolugar)?this.codigotipolugar.nombre:"";this.lugaractual==this.origennacional&&i==this.tipolugarorigen&&n==this.nombrelugarorigen&&(e=1)}else""!=this.origeninternacional&&this.lugaractual==this.origeninternacional&&(e=1);if(1==e)return this.lugaractual="",this.nombrelugaractual="",void this.showMessage(!0,4e3,"error","El Lugar de Origen y Destino no pueden ser el mismo");this.tmptarifa=t.tarifa,this.tmpmoneda=t.moneda,this.tmpsimbolomoneda=t.simbolomoneda,this.tmptasa=t.tasa,this.tmptarifapesos=t.tarifapesos},eliminaItemdestinos:function(t){for(var e=0;e<this.arrDestinosadd.length;e++){var a=this.arrDestinosadd[e];if(t.codigo==a.codigo)return void this.arrDestinosadd.splice(e,1)}},limpiarMoneda:function(t){var e=t.toString().replace(",00","").replace(/[$.]/gi,"");return e=e.replace(/[,]/gi,"."),e},traerTarifas:function(){var t=this;Ir.getRangosNacionales().then((function(e){e.request&&e.data&&(t.tarifas=e.data.data)})).catch((function(t){}))},guardarNovedad:function(){var t=[],e={},a="",o="",i="",n="",r="";if(0==this.edit){if(a="object"==u_(this.tiponovedad)?this.tiponovedad.codigo:this.tiponovedad,o="object"==u_(this.tiponovedad)?this.tiponovedad.descripcion:"",""==this.tiponovedad)return void this.showMessage(!0,4e3,"error","Debe seleccionar el Tipo de Novedad");if(""==this.observacion)return void this.showMessage(!0,4e3,"error","Debe ingresar el motivo");if(""==this.codigodesplaza||0==this.codigodesplaza)return void this.showMessage(!0,4e3,"error","Debe seleccionar un Desplazamiento");if(parseInt(a)<=3&&this.arrDestinosadd.length<=0)return void this.showMessage(!0,4e3,"error","Debe ingresar al menos un Itinerario nuevo");i=0;var s=36;e={codigo:this.codigo,codigodesplaza:this.codigodesplaza,tiponovedad:a,motivo:this.observacion,estado:s,usuario:this.usuarioactual,causalrechazo:0};(parseInt(a)<=3||5==parseInt(a))&&(t=this.arrDestinosadd),n="Se creó la Novedad tipo '"+o+"' para el Desplazamiento con Código "+this.codigodesplaza+", para el Beneficiario: "+this.beneficiario,r="TIPO: '"+o+"' CODIGO DESPLAZAMIENTO: "+this.codigodesplaza+", BENEFICIARIO "+this.beneficiario}else{var c="object"==u_(this.estado)?this.estado.codigo:this.estado,l="object"==u_(this.estado)?this.estado.descripcion:"";if(""==c)return void this.showMessage(!0,4e3,"error","Debe ingresar el estado de la Novedad");if(34==parseInt(c)&&""==this.causalrechazo)return void this.showMessage(!0,4e3,"error","Debe ingresar la Causal de Rechazo");a="object"==u_(this.tiponovedad)?this.tiponovedad.codigo:this.tiponovedad,o="object"==u_(this.tiponovedad)?this.tiponovedad.descripcion:this.itemactual.tiponovedad;var d="object"==u_(this.causalrechazo)?this.causalrechazo.codigo:this.causalrechazo,u="object"==u_(this.causalrechazo)?this.causalrechazo.descripcion:"";5==parseInt(a)&&(t=this.arrDestinosadd);e={codigo:this.codigo,codigodesplaza:this.codigodesplaza,tiponovedad:a,motivo:"",estado:c,usuario:"",causalrechazo:d};var p="33"==c?" aprobó":" rechazó";n="Se "+p+" la novedad '"+o.toLowerCase()+"' para el Desplazamienro con Código "+this.codigodesplaza+", para el Beneficiario: "+this.beneficiario,"34"==c?(i=0,n+=". Causal: "+u):i=1,r="NUEVO ESTADO: "+l+". TIPO NOVEDAD: '"+o+"' CODIGO DESPLAZAMIENTO: "+this.codigodesplaza+", BENEFICIARIO "+this.beneficiario}this.loading=!0;var m=this;r_.guardarNovedad(e,t).then((function(t){if(t.response){var e=t.response.data.message;m.showMessage(!0,3e3,"error",e)}else if(t.statusText){var a="",o="";m.edit?(a="Actualizó",o="APROBAR/RECHAZAR"):(a="Agregó",o="CREACION"),m.showMessage(!0,3e3,"success","Se "+a+" la Novedad con éxito");var s="Cordial Saludo,<br><br> "+n+"<br><br>Agradeciendo su atención,<br><br> <b>SINCHI</b><br><br> <i>Este es un servicio de notificaciones generado automáticamente por medio de correo electrónico, no lo responda.</i> <br>";m.envioNotificacionesEstado({mensajenotificacion:n,asuntocorreo:"Novedad de Desplazamiento",mensajecorreo:s},i,m.edit),m.edit=-1,m.traerDataPrincipal(),m.agregaBitacora(o,r),m.dialog_desplazamiento=!1}else m.showMessage(!0,3e3,"error",t.message);m.loading=!1})).catch((function(t){m.showMessage(!0,3e3,"error",t),m.loading=!1}))},traeDesplazamiento:function(){var t=m_(He.a.mark((function t(){var e,a,o;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Tr.getDataXCodigo(this.codigodesplaza);case 2:e=t.sent,a=[],e.data&&(a=e.data.data),o=a[0],this.codigodesplaza=o.codigo,this.fecha=o.fecha,this.codigoestadodesplaza=o.estadocodigo,this.estadoanteriordesplaza=o.estadoantcodigo,this.estadotxt=o.estado,this.tipobeneficiario=o.tipobeneficiario,this.tipobeneficiariotxt=o.tipobeneficiariotxt,this.tipoidentcodigo=o.tipoidentificacion,this.identificacion=o.identificacion,this.beneficiario=o.beneficiario,this.cargo=o.cargo,this.rolinvitado=o.rolinvitado,this.direccion=o.direccion,this.telefono=o.telefono,this.email=o.email,this.fechanacimiento=o.fechanacimiento,this.valorcontrato=this.number_format(o.valorcontrato,0),this.tiposalario=o.txttiposalario,this.mesescontrato=o.mesescontrato,this.requieretiquetes=o.requieretiquetestxt,this.objetivogeneral=o.objetivogeneral,this.viaticos=o.viaticostxt,this.pagoanticipado="S"==o.pagoanticipado?"SI":"NO",this.reembolso=this.number_format(o.desviaree,0),this.valortiquetes=this.number_format(o.valortiquetes,0),this.gastosviaje=o.gastosviajetxt,this.desgastosviaje=o.desgastosviaje,this.valorgastosviaje=this.number_format(o.valorgastosviaje,0),this.observaciondesplaza=o.observacion,this.valorviaticos=this.number_format(o.valorviaticos,0),this.valorbaseben=this.number_format(o.valorbaseben,0),this.viaticosok="S"==o.viaticos,this.gastosviajeok="S"==o.gastosviaje,this.traerRubros(),this.traerDestinos();case 41:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),habilitacausal:function(){var t="object"==u_(this.estado)?this.estado.codigo:this.estado;this.visiblecausal=!1,34==t?this.visiblecausal=!0:this.causalrechazo=""},agregarDias:function(){var t=m_(He.a.mark((function t(){var e,a,o,i,n,r,s,c,l,d,u,p,m,v,h,f,g,b,x,_,y,k,C,S,w,P,A,j,E,T,D,I,O,N,M,R,F,q,U,$;return He.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.itemactsumdias.fechaida,a=this.fechafinnueva,o=this.fechafinanterior,i=0,""==a){t.next=70;break}if(n=e.split("-"),r=a.split("-"),s=o.split("-"),c=new Date(n[0],n[1]-1,n[2]),l=new Date(r[0],r[1]-1,r[2]),d=new Date(s[0],s[1]-1,s[2]),!(c>l)){t.next=16;break}return this.showMessage(!0,4e3,"error","La Fecha de Ida debe ser menor a la Fecha de Regreso"),t.abrupt("return");case 16:if(!(l<=d)){t.next=19;break}return this.showMessage(!0,4e3,"error","La nueva fecha de regreso debe ser mayor a la fecha de regreso anterior"),t.abrupt("return");case 19:return u=c.getTime(),p=l.getTime(),m=p-u,i=m/864e5,v=n[0]+"-"+n[1]+"-"+n[2],h=r[0]+"-"+r[1]+"-"+r[2],t.next=27,Tr.buscarFechasLugares(this.codigo,this.tipoidentcodigo,this.identificacion,v,h);case 27:if(f=t.sent,!f.data){t.next=32;break}if(!(f.data.length>0)){t.next=32;break}return this.showMessage(!0,4e3,"error","Las Fechas Seleccionadas estan dentro de los rangos de otras fechas para el Destino con código "+f.data[0].descod),t.abrupt("return");case 32:for(g=0,0,b=0;b<this.arrDestinosadd.length;b++)x=this.arrDestinosadd[b],this.itemactsumdias.codigo!=x.codigo&&(g+=x.diasviaje);if(_=parseInt(g)+parseInt(i),!(_>30)){t.next=39;break}return this.showMessage(!0,4e3,"error","Los días de viaje de todos los destinos no pueden ser superior a 30"),t.abrupt("return");case 39:y=parseInt(i)-parseInt(this.itemactsumdias.diasviaje),k=this.itemactsumdias.tarifa,C=this.itemactsumdias.diasviaje,S=this.itemactsumdias.tasa,w=C-1,P=1,A=parseFloat(k)*parseFloat(w),j=parseFloat(k)/2*parseFloat(P),E=A+j,T=parseFloat(S)>0?E*parseFloat(S):E,D=parseInt(y)-1,I=1,O=parseFloat(k)*parseFloat(D),N=parseFloat(k)/2*parseFloat(I),M=O+N,R=parseFloat(S)>0?M*parseFloat(S):M,F=E+M,q=T+R,U=0;case 58:if(!(U<this.arrDestinosadd.length)){t.next=69;break}if($=this.arrDestinosadd[U],this.itemactsumdias.codigo!=$.codigo){t.next=66;break}return $.fecharegreso=a,$.tarifapesos=q,$.totaltarifa=F,$.diasviaje=i,t.abrupt("break",69);case 66:U++,t.next=58;break;case 69:this.dialog_sumdias=!1;case 70:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),agregaBitacora:function(t,e){var a={modulo:this.modulo,accion:t,detalle:e};this.$root.$emit("agregaBitacora",a)}},watch:{edit:function(t){this.limpiarDataNovedad(),this.limpiarDataDesplazamiento(),t?(this.formTitle="Editar",this.codigo=this.itemactual.codigo,this.tiponovedad=this.itemactual.codigotiponovedad,this.causalrechazo=this.itemactual.codigocausalrechazo,this.estado=this.itemactual.codigoestado,this.observacion=this.itemactual.observacion,this.tiponovedadtxt=this.itemactual.tiponovedad,this.codigodesplaza=this.itemactual.desplazamiento,this.usuarionovedad=this.itemactual.codigousuario,this.estadoComparaNovedad=this.itemactual.codigoestado,5==parseInt(this.itemactual.codigotiponovedad)||parseInt(this.itemactual.codigotiponovedad)>=1&&parseInt(this.itemactual.codigotiponovedad)<=3?this.verNuevosdestinos=!0:this.verNuevosdestinos=!1,this.habilitacausal(),this.traerDataDestinos(),this.traeDesplazamiento()):(this.formTitle="Nueva",this.estadoComparaNovedad=0),this.tabs="tab-1"},editdestinos:function(t){t?(this.formTitleDestinos="Editar",this.codigodestino=this.itemactualdes.codigo,this.origennacional=this.itemactualdes.origennacional,this.origeninternacional=this.itemactualdes.origeninternacional,this.destinonacional=this.itemactualdes.destinonacional,this.destinointernacional=this.itemactualdes.destinointernacional,this.txtdestinoorigen=this.itemactualdes.txtdestinoorigen,this.txtdestinofinal=this.itemactualdes.txtdestinofinal,this.fechaida=this.itemactualdes.fechaida,this.fecharegreso=this.itemactualdes.fecharegreso,this.tipotransporte=this.itemactualdes.tipotransporte,this.txttipotransporte="F"==this.itemactualdes.tipotransporte?"FLUVIAL":"T"==this.itemactualdes.tipotransporte?"TERRRESTRE":"AÉREO",this.tarifa=this.number_format(this.itemactualdes.tarifa,2),this.moneda=this.itemactualdes.moneda,this.simbolomoneda=this.itemactualdes.simbolomoneda,this.tasa=this.number_format(this.itemactualdes.tasa,2),this.tarifapesos=this.number_format(this.itemactualdes.tarifapesos,2),this.totaltarifa=this.itemactualdes.totaltarifa,this.diasviaje=this.itemactualdes.diasviaje,this.tipolugarorigen=this.itemactualdes.tipolugarorigen,this.tipolugardestino=this.itemactualdes.tipolugardestino,this.nombretipoorigen=this.itemactualdes.nombretipoorigen,this.nombretipodestino=this.itemactualdes.nombretipodestino,this.codigotipolugarorigen=this.itemactualdes.codigotipolugarorigen,this.codigotipolugardestino=this.itemactualdes.codigotipolugardestino,this.nombrelugarorigen=this.itemactualdes.nombrelugarorigen,this.nombrelugardestino=this.itemactualdes.nombrelugardestino):(this.resetFormDestino(),this.formTitleDestinos="Nuevo")},tipodestino:function(t){this.traeLugares()}},mounted:function(){this.usuarioactual=this.$session.get("usuarioid"),this.traeUsuariosPerfiles(),this.traeUsuarios(),this.traerDataPrincipal(),this.traeTiposNovedad(),this.traeCausalesRechazo(),this.traeEstados(),this.traePaises(),this.traeCiudades(),this.traerTarifas(),this.agregaBitacora("INGRESO","INGRESO AL MODULO")}},f_=h_,g_=Object(C["a"])(f_,o_,i_,!1,null,null,null),b_=g_.exports;o["default"].use(pv["a"]);var x_=[{path:"/myapp",name:"home",component:F},{path:"/",name:"Login",component:Z},{path:"/Usuarios",component:pt,name:"Usuarios"},{path:"/Bitacora",component:wt,name:"Bitacora"},{path:"/Perfiles",component:xt,name:"Perfiles"},{path:"/Areas",component:Ot,name:"Areas"},{path:"/Cargos",component:Lt,name:"Cargos"},{path:"/Categorias",component:Yt,name:"Categorias"},{path:"/TiposIde",component:oe,name:"TiposIde"},{path:"/TiposEstado",component:ue,name:"TiposEstado"},{path:"/Estados",component:xe,name:"Estados"},{path:"/ProgInvesPenia",component:Ae,name:"ProgInvesPenia"},{path:"/ProgInvesPei",component:Me,name:"ProgInvesPei"},{path:"/Poas",component:Ge,name:"Poas"},{path:"/Proyectos",component:Ma,name:"Proyectos",props:!0},{path:"/Convenios",component:Za,name:"Convenios"},{path:"/ConveniosMarco",component:oo,name:"ConveniosMarco"},{path:"/Capitulos",component:lo,name:"Capitulos"},{path:"/CausalesContratacion",component:bo,name:"CausalesContratacion"},{path:"/FormasPago",component:No,name:"FormasPago"},{path:"/LineasEstrategicas",component:Lo,name:"LineasEstrategicas"},{path:"/Metas",component:vi,name:"Metas"},{path:"/MetodosSeleccion",component:yi,name:"MetodosSeleccion"},{path:"/Objetivos",component:ji,name:"Objetivos"},{path:"/Ods",component:Mi,name:"Ods"},{path:"/Personal",component:zi,name:"Personal"},{path:"/Roles",component:Qi,name:"Roles"},{path:"/Unspsc",component:jn,name:"Unspsc"},{path:"/CriteriosEvaluacion",component:Po,name:"CriteriosEvaluacion"},{path:"/LineaInvPei",component:Jo,name:"LineaInvPei"},{path:"/LineaInvPenia",component:ei,name:"LineaInvPenia"},{path:"/LineasInvPicia",component:si,name:"LineasInvPicia"},{path:"/TiposContratacion",component:sn,name:"TiposContratacion"},{path:"/TiposContrato",component:mn,name:"TiposContrato"},{path:"/TiposNovedad",component:yn,name:"TiposNovedad"},{path:"/IndicadoresPicia",component:Mn,name:"IndicadoresPicia"},{path:"/AccionesPicia",component:Bn,name:"AccionesPicia"},{path:"/Presupuestos",component:tr,name:"Presupuestos"},{path:"/PilaresPicia",component:cr,name:"PilaresPicia"},{path:"/CategoriasGasto",component:vr,name:"CategoriasGasto"},{path:"/PlanesAdquisicion",component:Pr,name:"PlanesAdquisicion"},{path:"/Desplazamientos",component:Zr,name:"Desplazamientos"},{path:"/SolicitudesContratacion",component:_s,name:"vSolContrataciones"},{path:"/SolicitudesContratacion/:id",component:Hc,name:"vSolicitud"},{path:"/SolicitudesContratacion/:idSol/proceso",component:Ym,name:"vSolProc"},{path:"/SolicitudesContratacion/:idSol/proceso/:idProc",component:Ym,name:"vSolProc"},{path:"/TerminosReferencia",component:_v,name:"vTerminosReferencia"},{path:"/TerminosReferencia/:tipo/:id",component:wh,name:"termref_editor"},{path:"/informes",component:uv,name:"vistaInformes"},{path:"/TarifasLugares",component:Es,name:"TarifasLugares"},{path:"/Reuniones",component:hf,name:"Reuniones"},{path:"/Sede",component:yf,name:"Sede"},{path:"/pqrs",component:zf,name:"vpqr"},{path:"/pqrs/:id",component:Dg,name:"detailpqr"},{path:"/pqrs_dashboard",component:hb,name:"vdashboard"},{path:"/pqrs_usuarios",component:Fb,name:"vusuarios"},{path:"/pqrs_eventos",component:Ab,name:"eventos"},{path:"/pqr_tipo_comunicacion",component:Gb,name:"vtipocomunicacion"},{path:"/pqr_eje_tematico",component:Yb,name:"vejetematico"},{path:"/pqr_instituciones",component:ex,name:"vinstitucion"},{path:"/pqr_perfiles",component:hx,name:"vperfil"},{path:"/pqr_respuestas",component:Ex,name:"vrespuestaautomatica"},{path:"/ResguardosIndigenas",component:Rx,name:"ResguardosIndigenas"},{path:"/Asociaciones",component:Gx,name:"Asociaciones"},{path:"/ParametrosGen",component:Yx,name:"ParametrosGen"},{path:"/Monedas",component:a_,name:"Monedas"},{path:"/NovedadesDesplazamientos",component:b_,name:"NovedadesDesplazamientos"},{path:"*",redirect:"/myapp"}],__=new pv["a"]({mode:"history",routes:x_});__.beforeEach((function(t,e,a){var i=["/","/register"],n=!i.includes(t.path),r=o["default"].prototype,s=r.$session.exists();if(n&&!s)return a("/");a()}));var y_=__,k_=a("2f62");o["default"].use(k_["a"]);var C_=new k_["a"].Store({state:{avatar:"ImgH_blanco.png",imgnotificacion:"notifications_none",proyobjetivos:"0",arrPlanAdqNecActividades:[],arrPlanAdqNecUnspsc:[],carreras:[],solproc:{},tipoOfertaEconomica:["Media aritmética","Media aritmética alta","Media geométrica con presupuesto oficial","Menor valor"],adjPersonales:[{docSolicitado:"Visto bueno de la Directora General",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Cédula de ciudadanía",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Hoja de vida actualizada",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Soportes Académicos / Diplomas - Cursosl",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Soportes Laborales",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Tarjeta Profesional",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Libreta militar",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"RUT actualizado",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación Bancaria actualizada",excluido:"pasante,convenio",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Examen de Medicina Ocupacional",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificado de Categoría Tributaria",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Disciplinarios actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Fiscales actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Judiciales actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes del Registro Nacional de Medidas Correctivas",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1}],adjBienes:[{docSolicitado:"Cédula de ciudadanía",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificado de matrícula mercantil",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Propuesta económica y técnica",excluido:"convenio",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación de contrapartida",excluido:"contrato",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación de experiencia",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"RUT actualizado",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación Bancaria actualizada",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificado expedido por el contador o revisor fiscal, en el que se indique que se ha cumplido con el pago de Parafiscales de los últimos seis (6) meses",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificado de Categoría Tributaria",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Disciplinarios actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Fiscales actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Judiciales actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes del Registro Nacional de Medidas Correctivas",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1}],adjJuridica:[{docSolicitado:"Certificado de Existencia y Representación",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Cédula de ciudadanía del Representante Legal",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Autorización Representante Legal en caso de no tener la facultad para firmar (Cuando aplica)",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Propuesta económica y técnica",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación de experiencia (Cuando aplica)",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"RUT actualizado",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificación Bancaria actualizada",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Certificado expedido por el contador o revisor fiscal, en el que se indique que se ha cumplido con el pago de Parafiscales de los últimos seis (6) meses",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Disciplinarios actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Fiscales actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes Judiciales actualizados",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1},{docSolicitado:"Antecedentes del Registro Nacional de Medidas Correctivas del representante legal",excluido:"",tipo:"solproc",file_path:"",file_name:"",aprobado:!1,noAplica:!1}],tipoLista:{text:"PERSONA NATURAL – PRESTACIÓN DE SERVICIOS / CONSULTORÍAS INDIVIDUALES",valor:1},causales:[{text:"a) Contratos o convenios interadministrativos con entidades públicas, siempre que las obligaciones derivadas del mismo tengan relación directa con el objeto de la entidad ejecutora señalado en la ley o en sus reglamentos; o convenios o acuerdos para ejecución de proyectos con corporaciones y fundaciones sin ánimo de lucro, organizaciones no gubernamentales nacionales e internacionales, universidades, centros de investigación científica u otras entidades para la ejecución de proyectos conjuntos",valor:1},{text:"b) Contratos para la prestación de servicios profesionales o de apoyo a la gestión, o para la ejecución de trabajos artísticos que sólo puedan encomendarse a determinadas personas naturales",valor:2},{text:"c) Contratos para el desarrollo de actividades científicas y tecnológicas, siempre y cuando la Dirección General del Instituto así lo autorice",valor:3},{text:"d) Contratos de prestación de servicios cuando las tareas son una continuación de un trabajo anterior realizado por el contratista para la ejecución del proyecto y/o con el Instituto, después de haber sido seleccionado de manera competitiva",valor:4},{text:"e) Cuando no exista pluralidad de oferentes en el mercado por existir solamente una persona que puede proveer el bien o el servicio por ser titular de los derechos de propiedad industrial o de los derechos de autor, o por ser proveedor exclusivo en el territorio nacional o en el municipio donde se ejecutará el contrato atendiendo a las circunstancias de accesibilidad a la zona, o se requiere contratar a un proveedor particular para lograr el desempeño requerido o para preservar la garantía funcional de un equipo, un elemento de planta o una instalación;",valor:5},{text:"f) La contratación cuyo proceso de Convocatoria Pública o Invitación Directa haya sido declarado desierto, siempre y cuando el contratista cumpla con todos los requisitos habilitantes exigidos en la convocatoria o invitación directa;",valor:6},{text:"g) La contratación cuya cuantía no exceda los cien (100) Salarios Mínimos Legales Mensuales Vigentes, siempre y cuando se haya realizado un estudio de mercado previo y se contrate al proveedor que haya ofrecido el menor valor",valor:7},{text:"h) Los contratos cuyo proceso de selección, conforme a lo establecido en los convenios o contratos suscritos, no se lleve a cabo por la Oficina Jurídica del Instituto, sino que se realice por la autoridad competente según lo definido en el mismo convenio o contrato",valor:8},{text:"i) Contratistas que por necesidades del proyecto son seleccionados en Comités Veredales o en reuniones de autoridades competentes de la región, para lo cual se deberá seguir con el procedimiento establecido para ello y que se detalla más adelante",valor:9},{text:"j) El arrendamiento o adquisición de inmuebles",valor:10},{text:"k) Comodatos de bienes muebles o inmuebles",valor:11}],tiposContratacionDirecta:["Personal","Bienes o servicios","Persona juridica"]},getters:{getAvatar:function(t){return t.avatar},getNotificacion:function(t){return t.imgnotificacion},getProyObjetivo:function(t){return t.proyobjetivos},getArrPlanAdqNecAct:function(t){return t.arrPlanAdqNecActividades},getArrPlanAdqNecUnspsc:function(t){return t.arrPlanAdqNecUnspsc}},mutations:{setSolProc:function(t,e){t.solproc=e},removeAdjCausales:function(t,e){"personales"===e?t.solproc.adjuntos.map((function(e){var a=t.adjPersonales.find((function(t){return t.docSolicitado===e.docSolicitado}));a||t.solproc.adjuntos.splice(t.solproc.adjuntos.indexOf(e),1)})):"bienes"===e?t.solproc.adjuntos.map((function(e){var a=t.adjBienes.find((function(t){return t.docSolicitado===e.docSolicitado}));a||t.solproc.adjuntos.splice(t.solproc.adjuntos.indexOf(e),1)})):"juridica"===e&&t.solproc.adjuntos.map((function(e){var a=t.adjJuridica.find((function(t){return t.docSolicitado===e.docSolicitado}));a||t.solproc.adjuntos.splice(t.solproc.adjuntos.indexOf(e),1)}))},updatePropAdjuntos:function(t,e){var a=t.solproc.proponentes.findIndex((function(t){return t.nombre===e.proponente.nombre}));o["default"].set(t.solproc.proponentes[a].adjuntos,e.index,e.adjunto)},updateAdjuntos:function(t,e){o["default"].set(t.solproc.adjuntos,e.index,e.adjunto)},actAdjuntos:function(t,e){t.solproc.adjuntos=t.solproc.adjuntos.filter((function(t){return"bienserv"!==t.tipo}));var a={tipo:"bienserv",nombre:e.file_name,path:e.file_path};a.path&&t.solproc.adjuntos.push(a)},setAvatar:function(t,e){"M"==e?t.avatar="ImgH_blanco.png":"F"==e&&(t.avatar="ImgM_blanco.png")},setNotificacion:function(t,e){t.imgnotificacion=e>0?"notifications_active":"notifications_none"},setProyObjetivo:function(t,e){t.proyobjetivos=e},setArrPlanAdqNecAct:function(t,e){t.arrPlanAdqNecActividades=e},AddArrPlanAdqNecAct:function(t,e){console.log(e),t.arrPlanAdqNecActividades.push(e)},ModArrPlanAdqNecAct:function(t,e){t.arrPlanAdqNecActividades.forEach((function(a,i){a.necesidad===e.necesidad&&a.secuenciaactividad===e.secuenciaactividad&&o["default"].set(t.arrPlanAdqNecActividades,i,e)}))},DelArrPlanAdqNecAct:function(t,e){t.arrPlanAdqNecActividades.splice(e,1)},setArrPlanAdqNecUnspsc:function(t,e){t.arrPlanAdqNecUnspsc=e},AddArrPlanAdqNecUnspsc:function(t,e){t.arrPlanAdqNecUnspsc.push(e)},ModArrPlanAdqNecUnspsc:function(t,e){t.arrPlanAdqNecUnspsc.forEach((function(a,i){a.necesidad===e.necesidad&&a.unspsc===e.unspsc&&o["default"].set(t.arrPlanAdqNecUnspsc,i,e)}))},DelArrPlanAdqNecUnspsc:function(t,e){t.arrPlanAdqNecUnspsc.splice(e,1)}},actions:{}}),S_=a("9483");Object(S_["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var w_=a("0628"),P_=a.n(w_),A_=a("1dce"),j_=a.n(A_),E_=a("a65d"),T_=a.n(E_),D_=a("7345"),I_=a.n(D_),O_=a("1bdd");a("4633");o["default"].use(a("84b5"));var N_=a("1321"),M_=a.n(N_),R_=a("a4a1"),F_=a.n(R_),q_=(a("f6b9"),a("d1e7"),a("d5e8"),a("f579")),U_=a.n(q_),$_=o["default"].prototype;$_.moment=of.a,o["default"].use(j_.a),o["default"].use(U_.a),o["default"].use(T_.a),o["default"].use(I_.a),o["default"].use(Ye.a),o["default"].use(M_.a),o["default"].use(a("84b5")),o["default"].component("downloadExcel",O_["a"]),o["default"].component("barcode",U_.a),o["default"].component("apexchart",M_.a),o["default"].use(F_.a);var L_={persist:!0};o["default"].use(P_.a,L_),o["default"].config.productionTip=!1,new o["default"]({router:y_,store:C_,vuetify:c,render:function(t){return t(w)}}).$mount("#app")},"59e1":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getData:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/Presupuestos",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXConvenio:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/presupuestoXConvenio",dataType:"json",data:{convenio:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarData:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/guardarPresupuesto",dataType:"json",data:{data:t,categoriasgasto:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},DelData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/delPresupuesto",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getCatGasXPresupuesto:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/catgastoXPresupuesto",dataType:"json",data:{presupuesto:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getCatGasXConvenio:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/catgastoXConvenio",dataType:"json",data:{convenio:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delCategoriaPresupuesto:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/delCategoriaPresupuesto",dataType:"json",data:{presupuesto:t,categoria:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))}};e["a"]=r},"5a09":function(t,e,a){"use strict";var o=a("19ab"),i=a.n(o);i.a},"5b38":function(t,e,a){var o=a("49fb"),i=o.Paragraph,n=o.Header,r=o.AlignmentType,s=o.HeadingLevel,c=function(t){var e=new n({children:[new i({text:"INSTITUTO AMAZÓNICO DE INVESTIGACIONES CIENTÍFICAS - SINCHI",alignment:r.CENTER,heading:s.HEADING_3}),new i({text:"P3 – 013c Versión 3",alignment:r.CENTER,heading:s.HEADING_3})]});return e};t.exports={headers:c}},"5c53":function(t,e,a){},6181:function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getAreas:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/Areas",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getXCodigo:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/AreaXCodigo",dataType:"json",data:{area:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getUserXArea:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/userXArea",dataType:"json",data:{area:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarArea:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/guardarArea",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelArea:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/delArea",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},"64a9":function(t,e,a){},"68e7":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getData:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/ProyectosCiudades",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/addupdProyectoCiudad",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/delProyectoCiudad",dataType:"json",data:{proyecto:t,codigo:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},BuscarXProyecto:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/CiudadesXProyecto",dataType:"json",data:{proyecto:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},CiudadesSelDepto:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/CiudadesSelXDepto",dataType:"json",data:{proyecto:t,departamento:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},FiltroXProyectoAll:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/CiudadesXProyectoAll",dataType:"json",data:{proyecto:t}}).then((function(t){e(t.data.data)})).catch((function(t){e(t)}))}))}};e["a"]=r},"699c":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getData:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/Roles",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/guardarRol",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/delRol",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},"76c9":function(t,e,a){"use strict";var o=a("b0e5"),i=a.n(o);i.a},"78e1":function(t,e,a){"use strict";var o=a("9dd6"),i=a.n(o);i.a},"78fe":function(t,e,a){},"7b20":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getDataXId:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/Notificaciones",dataType:"json",data:{usuario:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},adicionar:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/NotificacionesAdd",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ocultarNotificaciones:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/NotificacionesOcultar",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},"7c7e":function(t,e,a){"use strict";var o=a("0fd7"),i=a.n(o);i.a},"7dbf":function(t,e,a){"use strict";var o=a("1dda"),i=a.n(o);i.a},"7e0d":function(t,e,a){},"7ea0":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getPermisos:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/getPermisos",dataType:"json",data:{usuarioid:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getOpcion:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/getOpcion",dataType:"json",data:{usuarioid:t,codigo:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getPermisosActuales:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/PermisosActuales",dataType:"json",data:{perfilid:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getPermisosFal:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/getPermisosFal",dataType:"json",data:{perfilid:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},"7ed2":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getData:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/Convenios",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXId:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/convenioXCodigo",dataType:"json",data:{convenio:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarData:function(t,e,a,o,r,s,c){return new Promise((function(l,d){i()({method:"POST",url:n["a"].apiUrl+"/guardarConvenio",dataType:"json",data:{data:t,FechasPIT:e,FechasPIF:a,Socios:o,dataarcconvenio:r,dataarccontrapartida:s,dataarcotrosdatos:c}}).then((function(t){l(t)})).catch((function(t){l(t)}))}))},DelData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/delConvenio",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getSocios:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ConveniosSocios",dataType:"json",data:{convenio:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delSocio:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/DelConveniosSocios",dataType:"json",data:{convenio:t,fuentefinanciacion:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},deleteFile:function(t,e,a,o){return new Promise((function(r,s){i()({method:"POST",url:n["a"].apiUrl+"/eliminarArchivoConvenio",dataType:"json",data:{codigo:t,tiparchivo:e,ruta:a,archivo:o}}).then((function(t){r(t)})).catch((function(t){r(t)}))}))},getDataArchivos:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/getconvenioArchivos",dataType:"json",data:{convenio:t,tipo:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},adicionarArchivo:function(t,e,a,o){return new Promise((function(r,s){i()({method:"POST",url:n["a"].apiUrl+"/AddArchivosConvenios",dataType:"json",data:{codigo:t,tipo:e,consecutivo:a,archivo:o}}).then((function(t){r(t)})).catch((function(t){r(t)}))}))},eliminarArchivoXTipo:function(t,e,a,o){return new Promise((function(r,s){i()({method:"POST",url:n["a"].apiUrl+"/DelArchivoConvenio",dataType:"json",data:{convenio:t,tipo:e,codigo:a,archivo:o}}).then((function(t){r(t)})).catch((function(t){r(t)}))}))}};e["a"]=r},"80fe":function(t,e,a){},"831b":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getData:function(){return new Promise((function(t,e){i()({method:"GET",url:n["a"].apiUrl+"/FileExchange",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},upload:function(t){var e=new FormData;return e.append("archivo",t),new Promise((function(t,a){i.a.post(n["a"].apiUrl+"/uploadFile",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},uploadGen:function(t,e){var a=new FormData;return a.append("archivo",t),new Promise((function(t,e){i.a.post(n["a"].apiUrl+"/uploadFileGen",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},deleteFile:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/deleteFile",dataType:"json",data:{ruta:t,archivo:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))}};e["a"]=r},8398:function(t,e,a){},"86da":function(t,e,a){"use strict";var o=a("9bbc"),i=a.n(o);i.a},"91d0":function(t,e,a){var o=a("2a29"),i=o.getMonth,n=a("49fb"),r=n.Paragraph,s=n.AlignmentType,c=n.TextRun,l=n.TableRow,d=n.TableCell,u=n.Table,p=a("d70a"),m=p.getReqMin,v=p.getActividades,h=p.getInformes,f=p.getValor,g=p.formaPago,b=p.lugarEj,x=p.supervisores,_=p.getEmployData,y=function(t,e,a){var o=new Date,n="Bogotá, D. C. ".concat(o.getDate()," de ").concat(i(o.getMonth())," de ").concat(o.getFullYear()),p=new r({text:n,spacing:{before:200,after:800}}),y=new r({text:"Doctora"}),k=new r({children:[new c({text:t.jefeJuridica.nombrecompleto,bold:!0})]}),C=new r({children:[new c({text:"Instituto Sinchi",bold:!0})]}),S=new r({text:"Calle 20 # 5 - 44"}),w=new r({text:"Bogotá D.C."}),P=new r({children:[new c({text:"Asunto: ",bold:!0}),new c({text:"SOLICITUD CONTRATACIÓN PRESTACIÓN DE SERVICIOS",bold:!0})],spacing:{before:200}}),A=new r({text:"Cordial saludo,",spacing:{before:200}}),j=new r({children:[new c({text:"De manera atenta me permito solicitar el inicio del trámite de contratación por: "}),new c({text:"Contratación directa"})],spacing:{before:200,after:400}}),E=new r({text:"Atentamente,",spacing:{before:200,after:800}}),T=new r({children:[new c({text:t.proyecto[0].proycor,bold:!0})],alignment:s.CENTER,spacing:{before:400,after:50}}),D=new r({children:[new c({text:"Coordinador del Proyecto"})],alignment:s.CENTER}),I=[{num:1,title:[new r("Proyecto")],description:[]},{num:2,title:[new r("Rubro")],description:[]},{num:3,title:[new r("Actividades/Subactividades")],description:[]},{num:4,title:[new r("Antecedentes")],description:[]},{num:5,title:[new r("Justificación técnica")],description:[]},{num:6,title:[new r("Objeto")],description:[]},{num:7,title:[new r("Códigos UNSPSC")],description:[]},{num:8,title:[new r("Requisitos mínimos")],description:[]},{num:9,title:[new r("Actividades")],description:[]},{num:10,title:[new r("Informes")],description:[]},{num:11,title:[new r("Término de Ejecución")],description:[]},{num:12,title:[new r("Valor")],description:[]},{num:13,title:[new r("Forma de pago")],description:[]},{num:14,title:[new r("Lugar de Ejecución")],description:[]},{num:15,title:[new r("Supervisión")],descripcion:[]},{num:16,title:[new r("Se propone contratar a")],descripcion:[]},{num:17,title:[new r("Justificación de la contratación directa")],descripcion:[]}];I.map((function(o){1===o.num&&(o.description=[new r(t.proyecto[0].proyecto)]),2===o.num&&(o.description=[new r("rubro")]),3===o.num&&(o.description=[new r("Actividades en numeral")]),4===o.num&&(o.description=[new r("Antecedentes??")]),5===o.num&&(o.description=[new r("Justificacion tecnica??")]),6===o.num&&(o.description=[new r(t.proyecto[0].objeto)]),7===o.num&&(o.description=[new r("Códigos UNSPSC??")]),8===o.num&&(o.description=m(t)),9===o.num&&(o.description=v(t)),10===o.num&&(o.description=h(t)),11===o.num&&(o.description=[new r("Hasta el "+t.fechaLimite.substring(0,10))]),12===o.num&&(o.description=[new r("El valor total de la orden de servicio sera de ".concat(f(t)))]),13===o.num&&(o.description=g(t)),14===o.num&&(o.description=b(t,e)),15===o.num&&(o.description=x(t,a)),16===o.num&&(o.description=_(t)),17===o.num&&(o.description=[new r(t.justificacion)])}));var O=[];I.forEach((function(t){O.push(new l({children:[new d({children:t.title,margins:{left:200},verticalAlign:"center"}),new d({children:t.description,margins:{left:100}})]}))}));var N=new u({rows:O});return[p,y,k,C,S,w,P,A,j,N,E,T,D]};t.exports={contraDirectaPersona:y}},"9a37":function(t,e,a){},"9bbc":function(t,e,a){},"9d5e":function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getData:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/ProyectosProductos",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},DelData:function(t,e,a){return new Promise((function(o,r){i()({method:"POST",url:n["a"].apiUrl+"/delProyectoProducto",dataType:"json",data:{proyecto:t,objetivo:e,producto:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},BuscarXProyecto:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ProductosXProyecto",dataType:"json",data:{proyecto:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},BuscarXObjetivo:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/ProductosXObjetivo",dataType:"json",data:{proyecto:t,objetivo:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},addupdData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/addupdProyectoProducto",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},FiltroXProyectoAll:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ProductosXProyectoAll",dataType:"json",data:{proyecto:t}}).then((function(t){e(t.data.data)})).catch((function(t){e(t)}))}))}};e["a"]=r},"9dd6":function(t,e,a){},"9f1b":function(t,e,a){"use strict";var o=a("b175"),i=a.n(o);i.a},a012:function(t,e,a){},a1ab:function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={BuscarXProyecto:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ProyectoEquipo",dataType:"json",data:{proyecto:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/DelProyectoEquipo",dataType:"json",data:{proyecto:t,personal:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},guardarData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/guardarProyectoEquipo",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},HorasXProyecto:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/horasProyectosPersonal",dataType:"json",data:{proyecto:t,personal:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},FiltroXProyectoAll:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/EquipoXProyectoAll",dataType:"json",data:{proyecto:t}}).then((function(t){e(t.data.data)})).catch((function(t){e(t)}))}))}};e["a"]=r},a248:function(t,e,a){},a34e:function(t,e,a){"use strict";var o=a("f492"),i=a.n(o);i.a},a38c:function(t,e,a){"use strict";var o=a("a248"),i=a.n(o);i.a},b0e5:function(t,e,a){},b14f:function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getData:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/Personal",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/guardarPersonal",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/delPersonal",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},BuscarXCargo:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/PersonalXCargo",dataType:"json",data:{cargo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},FiltroXEstado:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/PersonalXEstado",dataType:"json",data:{estado:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},FiltroXId:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/personalXId",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},PersonalCargos:function(t){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/PersonalCargos",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},PersonalXAreas:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/PersonalXArea",dataType:"json",data:{area:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},PersonalXCargos:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/PersonalXCargo",dataType:"json",data:{cargo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},b175:function(t,e,a){},b59f:function(t,e,a){"use strict";var o=a("2b9a"),i=a.n(o);i.a},ba36:function(t,e,a){"use strict";var o=a("340d"),i=a.n(o);i.a},bf63:function(t,e,a){},c032:function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getData:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/PlanesAdquisicion",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXConvenio:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/planesadquisicionXConvenio",dataType:"json",data:{convenio:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getDataXProyecto:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/planAdquisicionXProyecto",dataType:"json",data:{proyecto:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarData:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/guardarPlanAdquisicion",dataType:"json",data:{data:t,necesidades:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getNecesidadXPlanAdq:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/NecesidadesXPlanAdq",dataType:"json",data:{planadquisicion:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getNecesidadesXSolicitud:function(t){return new Promise((function(e,a){i.a.get(n["a"].apiUrl+"/NecesidadesXSolicitud",{params:{idSolicitud:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getSolProcNecesidades:function(t){return new Promise((function(e,a){i.a.get(n["a"].apiUrl+"/solProcNecesidades",{params:{idSolProc:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},UnspscXPlanAdq:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/UnspscXPlanAdq",dataType:"json",data:{planadquisicion:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},PlanAquicNecesidadesAll:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/GetPlanesAdquicAll",dataType:"json",data:{}}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getUnspscXNecesidad:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/UnspscXNecesidad",dataType:"json",data:{planadquisicion:t,necesidad:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},addupdUnspsc:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/UnspscXNecesidadAddUpd",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delUnspsc:function(t,e,a){return new Promise((function(o,r){i()({method:"POST",url:n["a"].apiUrl+"/DelUnspscXNecesidad",dataType:"json",data:{planadquisicion:t,necesidad:e,unspsc:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},ActividadXPlanAdq:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ActividadXPlanAdq",dataType:"json",data:{planadquisicion:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getActividadXNecesidad:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/ActividadXNecesidad",dataType:"json",data:{planadquisicion:t,necesidad:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getActividadXPlanCategoria:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/ActividadXPlanCategoria",dataType:"json",data:{planadquisicion:t,categoria:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},addupdActividad:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ActividadXNecesidadAddUpd",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delActividad:function(t,e,a){return new Promise((function(o,r){i()({method:"POST",url:n["a"].apiUrl+"/DelActividadXNecesidad",dataType:"json",data:{planadquisicion:t,necesidad:e,secuenciaactividad:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},updVoBoNecesidad:function(t,e,a,o,r){return new Promise((function(s,c){i()({method:"POST",url:n["a"].apiUrl+"/ActualizarVoBoNecesidad",dataType:"json",data:{planadquisicion:t,codigo:e,tipo:a,vobo:o,observacion:r}}).then((function(t){s(t)})).catch((function(t){s(t)}))}))},validaNecesidades:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ValidaNecesidades",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ValidaUnspsc:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ValidaUnspsc",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ValidaActividadNecesidad:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ValidaActividadNecesidad",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ValidaActividadCategoria:function(t,e,a){return new Promise((function(o,r){i()({method:"POST",url:n["a"].apiUrl+"/ValidaActividadCategoria",dataType:"json",data:{codigo:t,basemoneda:e,tasa:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},enviarParaVoBo:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/enviarParaVoBo",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},VistaFinNecesidades:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/VistaFinNecesidades",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},VistaFinActNec:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/VistaFinActNec",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},VistaFinActCat:function(t,e,a){return new Promise((function(o,r){i()({method:"POST",url:n["a"].apiUrl+"/VistaFinActCat",dataType:"json",data:{codigo:t,basemoneda:e,tasa:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},VistaFinResActividades:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/VistaFinResActividades",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelNecesidad:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/DelNecesidad",dataType:"json",data:{planadquisicion:t,necesidad:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},guardarDataTmp:function(t,e,a,o){return new Promise((function(r,s){i()({method:"POST",url:n["a"].apiUrl+"/DataAddTmp",dataType:"json",data:{data:t,necesidades:e,dataunspsc:a,dataactividades:o}}).then((function(t){r(t)})).catch((function(t){r(t)}))}))},getNecesidadesXTmpPlanCategoria:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/TmpNecesidadesXTmpPlanAdq",dataType:"json",data:{planadquisicion:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getActividadXTmpPlanCategoria:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/TmpActividadXTmpPlanAdq",dataType:"json",data:{planadquisicion:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getUnspscXTmpPlanCategoria:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/TmpUnspscXTmpPlanAdq",dataType:"json",data:{planadquisicion:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getVersiones:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/PlanAdqVersiones",dataType:"json",data:{planadquisicion:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getVersionActual:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/PlanAdqVersionActual",dataType:"json",data:{planadquisicion:t,version:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},getVersionesNecesidades:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/PlanAdqNecVersiones",dataType:"json",data:{planadquisicion:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getActividadXHisPlanCategoria:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/HisActividadXHisPlanAdq",dataType:"json",data:{planadquisicion:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getUnspscXHisPlanCategoria:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/HisUnspscXHisPlanAdq",dataType:"json",data:{planadquisicion:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},VistaFinTmpNecesidades:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/VistaFinTmpNecesidades",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},VistaFinTmpActNec:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/VistaFinTmpActNec",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},VistaFinTmpActCat:function(t,e,a){return new Promise((function(o,r){i()({method:"POST",url:n["a"].apiUrl+"/VistaFinTmpActCat",dataType:"json",data:{codigo:t,basemoneda:e,tasa:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},VistaFinResTmpActividades:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/VistaFinResTmpActividades",dataType:"json",data:{codigo:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},ActualizarTmpVoBo:function(t,e,a,o){return new Promise((function(r,s){i()({method:"POST",url:n["a"].apiUrl+"/ActualizarTmpVoBo",dataType:"json",data:{planadquisicion:t,tipo:e,vobo:a,observacion:o}}).then((function(t){r(t)})).catch((function(t){r(t)}))}))},creaVersion:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/creaVersion",dataType:"json",data:{tmpplanadquisicion:t,planadquisicion:e}}).then((function(t){a(t)})).catch((function(t){o(t)}))}))},delTemporalRechazo:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/delTemporalRechazo",dataType:"json",data:{planadquisicion:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},getBySolProc:function(t){return new Promise((function(e,a){i()({method:"GET",url:n["a"].apiUrl+"/getPlanesBySolProc",dataType:"json",params:{solproc:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},rubrosPresupuestales:function(t,e,a,o){return new Promise((function(r,s){i()({method:"POST",url:n["a"].apiUrl+"/RubrosPresupuestales",dataType:"json",data:{convenio:t,nombreproyecto:e,codigoplan:a,codigonecesidad:o}}).then((function(t){r(t)})).catch((function(t){r(t)}))}))}};e["a"]=r},c088:function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getData:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/ProyectosObjetivos",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},DelData:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/delProyectoObjetivo",dataType:"json",data:{id:t,proyecto:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},BuscarXProyecto:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ObjetivosXProyecto",dataType:"json",data:{proyecto:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},addupdData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/addupdProyectoObjetivo",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},FiltroXProyectoAll:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ObjetivosXProyectoAll",dataType:"json",data:{proyecto:t}}).then((function(t){e(t.data.data)})).catch((function(t){e(t)}))}))}};e["a"]=r},c0ee:function(t,e,a){"use strict";var o=a("15d3"),i=a.n(o);i.a},c1e7:function(t,e,a){"use strict";var o=a("80fe"),i=a.n(o);i.a},c756:function(t,e,a){"use strict";var o=a("dad7"),i=a.n(o);i.a},c927:function(t,e,a){},cc13:function(t,e,a){"use strict";var o=a("e51d"),i=a.n(o);i.a},cf22:function(t,e,a){"use strict";var o=a("37bb"),i=a.n(o);i.a},cfa0:function(t,e,a){},d506:function(t,e,a){"use strict";var o=a("151a"),i=a.n(o);i.a},d70a:function(t,e,a){var o=a("49fb"),i=o.Paragraph,n=(o.AlignmentType,o.TextRun);o.TableRow,o.TableCell,o.Table;function r(t){var e="a) Formación: ";t.educacion.length>0?(t.educacion.forEach((function(t){e=e+t.tipo+", "})),e=e.slice(0,-2)):e+="Ninguna";var a="b) Experiencia: ";return t.experiencia.length>0?(t.experiencia.forEach((function(t){a=a+t.descripcion+", "})),a=a.slice(0,-2)):a+="Ninguna",[new i({text:e}),new i({text:a})]}function s(t){var e=[];return t.actividades.forEach((function(t,a){e.push(new i(a+1+". "+t.actividad.toLowerCase()))})),e}function c(t){var e=[];return t.infoprod.forEach((function(t,a){e.push(new i(a+1+". "+t.titulo.toLowerCase()))})),e}function l(t){var e=t.necesidades.reduce((function(t,e){return t+parseFloat(e.solval)}),0);return e}function d(t){var e=[];return t.pagos.forEach((function(t,a){e.push(new i(a+1+". "+t.porcPago+"% en "+t.tiempoUnd+t.tiempoInd.toLowerCase()))})),e}function u(t,e){var a=[];return t.ciudad.forEach((function(t,o){var n=e.find((function(e){return e.codigo===t}));a.push(new i(o+1+". "+n?n.nombrecompleto:"Ciudad no encontrada"))})),a}function p(t,e){var a=[];return t.supervisor.forEach((function(t,o){var n=e.find((function(e){return e.codigo===t}));a.push(new i(o+1+". "+n?n.nombrecompleto:"Personal no encontrado"))})),a}function m(t){var e=[],a=t.nombre?t.nombre:"vacio",o=t.telefono?t.telefono:"vacio",r=t.correo?t.correo:"vacio";return e.push(new i({children:[new n({text:a,bold:!0})]})),e.push(new i("Tel: "+o)),e.push(new i("Correo: "+r)),e}t.exports={getReqMin:r,getActividades:s,getInformes:c,getValor:l,formaPago:d,lugarEj:u,supervisores:p,getEmployData:m}},d761:function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getData:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/ProyectoActividades",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},guardarData:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/guardarProyectoActividad",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},DelData:function(t,e,a,o){return new Promise((function(r,s){i()({method:"POST",url:n["a"].apiUrl+"/delProyectoActividad",dataType:"json",data:{proyecto:t,objetivo:e,producto:a,actividad:o}}).then((function(t){r(t)})).catch((function(t){r(t)}))}))},BuscarXProyectoObjetivo:function(t,e,a){return new Promise((function(o,r){i()({method:"POST",url:n["a"].apiUrl+"/FiltroXProyecto",dataType:"json",data:{proyecto:t,objetivo:e,producto:a}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},BuscarXProyObjSimple:function(t,e){return new Promise((function(a,o){i()({method:"POST",url:n["a"].apiUrl+"/FiltroXProyectoObj",dataType:"json",data:{proyecto:t,objetivo:e}}).then((function(t){a(t)})).catch((function(t){a(t)}))}))},FiltroxActividad:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ActividadXCodigo",dataType:"json",data:{actividad:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},FiltroXProyectoAll:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/ActividadesXProyectoAll",dataType:"json",data:{proyecto:t}}).then((function(t){e(t.data)})).catch((function(t){e(t)}))}))}};e["a"]=r},d89f:function(t,e,a){"use strict";var o={apiUrl:"https://sinchibackend.azurewebsites.net/api",apiTRM:"https://www.superfinanciera.gov.co/SuperfinancieraWebServiceTRM/TCRMServicesWebService/TCRMServicesWebService?WSDL"};e["a"]=o},dad7:function(t,e,a){},db37:function(t,e,a){"use strict";var o=a("3006"),i=a.n(o);i.a},dee0:function(t,e,a){var o=a("91d0"),i=o.contraDirectaPersona,n=a("5b38"),r=n.headers;console.log(r);var s=function(t,e,o){var n=a("49fb"),s=(n.Paragraph,n.Packer),c=(n.Header,n.AlignmentType,n.HeadingLevel,n.Document),l=a("21a6"),d=l.saveAs,u=new c({sections:[{properties:{},headers:{default:r(t)},children:i(t,e,o)}]});s.toBlob(u).then((function(t){d(t,"example.docx"),console.log("Document created successfully")}))};t.exports={printSolicitud:s}},df07:function(t,e,a){"use strict";var o=a("5c53"),i=a.n(o);i.a},dfda:function(t,e,a){},e185:function(t,e,a){"use strict";var o=a("4306"),i=a.n(o);i.a},e51d:function(t,e,a){},eb30:function(t,e,a){"use strict";var o=a("0772"),i=a.n(o);i.a},ed26:function(t,e,a){"use strict";var o=a("7e0d"),i=a.n(o);i.a},ef00:function(t,e,a){"use strict";var o=a("bc3a"),i=a.n(o),n=a("d89f"),r={getUnspsc:function(){return new Promise((function(t,e){i()({method:"POST",url:n["a"].apiUrl+"/Unspsc",dataType:"json"}).then((function(e){t(e)})).catch((function(e){t(e)}))}))},getDataXFiltro:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/UnspscXFiltro",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},guardarUnspsc:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/guardarUnspsc",dataType:"json",data:{data:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))},delUnspsc:function(t){return new Promise((function(e,a){i()({method:"POST",url:n["a"].apiUrl+"/delUnspsc",dataType:"json",data:{id:t}}).then((function(t){e(t)})).catch((function(t){e(t)}))}))}};e["a"]=r},f492:function(t,e,a){}});
//# sourceMappingURL=app.0b18bcfa.js.map