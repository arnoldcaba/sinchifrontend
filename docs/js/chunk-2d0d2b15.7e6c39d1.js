(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d2b15"],{"5a1d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("PlantillasList")],1)},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.records,"items-per-page":5,loading:t.loading,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-row",[n("v-col",{attrs:{cols:"3"}},[n("h2",{staticClass:"mx-4"},[t._v("Plantillas")])]),n("v-col",[n("v-btn",{staticClass:"ma-2",attrs:{small:"",outlined:"",color:"primary"},on:{click:function(e){return t.$router.push("PlantillasTermRef/form")}}},[t._v("\n              nueva plantilla\n              "),n("v-icon",{attrs:{right:"",small:""}},[t._v("add")])],1)],1),n("v-col",[n("v-text-field",{staticClass:"mr-4",attrs:{"append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)]},proxy:!0},{key:"item.acciones",fn:function(e){var a=e.item;return[n("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){return t.$router.push("PlantillasTermRef/form/"+a.id)}}},[n("v-icon",[t._v("edit")])],1),n("v-btn",{staticClass:"ml-2",attrs:{loading:t.loading,icon:"",color:"primary"},on:{click:function(e){return t.droprecord(a)}}},[n("v-icon",[t._v("delete")])],1),n("v-btn",{staticClass:"ml-2",attrs:{loading:t.loading,icon:"",color:"primary"},on:{click:function(e){t.dialog=!0,t.selected=a}}},[n("v-icon",[t._v("add")])],1)]}}])})],1),n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n        Clonar Plantilla:\n        "),n("br"),t._v("\n        "+t._s(t.selected.nombre)+"\n      ")]),n("v-card-text",[n("v-text-field",{staticClass:"mt-5",attrs:{label:"Nombre",dense:"","hide-details":""},model:{value:t.txtnombre,callback:function(e){t.txtnombre=e},expression:"txtnombre"}}),n("v-select",{staticClass:"mt-4",attrs:{items:t.tiposContratacion,label:"Tipo contración"},model:{value:t.txttipoContratacion,callback:function(e){t.txttipoContratacion=e},expression:"txttipoContratacion"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.dialog=!1,t.editItem=[]}}},[t._v("\n          Cerrar\n        ")]),n("v-btn",{attrs:{color:"green darken-1",text:"",loading:t.loading},on:{click:function(e){return t.clonerecord()}}},[t._v("\n          Guardar\n        ")])],1)],1)],1)],1)},i=[],s=n("a34a"),c=n.n(s),l=n("ad0e"),u=n("ca8f");function d(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(a,r)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){d(o,a,r,i,s,"next",t)}function s(t){d(o,a,r,i,s,"throw",t)}i(void 0)}))}}var v={data:function(){return{loading:!1,headers:[{text:"Id",value:"id"},{text:"Nombre Plantilla",value:"nombre"},{text:"Tipo Contratación",value:"tipo_contratacion"},{text:"Acciones",value:"acciones"}],records:[],tiposContratacion:[],dialog:!1,txtnombre:"",txttipoContratacion:"",selected:"",search:""}},mounted:function(){this.getplantillas(),this.getTiposContracion()},methods:{getplantillas:function(){var t=p(c.a.mark((function t(){var e,n;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,l["a"].getPlantillas();case 4:e=t.sent,n=e.data,this.records=n.termref_plantillas,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[1,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),droprecord:function(){var t=p(c.a.mark((function t(e){var n,a;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,l["a"].dropPlantilla({id:e.id});case 4:n=t.sent,a=n.data,"success"===a.tipo?(this.$toasted.success(a.respuesta,{icon:"done",duration:3e3}),this.getplantillas()):"error"===a.tipo&&this.$toasted.error(a.respuesta,{icon:"error",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[1,9,12,15]])})));function e(e){return t.apply(this,arguments)}return e}(),clonerecord:function(){var t=p(c.a.mark((function t(){var e,n;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,l["a"].clonePlantilla({id:this.selected.id,nombre:this.txtnombre,tipoc:this.txttipoContratacion});case 4:e=t.sent,n=e.data,"success"===n.tipo?(this.$toasted.success(n.respuesta,{icon:"done",duration:3e3}),this.getplantillas(),this.dialog=!1):"error"===n.tipo&&this.$toasted.error(n.respuesta,{icon:"error",duration:3e3}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[1,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}(),getTiposContracion:function(){var t=p(c.a.mark((function t(){var e;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].getTiposForContratacion();case 3:e=t.sent,this.tiposContratacion=e.data.tiposContratacion,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()}},h=v,f=n("2877"),m=Object(f["a"])(h,o,i,!1,null,"2df55594",null),x=m.exports,g={components:{PlantillasList:x},data:function(){return{}}},b=g,k=Object(f["a"])(b,a,r,!1,null,"7112cb52",null);e["default"]=k.exports}}]);
//# sourceMappingURL=chunk-2d0d2b15.7e6c39d1.js.map