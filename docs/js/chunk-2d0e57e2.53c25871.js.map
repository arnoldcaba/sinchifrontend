{"version":3,"sources":["webpack:///./src/components/CProyectosObsSubCie.vue?752a","webpack:///./src/servicios/ProyectosObsSubCieService.js","webpack:///src/components/CProyectosObsSubCie.vue","webpack:///./src/components/CProyectosObsSubCie.vue?1631","webpack:///./src/components/CProyectosObsSubCie.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","directives","name","rawName","value","expression","staticStyle","on","$event","edit","dialog","itemactual","_v","model","callback","$$v","search","data","headersdata","scopedSlots","_u","key","fn","ref","item","staticClass","loading","dialog_del","_s","formTitle","valid","rules","required","observacion","cerrarDialogo","saveitem","deleteItem","staticRenderFns","proyectosobssubcieService","Promise","resolve","reject","axios","method","url","configService","apiUrl","dataType","then","res","catch","err","proyecto","codigo","id","component"],"mappings":"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","file":"js/chunk-2d0e57e2.53c25871.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.permiso),expression:\"permiso\"}],staticStyle:{\"padding-bottom\":\"8px\"}},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.permiso),expression:\"permiso\"}],attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.edit=0,_vm.dialog = true,_vm.itemactual=''}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"add\")])],1)],1),_c('v-card',{attrs:{\"flat\":\"\",\"tile\":\"\",\"min-height\":\"500\"}},[_c('v-card-text',[_c('v-text-field',{attrs:{\"append-icon\":\"search\",\"label\":\"Buscar\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('br'),_c('v-data-table',{attrs:{\"items\":_vm.data,\"items-per-page\":10,\"headers\":_vm.headersdata,\"search\":_vm.search},scopedSlots:_vm._u([{key:\"item.action\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.permiso),expression:\"permiso\"}],staticClass:\"mr-5\",attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.loading},on:{\"click\":function($event){_vm.dialog = true, _vm.edit=1, _vm.itemactual=item}}},[_vm._v(\"\\n                            edit\\n                        \")]),_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.permiso),expression:\"permiso\"}],staticClass:\"mr-5\",attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.loading,\"loading\":_vm.loading && _vm.itemactual === item},on:{\"click\":function($event){_vm.dialog_del=true, _vm.itemactual=item}}},[_vm._v(\"\\n                            delete\\n                        \")])]}}])})],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"700px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.formTitle))])]),_c('v-card-text',[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\",\"column\":\"\"}},[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-flex',[_c('v-textarea',{attrs:{\"filled\":\"\",\"name\":\"input-5-4\",\"label\":\"Observación\",\"rules\":[_vm.rules.required]},model:{value:(_vm.observacion),callback:function ($$v) {_vm.observacion=$$v},expression:\"observacion\"}})],1)],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.cerrarDialogo}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\",\"disabled\":!_vm.valid},on:{\"click\":_vm.saveitem}},[_vm._v(\"Guardar\")])],1)],1)],1),_c('v-dialog',{attrs:{\"width\":\"550\"},model:{value:(_vm.dialog_del),callback:function ($$v) {_vm.dialog_del=$$v},expression:\"dialog_del\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline red--text\"},[_vm._v(\"Eliminar Observación\")])]),_c('v-card-text',[_vm._v(\"\\t\\t\\t\\t\\t\\n                    ¿Esta seguro de eliminar la Observación seleccionada?.\\t\\t\\t\\t\\t\\n                \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog_del=false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\"Eliminar\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\nimport configService from './config'\r\n\r\nconst proyectosobssubcieService = {}\r\n\r\n  proyectosobssubcieService.getData = function(){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/ProyectosObsSubCie',\r\n        dataType: \"json\"\r\n        /*,\r\n        headers:authHeader*/\r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  proyectosobssubcieService.getDataXProyecto = function(proyecto){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/proyectoobssubcieXproyecto',\r\n        dataType: \"json\",\r\n        data: {\r\n            proyecto: proyecto          \r\n        }        \r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  proyectosobssubcieService.guardarData = function(data){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/guardarProyectoObsSubCie',\r\n        dataType: \"json\",\r\n        data: {\r\n          data: data          \r\n        }\r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  proyectosobssubcieService.DelData = function(proyecto,codigo){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/delProyectoObsSubCie',\r\n        dataType: \"json\",\r\n        data: {\r\n          proyecto:proyecto,  \r\n          id: codigo          \r\n        }\r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  export default proyectosobssubcieService","<template>\r\n    <v-container fluid>\r\n        <div style=\"padding-bottom:8px\" v-show=\"permiso\"> \r\n            <v-btn fab dark small color=\"primary\" @click=\"edit=0,dialog = true,itemactual=''\" v-show=\"permiso\" >\r\n                <v-icon dark>add</v-icon>\t\t\t\t\r\n            </v-btn>\r\n        </div>\r\n\r\n        <v-card\r\n            flat\r\n            tile\r\n            min-height=\"500\"\r\n        >\r\n            <v-card-text>\r\n                <v-text-field v-model=\"search\" append-icon=\"search\" label=\"Buscar\" single-line hide-details></v-text-field>               \r\n                <br>\r\n                <v-data-table :items=\"data\" :items-per-page=\"10\" :headers=\"headersdata\"                               \r\n                              :search=\"search\">                    \r\n                    <template v-slot:item.action=\"{ item }\">\r\n\t\t\t\t\t\t\t\r\n                        <v-icon\r\n                            small\r\n                            class=\"mr-5\"\r\n                            color=\"primary\" \r\n                            :disabled=\"loading\"\r\n                            @click=\"dialog = true, edit=1, itemactual=item\"\r\n                            v-show=\"permiso\"\r\n                        >\r\n                            edit\r\n                        </v-icon>\r\n                        \r\n                        <v-icon\r\n                            small\r\n                            class=\"mr-5\"\r\n                            color=\"primary\" \r\n                            :disabled=\"loading\"\r\n                            :loading=\"loading && itemactual === item \"\r\n                            @click=\"dialog_del=true, itemactual=item\"\r\n                            v-show=\"permiso\"\r\n                            >\r\n                            delete\r\n                        </v-icon>\t\t\t\t\t\t\r\n                                                \r\n                    </template>\r\n                                     \r\n                </v-data-table>\r\n            </v-card-text>\r\n\r\n        </v-card>\r\n\r\n        <v-dialog v-model=\"dialog\" max-width=\"700px\">\r\n\r\n          \t<v-card>\r\n\r\n\t\t\t\t<v-card-title>\r\n\t\t\t\t\t<span class=\"headline\">{{ formTitle }}</span>\t\t\t\t\t\r\n\t\t\t\t</v-card-title>  \r\n\r\n\t\t\t\t<v-card-text>\r\n\t\t\t\t\t<v-container grid-list-md>\r\n\t\t\t\t\t\t<v-layout wrap column>\t\t\r\n\t\t\t\t\t\t\t<v-form v-model=\"valid\" ref=\"form\">\t\t\t\r\n\t\t\t\t\t\t\t\t<v-flex>\r\n                                    <v-textarea\t\r\n                                        filled\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                                        name=\"input-5-4\"                        \r\n                                        v-model=\"observacion\" \r\n                                        label=\"Observación\"\r\n                                        :rules=\"[rules.required]\"                        \r\n                                    ></v-textarea>\r\n\t\t\t\t\t\t\t\t</v-flex>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</v-form>\t\t\t\t\r\n\t\t\t\t\t\t</v-layout>\r\n\t\t\t\t\t</v-container>\r\n\t\t\t\t</v-card-text>\r\n  \r\n\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t<v-btn color=\"primary\" text @click=\"cerrarDialogo\">Cancelar</v-btn>\r\n\t\t\t\t\t<v-btn color=\"primary\" text @click=\"saveitem\" :disabled=\"!valid\">Guardar</v-btn>\r\n\t\t\t\t</v-card-actions>\r\n\r\n          \t</v-card>\r\n\r\n        </v-dialog>\r\n\r\n\r\n        <v-dialog v-model=\"dialog_del\" width=\"550\">\r\n\r\n            <v-card>\r\n\r\n                <v-card-title>\r\n                    <span class=\"headline red--text\">Eliminar Observación</span>\r\n                </v-card-title>\r\n\r\n                <v-card-text>\t\t\t\t\t\r\n                    ¿Esta seguro de eliminar la Observación seleccionada?.\t\t\t\t\t\r\n                </v-card-text>\r\n\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"primary\" dark text @click=\"dialog_del=false\">Cancelar</v-btn>\r\n                    <v-btn color=\"red\" text @click=\"deleteItem\" >Eliminar</v-btn>\r\n                </v-card-actions>\r\n\r\n            </v-card>\r\n\r\n        </v-dialog>\r\n\r\n        \r\n\r\n    </v-container>    \r\n</template>\r\n\r\n<script>\r\nimport proyectosobssubcieService from \"../servicios/ProyectosObsSubCieService\"\r\n\r\nexport default {\r\n    name: 'ObservacionSubCie',\r\n    props: ['proyecto','readonly','convenioproyecto','nombreproyecto','perfil','codigocoordinador'],\r\n    data (){\r\n\r\n        return {\r\n            loading: false,\r\n            edit:-1,\r\n            dialog_del:false,\r\n            dialog:false,\r\n            itemactual:'',\r\n            formTitle:'',\r\n\t\t\tvalid:false,\r\n            search:'',  \r\n            codigo:'0',\r\n            observacion: '',          \r\n            data: [],\r\n            permiso:0,\r\n            headersdata: [\r\n                { text: 'Observación', value: 'observacion',sortable: false,align: 'left'},                \r\n                { text: 'Accion', value: 'action',sortable: false,align: 'left'}          \r\n            ],            \t\t\t \r\n  \t\t\trules: {\r\n                required: value => !!value || 'Campo requerido.'\t\t\t\t\t\r\n            }\t\r\n        }\r\n    },\r\n\r\n    methods: {\r\n\r\n        showMessage (snack, time, color, text) {\r\n\r\n           this.$root.$emit('showSnack', {snack: snack, time: time, color: color, text: text})\r\n\r\n        },\r\n        \r\n        envioNotificaciones(mensajenotificacion,asuntocorreo, mensajecorreo){\r\n\r\n            this.$emit('envioNotificaciones', {mensajenotificacion: mensajenotificacion,asuntocorreo: asuntocorreo, mensajecorreo: mensajecorreo})\r\n\r\n        },\r\n\r\n        resetForm () {\r\n\r\n            this.codigo='0'\r\n            this.descripcion=''\t            \t\t\t\r\n        },\r\n        cerrarDialogo(){\r\n\r\n            this.resetForm()\r\n            this.dialog = false\r\n            this.edit=-1\r\n\r\n        },\r\n                 \r\n        traerdata(proyecto){\r\n\r\n            var _this = this\r\n            this.loading = true\r\n\r\n            proyectosobssubcieService.getDataXProyecto(proyecto)\r\n                .then(function(res) {\r\n\r\n                    if (res.request) {\r\n                                    \r\n                        if(res.data){\r\n\r\n                            _this.data = res.data.data\r\n                            \r\n                        }  else {\r\n                            \r\n                            _this.data = []                          \r\n                        \r\n                        }\r\n\r\n                    } else {                        \t\r\n\r\n                        _this.data = []\r\n                        \r\n                    }    \r\n                    _this.loading = false                \r\n                    \r\n            }).catch(function(err) {\r\n\r\n                    _this.data = []\r\n                    _this.loading = false                \r\n                \r\n            })\r\n\r\n        },\r\n\r\n        closeDialogoDel () {\r\n\t\t\t\t  \r\n            this.dialog_del = false\r\n        },\r\n\r\n        deleteItem(){\r\n            \r\n            var _this = this\r\n            this.loading = true            \r\n\r\n            proyectosobssubcieService.DelData(_this.proyecto, _this.itemactual.codigo)\r\n                .then(function(res) {\r\n\r\n                    if(res.statusText){\r\n\r\n                        _this.showMessage(true,3000,'success','Se eliminó la Observación con éxito')\r\n\r\n                        _this.del_item = ''\t              \t  \t\t\r\n                        _this.traerdata(_this.proyecto)\r\n                        _this.dialog_del = false\r\n                        \r\n                        _this.agregaBitacora('ELIMINACION','SE ELIMINÓ LA OBSERVACION CON CODIGO:' + _this.itemactual.codigo + \r\n                                                ', DESCRIPCION:' + _this.itemactual.observacion + \r\n                                                '. QUE PERTENECE AL PROYECTO CON # DE CONVENIO: ' + _this.convenioproyecto + ' Y NOMBRE: ' + \r\n                                                _this.nombreproyecto)\r\n\r\n                        var mensajecorreo = \"Cordial Saludo,<br><br> \" +\r\n                                            \"Se eliminó la Observación : '\" + _this.itemactual.observacion + \r\n                                            \"' del Proyecto con # de Convenio \" + \r\n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\r\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \r\n                                            \"<b>SINCHI</b><br><br> \" +\r\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\r\n                                            \"correo electrónico, no lo responda.</i> <br>\"\r\n                        \r\n                        var mensajenotifica = \"Se eliminó la Observación : '\" + _this.itemactual.observacion + \r\n                                              \"' del Proyecto con # de Convenio \" + \r\n                                              _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto\r\n\r\n                        _this.envioNotificaciones(mensajenotifica,'Eliminación de Ciudades del Proyecto',mensajecorreo)\r\n\r\n                    } else {\t                                         \t\r\n\r\n                        _this.showMessage(true,3000,'error',res.response.data.message) \t                  \t\r\n                    } \t                   \r\n                    _this.del_item = ''\t\t\t\t\t\t\r\n                    _this.loading = false\t                 \r\n                    \r\n            }).catch(function(err) {\r\n\r\n                _this.showMessage(true,3000,'error',err)\t    \r\n                _this.loading = false          \t\r\n                \r\n            })\r\n\r\n        },        \r\n\r\n        saveitem(){\r\n\r\n            var _this = this            \r\n            var data = {codigo:this.codigo,proyecto:this.proyecto,observacion:this.observacion};\r\n\r\n            proyectosobssubcieService.guardarData(data)\r\n\t              .then(function(res) {\r\n\r\n\t              \t  if (res.response) {                           \r\n                            \r\n                          var error = res.response.data.message\r\n                          _this.showMessage(true,3000,'error',error)\r\n\r\n                      } else if(res.statusText){\r\n\t              \t  \t\t\r\n\t              \t  \t\tvar mensaje = ''\r\n\t\t\t\t\t\t\tvar accbitacora = ''\r\n\r\n\t              \t  \t\t_this.showMessage(true,3000,'success','Se Actualizarón/Agregarón Observaciones de Subdirección Científica al Proyecto con éxito')\r\n             \t  \t\t\r\n\t              \t  \t\t_this.traerdata(_this.proyecto)\t              \t  \t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t_this.del_item = ''\r\n                            _this.edit = -1\t       \r\n                            _this.resetForm()\r\n                            _this.dialog = false\r\n\r\n                            _this.agregaBitacora('ACTUALIZACION/CREACION','SE ACTUALIZARON/AGREGARON/ELIMINARON OBSERVACIONES DE SUBDIRECCION CIENTIFICA AL PROYECTO CON # DE CONVENIO: ' \r\n                                                    + _this.convenioproyecto + ' Y DESCRIPCION: ' + _this.descripcion)\r\n                            \r\n                            var mensajecorreo = \"Cordial Saludo,<br><br> \" +\r\n                                            \"Se Actualizaron/Crearon/Eliminaron Observaciones de Subdirección Científica para el Proyecto con # de Convenio \" + \r\n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\r\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \r\n                                            \"<b>SINCHI</b><br><br> \" +\r\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\r\n                                            \"correo electrónico, no lo responda.</i> <br>\"\r\n                        \r\n                            var mensajenotifica = \"Se Actualizaron/Crearon/Eliminaron Observaciones de Subdirección Científica para el Proyecto con # de Convenio \" + \r\n                                                _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto\r\n\r\n                            _this.envioNotificaciones(mensajenotifica,'Actualización/Creación/Eliminacion de Observaciones de Subdirección Científica del Proyecto',mensajecorreo)\r\n\r\n                            \r\n\r\n\t              \t  }else{\t                                         \t\r\n\r\n\t                  \t\t_this.showMessage(true,3000,'error',res.message) \t                  \t\r\n\t                  }\r\n\r\n\t                    _this.loading = false\t                 \r\n\t                   \t\r\n\t          \t}).catch(function(err) {\r\n\r\n\t          \t\t_this.showMessage(true,3000,'error',err)\t    \r\n\t          \t\t_this.loading = false          \t\r\n\t          \t\t\r\n\t\t\t\t})\r\n\r\n        },\r\n\r\n        agregaBitacora(accion, detalle){              \r\n\r\n            var data = {modulo:'OBSERVACIONES SUBDIRECCION CIENTIFICA PROYECTOS',accion:accion,detalle:detalle}\r\n            \r\n            this.$root.$emit('agregaBitacora', data)\r\n\r\n        },\r\n\r\n    },\r\n\r\n    watch: {\r\n\r\n        proyecto: function (val) {            \r\n\r\n            if(val!=0)\r\n                this.traerdata(val)\r\n\r\n            if(this.perfil == 5)\r\n\t\t\t    this.permiso = true    \r\n        },\r\n\r\n        edit: function (val) {\r\n\r\n            if(val)\r\n            {\r\n                this.formTitle = 'Editar'\r\n\r\n                this.codigo = this.itemactual.codigo\r\n                this.observacion = this.itemactual.observacion\r\n\r\n            } else{\r\n\r\n                this.resetForm()\r\n                this.formTitle = 'Nuevo'\r\n            }\r\n        }\r\n\r\n    },\r\n        \r\n    mounted() {\r\n        \r\n        this.traerdata(this.proyecto)\r\n\r\n        if(this.perfil == 5)\r\n\t\t\tthis.permiso = true\r\n\r\n    },   \r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosObsSubCie.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosObsSubCie.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CProyectosObsSubCie.vue?vue&type=template&id=117218df&\"\nimport script from \"./CProyectosObsSubCie.vue?vue&type=script&lang=js&\"\nexport * from \"./CProyectosObsSubCie.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}