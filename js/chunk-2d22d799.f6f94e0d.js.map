{"version":3,"sources":["webpack:///./src/components/CProyectosProductos.vue?603b","webpack:///src/components/CProyectosProductos.vue","webpack:///./src/components/CProyectosProductos.vue?1f97","webpack:///./src/components/CProyectosProductos.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","length","model","value","callback","$$v","onboarding","expression","_l","itemdata","key","_v","_s","headers","data","scopedSlots","_u","fn","ref","item","readonly","$set","rules","maxPorcentaje","directives","name","rawName","codigoreal","staticClass","loading","on","$event","dialog_del","itemactual","_e","prev","n","active","toggle","next","staticStyle","saveitem","deleteItem","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d22d799.f6f94e0d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-card',{attrs:{\"flat\":\"\",\"tile\":\"\"}},[(_vm.length > 0)?_c('v-window',{attrs:{\"reverse\":\"\"},model:{value:(_vm.onboarding),callback:function ($$v) {_vm.onboarding=$$v},expression:\"onboarding\"}},_vm._l((_vm.arrObjetivos),function(itemdata){return _c('v-window-item',{key:(\"card-\" + (itemdata.codigo))},[_c('v-card',{attrs:{\"color\":\"transparent\",\"height\":\"400\"}},[_c('v-row',{attrs:{\"tag\":\"v-card-text\"}},[_c('h2',{attrs:{\"color\":\"black\"}},[_vm._v(_vm._s(((itemdata.codigo) + \". Objetivo: \" + (itemdata.descripcion))))])]),_c('v-row',[_c('v-card-text',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.data,\"items-per-page\":3},scopedSlots:_vm._u([{key:\"item.descripcion\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-text-field',{attrs:{\"readonly\":_vm.readonly},model:{value:(item.descripcion),callback:function ($$v) {_vm.$set(item, \"descripcion\", $$v)},expression:\"item.descripcion\"}})]}},{key:\"item.peso\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-text-field',{attrs:{\"type\":\"number\",\"readonly\":_vm.readonly,\"min\":\"0\",\"rules\":[_vm.rules.maxPorcentaje],\"suffix\":\" %\"},model:{value:(item.peso),callback:function ($$v) {_vm.$set(item, \"peso\", $$v)},expression:\"item.peso\"}})]}},{key:\"item.action\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.readonly && item.codigoreal != 0),expression:\"!readonly && item.codigoreal != 0\"}],staticClass:\"mr-5\",attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.loading,\"loading\":_vm.loading},on:{\"click\":function($event){_vm.dialog_del=true,_vm.itemactual=item}}},[_vm._v(\"\\n                                    delete\\n                                \")])]}}],null,true)})],1)],1)],1)],1)}),1):_vm._e(),_c('v-card-actions',{staticClass:\"justify-space-between\"},[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.prev}},[_c('v-icon',[_vm._v(\"chevron_left\")])],1),_c('v-item-group',{staticClass:\"text-center\",attrs:{\"mandatory\":\"\"},model:{value:(_vm.onboarding),callback:function ($$v) {_vm.onboarding=$$v},expression:\"onboarding\"}},_vm._l((_vm.length),function(n){return _c('v-item',{key:(\"btn-\" + n),scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nvar toggle = ref.toggle;\nreturn [_c('v-btn',{attrs:{\"input-value\":active,\"icon\":\"\"},on:{\"click\":toggle}},[_c('v-icon',[_vm._v(\"fiber_manual_record\")])],1)]}}],null,true)})}),1),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.next}},[_c('v-icon',[_vm._v(\"chevron_right\")])],1)],1),_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.readonly),expression:\"!readonly\"}],attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.saveitem}},[_vm._v(\"Guardar Productos\")])],1)],1),_c('v-dialog',{attrs:{\"width\":\"550\"},model:{value:(_vm.dialog_del),callback:function ($$v) {_vm.dialog_del=$$v},expression:\"dialog_del\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline red--text\"},[_vm._v(\"Eliminar Producto\")])]),_c('v-card-text',[_vm._v(\"\\t\\t\\t\\t\\t\\n                ¿Esta seguro de eliminar el Producto seleccionado?. Está acción eliminará tambien las actividades asociadas a este producto.\\t\\t\\t\\t\\t\\n            \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog_del=false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\"Eliminar\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container>\r\n        <v-card flat tile>\r\n            <v-window v-model=\"onboarding\" reverse v-if=\"length > 0\">\r\n                <v-window-item\r\n                v-for=\"itemdata in arrObjetivos\"\r\n                :key=\"`card-${itemdata.codigo}`\"\r\n                >\r\n                <v-card\r\n                    color=\"transparent\"\r\n                    height=\"400\"\r\n                >\r\n                    <v-row\r\n                                    \r\n                    tag=\"v-card-text\"\r\n                    >\r\n                    <h2 color=\"black\">{{ `${itemdata.codigo}. Objetivo: ${itemdata.descripcion}` }}</h2>\r\n                    </v-row>\r\n                    <v-row>\r\n                        <v-card-text>\r\n                            <v-data-table \r\n                                :headers=\"headers\" \r\n                                :items=\"data\" \r\n                                :items-per-page=\"3\"\r\n                            >\r\n                                <template v-slot:item.descripcion=\"{ item }\">\r\n                                    <v-text-field v-model=\"item.descripcion\"                                        \r\n                                        :readonly=\"readonly\"\r\n                                    >\r\n                                    </v-text-field>\r\n                                </template>\r\n\r\n                                <template v-slot:item.peso=\"{ item }\">\r\n                                    <v-text-field v-model=\"item.peso\" \r\n                                        type=\"number\"                         \r\n                                        :readonly=\"readonly\"\r\n                                        min=\"0\"\r\n                                        :rules=\"[rules.maxPorcentaje]\"\r\n                                        suffix=\" %\"\r\n                                    >\r\n                                    </v-text-field>\r\n                                </template>                                \r\n\r\n                                <template v-slot:item.action=\"{ item }\">\t\t\t\t\t\t\t\r\n                                    \r\n                                    <v-icon\r\n                                        small\r\n                                        class=\"mr-5\"\r\n                                        color=\"primary\" \r\n                                        :disabled=\"loading\"\r\n                                        :loading=\"loading\"\r\n                                        @click=\"dialog_del=true,itemactual=item\"\r\n                                        v-show=\"!readonly && item.codigoreal != 0\"\r\n                                    >\r\n                                        delete\r\n                                    </v-icon>\t\t\t\t\t\t\r\n                                                        \r\n                                </template>\r\n                            </v-data-table>                            \r\n                        </v-card-text>    \r\n                    </v-row>                   \r\n                </v-card>\r\n                </v-window-item>\r\n            </v-window>\r\n    \r\n            <v-card-actions class=\"justify-space-between\">\r\n                <v-btn              \r\n                text                \r\n                @click=\"prev\"\r\n                >\r\n                <v-icon>chevron_left</v-icon>\r\n                </v-btn>\r\n                <v-item-group\r\n                v-model=\"onboarding\"\r\n                class=\"text-center\"\r\n                mandatory\r\n                >\r\n                <v-item\r\n                    v-for=\"n in length\"\r\n                    :key=\"`btn-${n}`\"\r\n                    v-slot:default=\"{ active, toggle }\"\r\n                >\r\n                    <v-btn\r\n                    :input-value=\"active\"              \r\n                    icon\r\n                    @click=\"toggle\"\r\n                    >\r\n                    <v-icon>fiber_manual_record</v-icon>\r\n                    </v-btn>\r\n                </v-item>\r\n                </v-item-group> \r\n                <v-btn          \r\n                    text\r\n                    @click=\"next\"\r\n                >\r\n                    <v-icon>chevron_right</v-icon>\r\n                </v-btn>\r\n            </v-card-actions>\r\n            <div style=\"text-align: right\">\r\n                <v-btn color=\"primary\" text @click=\"saveitem\" v-show=\"!readonly\">Guardar Productos</v-btn>\r\n            </div>    \r\n        </v-card>\r\n\r\n        <v-dialog v-model=\"dialog_del\" width=\"550\">\r\n\r\n            <v-card>\r\n\r\n                <v-card-title>\r\n                    <span class=\"headline red--text\">Eliminar Producto</span>\r\n                </v-card-title>\r\n\r\n                <v-card-text>\t\t\t\t\t\r\n                    ¿Esta seguro de eliminar el Producto seleccionado?. Está acción eliminará tambien las actividades asociadas a este producto.\t\t\t\t\t\r\n                </v-card-text>\r\n\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"primary\" dark text @click=\"dialog_del=false\">Cancelar</v-btn>\r\n                    <v-btn color=\"red\" text @click=\"deleteItem\" >Eliminar</v-btn>\r\n                </v-card-actions>\r\n\r\n            </v-card>\r\n\r\n        </v-dialog>\r\n\r\n    </v-container>    \r\n</template>\r\n\r\n<script>\r\nimport proyectosproductosService from \"../servicios/ProyectosProductosService\"\r\nimport objetivosService from \"../servicios/ProyectosObjetivosService\"\r\n\r\nexport default {\r\n    name: 'Productos',\r\n    props: ['proyecto','readonly','convenioproyecto','nombreproyecto','codigocoordinador'],\r\n    data (){\r\n\r\n        return {\r\n            loading: false,\r\n            length: 0,\r\n            onboarding: 0, \r\n            itemactual:'',\r\n            dialog_del:false,  \r\n            inicio:0,                     \r\n            data: [\r\n                {\t\r\n                    codigo:0,\r\n                    peso:0,\t          \t\r\n                    descripcion: '',                   \r\n                    codigoreal:0,\r\n                    objetivo:0            \r\n                },\r\n            ],\r\n\r\n            headers: [      \r\n                { text: 'No.', value: 'codigo',sortable: false,align: 'left',width:'10%'},          \r\n                { text: 'Descripción', value: 'descripcion',sortable: false,align: 'left',width:'70%'}, \r\n                { text: 'Peso', value: 'peso',sortable: false,align: 'left',width:'10%'},               \r\n                { text: 'Acción', align: 'left', sortable: false,value: 'action',width:'10%'},        \r\n            ],\r\n\r\n            arrProgramas:[],\r\n            arrObjetivos:[],\r\n\r\n            rules: {                \r\n                maxPorcentaje: value => value < 100 || 'El % no puede superar el 100%'            \r\n            },\r\n        }\r\n    },\r\n\r\n    methods: {\r\n\r\n        showMessage (snack, time, color, text) {\r\n\r\n           this.$root.$emit('showSnack', {snack: snack, time: time, color: color, text: text})\r\n\r\n        },\r\n        \r\n        envioNotificaciones(mensajenotificacion,asuntocorreo, mensajecorreo){\r\n\r\n            this.$emit('envioNotificaciones', {mensajenotificacion: mensajenotificacion,\r\n                        asuntocorreo: asuntocorreo, mensajecorreo: mensajecorreo}) \r\n\r\n        },\r\n\r\n        dataVacios(){\r\n\r\n            var i=0\r\n\r\n            this.data = []\r\n            for(i;i<30;i++){\r\n                this.data.push({codigo:i+1,descripcion: '',codigoreal:0,objetivo:0,peso:0 })\r\n            }\r\n        },        \r\n\r\n        traerdata(proyecto, objetivo){\r\n\r\n            var _this = this\r\n            this.loading = true\r\n\r\n            proyectosproductosService.BuscarXObjetivo(proyecto, objetivo)\r\n                .then(function(res) {\r\n\r\n                    if (res.request) {\r\n                                    \r\n                        if(res.data){\r\n\r\n                            _this.data = res.data.data\r\n                            \r\n                            var totitems = _this.data.length\r\n                            var objetivo = 0\r\n                            \r\n                            objetivo = _this.arrObjetivos[_this.onboarding].codigo\r\n\r\n                            for (let index = totitems; index < 30; index++) {\r\n                                _this.data.push({codigo:index + 1,descripcion: '',codigoreal:0,objetivo:objetivo,peso:0})\t\t\t\t   \r\n                            }\r\n\r\n                        }  else {\r\n                            \r\n                            _this.data = []                            \r\n                            _this.dataVacios()\r\n                        \r\n                        }\r\n\r\n                        if(_this.data.length <=0){\r\n\r\n                            for (let index = 0; index < 30; index++) {\r\n                                _this.data.push({codigo:index + 1,descripcion: '',codigoreal:0,objetivo:objetivo,peso:0})\t\t\t\t   \r\n                            }\r\n\r\n                        }\r\n\r\n                    } else {                        \t\r\n\r\n                        _this.data = []                        \r\n                        _this.dataVacios()                        \t\r\n                    }    \r\n                    _this.loading = false                \r\n                    \r\n            }).catch(function(err) {\r\n\r\n                    _this.data = []                      \r\n                    _this.dataVacios() \r\n                    _this.loading = false                \r\n                \r\n            })\r\n\r\n        },\r\n\r\n        traerObjetivos(proyecto){\r\n\r\n             var _this = this\r\n            objetivosService.BuscarXProyecto(proyecto)\r\n                .then(function(res) {\r\n\r\n                    if (res.request) {\r\n                                    \r\n                        if(res.data){\r\n\r\n                            _this.arrObjetivos = res.data.data                             \r\n                            _this.length = _this.arrObjetivos.length\r\n\r\n                            if(_this.inicio == 0){\r\n                                _this.traerdata(_this.proyecto, _this.arrObjetivos[_this.onboarding].codigo)\r\n                                _this.inicio = 1\r\n                            }\r\n\r\n                        }  else {\r\n                            \r\n                            _this.arrObjetivos = []                           \r\n                            _this.length = 0 \r\n                        }\r\n\r\n                    } else {                        \t\r\n\r\n                        _this.arrObjetivos = []   \r\n                        _this.length = 0                     \r\n                    }\r\n                    \r\n            }).catch(function(err) {\r\n\r\n                _this.arrObjetivos = []\r\n                _this.length = 0                                 \r\n                \r\n            })\r\n\r\n        },\r\n\r\n        deleteItem(){\r\n            \r\n            var _this = this\r\n            this.loading = true\r\n\r\n            proyectosproductosService.DelData(_this.proyecto, _this.itemactual.codigoobjetivo, _this.itemactual.codigo)\r\n                .then(function(res) {\r\n\r\n                    if(res.statusText){\r\n\r\n                        _this.showMessage(true,3000,'success','Se eliminó el Producto con éxito')\r\n\r\n                        _this.del_item = ''\r\n                        _this.traerdata(_this.proyecto, _this.arrObjetivos[_this.onboarding].codigo)\r\n                        _this.dialog_del = false\r\n                        \r\n                        //_this.OnOffProyObjetivo()\r\n\r\n                        _this.agregaBitacora('ELIMINACION','SE ELIMINÓ EL PRODUCTO CON CODIGO:' + _this.itemactual.codigo + \r\n                                                ', DESCRIPCION:' + _this.itemactual.descripcion + '. DEL OBJETIVO ' +  \r\n                                                _this.itemactual.txtobjetivo + \r\n                                                '. QUE PERTENECE AL PROYECTO CON # DE CONVENIO: ' + _this.convenioproyecto + ' Y NOMBRE: ' + \r\n                                                _this.nombreproyecto)\r\n\r\n                        var mensajecorreo = \"Cordial Saludo,<br><br> \" +\r\n                                            \"Se eliminó el Producto : '\" + _this.itemactual.descripcion + \"' del objetivo '\" + \r\n                                            _this.itemactual.txtobjetivo + \"' que pertenece al Proyecto con # de Convenio \" + \r\n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\r\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \r\n                                            \"<b>SINCHI</b><br><br> \" +\r\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\r\n                                            \"correo electrónico, no lo responda.</i> <br>\"\r\n                        \r\n                        var mensajenotifica = \"Se eliminó el Producto : '\" + _this.itemactual.descripcion + \"' del objetivo '\" + \r\n                                              _this.itemactual.txtobjetivo + \"' que pertenece al Proyecto con # de Convenio \" + \r\n                                              _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto\r\n\r\n                        _this.envioNotificaciones(mensajenotifica,'Eliminación de Productos del Proyecto',mensajecorreo)                                 \r\n\r\n                    } else {\t                                         \t\r\n\r\n                        _this.showMessage(true,3000,'error',res.response.data.message) \t                  \t\r\n                    } \t                   \r\n                    _this.del_item = ''\t\t\t\t\t\t\r\n                    _this.loading = false\t                 \r\n                    \r\n            }).catch(function(err) {\r\n\r\n                _this.showMessage(true,3000,'error',err)\t    \r\n                _this.loading = false          \t\r\n                \r\n            })\r\n\r\n        },\r\n\r\n        saveitem(){            \r\n\r\n            var totitems = this.data.length\r\n            var busDuplicado = []\r\n            \r\n            this.loading = true\r\n            \r\n            var pesoact = 0 \r\n\r\n            for (let index = 0; index < totitems; index++) {\r\n\r\n                var code = ''\r\n                var descripcion = ''   \r\n\r\n                if(typeof this.data[index].codigo == 'object'){\r\n                    code = this.data[index].codigo.codigo\r\n                    descripcion = this.data[index].codigo.descripcion\r\n\r\n                } else {\r\n                    code = this.data[index].codigo\r\n                    descripcion = this.data[index].descripcion\r\n                }\r\n                \r\n                if(descripcion != ''){     \r\n                    \r\n                    if(busDuplicado.length > 0){\r\n                        for (let i = 0; i < busDuplicado.length; i++) {\r\n\r\n                            if(descripcion == busDuplicado[i].descripcion){\r\n\r\n                                var nitem = index + 1\r\n                                this.showMessage(true,3000,'error','El Producto ' + descripcion + ' del item ' + nitem + \r\n                                                    ' ya se encuentra en el item ' + busDuplicado[i].no)\r\n\r\n                                this.loading = false                    \r\n                                return\r\n                            }\r\n                        }\r\n\r\n                        busDuplicado.push({codigo:index + 1,descripcion:descripcion,proyecto:this.proyecto,\r\n                                            objetivo:this.arrObjetivos[this.onboarding].codigo,no:index + 1,\r\n                                            peso:this.data[index].peso})\r\n\r\n                    } else {\r\n\r\n                        busDuplicado.push({codigo:index + 1,descripcion:descripcion,proyecto:this.proyecto,\r\n                                            objetivo:this.arrObjetivos[this.onboarding].codigo,no:index + 1,\r\n                                            peso:this.data[index].peso})\r\n                    }\r\n                }\r\n\r\n                pesoact += parseFloat(this.data[index].peso)\r\n\t\t\t   \r\n            }\r\n\r\n            if(parseFloat(pesoact) > 100){\r\n\r\n                let mensaje = 'La suma de los pesos de los productos no debe superar el 100%'\r\n                this.showMessage(true,3000,'error',mensaje)\r\n\r\n                this.loading = false                    \r\n                return\r\n            }\r\n\r\n            var _this = this \r\n\r\n            proyectosproductosService.addupdData(busDuplicado)\r\n\t              .then(function(res) {\r\n\r\n\t              \t  if (res.response) {                           \r\n                            \r\n                          var error = res.response.data.message\r\n                          _this.showMessage(true,3000,'error',error)\r\n\r\n                      } else if(res.statusText){\r\n\t              \t  \t\t\r\n\t              \t  \t\tvar mensaje = ''\r\n\t\t\t\t\t\t\tvar accbitacora = ''\r\n\r\n\t              \t  \t\t_this.showMessage(true,3000,'success','Se Actualizarón/Agregarón los Productos con éxito')\r\n             \t  \t\t\r\n                            _this.traerdata(_this.proyecto, _this.arrObjetivos[_this.onboarding].codigo)              \t  \t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n                            _this.agregaBitacora('ACTUALIZACION/CREACION','SE ACTUALIZARON/AGREGARON PRODUCTOS DEL OBJETIVO ' + _this.data[0].txtobjetivo + \r\n                                                  ' PARA PROYECTO CON # DE CONVENIO: ' + _this.convenioproyecto + ' Y NOMBRE: ' + _this.nombreproyecto)\r\n\r\n                            //_this.OnOffProyObjetivo()  \r\n                            \r\n                            var mensajecorreo = \"Cordial Saludo,<br><br> \" +\r\n                                            \"Se Actualizaron/Crearon Productos para el Objetivo \" + _this.data[0].txtobjetivo + \r\n                                            \" para el Proyecto con # de Convenio \" + \r\n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\r\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \r\n                                            \"<b>SINCHI</b><br><br> \" +\r\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\r\n                                            \"correo electrónico, no lo responda.</i> <br>\"\r\n                        \r\n                            var mensajenotifica = \"Se Actualizaron/Crearon Productos para el Objetivo \" + _this.data[0].txtobjetivo + \r\n                                                  \" para el Proyecto con # de Convenio \" + \r\n                                                  _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto\r\n\r\n                            _this.envioNotificaciones(mensajenotifica,'Actualización/Creación de Productos de Objetivos de un Proyecto',mensajecorreo)\r\n\r\n\t              \t  }else{\t                                         \t\r\n\r\n\t                  \t\t_this.showMessage(true,3000,'error',res.message) \t                  \t\r\n\t                  }\r\n\r\n\t                    _this.loading = false\t                 \r\n\t                   \t\r\n\t          \t}).catch(function(err) {\r\n\r\n\t          \t\t_this.showMessage(true,3000,'error',err)\t    \r\n\t          \t\t_this.loading = false          \t\r\n\t          \t\t\r\n\t\t\t\t})\r\n\r\n        },\r\n\r\n        next () {\r\n            this.onboarding = this.onboarding + 1 === this.length\r\n                ? 0\r\n                : this.onboarding + 1\r\n        },\r\n        prev () {\r\n            this.onboarding = this.onboarding - 1 < 0\r\n                ? this.length - 1\r\n                : this.onboarding - 1\r\n        },\r\n\r\n        agregaBitacora(accion, detalle){              \r\n\r\n            var data = {modulo:'PRODUCTOS PROYECTOS',accion:accion,detalle:detalle}\r\n            \r\n            this.$root.$emit('agregaBitacora', data)\r\n\r\n        },\r\n\r\n    },\r\n\r\n    watch: {\r\n\r\n        proyecto: function (val) {\r\n\r\n            if(val!=0){                \r\n                this.traerObjetivos(val)\r\n            }\r\n        },\r\n\r\n        onboarding: function (val) {            \r\n\r\n            if(this.arrObjetivos.length > 0)\r\n\r\n                this.traerdata(this.proyecto, this.arrObjetivos[val].codigo)\r\n\r\n            else{\r\n\r\n                for (let index = 0; index < 30; index++) {\r\n                    this.data.push({codigo:index + 1,descripcion: '',codigoreal:0,objetivo:objetivo,peso:0})\t\t\t\t   \r\n                }\r\n\r\n            }           \r\n            \r\n        },\r\n\r\n    },\r\n        \r\n    mounted() {\r\n        \r\n        this.traerObjetivos(this.proyecto)\r\n\r\n    },\r\n    \r\n    created() {\r\n        \r\n        this.$store.watch(\r\n\r\n            (state) => state.proyobjetivos, (oldValue, newValue) => {                \r\n\r\n                this.traerObjetivos(this.proyecto)\r\n            }             \r\n        )\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosProductos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosProductos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CProyectosProductos.vue?vue&type=template&id=2e00ba60&\"\nimport script from \"./CProyectosProductos.vue?vue&type=script&lang=js&\"\nexport * from \"./CProyectosProductos.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}