{"version":3,"sources":["webpack:///./src/components/CProyectosArcVersiones.vue?8d9c","webpack:///src/components/CProyectosArcVersiones.vue","webpack:///./src/components/CProyectosArcVersiones.vue?2981","webpack:///./src/components/CProyectosArcVersiones.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticStyle","on","$event","abrirDialogoAbrirArchivo","headarchivos","dataarchivos","scopedSlots","_u","key","fn","ref","item","archivo","file_path","_s","file_name","staticClass","abrirDialogoElimFile","model","value","callback","$$v","dialog_archivos","expression","formTitleArchivos","validarcadd","archivoactual","rules","required","fechaarchivo","observacionarchivo","editArchivos","adicionarArchivo","dialog_deletefile","filedelete","eliminarItemArchivos","staticRenderFns","showMessage","max","reduce","traerDatosArchivos","component"],"mappings":"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","file":"js/chunk-2d0b5e30.4ccfc60b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-card',{attrs:{\"color\":\"transparent\"}},[_c('v-card-title',[_vm._v(\"\\n            Archivos de control de versiones            \\n        \")]),_c('v-card-text',[_c('div',{staticStyle:{\"padding-bottom\":\"10px\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.abrirDialogoAbrirArchivo(0)}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"add\")])],1)],1),_c('v-data-table',{attrs:{\"headers\":_vm.headarchivos,\"items\":_vm.dataarchivos,\"disable-sort\":true,\"disable-pagination\":true,\"hide-default-footer\":true},scopedSlots:_vm._u([{key:\"item.archivo.file_name\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.archivo.file_path != '')?_c('a',{attrs:{\"target\":\"_blank\",\"href\":item.archivo.file_path}},[_vm._v(\"\\n                        \"+_vm._s(item.archivo.file_name)+\"\\n                    \")]):_c('span',[_vm._v(_vm._s(item.archivo.file_name))])]}},{key:\"item.action\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-5\",attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.abrirDialogoElimFile(item)}}},[_vm._v(\"\\n                        delete\\n                    \")])]}}])})],1)],1),_c('v-dialog',{attrs:{\"width\":\"800\"},model:{value:(_vm.dialog_archivos),callback:function ($$v) {_vm.dialog_archivos=$$v},expression:\"dialog_archivos\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline red--text\"},[_vm._v(_vm._s(_vm.formTitleArchivos))])]),_c('v-card-text',[_c('v-form',{ref:\"validvbpreadd\",model:{value:(_vm.validarcadd),callback:function ($$v) {_vm.validarcadd=$$v},expression:\"validarcadd\"}},[_c('v-flex',[_c('span',[_vm._v(\"Archivo\")]),_c('adjuntarArchivos',{attrs:{\"item\":_vm.archivoactual,\"placeholder\":'Cargar Archivo',\"tipoarchivo\":'.pdf'}})],1),_c('br'),_c('v-flex',[_c('v-text-field',{attrs:{\"label\":\"Fecha cargue\",\"type\":\"date\",\"rules\":[_vm.rules.required]},model:{value:(_vm.fechaarchivo),callback:function ($$v) {_vm.fechaarchivo=$$v},expression:\"fechaarchivo\"}})],1),_c('br'),_c('v-flex',[_c('v-textarea',{attrs:{\"filled\":\"\",\"name\":\"input-7-4\",\"label\":\"Observación\"},model:{value:(_vm.observacionarchivo),callback:function ($$v) {_vm.observacionarchivo=$$v},expression:\"observacionarchivo\"}})],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog_archivos=false,_vm.editArchivos=-1}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\",\"disabled\":!_vm.validarcadd},on:{\"click\":_vm.adicionarArchivo}},[_vm._v(\"Agregar\")])],1)],1)],1),_c('v-dialog',{attrs:{\"width\":\"550\"},model:{value:(_vm.dialog_deletefile),callback:function ($$v) {_vm.dialog_deletefile=$$v},expression:\"dialog_deletefile\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline red--text\"},[_vm._v(\"Eliminar Archivo\")])]),_c('v-card-text',[_vm._v(\"\\n                ¿Esta seguro de eliminar el Archivo \"+_vm._s(_vm.filedelete)+\" definitivamente?.\\t\\t\\t\\t\\t\\n            \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog_deletefile=false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":_vm.eliminarItemArchivos}},[_vm._v(\"Eliminar\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container fluid>\n        <v-card\n            color=\"transparent\"                \n        >\n            <v-card-title>\n                Archivos de control de versiones            \n            </v-card-title>                \n            <v-card-text>\n                <div style=\"padding-bottom:10px\"> \n                    <v-btn fab dark small color=\"primary\" \n                        @click=\"abrirDialogoAbrirArchivo(0)\" >\n                        <v-icon dark>add</v-icon>\t\t\t\t\n                    </v-btn>\n                </div>\n                <v-data-table :headers=\"headarchivos\" \n                    :items=\"dataarchivos\" \n                    :disable-sort=\"true\" :disable-pagination=\"true\" \n                    :hide-default-footer=\"true\"\n                >\t\t\t\n                    <template v-slot:item.archivo.file_name=\"{ item }\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n                        <a \n                            target=\"_blank\" \n                            :href=\"item.archivo.file_path\" \n                            v-if=\"item.archivo.file_path != ''\"\n                        >\n                            {{ item.archivo.file_name }}\n                        </a>\n                        <span v-else>{{ item.archivo.file_name }}</span>\n                    </template>\n\n                    <template v-slot:item.action=\"{ item }\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\n                        <v-icon\n                            small\n                            class=\"mr-5\"\n                            color=\"primary\"\n                            @click=\"abrirDialogoElimFile(item)\"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n                        >\n                            delete\n                        </v-icon>\t\t\n                    </template>\n                </v-data-table>\n            </v-card-text> \n        </v-card>\n\n        <v-dialog v-model=\"dialog_archivos\" width=\"800\">\n            <v-card>\n                <v-card-title>\n                    <span class=\"headline red--text\">{{ formTitleArchivos }}</span>\n                </v-card-title>\n                <v-card-text>\n                    <v-form v-model=\"validarcadd\" ref=\"validvbpreadd\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n                        <v-flex>\n                            <span>Archivo</span>\n                            <adjuntarArchivos \n                                :item=\"archivoactual\" \n                                :placeholder=\"'Cargar Archivo'\"\n                                :tipoarchivo=\"'.pdf'\"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n                            />\n                        </v-flex>\n                        <br>\n                        <v-flex>\n                            <v-text-field\n                                v-model=\"fechaarchivo\"\t\n                                label=\"Fecha cargue\"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n                                type=\"date\"\t\n                                :rules=\"[rules.required]\"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n                            ></v-text-field>\n                        </v-flex>\n                        <br>\n                        <v-flex>\n                            <v-textarea\t\n                                filled\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n                                name=\"input-7-4\"\n                                label=\"Observación\"\n                                v-model=\"observacionarchivo\"\n                            ></v-textarea>\n                        </v-flex>\n                    </v-form>\t\t\t\t\t\t\n                </v-card-text>\n\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"primary\" dark text @click=\"dialog_archivos=false,editArchivos=-1\">Cancelar</v-btn>\n                    <v-btn color=\"primary\" text @click=\"adicionarArchivo\" :disabled=\"!validarcadd\">Agregar</v-btn>\n                </v-card-actions>\n\n            </v-card>\n        </v-dialog>\t  \n        <v-dialog v-model=\"dialog_deletefile\" width=\"550\">\n\n            <v-card>\n\n                <v-card-title>\n                    <span class=\"headline red--text\">Eliminar Archivo</span>\n                </v-card-title>\n\n                <v-card-text>\n                    ¿Esta seguro de eliminar el Archivo {{ filedelete }} definitivamente?.\t\t\t\t\t\n                </v-card-text>\n\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"primary\" dark text @click=\"dialog_deletefile=false\">Cancelar</v-btn>\n                    <v-btn color=\"red\" text @click=\"eliminarItemArchivos\" >Eliminar</v-btn>\n                </v-card-actions>\n\n            </v-card>\n\n        </v-dialog>     \n    </v-container>\n</template>\n\n<script>\nimport proyectoService from '../servicios/ProyectosService'\n\nexport default {\n    name: 'ArchivosVersiones',   \n    props: ['proyecto'],\n    components: { \n        'adjuntarArchivos' : () => import('@/components/AdjuntarArchivos')\t\t\t \n    },\n    data(){\n\n        return {\n            validarcadd:false,\n            dataarchivos:[],                       \n            dialog_archivos:false,\n            dialog_deletefile:false,\n            editArchivos:-1,\n            itemactualArchivo:'',\n            tipoarchivo:'',           \n            formTitleArchivos:'',\n            codigoarchivo:0,\n            observacionarchivo:'',\n\t\t\tfechaarchivo:'',\n            archivoactual:{file_name:'',file_path:'',file_name_tmp:''},\n            validvbpreadd:false,\t\n            filedelete:'',\n            headarchivos: [\n\n                { text: 'No.',align: 'left',sortable: false,value: 'codigo', class:'subtitle-1 font-weight-bold black--text' },\n                { text: 'Archivo',align: 'left',sortable: false,value: 'archivo.file_name', class:'subtitle-1 font-weight-bold black--text' },\t\n                { text: 'Fecha',align: 'left',sortable: false,value: 'fecha', class:'subtitle-1 font-weight-bold black--text' },\n                { text: 'Descripción',align: 'left',sortable: false,value: 'descripcion', class:'subtitle-1 font-weight-bold black--text' },\n                { text: 'Acción', value: 'action',sortable: false, class:'subtitle-1 font-weight-bold black--text' }\t\n\n            ],\n            \n            rules: {                \n                required: value => !!value || 'Campo requerido.'            \n            },\n        }\n    },\n    \n    methods: {\n        showMessage (snack, time, color, text) {\n\n           this.$root.$emit('showSnack', {snack: snack, time: time, color: color, text: text})\n\n        },\n        abrirDialogoElimFile(item){            \n            this.itemactualArchivo = item\n            this.dialog_deletefile = true\n        },\n        abrirDialogoAbrirArchivo(edit){            \n            this.itemactualArchivo = ''\n            this.editArchivos = edit\n            this.codigoarchivo = 0\t\t\t\t\n            this.rutaarchivo = ''\t\t\t\t\t\n            this.archivoactual = {file_name:'',file_path:'',file_name_tmp:''}\n            this.dialog_archivos = true\n        },\n        resetArchivos(){\n            this.codigoarchivo = 0\t\t\t\t\n            this.rutaarchivo = ''\t\t\t\t\t\n            this.archivoactual = {file_name:'',file_path:'',file_name_tmp:''}\t\t\t\t\n        },\n        async eliminarItemArchivos(){\n\n            try {\n\n                const result = await proyectoService.eliminarArchivo(this.proyecto,this.itemactualArchivo.codigo,this.itemactualArchivo.archivo)\n                \n                if(result.response) {\n\n                    this.showMessage(true,4000,'error',result.response.data.message)\n                    return\t\t\t\t\t\t\t\n                }\n\n            } catch (error) {\n                \n                this.showMessage(true,4000,'error',error)\n                return\n            }           \n                    \n            for (let index = 0; index < this.dataarchivos.length; index++) {\n                const element = this.dataarchivos[index]\n\n                if(element.codigo == this.itemactualArchivo.codigo ){\n                    \n                    this.dataarchivos.splice( index, 1 )\n                    this.showMessage(true,4000,'success','Se eliminó el archivo con éxito')\n                    break\n                }\n            }\n\n            this.traerDatosArchivos()\n            this.dialog_deletefile = false\n        },\n\n        async adicionarArchivo(){\n            \n            var f = new Date()\n\n            var fechaformat = f.getFullYear().toString().padStart(2, '00') + '-' + (f.getMonth() +1).toString().padStart(2, '00') + '-' + f.getDate().toString()\n            \n            if(this.archivoactual.file_name == '') {\n\n                this.showMessage(true,3000,'error', 'Debe seleccionar el archivo')\n                return\n            }\n\n            if(this.editArchivos == 0){\n\n                var max = 0                \n                        \n                max = this.dataarchivos.reduce((maximo, element) => Math.max(maximo, element.codigo), 0)\n                max += 1\n                \n                //se debe agregar si esta en modo edición, si es nuevo al guardar se envían los datos\n                if(parseFloat(this.proyecto) != 0){\n\n                    try {\n\n                        const result = await proyectoService.adicionarArchivo(this.proyecto,max,this.archivoactual,this.observacionarchivo,this.fechaarchivo)\n                        \n                        if(result.response) {\n\n                            this.showMessage(true,4000,'error',result.response.data.message)\n                            return\t\t\t\t\t\t\t\n                        }\n\n                    } catch (error) {\n                        \n                        this.showMessage(true,4000,'error',error)\n                        return\n                    }\n                }               \t\t\t\t\t\n\n                this.traerDatosArchivos()\n                //this.dataarchivos.push({codigo:max,archivo:this.archivoactual,fecha:this.fechaarchivo,descripcion: this.observacionarchivo})\n\n                this.showMessage(true,4000,'success','Se agregó el archivo con éxito')\n\n            }\n\n            this.observacionarchivo = ''\n            this.fechaarchivo = ''\n            this.editArchivos = -1\t\t\t\t\n            this.dialog_archivos = false\n        },\n\n        traerDatosArchivos(){            \n            var _this = this\t\t\t\t\n            \n            this.dataarchivos = []\n           \n            proyectoService.getDataArchivos(this.proyecto)\n                .then(function(res) {\n\n                    if (res.request) {\n                                    \n                        if(res.data){\n                        \n                            let dataactual = res.data.data \n                            \n                            if(dataactual.length > 0){\n\n                                for (let j = 0; j < dataactual.length; j++) {\n                                    const element = dataactual[j];\n\n                                    let archivoc = element.archivo\n                                    let rutasarchivo = element.rutaarchivo\n\n                                    let arc = {file_name:archivoc,file_path:(rutasarchivo != '' ? rutasarchivo : ''),file_name_tmp:''}                                         \n                                    \n                                    _this.dataarchivos.push({codigo:element.codigo,archivo:arc,fecha:element.fecha,descripcion:element.observacion})                                \n                                }\n                            }                            \n                        }\n\n                    }                \n                    \n            }).catch(function(err) {               \n                \n            })\n        },\n\n        agregaBitacora(accion, detalle){              \n\n            var data = {modulo:'ARCHIVOS VERSIONES',accion:accion,detalle:detalle}            \n            this.$root.$emit('agregaBitacora', data)\n\n        },\n\n    },\n\n    watch: {\n\n        proyecto: function (val) {\n            \n            if(val!=0){   \n                \n                this.traerDatosArchivos()\n\n            }\n        },\n    },\n\n    mounted() {        \n        \n        this.traerDatosArchivos()\n\n    },\n\n    computed: {\n    }   \n}\n\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosArcVersiones.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosArcVersiones.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CProyectosArcVersiones.vue?vue&type=template&id=634057be&\"\nimport script from \"./CProyectosArcVersiones.vue?vue&type=script&lang=js&\"\nexport * from \"./CProyectosArcVersiones.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}