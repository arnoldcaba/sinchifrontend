{"version":3,"sources":["webpack:///./src/components/CProyectosEquipo.vue?114f","webpack:///./src/servicios/ProyectosEquipoCompService.js","webpack:///src/components/CProyectosEquipo.vue","webpack:///./src/components/CProyectosEquipo.vue?6677","webpack:///./src/components/CProyectosEquipo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","headers","equipo","scopedSlots","_u","key","fn","ref","item","arrPersonal","readonly","model","value","callback","$$v","$set","expression","roles","rules","maxHorSemanal","directives","name","rawName","codigoreal","staticClass","loading","on","$event","dialogcompromisos","nombreintegrante","nombrecompleto","codigointegrante","persona","traerCompromisos","proyecto","_v","dialog_del","itemactual","saveitem","deleteItem","headerscompromisos","compromisos","dialogcompromiso_del","itemcompromisoactual","staticStyle","saveitemCompromiso","deleteCompromiso","personal","staticRenderFns","proyectoequipocompService","Promise","resolve","reject","axios","method","url","configService","apiUrl","dataType","then","res","catch","err","data","codigo","component"],"mappings":"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","file":"js/chunk-2d22d808.8426ad31.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"tile\":\"\"}},[_c('v-card-text',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.equipo,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.persona\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-autocomplete',{attrs:{\"items\":_vm.arrPersonal,\"item-value\":\"codigo\",\"item-text\":\"nombrecompleto\",\"readonly\":_vm.readonly,\"return-object\":true},model:{value:(item.persona),callback:function ($$v) {_vm.$set(item, \"persona\", $$v)},expression:\"item.persona\"}})]}},{key:\"item.rol\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-autocomplete',{attrs:{\"items\":_vm.roles,\"item-value\":\"codigo\",\"item-text\":\"descripcion\",\"readonly\":_vm.readonly,\"return-object\":true},model:{value:(item.rol),callback:function ($$v) {_vm.$set(item, \"rol\", $$v)},expression:\"item.rol\"}})]}},{key:\"item.dedicacion\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-text-field',{attrs:{\"type\":\"number\",\"readonly\":_vm.readonly,\"min\":\"0\",\"rules\":[_vm.rules.maxHorSemanal]},model:{value:(item.dedicacion),callback:function ($$v) {_vm.$set(item, \"dedicacion\", $$v)},expression:\"item.dedicacion\"}})]}},{key:\"item.vercompromiso\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.codigoreal != 0),expression:\"item.codigoreal != 0\"}],staticClass:\"mr-5\",attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.loading,\"loading\":_vm.loading},on:{\"click\":function($event){_vm.dialogcompromisos=true,_vm.nombreintegrante=item.nombrecompleto,\n                                _vm.codigointegrante=item.persona,_vm.traerCompromisos(_vm.proyecto, item.persona)}}},[_vm._v(\"\\n                        list_alt\\n                    \")])]}},{key:\"item.action\",fn:function(ref){\n                                var item = ref.item;\nreturn [_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.readonly && item.codigoreal != 0),expression:\"!readonly && item.codigoreal != 0\"}],staticClass:\"mr-5\",attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.loading,\"loading\":_vm.loading},on:{\"click\":function($event){_vm.dialog_del=true,_vm.itemactual=item}}},[_vm._v(\"\\n                        delete\\n                    \")])]}}])})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.readonly),expression:\"!readonly\"}],attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.saveitem}},[_vm._v(\"Guardar equipo\")])],1)],1),_c('v-dialog',{attrs:{\"width\":\"550\"},model:{value:(_vm.dialog_del),callback:function ($$v) {_vm.dialog_del=$$v},expression:\"dialog_del\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline red--text\"},[_vm._v(\"Eliminar Integrante\")])]),_c('v-card-text',[_vm._v(\"\\t\\t\\t\\t\\t\\n                ¿Esta seguro de eliminar el Integrante seleccionado?.\\t\\t\\t\\t\\t\\n            \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog_del=false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\"Eliminar\")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"800\",\"persistent\":\"\"},model:{value:(_vm.dialogcompromisos),callback:function ($$v) {_vm.dialogcompromisos=$$v},expression:\"dialogcompromisos\"}},[_c('v-card',[_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"sm12\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"tile\":\"\",\"min-height\":\"300\"}},[_c('v-card-text',[_c('v-data-table',{attrs:{\"headers\":_vm.headerscompromisos,\"items\":_vm.compromisos,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.descripcion\",fn:function(ref){\n                                var item = ref.item;\nreturn [_c('v-text-field',{attrs:{\"readonly\":_vm.readonly},model:{value:(item.descripcion),callback:function ($$v) {_vm.$set(item, \"descripcion\", $$v)},expression:\"item.descripcion\"}})]}},{key:\"item.action\",fn:function(ref){\n                                var item = ref.item;\nreturn [_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.readonly && item.codigoreal != 0),expression:\"!readonly && item.codigoreal != 0\"}],staticClass:\"mr-5\",attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.loading,\"loading\":_vm.loading},on:{\"click\":function($event){_vm.dialogcompromiso_del=true,_vm.itemcompromisoactual=item}}},[_vm._v(\"\\n                                            delete\\n                                        \")])]}}])})],1)],1)],1)],1)],1),_c('v-card-actions',[_c('div',{staticStyle:{\"width\":\"100%\",\"text-align\":\"right\"}},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.readonly),expression:\"!readonly\"}],attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":_vm.saveitemCompromiso}},[_vm._v(\"Actualizar\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogcompromisos=false}}},[_vm._v(\"Cancelar\")])],1)])],1)],1),_c('v-dialog',{attrs:{\"width\":\"550\"},model:{value:(_vm.dialogcompromiso_del),callback:function ($$v) {_vm.dialogcompromiso_del=$$v},expression:\"dialogcompromiso_del\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline red--text\"},[_vm._v(\"Eliminar Compromiso\")])]),_c('v-card-text',[_vm._v(\"\\t\\t\\t\\t\\t\\n                ¿Esta seguro de eliminar el Compromiso seleccionado?.\\t\\t\\t\\t\\t\\n            \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogcompromiso_del=false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteCompromiso(_vm.itemcompromisoactual.personal)}}},[_vm._v(\"Eliminar\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\nimport configService from './config'\r\n\r\nconst proyectoequipocompService = {}\r\n\r\n  proyectoequipocompService.getData = function(){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/ProyectosEquipoComp',\r\n        dataType: \"json\"\r\n        /*,\r\n        headers:authHeader*/\r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  proyectoequipocompService.guardarData = function(data){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/addupdProyectoEquipoComp',\r\n        dataType: \"json\",\r\n        data: {\r\n          data: data          \r\n        }\r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  proyectoequipocompService.DelData = function(proyecto, personal, codigo){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/delProyectoEquipoComp',\r\n        dataType: \"json\",\r\n        data: {\r\n          proyecto: proyecto,\r\n          personal: personal,\r\n          codigo: codigo          \r\n        }\r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  proyectoequipocompService.BuscarXProyectoPersonal = function(proyecto, personal){\r\n\r\n    return new Promise(function(resolve, reject) {axios({\r\n        method:'POST',\r\n        url: configService.apiUrl + '/ProyectosEquipoCompXProyecto',\r\n        dataType: \"json\",\r\n        data: {\r\n          proyecto: proyecto,\r\n          personal: personal\r\n        }\r\n      })\r\n      .then(function(res) {\r\n\r\n        resolve(res)      \r\n        \r\n      })\r\n      .catch(function(err) {     \r\n\r\n        resolve(err)\r\n           \r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  export default proyectoequipocompService","<template>\r\n    <v-container fluid>\t\r\n        <v-card\r\n            flat\r\n            tile\r\n        >\r\n            <v-card-text>\r\n                <v-data-table :headers=\"headers\" :items=\"equipo\" :items-per-page=\"5\">\r\n\r\n                    <template v-slot:item.persona=\"{ item }\">\r\n                        <v-autocomplete\r\n                            :items=\"arrPersonal\"\r\n                            item-value=\"codigo\"\r\n                            item-text=\"nombrecompleto\"\r\n                            v-model=\"item.persona\"\t\t\t\t\t\t\r\n                            :readonly=\"readonly\"\t\r\n                            :return-object=\"true\"\t\t\t\t\t\t\t\t\t\r\n                        >\t\t\t\t\t\t\t\t\t\r\n                        </v-autocomplete>                    \r\n                    </template>\r\n                    \r\n                    <template v-slot:item.rol=\"{ item }\">\r\n                        <v-autocomplete\r\n                            :items=\"roles\"\r\n                            item-value=\"codigo\"\r\n                            item-text=\"descripcion\"\r\n                            v-model=\"item.rol\"\t\t\t\t\t\t\r\n                            :readonly=\"readonly\"\t\r\n                            :return-object=\"true\"\t\t\t\t\t\t\t\t\t\r\n                        >\t\t\t\t\t\t\t\t\t\r\n                        </v-autocomplete>                    \r\n                    </template>\r\n\r\n                    <template v-slot:item.dedicacion=\"{ item }\">\r\n                        <v-text-field v-model=\"item.dedicacion\" \r\n                            type=\"number\"                         \r\n                            :readonly=\"readonly\"\r\n                            min=\"0\"\r\n                            :rules=\"[rules.maxHorSemanal]\"\r\n                        >\r\n                        </v-text-field>\r\n                    </template>\r\n\r\n                    <!--<template v-slot:item.porcentaje=\"{ item }\">\r\n                        <v-text-field v-model=\"item.porcentaje\" \r\n                            type=\"number\"                         \r\n                            :readonly=\"readonly\"\r\n                            min=\"0\" max=\"100\"\r\n                            :rules=\"[rules.maxPorcentaje]\"\r\n                        >\r\n                        </v-text-field>\r\n                    </template>\r\n\r\n                    <template v-slot:item.titular=\"{ item }\">\r\n                        <v-checkbox                                               \r\n                            v-model=\"item.titular\"                        \r\n                            :readonly=\"readonly\"\r\n                            color=\"primary\" \r\n                            \r\n                        ></v-checkbox>\r\n                    </template>-->\r\n\r\n                    <template v-slot:item.vercompromiso=\"{ item }\">\t\t\t\t\t\t\t\r\n                                \r\n                        <v-icon\r\n                            small\r\n                            class=\"mr-5\"\r\n                            color=\"primary\" \r\n                            :disabled=\"loading\"\r\n                            :loading=\"loading\"\r\n                            v-show=\"item.codigoreal != 0\"\r\n                            @click=\"dialogcompromisos=true,nombreintegrante=item.nombrecompleto,\r\n                                    codigointegrante=item.persona,traerCompromisos(proyecto, item.persona)\"                           \r\n                        >\r\n                            list_alt\r\n                        </v-icon>\t\t\t\t\t\t\r\n                                            \r\n                    </template>\r\n\r\n                    <template v-slot:item.action=\"{ item }\">\t\t\t\t\t\t\t\r\n                                \r\n                        <v-icon\r\n                            small\r\n                            class=\"mr-5\"\r\n                            color=\"primary\" \r\n                            :disabled=\"loading\"\r\n                            :loading=\"loading\"\r\n                            @click=\"dialog_del=true,itemactual=item\"\r\n                            v-show=\"!readonly && item.codigoreal != 0\"\r\n                        >\r\n                            delete\r\n                        </v-icon>\t\t\t\t\t\t\r\n                                            \r\n                    </template>\r\n                </v-data-table>\r\n            </v-card-text>\r\n\r\n            <v-card-actions>\r\n                <v-spacer></v-spacer>                \r\n                <v-btn color=\"primary\" text @click=\"saveitem\" v-show=\"!readonly\">Guardar equipo</v-btn>\r\n            </v-card-actions>\r\n\r\n        </v-card> \r\n\r\n        <v-dialog v-model=\"dialog_del\" width=\"550\">\r\n\r\n            <v-card>\r\n\r\n                <v-card-title>\r\n                    <span class=\"headline red--text\">Eliminar Integrante</span>\r\n                </v-card-title>\r\n\r\n                <v-card-text>\t\t\t\t\t\r\n                    ¿Esta seguro de eliminar el Integrante seleccionado?.\t\t\t\t\t\r\n                </v-card-text>\r\n\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"primary\" dark text @click=\"dialog_del=false\">Cancelar</v-btn>\r\n                    <v-btn color=\"red\" text @click=\"deleteItem\" >Eliminar</v-btn>\r\n                </v-card-actions>\r\n\r\n            </v-card>\r\n\r\n        </v-dialog>\r\n\r\n        <v-dialog v-model=\"dialogcompromisos\" max-width=\"800\" persistent>\r\n            <v-card>\r\n                <v-card-text>\r\n                    <v-row>\r\n                        <v-col sm12>\r\n                            <v-card\r\n                                flat\r\n                                tile\r\n                                min-height=\"300\"\r\n                            >\r\n                                <v-card-text>                                   \r\n                                    <v-data-table :headers=\"headerscompromisos\" :items=\"compromisos\" :items-per-page=\"5\">\r\n                                         <template v-slot:item.descripcion=\"{ item }\">\r\n                                            <v-text-field v-model=\"item.descripcion\" \r\n                                                :readonly=\"readonly\">\r\n                                            </v-text-field>\r\n                                        </template>\r\n\r\n                                        <template v-slot:item.action=\"{ item }\">\t\t\t\t\t\t\t\r\n                                \r\n                                            <v-icon\r\n                                                small\r\n                                                class=\"mr-5\"\r\n                                                color=\"primary\" \r\n                                                :disabled=\"loading\"\r\n                                                :loading=\"loading\"\r\n                                                @click=\"dialogcompromiso_del=true,itemcompromisoactual=item\"\r\n                                                v-show=\"!readonly && item.codigoreal != 0\"\r\n                                            >\r\n                                                delete\r\n                                            </v-icon>\t\t\t\t\t\t\r\n                                                                \r\n                                        </template>\r\n                                    </v-data-table>\r\n                                </v-card-text>\r\n                            </v-card> \r\n                        </v-col>\r\n                    </v-row>\r\n                </v-card-text>\r\n                <v-card-actions>\r\n                    <div style=\"width:100%;text-align:right\">\r\n                        <v-btn color=\"primary\" dark text @click=\"saveitemCompromiso\" v-show=\"!readonly\">Actualizar</v-btn>  \r\n                        <v-btn color=\"primary\" dark text @click=\"dialogcompromisos=false\">Cancelar</v-btn>\r\n                    </div>    \r\n                </v-card-actions>\r\n            </v-card>        \r\n        </v-dialog>\r\n\r\n        <v-dialog v-model=\"dialogcompromiso_del\" width=\"550\">\r\n\r\n            <v-card>\r\n\r\n                <v-card-title>\r\n                    <span class=\"headline red--text\">Eliminar Compromiso</span>\r\n                </v-card-title>\r\n\r\n                <v-card-text>\t\t\t\t\t\r\n                    ¿Esta seguro de eliminar el Compromiso seleccionado?.\t\t\t\t\t\r\n                </v-card-text>\r\n\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"primary\" dark text @click=\"dialogcompromiso_del=false\">Cancelar</v-btn>\r\n                    <v-btn color=\"red\" text @click=\"deleteCompromiso(itemcompromisoactual.personal)\" >Eliminar</v-btn>\r\n                </v-card-actions>\r\n\r\n            </v-card>\r\n\r\n        </v-dialog>\r\n\r\n    </v-container>    \r\n</template>\r\n\r\n<script>\r\nimport proyectosequipoService from \"../servicios/ProyectosEquipoService\"\r\nimport proyectosequipocompService from \"../servicios/ProyectosEquipoCompService\"\r\nimport personalService from \"../servicios/PersonalService\"\r\nimport rolesService from \"../servicios/RolesService\"\t\r\n\r\nexport default {\r\n    name: 'Equipo',\r\n    props: ['proyecto','readonly','convenioproyecto','nombreproyecto','codigocoordinador'],\r\n    data (){\r\n\r\n        return {\r\n            loading: false,\r\n            dialog_del:false,\r\n            itemactual:'',\r\n            dialogcompromisos:false,\r\n            compromisos:[],\r\n            arrPersonal:[],\r\n            itemcompromisoactual:'',\r\n            dialogcompromiso_del:false,\r\n            codigointegrante:0,\r\n            nombreintegrante:'',\r\n            roles:[],\r\n            equipo: [\r\n                {\t\r\n                    codigo:0,\t          \t\r\n                    rol: '',\r\n                    persona:0,\r\n                    dedicacion:0               \r\n                },\r\n            ],\r\n\r\n            headers: [\r\n                { text: 'Integrantes', value: 'persona',sortable: false,align: 'left',width:'40%'},                 \r\n                {\r\n                    text: 'Rol',\r\n                    align: 'left',\r\n                    sortable: false,\r\n                    value: 'rol',\r\n                    width:'40%'\r\n                },\r\n                {\r\n                    text: 'Tiempo Dedicación (Horas Seman.)',\r\n                    align: 'left',\r\n                    sortable: false,\r\n                    value: 'dedicacion',\r\n                    width:'10%'\r\n                },\r\n                /*{\r\n                    text: '% Participación Der. Patri.',\r\n                    align: 'left',\r\n                    sortable: false,\r\n                    value: 'porcentaje',\r\n                },\r\n                {\r\n                    text: 'Titular Der. Prop. Int.',\r\n                    align: 'left',\r\n                    sortable: false,\r\n                    value: 'titular',\r\n                },*/\r\n                { text: 'Compromisos', value: 'vercompromiso',sortable: false,align: 'left',width:'5%'},\r\n                { text: 'Accion', value: 'action',sortable: false,align: 'left',width:'5%'}          \r\n            ],\r\n\r\n            headerscompromisos: [\r\n                {\r\n                    text: 'Descripción',\r\n                    align: 'left',\r\n                    sortable: false,\r\n                    value: 'descripcion',\r\n                },\r\n                { text: 'Accion', value: 'action',sortable: false,align: 'left'}\r\n            ],\r\n\r\n            rules: {                \r\n                maxPorcentaje: value => value < 100 || 'El % de Participación no puede superar el 100%',\r\n                maxHorSemanal: value => value < 40 || 'Las Horas Semanales del Integrante no puede ser superior a 40'\r\n            \r\n            }\t\t\r\n\r\n        }\r\n    },\r\n\r\n    methods: {\r\n\r\n        showMessage (snack, time, color, text) {\r\n\r\n           this.$root.$emit('showSnack', {snack: snack, time: time, color: color, text: text})\r\n\r\n        },\r\n        \r\n        envioNotificaciones(mensajenotificacion,asuntocorreo, mensajecorreo){\r\n\r\n            this.$emit('envioNotificaciones', {mensajenotificacion: mensajenotificacion,asuntocorreo: asuntocorreo, mensajecorreo: mensajecorreo})\r\n\r\n        },\r\n            \r\n        EquipoVacio(){\r\n\r\n            var i=0\r\n\r\n            this.equipo = []\r\n            for(i;i<30;i++){\r\n                this.equipo.push({codigo:i+1,proyecto:'',descripcion:'',codigoreal:0})\r\n            }\r\n        },\r\n\r\n        EquipoCompVacio(){\r\n\r\n            var i=0\r\n\r\n            this.compromisos = []\r\n            for(i;i<20;i++){\r\n                this.compromisos.push({codigo:i+1,proyecto:this.proyecto,descripcion:'',codigoreal:0,personal:this.codigointegrante})\r\n            }\r\n        },\r\n\r\n        traePersonal(){\r\n\r\n            var _this = this\r\n            this.loading = true\r\n            \r\n            personalService.getData()\r\n                .then(function(res) {\r\n\r\n                    if (res.request) {\r\n                                    \r\n                        if(res.data){\r\n\r\n                        _this.arrPersonal = res.data.data\t\t\t\t\t\t\t\r\n\r\n                        }  else {\r\n                        \r\n                        _this.arrPersonal = []\r\n                        \r\n                        }\r\n\r\n                    } else {                        \t\r\n\r\n                    _this.arrPersonal = []                        \t\r\n                    }    \r\n                    _this.loading = false                \r\n                    \r\n            }).catch(function(err) {\r\n\r\n                _this.arrPersonal = []   \r\n                _this.loading = false                \r\n                \r\n            })\r\n\r\n        },\r\n            \r\n        traerequipo(proyecto){\r\n\r\n            var _this = this\r\n            this.loading = true\r\n\r\n            proyectosequipoService.BuscarXProyecto(proyecto)\r\n                .then(function(res) {\r\n\r\n                    if (res.request) {\r\n                                    \r\n                        if(res.data){\r\n\r\n                            _this.equipo = res.data.data\r\n                            \r\n                            var totitems = _this.equipo.length\t\t\t\t\t\t\t\r\n\r\n                            for (let index = totitems; index < 15; index++) {\r\n                                _this.equipo.push({proyecto:'',persona:'0',rol:'',dedicacion:0,codigoreal:0})\t\t\t\t   \r\n                            }\r\n\r\n                        }  else {\r\n                        \r\n                            _this.equipo = []\r\n                            _this.EquipoVacio()\r\n                        \r\n                        }\r\n\r\n                    } else {                        \t\r\n\r\n                        _this.equipo = []\r\n                        _this.EquipoVacio()                        \t\r\n                    }    \r\n                    _this.loading = false                \r\n                    \r\n            }).catch(function(err) {\r\n\r\n                    _this.equipo = []  \r\n                    _this.EquipoVacio() \r\n                _this.loading = false                \r\n                \r\n            })\r\n\r\n        },\r\n\r\n        traerRoles(){\r\n\r\n            var _this = this\r\n           \r\n            rolesService.getData()\r\n                .then(function(res) {\r\n\r\n                    if (res.request) {\r\n                                    \r\n                        if(res.data){\r\n\r\n                            _this.roles = res.data.data\r\n                            \r\n                        }  else {\r\n                        \r\n                            _this.roles = []\r\n\r\n                        }\r\n\r\n                    } else {                        \t\r\n\r\n                        _this.roles = []                        \r\n                    }  \r\n\r\n            }).catch(function(err) {\r\n\r\n                _this.roles = []\r\n            })\r\n\r\n        },\r\n\r\n        traerCompromisos(proyecto, personal){            \r\n            \r\n            var _this = this\r\n            \r\n            proyectosequipocompService.BuscarXProyectoPersonal(proyecto, personal)\r\n                .then(function(res) {\r\n\r\n                    if (res.request) {\r\n                                    \r\n                        if(res.data){\r\n\r\n                            _this.compromisos = res.data.data\r\n                            \r\n                            var totalitems = _this.compromisos.length\t\t\t\t\t\t\t\r\n\r\n                            for (let index = totalitems; index < 20; index++) {\r\n                                _this.compromisos.push({proyecto:_this.proyecto,personal:_this.codigointegrante,\r\n                                                        descripcion:'',codigoreal:0})\t\t\t\t   \r\n                            }\r\n\r\n                        }  else {\r\n                        \r\n                            _this.compromisos = []\r\n                            _this.EquipoCompVacio()\r\n                        \r\n                        }\r\n\r\n                    } else {                        \t\r\n\r\n                       _this.compromisos = []\r\n                       _this.EquipoCompVacio()                        \t\r\n                    }    \r\n                    _this.loading = false                \r\n                    \r\n            }).catch(function(err) {\r\n\r\n                _this.compromisos = []\r\n                _this.EquipoCompVacio()\r\n            })\r\n\r\n        },\r\n\r\n        deleteItem(){\r\n            \r\n            var _this = this\r\n            this.loading = true            \r\n\r\n            proyectosequipoService.DelData(_this.proyecto, _this.itemactual.persona)\r\n                .then(function(res) {\r\n\r\n                    if(res.statusText){\r\n\r\n                        _this.showMessage(true,3000,'success','Se eliminó el Integrante con éxito')\r\n\r\n                        _this.del_item = ''\t              \t  \t\t\r\n                        _this.traerequipo(_this.proyecto)\r\n                        _this.dialog_del = false\r\n                        \r\n                        _this.agregaBitacora('ELIMINACION','SE ELIMINÓ EL INTEGRANTE :' + _this.itemactual.nombrecompleto +                                                 \r\n                                                '. QUE PERTENECE AL PROYECTO CON # DE CONVENIO: ' + _this.convenioproyecto + ' Y NOMBRE: ' + \r\n                                                _this.nombreproyecto)\r\n\r\n                        var mensajecorreo = \"Cordial Saludo,<br><br> \" +\r\n                                            \"Se eliminó el Integrante : '\" + _this.itemactual.nombrecompleto + \"' del Proyecto con # de Convenio \" + \r\n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\r\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \r\n                                            \"<b>SINCHI</b><br><br> \" +\r\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\r\n                                            \"correo electrónico, no lo responda.</i> <br>\"\r\n                        \r\n                        var mensajenotifica = \"Se eliminó el Integrante : '\" + _this.itemactual.nombrecompleto + \"' del Proyecto con # de Convenio \" + \r\n                                                _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto\r\n\r\n                        _this.envioNotificaciones(mensajenotifica,'Eliminación de Integrante del Proyecto',mensajecorreo)                                 \r\n\r\n                    } else {\t                                         \t\r\n\r\n                        _this.showMessage(true,3000,'error',res.response.data.message) \t                  \t\r\n                    } \t                   \r\n                    _this.del_item = ''\t\t\t\t\t\t\r\n                    _this.loading = false\t                 \r\n                    \r\n            }).catch(function(err) {\r\n\r\n                _this.showMessage(true,3000,'error',err)\t    \r\n                _this.loading = false          \t\r\n                \r\n            })\r\n\r\n        },        \r\n\r\n        deleteCompromiso(personal){\r\n            \r\n            var _this = this\r\n            this.loading = true            \r\n            \r\n            proyectosequipocompService.DelData(_this.proyecto,personal, _this.itemcompromisoactual.codigo)\r\n                .then(function(res) {\r\n\r\n                    if(res.statusText){\r\n\r\n                        _this.showMessage(true,3000,'success','Se eliminó el Compromiso con éxito')\r\n\r\n                        _this.traerCompromisos(_this.proyecto,personal)                       \r\n                        _this.dialogcompromiso_del = false\r\n                        \r\n                        _this.agregaBitacora('ELIMINACION','SE ELIMINÓ EL COMPROMISO :' + _this.itemcompromisoactual.descripcion +                                                 \r\n                                             ' DEL INTEGRANTE: ' + _this.nombreintegrante + '. QUE PERTENECE AL PROYECTO CON # DE CONVENIO: ' + _this.convenioproyecto + ' Y NOMBRE: ' + \r\n                                                _this.nombreproyecto)\r\n\r\n                        var mensajecorreo = \"Cordial Saludo,<br><br> \" +\r\n                                            \"Se eliminó el Compromiso: '\" + _this.itemcompromisoactual.descripcion + \"' del Integrante : '\" + \r\n                                            _this.nombreintegrante + \"' del Proyecto con # de Convenio \" + \r\n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\r\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \r\n                                            \"<b>SINCHI</b><br><br> \" +\r\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\r\n                                            \"correo electrónico, no lo responda.</i> <br>\"\r\n                        \r\n                        var mensajenotifica = \"Se eliminó el Compromiso: '\" + _this.itemcompromisoactual.descripcion + \"' del Integrante : '\" + \r\n                                            _this.nombreintegrante + \"' del Proyecto con # de Convenio \" + \r\n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto\r\n\r\n                        _this.envioNotificaciones(mensajenotifica,'Eliminación de Compromiso de Integrante del Proyecto',mensajecorreo)\r\n\r\n                    } else {\t                                         \t\r\n\r\n                        _this.showMessage(true,3000,'error',res.response.data.message) \t                  \t\r\n                    } \t                   \r\n                                    \r\n                    \r\n            }).catch(function(err) {\r\n\r\n                _this.showMessage(true,3000,'error',err)\r\n                \r\n            })\r\n\r\n        },\r\n\r\n        saveitem(){            \r\n\r\n            var totitems = this.equipo.length\r\n            var busDuplicado = []\r\n            \r\n            this.loading = true\r\n            \r\n            var totalporcentaje = 0    \r\n\r\n            for (let index = 0; index < totitems; index++) {\r\n\r\n                var code = ''\r\n                var nombre = ''\r\n                var role = ''\r\n                var nombrerol = ''\r\n\r\n                if(typeof this.equipo[index].persona == 'object'){\r\n                    code = this.equipo[index].persona.codigo\r\n                    nombre = this.equipo[index].persona.nombrecompleto\r\n\r\n                } else {\r\n                    code = this.equipo[index].persona\r\n                    nombre = this.equipo[index].nombrecompleto\r\n                }                    \r\n\r\n                if(typeof this.equipo[index].rol == 'object'){\r\n                    role = this.equipo[index].rol.codigo\r\n                    nombrerol = this.equipo[index].rol.descripcion\r\n\r\n                } else {\r\n                    role = this.equipo[index].rol\r\n                    nombrerol = this.equipo[index].rolnombre\r\n                }\r\n\r\n                if(code != '' && code != '0' && code != undefined){\r\n                    \r\n                    if(role == '' || role == '0' || code == undefined){\r\n\r\n                        this.showMessage(true,3000,'error','El Integrante ' + nombre + ' no tiene Rol asignado.')\r\n\r\n                        this.loading = false                    \r\n                        return\r\n\r\n                    } else if (this.equipo[index].dedicacion == '0') {\r\n\r\n                        this.showMessage(true,3000,'error','El Integrante ' + nombre + ' no tiene Tiempo de Dedicación.')\r\n\r\n                        this.loading = false                    \r\n                        return\r\n\r\n                    }\r\n\r\n                    totalporcentaje += parseFloat(this.equipo[index].porcentaje)\r\n\r\n                    if(busDuplicado.length > 0){\r\n                        for (let i = 0; i < busDuplicado.length; i++) {\r\n\r\n                            if(code == busDuplicado[i].persona){\r\n\r\n                                var nitem = index + 1\r\n                                this.showMessage(true,3000,'error','El Integrante ' + nombre + ' del item ' + nitem + \r\n                                                    ' ya se encuentra en el item ' + busDuplicado[i].numero)\r\n\r\n                                this.loading = false                    \r\n                                return\r\n                            }\r\n                        }\r\n\r\n                        busDuplicado.push( {numero:index+1,persona:code,rol:role,\r\n                                            dedicacion:this.equipo[index].dedicacion, \r\n                                            porcentaje:this.equipo[index].porcentaje,\r\n                                            titular:this.equipo[index].titular, proyecto:this.proyecto})\r\n\r\n                    } else {\r\n\r\n                        busDuplicado.push( {numero:index+1,persona:code,rol:role,\r\n                                            dedicacion:this.equipo[index].dedicacion,\r\n                                            porcentaje:this.equipo[index].porcentaje,\r\n                                            titular:this.equipo[index].titular,\r\n                                            proyecto:this.proyecto})\r\n\r\n                    }\r\n                }\r\n\t\t\t   \r\n            }\r\n            \r\n            if(totalporcentaje > 100){\r\n\r\n                 this.showMessage(true,3000,'error','El total de % de participación de todos los integrantes no puede superar el 100%')\r\n\r\n                this.loading = false                    \r\n                return\r\n\r\n            }\r\n\r\n            var _this = this\r\n\r\n            proyectosequipoService.guardarData(busDuplicado)\r\n\t              .then(function(res) {\r\n\r\n\t              \t  if (res.response) {                           \r\n                            \r\n                          var error = res.response.data.message\r\n                          _this.showMessage(true,3000,'error',error)\r\n\r\n                      } else if(res.statusText){\r\n\t              \t  \t\t\r\n\t              \t  \t\tvar mensaje = ''\r\n\t\t\t\t\t\t\tvar accbitacora = ''\r\n\r\n\t              \t  \t\t_this.showMessage(true,3000,'success','Se Actualizarón/Agregarón Integrantes al Proyecto con éxito')\r\n             \t  \t\t\r\n\t              \t  \t\t_this.traerequipo(_this.proyecto)\t              \t  \t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n                            _this.agregaBitacora('ACTUALIZACION/CREACION','SE ACTUALIZARON/AGREGARON INTEGRANTES AL PROYECTO CON # DE CONVENIO: ' \r\n                                                    + _this.convenioproyecto + ' Y NOMBRE: ' + _this.nombreproyecto)\r\n                            \r\n                            var mensajecorreo = \"Cordial Saludo,<br><br> \" +\r\n                                            \"Se Actualizaron/Crearon Integrantes para el Proyecto con # de Convenio \" + \r\n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\r\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \r\n                                            \"<b>SINCHI</b><br><br> \" +\r\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\r\n                                            \"correo electrónico, no lo responda.</i> <br>\"\r\n                        \r\n                            var mensajenotifica = \"Se Actualizaron/Crearon Integrantes para el Proyecto con # de Convenio \" + \r\n                                                _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto\r\n\r\n                            _this.envioNotificaciones(mensajenotifica,'Actualización/Creación de Integrantes del Proyecto',mensajecorreo)\r\n\r\n\t              \t  }else{\t                                         \t\r\n\r\n\t                  \t\t_this.showMessage(true,3000,'error',res.message) \t                  \t\r\n\t                  }\r\n\r\n\t                    _this.loading = false\t                 \r\n\t                   \t\r\n\t          \t}).catch(function(err) {\r\n\r\n\t          \t\t_this.showMessage(true,3000,'error',err)\t    \r\n\t          \t\t_this.loading = false          \t\r\n\t          \t\t\r\n\t\t\t\t})\r\n\r\n        },\r\n\r\n        saveitemCompromiso(){            \r\n\r\n            var totitems = this.compromisos.length\r\n            var busDuplicado = []\r\n            \r\n            this.loading = true\r\n\r\n            for (let index = 0; index < totitems; index++) {\r\n\r\n                var code = ''\r\n                var descripcion = this.compromisos[index].descripcion\r\n                                \r\n                code = this.compromisos[index].personal                      \r\n\r\n                if(descripcion != '' && descripcion != undefined){\r\n                    \r\n                    if(busDuplicado.length > 0){\r\n                        for (let i = 0; i < busDuplicado.length; i++) {\r\n\r\n                            if(descripcion == busDuplicado[i].descripcion){\r\n\r\n                                var nitem = index + 1\r\n                                this.showMessage(true,3000,'error','La Descripción ' + descripcion + ' del item ' + nitem + \r\n                                                    ' ya se encuentra en el item ' + busDuplicado[i].codigo)\r\n\r\n                                this.loading = false                    \r\n                                return\r\n                            }\r\n                        }\r\n\r\n                        busDuplicado.push( {codigo:index+1,personal:code,\r\n                                             descripcion:descripcion,proyecto:this.proyecto})\r\n\r\n                    } else {\r\n\r\n                        busDuplicado.push( {codigo:index+1,personal:code,\r\n                                             descripcion:descripcion,proyecto:this.proyecto})\r\n\r\n                    }\r\n                }\r\n\t\t\t   \r\n            }\r\n            \r\n            var _this = this\r\n\r\n            proyectosequipocompService.guardarData(busDuplicado)\r\n\t              .then(function(res) {\r\n\r\n\t              \t  if (res.response) {                           \r\n                            \r\n                          var error = res.response.data.message\r\n                          _this.showMessage(true,3000,'error',error)\r\n\r\n                      } else if(res.statusText){\r\n\t              \t  \t\t\r\n\t              \t  \t\tvar mensaje = ''\r\n\t\t\t\t\t\t\tvar accbitacora = ''\r\n\r\n\t              \t  \t\t_this.showMessage(true,3000,'success','Se Actualizarón/Agregarón los Compromisos de un Integrante del Proyecto con éxito')\r\n             \t  \t\t\r\n\t              \t  \t\t_this.traerCompromisos(_this.proyecto,busDuplicado[0].personal)\t              \t  \t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n                            _this.agregaBitacora('ACTUALIZACION/CREACION','SE ACTUALIZARON/AGREGARON COMPROMISOS PARA EL INTEGRANTE '+ _this.nombreintegrante + \r\n                                                 'DEL PROYECTO CON # DE CONVENIO: ' + _this.convenioproyecto + ' Y NOMBRE: ' + _this.nombreproyecto)\r\n                            \r\n                            var mensajecorreo = \"Cordial Saludo,<br><br> \" +\r\n                                            \"Se Actualizaron/Crearon Compromisos para el Integrante '\" + _this.nombreintegrante + \"' para el Proyecto con # de Convenio \" + \r\n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\r\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \r\n                                            \"<b>SINCHI</b><br><br> \" +\r\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\r\n                                            \"correo electrónico, no lo responda.</i> <br>\"\r\n                        \r\n                            var mensajenotifica = \"Se Actualizaron/Crearon Compromisos para el Integrante '\" + _this.nombreintegrante + \"' para el Proyecto con # de Convenio '\" + \r\n                                                    _this.convenioproyecto + \"', Nombre: '\" + _this.nombreproyecto + \"'\"\r\n\r\n                            _this.envioNotificaciones(mensajenotifica,'Actualización/Creación de Compromisos de Integrantes del Proyecto',mensajecorreo)\r\n\r\n\t              \t  }else{\t                                         \t\r\n\r\n\t                  \t\t_this.showMessage(true,3000,'error',res.message) \t                  \t\r\n\t                  }\r\n\r\n\t                    _this.loading = false\t                 \r\n\t                   \t\r\n\t          \t}).catch(function(err) {\r\n\r\n\t          \t\t_this.showMessage(true,3000,'error',err)\t    \r\n\t          \t\t_this.loading = false          \t\r\n\t          \t\t\r\n\t\t\t\t})\r\n\r\n        },\r\n\r\n        agregaBitacora(accion, detalle){              \r\n\r\n            var data = {modulo:'EQUIPO PROYECTOS',accion:accion,detalle:detalle}\r\n            \r\n            this.$root.$emit('agregaBitacora', data)\r\n\r\n        },\r\n\r\n    },\r\n\r\n    watch: {\r\n\r\n        proyecto: function (val) {            \r\n\r\n            if(val!=0)\r\n                this.traerequipo(val)\r\n        }\r\n\r\n    },\r\n        \r\n    mounted() {\r\n        \r\n        this.traerequipo(this.proyecto)\r\n        this.traePersonal()\r\n        this.traerRoles()\r\n\r\n    },   \r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosEquipo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosEquipo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CProyectosEquipo.vue?vue&type=template&id=2b998627&\"\nimport script from \"./CProyectosEquipo.vue?vue&type=script&lang=js&\"\nexport * from \"./CProyectosEquipo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}