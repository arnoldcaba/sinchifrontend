(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00082a30"],{"435b":function(e,t,i){},"6de5":function(e,t,i){"use strict";var l=i("435b"),a=i.n(l);a.a},d61f:function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-card",{attrs:{color:"grey lighten-3"}},[i("v-card-text",[i("v-layout",{attrs:{"align-center":"","mb-3":""}},[i("h2",[e._v("Educación "+e._s(e.titulo))]),e.selRol?i("div",["seleccion"===e.criterio?i("v-layout",{attrs:{"ml-4":"","align-center":""}},[i("div",[e._v("%Peso: ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.porcentaje,expression:"porcentaje"}],staticStyle:{"background-color":"white",padding:"5px","margin-left":"5px",width:"80px","border-radius":"5px"},attrs:{type:"number"},domProps:{value:e.porcentaje},on:{input:function(t){t.target.composing||(e.porcentaje=t.target.value)}}}),i("span",{staticClass:"ml-3",class:{errorClass:e.calcrestante>0}},[e._v("Pendiente por asignar: "+e._s(e.calcrestante)+"%")])]):e._e()],1):e._e()]),e.evaluacion?e._e():i("div",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-layout",{attrs:{"align-center":"",wrap:""}},[i("v-flex",[i("v-select",{staticClass:"eduInput",attrs:{items:e.tipoEd,label:"Tipo de educación",filled:"",rules:e.tipoEdRules,required:""},model:{value:e.selEd,callback:function(t){e.selEd=t},expression:"selEd"}})],1),i("v-flex",[i("v-select",{staticClass:"eduInput",attrs:{items:e.niveles,label:"Estudio realizado",filled:"",rules:e.selNivelRules,required:""},model:{value:e.selNivel,callback:function(t){e.selNivel=t},expression:"selNivel"}})],1),e.nivProf.includes(e.selNivel)?i("v-flex",[i("v-autocomplete",{staticClass:"eduInput",attrs:{items:e.titulos,label:"Profesión afínes",filled:""},model:{value:e.selTitulo,callback:function(t){e.selTitulo=t},expression:"selTitulo"}})],1):e._e(),e.nivPos.includes(e.selNivel)?i("v-flex",[i("v-select",{staticClass:"eduInput",attrs:{items:e.posgrados,label:"Tipo",filled:""},model:{value:e.selPosgrado,callback:function(t){e.selPosgrado=t},expression:"selPosgrado"}})],1):e._e(),e.textTituloObt?i("v-flex",[i("v-text-field",{staticClass:"eduInput",attrs:{label:"Digite profesión afínes",maxlength:"250",counter:"",filled:""},model:{value:e.selTitulo,callback:function(t){e.selTitulo=t},expression:"selTitulo"}})],1):e._e(),e.selRol&&"seleccion"===e.criterio?i("v-flex",[i("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje unidad",type:"number",filled:"",rules:e.pUndRules,required:""},model:{value:e.puntajeUnd,callback:function(t){e.puntajeUnd=t},expression:"puntajeUnd"}})],1):e._e(),e.selRol&&"seleccion"===e.criterio?i("v-flex",[i("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje max",type:"number",filled:"",rules:e.pMaxRules,required:""},model:{value:e.puntajeMax,callback:function(t){e.puntajeMax=t},expression:"puntajeMax"}})],1):e._e()],1)],1),i("v-layout",{attrs:{"justify-center":""}},[i("v-spacer"),i("v-btn",{attrs:{color:"primary"},on:{click:e.addEstudio}},[e._v("Agregar")])],1)],1)],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.compHeaders,items:e.educacion,"items-per-page":5,"item-key":"tipo","show-expand":""!==e.evaluacion,dense:""},scopedSlots:e._u([{key:"expanded-item",fn:function(t){var l=t.headers,a=t.item;return[i("td",{attrs:{colspan:l.length}},[i("v-textarea",{attrs:{label:"Observacion",rows:"3",maxlength:"200",counter:""},model:{value:a.observacion,callback:function(t){e.$set(a,"observacion",t)},expression:"item.observacion"}})],1)]}},{key:"item.actions",fn:function(t){var l=t.item;return[i("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error"},on:{click:function(t){return e.delEstudio(l)}}},[i("v-icon",{attrs:{small:"",left:""}},[e._v("delete")]),e._v("Eliminar\n        ")],1)]}},{key:"item.soportes",fn:function(t){var l=t.item;return[i("AddFilesToStorage",{attrs:{item:l,placeholder:"Imagen",dense:"",outlined:"",hidemsg:!0,"prepend-icon":""},on:{"remove-file":function(t){return e.removeFile(l)},"file-changed":function(t){return e.changeFile(t,l)}}})]}},{key:"item.evaluacion",fn:function(t){var l=t.item;return[i("v-layout",{attrs:{"align-center":"","justify-center":""}},[i("v-switch",{staticClass:"mr-4",attrs:{label:l.cumple?"Cumple":"No cumple"},model:{value:l.cumple,callback:function(t){e.$set(l,"cumple",t)},expression:"item.cumple"}}),i("v-checkbox",{attrs:{label:"No aplica"},model:{value:l.noAplica,callback:function(t){e.$set(l,"noAplica",t)},expression:"item.noAplica"}})],1)]}}])})],1)],1)},a=[],s=i("2dfa"),n={props:["selRol","educacion","evaluacion"],components:{AddFilesToStorage:s["a"]},data:function(){var e=this;return{noaplica:!1,tipoEd:["Formal","No formal"],nivBasicos:["Sin formación académica","Básica primaria","Bachiller"],nivTec:["Técnico","Tecnológico"],nivProf:["Profesional"],nivPos:["Postgradual"],nivelesNoFormales:["curso","seminario","diplomado"],titulos:["Ingeniero en sistemas","Ingeniero civil","Arquitecto","Abogado"],posgrados:["Maestria","Especialización","Doctorado",""],selPosgrado:"",selEd:"",selNivel:"",selTitulo:"",puntajeMax:"",puntajeUnd:"",headerSelected:[],headers:[{text:"Obs",value:"data-table-expand"},{text:"Tipo estudio",align:"left",sortable:!1,value:"tipoEd"},{text:"Nivel",align:"left",sortable:!1,value:"tipo"},{text:"Titulo obtenido",align:"left",sortable:!1,value:"titulo",class:"wrap"},{text:"Puntaje und",align:"left",sortable:!1,value:"puntajeUnd"},{text:"Puntaje máx",align:"left",sortable:!1,value:"puntajeMax"},{text:"Evaluación",align:"center",sortable:!1,value:"evaluacion"},{text:"Soportes",align:"center",sortable:!1,value:"soportes"},{text:"Acciones",align:"center",sortable:!1,value:"actions"}],valid:!0,tipoEdRules:[function(e){return!!e||"Tipo de educación es requerido"}],selNivelRules:[function(e){return!!e||"Nivel de educacion es requerido"}],pMaxRules:[function(t){return!(!t&&e.selRol)||"Puntaje maximo es requerido"},function(e){return!(isNaN(e)||e<0||e>100)||"Debe ser de 0 - 100"},function(t){return!(+t+ +e.acumExp>100)||"Acumulado es mayor a 100"}],pUndRules:[function(t){return!(!t&&e.selRol)||"Puntaje unidad es requerido"},function(e){return!(isNaN(e)||e<0||e>100)||"Debe ser de 0 - 100"}],obsDialog:!1}},mounted:function(){this.titulos=this.$store.state.carreras.filter((function(e){return e.length<60}))},methods:{addEstudio:function(){if(this.$refs.form.validate()){var e="".concat(this.selPosgrado,"  ").concat(this.selTitulo);e=e.trim();var t={tipoEd:this.selEd,tipo:this.selNivel,titulo:e,cumple:!1,noAplica:!1,observacion:"",puntajeUnd:this.puntajeUnd,puntajeMax:this.puntajeMax};console.log(t),this.selRol?this.$emit("addEstudioRol",t):this.$emit("addEstudio",t)}},resetForm:function(){this.selEd="",this.selNivel="",this.selTitulo="",this.selPosgrado="",this.puntajeUnd="",this.puntajeMax="",this.$refs.form.resetValidation()},delEstudio:function(e){console.log(e);var t=confirm("Desea eliminar este registro de estudio");if(t){var i=this.educacion.indexOf(e);this.selRol?this.$emit("delEstudioRol",i):this.$emit("delEstudio",i)}},removeFile:function(e){},changeFile:function(e,t){t.id_file=""}},computed:{niveles:function(){if(!this.selEd)return[];var e=this.nivBasicos.concat(this.nivTec);return e=e.concat(this.nivProf),e=e.concat(this.nivPos),"Formal"===this.selEd?e:"No formal"===this.selEd?this.nivelesNoFormales:[]},nivTecPos:function(){return this.nivTec.concat(this.nivPos)},textTituloObt:function(){var e=this.nivBasicos;return!e.includes(this.selNivel)},porcentaje:{get:function(){return this.selRol?this.selRol.porcEdu:""},set:function(e){this.selRol&&(this.selRol.porcEdu=e)}},calcrestante:function(){if(this.selRol){var e=this.selRol;return 100-((e.porcEdu?Number(e.porcEdu):0)+(e.porcExp?Number(e.porcExp):0))}return 0},compHeaders:function(){var e=[];return"seleccion"!==this.criterio&&(e.push("puntajeUnd"),e.push("puntajeMax")),this.evaluacion||(e.push("data-table-expand"),e.push("evaluacion"),e.push("soportes")),this.headers.filter((function(t){return!e.includes(t.value)}))},acumExp:function(){return this.educacion.reduce((function(e,t){return e+ +t.puntajeMax}),0)},titulo:function(){return this.selRol?" de ".concat(this.selRol.rol):""}}},o=n,r=(i("6de5"),i("2877")),u=Object(r["a"])(o,l,a,!1,null,"4a7b9bdc",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-00082a30.c5c7eb91.js.map