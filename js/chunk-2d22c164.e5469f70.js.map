{"version":3,"sources":["webpack:///./src/components/propConvocatoria/FormPropCont.vue?2da4","webpack:///./src/components/propConvocatoria/Proponentes.vue?b6fb","webpack:///src/components/propConvocatoria/Proponentes.vue","webpack:///./src/components/propConvocatoria/Proponentes.vue?bb32","webpack:///./src/components/propConvocatoria/Proponentes.vue","webpack:///src/components/propConvocatoria/FormPropCont.vue","webpack:///./src/components/propConvocatoria/FormPropCont.vue?6d49","webpack:///./src/components/propConvocatoria/FormPropCont.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","menuTitle","ref","attrs","model","value","callback","$$v","valid","expression","titleRules","titulo","descripcionRules","descripcion","fechaAperturaRules","fecha_apertura","horaAperturaRules","hora_apertura","fechaCierreRules","fecha_cierre","horaCierreRules","hora_cierre","files","staticClass","_l","selPropCont","arch","index","key","on","$event","showFile","removeAdjuntos","file_name","includes","tipoContratacion","_e","nombreRules","proponentesLoading","contDirecta","$set","telefonoRules","correoRules","referencia","proponentes","addProponente","reset","save","btnSave","dialogSaving","staticRenderFns","visibleForm","staticStyle","dirNombreRules","propSelected","direccionRules","telFijoRules","telCelularRules","dirCorreoRules","id","cancel","headers","loading","scopedSlots","_u","fn","item","editProponente","eliminar","props","addProponentes","canDelete","data","nombre","direccion","telFijo","telCelular","correo","methods","computed","component","components","dirUsuario","dirUsuarioRules","$refs","form","difDays","parseInt","duration","asDays","setPropfields","map","toUpperCase","telefono","prop","splice","adjuntos","console","log","file","valFechaMin","tipo_contratacion"],"mappings":"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","file":"js/chunk-2d22c164.e5469f70.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_vm._v(_vm._s(_vm.menuTitle))]),_c('v-card-text',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"counter\":35,\"rules\":_vm.titleRules,\"label\":\"Titulo\",\"required\":\"\"},model:{value:(_vm.titulo),callback:function ($$v) {_vm.titulo=$$v},expression:\"titulo\"}}),_c('v-textarea',{attrs:{\"rules\":_vm.descripcionRules,\"label\":\"Descripción\",\"counter\":250,\"required\":\"\"},model:{value:(_vm.descripcion),callback:function ($$v) {_vm.descripcion=$$v},expression:\"descripcion\"}}),_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"type\":\"date\",\"rules\":_vm.fechaAperturaRules,\"label\":\"Fecha Apertura\",\"required\":\"\"},model:{value:(_vm.fecha_apertura),callback:function ($$v) {_vm.fecha_apertura=$$v},expression:\"fecha_apertura\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"type\":\"time\",\"rules\":_vm.horaAperturaRules,\"label\":\"Hora Apertura\",\"required\":\"\"},model:{value:(_vm.hora_apertura),callback:function ($$v) {_vm.hora_apertura=$$v},expression:\"hora_apertura\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"type\":\"date\",\"rules\":_vm.fechaCierreRules,\"label\":\"Fecha Cierre\",\"required\":\"\"},model:{value:(_vm.fecha_cierre),callback:function ($$v) {_vm.fecha_cierre=$$v},expression:\"fecha_cierre\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"type\":\"time\",\"rules\":_vm.horaCierreRules,\"label\":\"Hora Cierre\",\"required\":\"\"},model:{value:(_vm.hora_cierre),callback:function ($$v) {_vm.hora_cierre=$$v},expression:\"hora_cierre\"}})],1)],1),_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-file-input',{attrs:{\"prepend-icon\":\"\",\"multiple\":\"\",\"label\":\"Adjuntos\",\"placeholder\":\"terminos de referencia, descripciones adicionales etc\",\"required\":\"\"},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}})],1),_c('v-row',{staticClass:\"mb-2\",attrs:{\"no-gutters\":\"\"}},_vm._l((_vm.selPropCont.adjuntos),function(arch,index){return _c('v-chip',{key:index,staticClass:\"ma-2\",attrs:{\"close\":\"\",\"color\":\"accent\",\"text-color\":\"white\"},on:{\"click\":function($event){return _vm.showFile(arch)},\"click:close\":function($event){return _vm.removeAdjuntos(index)}}},[_vm._v(\"\\n          \"+_vm._s(arch.file_name)+\"\\n        \")])}),1),(!['lista_corta', 'conv_publica'].includes(_vm.tipoContratacion))?_c('div',[_c('h2',[_vm._v(\"Datos Personales\")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"counter\":35,\"rules\":_vm.nombreRules,\"label\":\"Nombre\",\"loading\":_vm.proponentesLoading,\"required\":\"\"},model:{value:(_vm.contDirecta.nombre),callback:function ($$v) {_vm.$set(_vm.contDirecta, \"nombre\", $$v)},expression:\"contDirecta.nombre\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"counter\":10,\"rules\":_vm.telefonoRules,\"loading\":_vm.proponentesLoading,\"label\":\"Telefono\"},model:{value:(_vm.contDirecta.telefono),callback:function ($$v) {_vm.$set(_vm.contDirecta, \"telefono\", $$v)},expression:\"contDirecta.telefono\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"counter\":35,\"rules\":_vm.correoRules,\"label\":\"Correo\",\"loading\":_vm.proponentesLoading,\"required\":\"\"},model:{value:(_vm.contDirecta.correo),callback:function ($$v) {_vm.$set(_vm.contDirecta, \"correo\", $$v)},expression:\"contDirecta.correo\"}})],1)],1)],1):_vm._e(),(_vm.tipoContratacion === 'lista_corta')?_c('div',[_c('Proponentes',{attrs:{\"loading\":_vm.proponentesLoading,\"canDelete\":!_vm.referencia,\"addProponentes\":\"\",\"proponentes\":_vm.proponentes},on:{\"save\":_vm.addProponente}})],1):_vm._e(),_c('v-row',{staticClass:\"mt-5\",attrs:{\"justify\":\"end\",\"no-gutters\":\"\"}},[_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"error\"},on:{\"click\":_vm.reset}},[_vm._v(\"Limpiar\\n        \")]),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":_vm.save}},[_vm._v(_vm._s(_vm.btnSave)+\"\\n        \")])],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"300\"},model:{value:(_vm.dialogSaving),callback:function ($$v) {_vm.dialogSaving=$$v},expression:\"dialogSaving\"}},[_c('v-card',{attrs:{\"color\":\"primary\",\"dark\":\"\"}},[_c('v-card-text',[_vm._v(\"\\n          Cargando...\\n          \"),_c('v-progress-linear',{staticClass:\"mb-0\",attrs:{\"indeterminate\":\"\",\"color\":\"white\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pa-5\"},[_c('v-row',{attrs:{\"justify\":\"space-between\",\"align\":\"center\"}},[_c('h2',[_vm._v(\"Proponentes\")]),(_vm.addProponentes)?_c('v-btn',{attrs:{\"small\":\"\",\"fab\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.visibleForm=!_vm.visibleForm}}},[(!_vm.visibleForm)?_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"add\")]):_vm._e(),(_vm.visibleForm)?_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"close\")]):_vm._e()],1):_vm._e()],1),(_vm.visibleForm)?_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',{staticClass:\"my-3\",staticStyle:{\"background\":\"#f5f5f5\",\"border-radius\":\"4px\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"counter\":35,\"rules\":_vm.dirNombreRules,\"label\":\"Nombre\",\"required\":\"\"},model:{value:(_vm.propSelected.nombre),callback:function ($$v) {_vm.$set(_vm.propSelected, \"nombre\", $$v)},expression:\"propSelected.nombre\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"counter\":35,\"rules\":_vm.direccionRules,\"label\":\"Dirección\"},model:{value:(_vm.propSelected.direccion),callback:function ($$v) {_vm.$set(_vm.propSelected, \"direccion\", $$v)},expression:\"propSelected.direccion\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"counter\":35,\"rules\":_vm.telFijoRules,\"label\":\"Telefono Fijo\"},model:{value:(_vm.propSelected.telFijo),callback:function ($$v) {_vm.$set(_vm.propSelected, \"telFijo\", $$v)},expression:\"propSelected.telFijo\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"counter\":35,\"rules\":_vm.telCelularRules,\"label\":\"Telefono Movil\"},model:{value:(_vm.propSelected.telCelular),callback:function ($$v) {_vm.$set(_vm.propSelected, \"telCelular\", $$v)},expression:\"propSelected.telCelular\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"counter\":35,\"rules\":_vm.dirCorreoRules,\"label\":\"Correo\",\"required\":\"\"},model:{value:(_vm.propSelected.correo),callback:function ($$v) {_vm.$set(_vm.propSelected, \"correo\", $$v)},expression:\"propSelected.correo\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',{attrs:{\"justify\":\"end\",\"no-gutters\":\"\"}},[(!!_vm.propSelected.id)?_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":_vm.cancel}},[_vm._v(\"volver\\n            \")]):_vm._e(),(!_vm.propSelected.id)?_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"error\"},on:{\"click\":_vm.reset}},[_vm._v(\"Limpiar\\n            \")]):_vm._e(),(!_vm.propSelected.id)?_c('v-btn',{attrs:{\"color\":\"accent\"},on:{\"click\":_vm.save}},[_vm._v(_vm._s(_vm.btnSave)+\"\\n            \")]):_vm._e()],1)],1)],1)],1):_vm._e()],1),(!_vm.visibleForm)?_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.proponentes,\"items-per-page\":5,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"item.action\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.editProponente(item)}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"edit\\n        \")])],1),(_vm.canDelete)?_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.eliminar(item)}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"delete\")])],1):_vm._e()]}}],null,false,4033922857)}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"pa-5\">\n      <v-row justify=\"space-between\" align=\"center\">\n        <h2>Proponentes</h2>\n        <v-btn v-if=\"addProponentes\" small fab @click=\"visibleForm=!visibleForm\" color=\"primary\">\n          <v-icon dark v-if=\"!visibleForm\">add</v-icon>\n          <v-icon dark v-if=\"visibleForm\">close</v-icon>\n        </v-btn>\n      </v-row>\n      <v-form\n        ref=\"form\"\n        v-model=\"valid\"\n        lazy-validation\n        v-if=\"visibleForm\"\n        >\n        <v-row  style=\"background: #f5f5f5; border-radius: 4px;\" class=\"my-3\">\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"propSelected.nombre\"\n              :counter=\"35\"\n              :rules=\"dirNombreRules\"\n              label=\"Nombre\"\n              required\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"propSelected.direccion\"\n              :counter=\"35\"\n              :rules=\"direccionRules\"\n              label=\"Dirección\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"propSelected.telFijo\"\n              :counter=\"35\"\n              :rules=\"telFijoRules\"\n              label=\"Telefono Fijo\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"propSelected.telCelular\"\n              :counter=\"35\"\n              :rules=\"telCelularRules\"\n              label=\"Telefono Movil\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\">\n            <v-text-field\n              v-model=\"propSelected.correo\"\n              :counter=\"35\"\n              :rules=\"dirCorreoRules\"\n              label=\"Correo\"\n              required\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\">\n            <v-row justify=\"end\" no-gutters>\n              <v-btn\n                v-if=\"!!propSelected.id\"\n                color=\"error\"\n                @click=\"cancel\"\n                >volver\n              </v-btn>\n              <v-btn\n                v-if=\"!propSelected.id\"\n                color=\"error\"\n                class=\"mr-4\"\n                @click=\"reset\"\n                >Limpiar\n              </v-btn>\n              <v-btn\n                v-if=\"!propSelected.id\"\n                color=\"accent\"\n                @click=\"save\"\n                >{{btnSave}}\n              </v-btn>\n            </v-row>\n          </v-col>\n        </v-row>\n      </v-form>\n    </div>\n    <v-data-table\n      v-if=\"!visibleForm\"\n      :headers=\"headers\"\n      :items=\"proponentes\"\n      :items-per-page=\"5\"\n      class=\"elevation-1\"\n      :loading=\"loading\"\n      >\n      <template v-slot:item.action=\"{ item }\">\n        <v-btn icon @click=\"editProponente(item)\" color=\"primary\">\n          <v-icon dark>edit\n          </v-icon>\n        </v-btn>\n        <v-btn v-if=\"canDelete\" icon @click=\"eliminar(item)\" color=\"error\">\n          <v-icon dark>delete</v-icon>\n        </v-btn>\n      </template>\n    </v-data-table>\n  </div>  \n</template>\n<script>\nexport default {\n  props: {\n    proponentes: { type: Array, default: [] },\n    addProponentes: { type: Boolean, default: true },\n    loading: { type: Boolean, default: false },\n    canDelete: { type: Boolean, default: true },\n  },\n  data () {\n    return {\n      headers: [\n        { text: 'Nombre', value: 'nombre', align: 'center' },\n        { text: 'Dirección', value: 'direccion', align: 'center' },\n        { text: 'Telefono Fijo', value: 'telFijo', align: 'center' },\n        { text: 'Telefono Movil', value: 'telCelular', align: 'center' },\n        { text: 'Email', value: 'correo', align: 'center' },\n        { text: 'Opciones', value: 'action', align: 'center' }\n      ],\n      valid: true,\n      propSelected: {\n        id: '',\n        nombre: '',\n        direccion: '',\n        telFijo: '',\n        telCelular: '',\n        correo: ''\n      },\n      dirNombreRules: [\n        v => !!v || 'Nombre es requerido',\n        v => (v && v.length <= 35) || 'Nombre debe ser menor de 35 caracteres.',\n      ],\n      direccionRules: [\n        v => !!v || 'Dirección es requerido',\n        v => (v && v.length >= 10) || 'Dirección debe ser mayor a 10 caracteres.',\n      ],\n      telFijoRules: [\n        v => (v && v.length >= 7)  || 'Debe ser de 7 o mas caracteres.',\n        v => /^\\d+$(\\.\\d+)?/.test(v) || 'Debe ser solo numerico.',\n      ],\n      telCelularRules: [\n        v => (v && /3([0-9]{9})/.test(v)) || 'Celular no cumple el formato.',\n      ],\n      dirCorreoRules: [\n        v => !!v || 'Correo es requerido',\n        v => /.+@.+\\..+/.test(v) || 'Correo incorrecto',\n      ],\n      visibleForm: false\n    }\n  },\n  methods: {\n    async reset () {\n      this.$refs.form.reset()\n    },\n    cancel () {\n      this.visibleForm = false\n    },\n    async save () {\n      if (this.$refs.form.validate()) {\n        const prop = this.propSelected\n        if (!prop.id) this.proponentes.unshift(prop)\n        this.visibleForm = false\n      }\n    },\n    editProponente (item) {\n      this.propSelected = item\n      this.visibleForm = true\n    },\n    async eliminar (item) {\n      const index = this.proponentes.indexOf(item)\n      this.proponentes.splice(index, 1)\n      this.visibleForm = false\n    },\n  },\n  computed: {\n    btnSave () {\n      return (this.propSelected.id) ? 'Actualizar' : 'Agregar'\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proponentes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proponentes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Proponentes.vue?vue&type=template&id=87924984&\"\nimport script from \"./Proponentes.vue?vue&type=script&lang=js&\"\nexport * from \"./Proponentes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-card>\n    <v-card-title>{{menuTitle}}</v-card-title>\n    <v-card-text>\n      <v-form\n        ref=\"form\"\n        v-model=\"valid\"\n        lazy-validation\n        >\n        <v-text-field\n          v-model=\"titulo\"\n          :counter=\"35\"\n          :rules=\"titleRules\"\n          label=\"Titulo\"\n          required\n        ></v-text-field>\n        <v-textarea\n          v-model=\"descripcion\"\n          :rules=\"descripcionRules\"\n          label=\"Descripción\"\n          :counter=\"250\"\n          required\n          >\n        </v-textarea>\n        <v-row>\n          <v-col>\n            <v-text-field\n              v-model=\"fecha_apertura\"\n              type=\"date\"\n              :rules=\"fechaAperturaRules\"\n              label=\"Fecha Apertura\"\n              required\n              >\n            </v-text-field>\n          </v-col>\n          <v-col>\n            <v-text-field\n              v-model=\"hora_apertura\"\n              type=\"time\"\n              :rules=\"horaAperturaRules\"\n              label=\"Hora Apertura\"\n              required\n              >\n            </v-text-field>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            <v-text-field\n              v-model=\"fecha_cierre\"\n              type=\"date\"\n              :rules=\"fechaCierreRules\"\n              label=\"Fecha Cierre\"\n              required\n              >\n            </v-text-field>\n          </v-col>\n          <v-col>\n            <v-text-field\n              v-model=\"hora_cierre\"\n              type=\"time\"\n              :rules=\"horaCierreRules\"\n              label=\"Hora Cierre\"\n              required\n              >\n            </v-text-field>\n          </v-col>\n        </v-row>\n        <v-row no-gutters>\n          <v-file-input\n            prepend-icon\n            multiple\n            v-model=\"files\"\n            label=\"Adjuntos\"\n            placeholder=\"terminos de referencia, descripciones adicionales etc\"\n            required\n          ></v-file-input>\n        </v-row>\n        <v-row no-gutters class=\"mb-2\">\n          <v-chip\n            v-for=\"(arch, index) in selPropCont.adjuntos\"\n            :key=\"index\"\n            class=\"ma-2\"\n            close\n            color=\"accent\"\n            text-color=\"white\"\n            @click=\"showFile(arch)\"\n            @click:close=\"removeAdjuntos(index)\"\n            >\n            {{arch.file_name}}\n          </v-chip>\n        </v-row>\n        <div v-if=\"!['lista_corta', 'conv_publica'].includes(tipoContratacion)\">\n          <h2>Datos Personales</h2>\n          <v-row>\n            <v-col cols=\"12\" md=\"6\">\n              <v-text-field\n                v-model=\"contDirecta.nombre\"\n                :counter=\"35\"\n                :rules=\"nombreRules\"\n                label=\"Nombre\"\n                :loading=\"proponentesLoading\"\n                required\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" md=\"6\">\n              <v-text-field\n                v-model=\"contDirecta.telefono\"\n                :counter=\"10\"\n                :rules=\"telefonoRules\"\n                :loading=\"proponentesLoading\"\n                label=\"Telefono\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\">\n              <v-text-field\n                v-model=\"contDirecta.correo\"\n                :counter=\"35\"\n                :rules=\"correoRules\"\n                label=\"Correo\"\n                :loading=\"proponentesLoading\"\n                required\n              ></v-text-field>\n            </v-col>\n          </v-row>\n        </div>\n        <div v-if=\"tipoContratacion === 'lista_corta'\">\n          <Proponentes\n            :loading=\"proponentesLoading\"\n            :canDelete=\"!referencia\"\n            addProponentes\n            :proponentes=\"proponentes\"\n            @save=\"addProponente\"\n          />  \n        </div>\n        <v-row justify=\"end\" class='mt-5' no-gutters>\n          <v-btn\n            color=\"error\"\n            class=\"mr-4\"\n            @click=\"reset\"\n            >Limpiar\n          </v-btn>\n          <v-btn\n            color=\"success\"\n            @click=\"save\"\n            >{{btnSave}}\n          </v-btn>\n        </v-row>\n      </v-form>\n      <v-dialog\n        v-model=\"dialogSaving\"\n        persistent\n        width=\"300\"\n        >\n        <v-card\n          color=\"primary\"\n          dark\n        >\n          <v-card-text>\n            Cargando...\n            <v-progress-linear\n              indeterminate\n              color=\"white\"\n              class=\"mb-0\"\n            ></v-progress-linear>\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n      <!-- <pre>{{selPropCont}}</pre> -->\n    </v-card-text>\n  </v-card>\n</template>\n<script>\nimport { propConv } from '@/servicios/propuestaConvocatoria'\nimport { termRef } from '@/servicios/TerminosReferencia.js'\nimport Proponentes from '@/components/propConvocatoria/Proponentes.vue'\nimport moment from 'moment';\nexport default {\n  props: ['selPropCont'],\n  components: { Proponentes },\n  data () {\n    return {\n      valid: true,\n      titulo: '',\n      files: [],\n      proponentesLoading: false,\n      titleRules: [\n        v => !!v || 'Titulo es requerido',\n        v => (v && v.length <= 35) || 'Titulo debe ser menor de 35 caracteres.',\n      ],\n      descripcion: '',\n      descripcionRules: [\n        v => !!v || 'Descripcion es requerido',\n        v => (v && v.length <= 250) || 'Descripcion debe ser menor de 250 caracteres.',\n      ],\n      fecha_cierre: '',\n      fechaCierreRules: [\n        v => !!v || 'Fecha de cierre es requerido',\n        v => (this.difDays(this.fecha_apertura, v)) <= 0 || 'Fecha de cierre debe ser mayor a la fecha de apertura.'\n      ],\n      hora_cierre: '',\n      horaCierreRules: [\n        v => !!v || 'Hora de cierre es requerido',\n        v => !((this.difDays(this.fecha_apertura, this.fecha_cierre) === 0) && v <= this.hora_apertura) || 'Hora de cierre debe ser mayor a la hora de apertura.'\n      ],\n      fecha_apertura: '',\n      fechaAperturaRules: [\n        v => !!v || 'Fecha de apertura es requerido',\n        v => this.valFechaMin(v) || 'Fecha de apertura debe ser mayor a la fecha actual.'\n      ],\n      hora_apertura: '',\n      horaAperturaRules: [\n        v => !!v || 'Hora de apertura es requerido'\n      ],\n      dirUsuario: '',\n      dirUsuarioRules: [\n        v => !!v || 'Usuario es requerido',\n        v => (v && v.length <= 35) || 'Usuario debe ser mayor de 35 caracteres.',\n      ],\n      contDirecta: {\n        nombre: '',\n        direccion: '',\n        correo: ''\n      },\n      nombreRules: [\n        v => !!v || 'Nombre es requerido',\n        v => (v && v.length <= 35) || 'Nombre debe ser mayor de 35 caracteres.',\n      ],\n      telefonoRules: [\n        v => (v && v.length >= 7) || 'Telefono debe tener minimo 7 caracteres.',\n      ],\n      correoRules: [\n        v => !!v || 'Correo es requerido',\n        v => /.+@.+\\..+/.test(v) || 'Correo incorrecto',\n      ],\n      proponentes: [],\n      dialogSaving: false\n    }\n  },\n  async mounted() {\n    if (this.selPropCont.referencia) {\n      this.titulo = this.selPropCont.titulo\n      this.descripcion = this.selPropCont.descripcion\n      this.fecha_cierre = this.selPropCont.fecha_cierre.slice(0, 10)\n      this.hora_cierre = this.selPropCont.fecha_cierre.slice(11, 16)\n      this.fecha_apertura = this.selPropCont.fecha_apertura.slice(0, 10)\n      this.hora_apertura = this.selPropCont.fecha_apertura.slice(11, 16)\n      // setting el form para el proponente deacuerdo al tipo de contratacion\n    }\n    await this.getTermRefsDetails(this.selPropCont.id_termref)\n  },\n  methods: {\n    async save () {\n      if (this.$refs.form.validate()) {\n        // setting clone with new changes\n        const clone = { ...this.selPropCont }\n        clone.titulo = this.titulo\n        clone.descripcion = this.descripcion\n        clone.fecha_cierre = this.fecha_cierre + ' ' + this.hora_cierre\n        clone.fecha_apertura = this.fecha_apertura + ' ' + this.hora_apertura\n        if (!['lista_corta', 'conv_publica'].includes(this.tipoContratacion)) {\n          clone.nombre = this.contDirecta.nombre\n          clone.telefono = this.contDirecta.telefono\n          clone.correo = this.contDirecta.correo\n        } else {\n          clone.proponentes = this.proponentes\n        }\n        // set the form data\n        let formData = new FormData()\n        for (let i = 0; i < this.files.length; i++) {\n          formData.append('files[i]', this.files[i])\n        }\n        formData.append('titulo', this.titulo)\n        formData.append('descripcion', this.descripcion)\n        formData.append('fecha_cierre', this.fecha_cierre + ' ' + this.hora_cierre)\n        formData.append('fecha_apertura', this.fecha_apertura + ' ' + this.hora_apertura)\n        formData.append('estado', clone.estado)\n        formData.append('adjuntos', JSON.stringify(clone.adjuntos))\n        formData.append('id', clone.id)\n        formData.append('tipo_contratacion', clone.tipo_contratacion)\n        if (!['lista_corta', 'conv_publica'].includes(this.tipoContratacion)) {\n          formData.append('nombre', this.contDirecta.nombre)\n          formData.append('telefono', this.contDirecta.telefono)\n          formData.append('correo', this.contDirecta.correo)\n        } else {\n          formData.append('proponentes', JSON.stringify(this.proponentes))\n        }\n        // send the data\n        this.dialogSaving = true\n        try {\n          if (clone.referencia) { // es edicion\n            const { data } = await propConv.editPropuestaConvocatoria(clone.id, formData)\n            console.log(data)\n            this.$toasted.success(`${clone.referencia} Editada!`, { icon: 'done', duration: 3000 })\n            this.$emit('saved', clone)\n          } else { // es guardar\n            formData.append('estado', 'Abierto')\n            clone.estado = 'Abierto'\n            const { data } = await propConv.savePropuestaConvocatoria(formData)\n            console.log(data)\n            if (data.referencia) { // llego el numero de referencia\n              const referencia = data.referencia\n              clone.referencia = referencia\n              this.$toasted.success(`Datos guardados. Con ${referencia}!`, { icon: 'done', duration: 3000 })\n              this.$emit('saved', clone)\n            } else {\n              this.$toasted.info('Error al crear convocatoria.', { icon: 'info', duration: 3000 })\n            }\n          }\n        } catch (error) {\n          console.log(error)\n          this.$toasted.error(error, { icon: 'error', duration: 3000 })\n        }\n        this.dialogSaving = false\n      }\n    },\n    reset () {\n      this.$refs.form.reset()\n    },\n    difDays (fechaIni, fechaFin) {\n      const now = moment(fechaIni)\n      const end = moment(fechaFin)\n      const duration = moment.duration(now.diff(end))\n      return parseInt(duration.asDays())\n    },\n    async getTermRefsDetails (id) {\n      this.proponentesLoading = true\n      try {\n        const { data } = await termRef.getTermRefDetail(id)\n        this.setPropfields(data)\n      } catch (error) {\n        console.log(error)\n      }\n      this.proponentesLoading = false\n    },\n    setPropfields (data) {\n      if  (['lista_corta', 'conv_publica'].includes(this.tipoContratacion)) {\n        this.proponentes = data.proponentes.map(item => {\n          item.nombre = item.nombre.toUpperCase();\n          item.direccion = item.direccion.toUpperCase();\n          return item\n        })\n      }\n      else {\n        this.contDirecta.nombre = data.nombre\n        this.contDirecta.correo = data.correo\n        this.contDirecta.telefono = data.telefono\n      }\n    },\n    addProponente (prop) {\n      if (prop.index || prop.index === 0) this.proponentes.splice(prop.index, 1, prop)\n      else this.proponentes.unshift(prop)\n    },\n    removeAdjuntos (index) {\n      this.selPropCont.adjuntos.splice(index, 1)\n    },\n    showFile (file) {\n      console.log(file)\n    },\n    valFechaMin (val) {\n      if (!!this.referencia) {\n        return !(this.difDays(moment(new Date()), val)) <= 0\n      }\n      return true\n    }\n  },\n  computed: {\n    menuTitle () {\n      return this.selPropCont.referencia? `Editar ${this.selPropCont.referencia}` : 'Generar Propuesta'\n    },\n    btnSave () {\n      return this.selPropCont.referencia ? 'Actualizar' : 'Guardar'\n    },\n    referencia () {\n      return this.selPropCont.referencia ? this.selPropCont.referencia : ''\n    },\n    tipoContratacion () {\n      return this.selPropCont.tipo_contratacion\n    }\n  }\n}\n</script>\n<style>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPropCont.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPropCont.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormPropCont.vue?vue&type=template&id=74828d0b&\"\nimport script from \"./FormPropCont.vue?vue&type=script&lang=js&\"\nexport * from \"./FormPropCont.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}