(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d51bddea"],{3248:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("h1",[t._v("Publicación de convocatorias")]),n("ConvocatoriaList",{attrs:{convocatorias:t.convocatorias},on:{showConvPropForm:function(e){return t.showConvPropForm(e)},setConvocatorias:function(e){return t.setConvocatorias(e)}}}),t.selPropCont?n("v-dialog",{attrs:{width:"60%"},model:{value:t.dialogNewCP,callback:function(e){t.dialogNewCP=e},expression:"dialogNewCP"}},[n("FormPropCont",{attrs:{selPropCont:t.selPropCont},on:{saved:t.saved}})],1):t._e()],1)},r=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.convocatorias,"items-per-page":5},scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[o.referencia?t._e():n("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(e){return t.newConvProp(o)}}},[n("v-icon",{attrs:{dark:"",small:"",left:""}},[t._v("plus")]),t._v("Generar propuesta\n    ")],1),o.referencia?n("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(e){return t.editConvProp(o)}}},[n("v-icon",{attrs:{dark:"",small:"",left:""}},[t._v("edit")]),t._v("Editar propuesta\n    ")],1):t._e()]}},{key:"item.tipo_contratacion",fn:function(e){var n=e.item;return[t._v("\n    "+t._s(t.getNameTipoContratacion(n.tipo_contratacion))+"\n  ")]}},{key:"item.fecha_creacion",fn:function(e){var n=e.item;return[t._v("\n    "+t._s(n.fecha_creacion)+"\n  ")]}},{key:"item.fecha_cierre",fn:function(e){var n=e.item;return[t._v("\n    "+t._s(n.fecha_cierre)+"\n  ")]}}])})},i=[],c=n("a34a"),s=n.n(c),u=n("ce69"),l=n("2a29"),p=n("c1df"),v=n.n(p);function f(t,e,n,o,r,a,i){try{var c=t[a](i),s=c.value}catch(u){return void n(u)}c.done?e(s):Promise.resolve(s).then(o,r)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(t){f(a,o,r,i,c,"next",t)}function c(t){f(a,o,r,i,c,"throw",t)}i(void 0)}))}}var h={props:["convocatorias"],data:function(){return{headers:[{text:"Acción",value:"action",align:"center"},{text:"Referencia",value:"referencia",align:"center"},{text:"Titulo del Proceso",value:"titulo",align:"center"},{text:"Termino Referencia",value:"id_termref",align:"center"},{text:"Tipo Contratación",value:"tipo_contratacion",align:"center"},{text:"Apertura",value:"fecha_apertura",align:"center"},{text:"Cierre",value:"fecha_cierre",align:"center"},{text:"Estado",value:"estado",align:"center"}]}},filters:{dateFormat:function(t){return v()(String(t)).locale("es").format("DD-MMM YYYY HH:MM").toUpperCase()}},mounted:function(){this.getTerminos()},methods:{getTerminos:function(){var t=d(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].getPropuestasConvocatoria();case 3:e=t.sent,n=e.data,this.$emit("setConvocatorias",n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),newConvProp:function(t){this.$emit("showConvPropForm",t)},editConvProp:function(t){this.$emit("showConvPropForm",t)},getNameTipoContratacion:function(t){return Object(l["getTipoContratacionName"])(t)}}},C=h,m=n("2877"),_=Object(m["a"])(C,a,i,!1,null,"240b2680",null),P=_.exports,g=n("2b0e"),w={components:{ConvocatoriaList:P,FormPropCont:function(){return n.e("chunk-2d22c164").then(n.bind(null,"f279"))}},data:function(){return{convocatorias:[],dialogNewCP:!1,selPropCont:null}},methods:{setConvocatorias:function(t){var e=t.data;this.convocatorias=e},showConvPropForm:function(t){console.log(t),this.selPropCont=t,this.dialogNewCP=!0},saved:function(t){console.log(t);var e=this.convocatorias.find((function(e){return e.id===t.id}));e&&(e.referencia=t.referencia,e.titulo=t.titulo,e.descripcion=t.descripcion,e.fecha_cierre=t.fecha_cierre,e.fecha_apertura=t.fecha_apertura,e.estado=t.estado,e.esPropConv=1),g["default"].set(this.convocatorias,this.convocatorias),this.dialogNewCP=!1,this.selPropCont=null},getSiglasTipoContrata:function(t){switch(t){case"dir_personal":return"CPN";case"dir_bien":return"CPJ";case"dir_juridica":return"CPJ";case"lista_corta":return"LC";case"conv_publica":return"CD";default:return"Error"}return"Error"}}},b=w,k=Object(m["a"])(b,o,r,!1,null,"e2c348a2",null);e["default"]=k.exports},ce69:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("bc3a"),r=n.n(o),a=n("d89f"),i={getPropuestasConvocatoria:function(t){return r.a.get(a["b"].apiUrl+"/propuestaConvocatoria",{params:t})},savePropuestaConvocatoria:function(t){return r.a.post(a["b"].apiUrl+"/propuestaConvocatoria",t,{headers:{"Content-Type":"multipart/form-data"}})},editPropuestaConvocatoria:function(t,e){return r.a.put(a["b"].apiUrl+"/propuestaConvocatoria/"+t,e,{headers:{"Content-Type":"multipart/form-data"}})}}}}]);
//# sourceMappingURL=chunk-d51bddea.370c7488.js.map