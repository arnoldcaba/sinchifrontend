(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a79a986"],{"14f3":function(e,t,i){},c625:function(e,t,i){"use strict";var a=i("14f3"),n=i.n(a);n.a},f55c:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-card",{attrs:{color:"grey lighten-3"}},[i("v-card-text",[i("v-layout",{attrs:{"align-center":"","mb-3":""}},[i("h2",[e._v("Experiencia "+e._s(e.titulo))]),e.selRol?i("div",["seleccion"===e.criterio?i("v-layout",{attrs:{"ml-4":"","align-center":""}},[i("div",[e._v("%Peso: ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.porcentaje,expression:"porcentaje"}],staticStyle:{"background-color":"white",padding:"5px","margin-left":"5px",width:"80px","border-radius":"5px"},attrs:{type:"number"},domProps:{value:e.porcentaje},on:{input:function(t){t.target.composing||(e.porcentaje=t.target.value)}}}),i("span",{staticClass:"ml-3",class:{errorClass:e.calcrestante>0}},[e._v("Pendiente por asignar: "+e._s(e.calcrestante)+"%")])]):e._e()],1):e._e()]),e.evaluacion?e._e():i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-layout",{attrs:{"align-center":"",wrap:""}},[i("v-flex",[i("v-select",{staticClass:"eduInput",attrs:{items:e.tipoExp,label:"Tipo de experiencia",filled:"",rules:e.tipoExpRules,required:""},model:{value:e.selExp,callback:function(t){e.selExp=t},expression:"selExp"}})],1),i("v-flex",[i("v-text-field",{staticClass:"eduInput",attrs:{label:"Descripción",maxlength:"200",counter:"",filled:"",rules:e.descRules,required:""},model:{value:e.descripcion,callback:function(t){e.descripcion=t},expression:"descripcion"}})],1),i("v-flex",[i("v-select",{staticClass:"eduInput",attrs:{items:e.medTiempo,label:"Tiempo",filled:"",rules:e.medTimeRules,required:""},model:{value:e.selMedTime,callback:function(t){e.selMedTime=t},expression:"selMedTime"}})],1),i("v-flex",[i("v-text-field",{staticClass:"eduInput",attrs:{label:e.labelCant,type:"number",filled:"",rules:e.cantMedRules,required:""},model:{value:e.cantMedTime,callback:function(t){e.cantMedTime=t},expression:"cantMedTime"}})],1),e.selRol&&"seleccion"===e.criterio?i("v-flex",[i("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje unidad",type:"numeric",filled:"",rules:e.pUndRules,required:""},model:{value:e.puntajeUnd,callback:function(t){e.puntajeUnd=t},expression:"puntajeUnd"}})],1):e._e(),e.selRol&&"seleccion"===e.criterio?i("v-flex",[i("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje maximo",type:"numeric",filled:"",rules:e.pMaxRules,required:""},model:{value:e.puntajeMax,callback:function(t){e.puntajeMax=t},expression:"puntajeMax"}})],1):e._e()],1),i("v-layout",{attrs:{"align-center":""}},[i("v-spacer"),i("v-btn",{attrs:{color:"primary"},on:{click:e.addExperiencia}},[e._v("Agregar")])],1)],1)],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.compHeaders,items:e.experiencia,"items-per-page":5,"show-expand":""!==e.evaluacion,dense:""},scopedSlots:e._u([{key:"expanded-item",fn:function(t){var a=t.headers,n=t.item;return[i("td",{attrs:{colspan:a.length}},[i("v-textarea",{attrs:{label:"Observacion",rows:"3",maxlength:"200",counter:""},model:{value:n.observacion,callback:function(t){e.$set(n,"observacion",t)},expression:"item.observacion"}})],1)]}},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error"},on:{click:function(t){return e.delExperiencia(a)}}},[i("v-icon",{attrs:{small:"",left:""}},[e._v("delete")]),e._v("Eliminar\n        ")],1),e.evaluacion?i("v-btn",{staticClass:"my-1 ml-3",attrs:{small:"",color:"accent"},on:{click:function(t){return e.addSupportExp(a)}}},[i("v-icon",{attrs:{small:"",left:""}},[e._v("add")]),e._v("soportes\n        ")],1):e._e()]}},{key:"item.evaluacion",fn:function(t){var a=t.item;return[i("v-layout",{attrs:{"align-center":"","justify-center":""}},[i("v-switch",{staticClass:"mr-4",attrs:{label:a.cumple?"Cumple":"No cumple"},model:{value:a.cumple,callback:function(t){e.$set(a,"cumple",t)},expression:"item.cumple"}}),i("v-checkbox",{attrs:{label:"No aplica"},model:{value:a.noAplica,callback:function(t){e.$set(a,"noAplica",t)},expression:"item.noAplica"}})],1)]}}])}),i("v-dialog",{attrs:{width:"800"},model:{value:e.dSupportExp,callback:function(t){e.dSupportExp=t},expression:"dSupportExp"}},[e.dSupportExp?i("supportExp",{attrs:{tipo:"exp",idExp:e.selDocsFrom.id},on:{"close-soportes":function(t){e.dSupportExp=!e.dSupportExp}}}):e._e()],1)],1)],1)},n=[],l=i("8145"),s={components:{supportExp:l["a"]},props:["selRol","experiencia","criterio","evaluacion"],data:function(){var e=this;return{noaplica:!1,tipoExp:["General","Especifica"],selExp:"",descripcion:"",medTiempo:["Años","Meses","Semanas","Dias"],selMedTime:"",cantMedTime:"",puntajeUnd:"",puntajeMax:"",headers:[{text:"Obs",value:"data-table-expand"},{text:"Tipo experiencia",align:"left",sortable:!1,value:"tipoExp"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Tiempo",align:"left",sortable:!1,value:"tiempo"},{text:"Puntaje und",align:"left",sortable:!1,value:"puntajeUnd"},{text:"Puntaje máx",align:"left",sortable:!1,value:"puntajeMax"},{text:"Evaluación",align:"center",sortable:!1,value:"evaluacion"},{text:"Aciones",align:"center",sortable:!1,value:"actions"}],valid:!0,tipoExpRules:[function(e){return!!e||"Tipo de experiencia es requerido"}],descRules:[function(e){return!!e||"La descripción es requerido"}],medTimeRules:[function(e){return!!e||"Medida de tiempo es requerida"}],cantMedRules:[function(e){return!!e||"Cantidad es requerida"}],pMaxRules:[function(t){return!(!t&&e.selRol)||"Puntaje maximo es requerido"},function(e){return!(isNaN(e)||e<0||e>100)||"Debe ser de 0 - 100"},function(t){return!(+t+ +e.acumExp>100)||"Acumulado es mayor a 100"}],pUndRules:[function(t){return!(!t&&e.selRol)||"Puntaje unidad es requerido"},function(e){return!(isNaN(e)||e<0||e>100)||"Debe ser de 0 - 100"}],dSupportExp:!1,selDocsFrom:""}},mounted:function(){console.log(this.evaluacion)},methods:{addExperiencia:function(){if(this.$refs.form.validate()){var e={tipoExp:this.selExp,descripcion:this.descripcion,tiempo:"".concat(this.selMedTime," ").concat(this.cantMedTime),cantidad:this.cantMedTime,puntajeUnd:this.puntajeUnd,puntajeMax:this.puntajeMax,cumple:!1,noAplica:!1,observacion:""};this.selRol?this.$emit("add-experiencia-rol",e):this.$emit("add-experiencia",e),this.resetForm()}},resetForm:function(){this.selExp="",this.descripcion="",this.selMedTime="",this.cantMedTime="",this.puntajeMax="",this.puntajeUnd="",this.$refs.form.resetValidation()},delExperiencia:function(e){console.log(e);var t=confirm("Desea eliminar este registro de experiencia");if(t){var i=this.experiencia.indexOf(e);this.selRol?this.$emit("del-experiencia-rol",i):this.$emit("del-experiencia",i)}},addSupportExp:function(e){console.log(e),this.selDocsFrom=e,this.dSupportExp=!this.dSupportExp}},computed:{compHeaders:function(){var e=[];return"seleccion"!==this.criterio&&(e.push("puntajeUnd"),e.push("puntajeMax")),this.evaluacion||(e.push("data-table-expand"),e.push("evaluacion")),this.headers.filter((function(t){return!e.includes(t.value)}))},porcentaje:{get:function(){return this.selRol?this.selRol.porcExp:""},set:function(e){this.selRol&&(this.selRol.porcExp=e)}},niveles:function(){return this.selExp?"Formal"===this.selExp?this.nivelesAcademicos:"Noformal"===this.selExp?this.nivelesNoFormales:[]:[]},calcrestante:function(){if(this.selRol){var e=this.selRol;return 100-((e.porcEdu?Number(e.porcEdu):0)+(e.porcExp?Number(e.porcExp):0))}return 0},labelCant:function(){return"Cantidad ".concat(this.selMedTime)},acumExp:function(){return this.experiencia.reduce((function(e,t){return e+ +t.puntajeMax}),0)},titulo:function(){return this.selRol?" de ".concat(this.selRol.rol):""}}},r=s,o=(i("c625"),i("2877")),c=Object(o["a"])(r,a,n,!1,null,"2236414c",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-5a79a986.abd12388.js.map