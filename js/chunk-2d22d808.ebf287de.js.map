{"version":3,"sources":["webpack:///./src/components/CProyectosEquipo.vue?736e","webpack:///./src/servicios/ProyectosEquipoCompService.js","webpack:///src/components/CProyectosEquipo.vue","webpack:///./src/components/CProyectosEquipo.vue?6677","webpack:///./src/components/CProyectosEquipo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","headers","equipo","scopedSlots","_u","key","fn","ref","item","arrPersonal","readonly","model","value","callback","$$v","$set","expression","roles","rules","maxHorSemanal","directives","name","rawName","codigoreal","staticClass","loading","on","$event","dialogcompromisos","nombreintegrante","nombrecompleto","codigointegrante","persona","traerCompromisos","proyecto","_v","dialog_del","itemactual","saveitem","deleteItem","headerscompromisos","compromisos","dialogcompromiso_del","itemcompromisoactual","staticStyle","saveitemCompromiso","deleteCompromiso","personal","staticRenderFns","proyectoequipocompService","Promise","resolve","reject","axios","method","url","configService","apiUrl","dataType","then","res","catch","err","data","codigo","component"],"mappings":"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","file":"js/chunk-2d22d808.ebf287de.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"tile\":\"\"}},[_c('v-card-text',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.equipo,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.persona\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-autocomplete',{attrs:{\"items\":_vm.arrPersonal,\"item-value\":\"codigo\",\"item-text\":\"nombrecompleto\",\"readonly\":_vm.readonly,\"return-object\":true},model:{value:(item.persona),callback:function ($$v) {_vm.$set(item, \"persona\", $$v)},expression:\"item.persona\"}})]}},{key:\"item.rol\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-autocomplete',{attrs:{\"items\":_vm.roles,\"item-value\":\"codigo\",\"item-text\":\"descripcion\",\"readonly\":_vm.readonly,\"return-object\":true},model:{value:(item.rol),callback:function ($$v) {_vm.$set(item, \"rol\", $$v)},expression:\"item.rol\"}})]}},{key:\"item.dedicacion\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-text-field',{attrs:{\"type\":\"number\",\"readonly\":_vm.readonly,\"min\":\"0\",\"rules\":[_vm.rules.maxHorSemanal]},model:{value:(item.dedicacion),callback:function ($$v) {_vm.$set(item, \"dedicacion\", $$v)},expression:\"item.dedicacion\"}})]}},{key:\"item.vercompromiso\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.codigoreal != 0),expression:\"item.codigoreal != 0\"}],staticClass:\"mr-5\",attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.loading,\"loading\":_vm.loading},on:{\"click\":function($event){_vm.dialogcompromisos=true,_vm.nombreintegrante=item.nombrecompleto,\n                                _vm.codigointegrante=item.persona,_vm.traerCompromisos(_vm.proyecto, item.persona)}}},[_vm._v(\"\\n                        list_alt\\n                    \")])]}},{key:\"item.action\",fn:function(ref){\n                                var item = ref.item;\nreturn [_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.readonly && item.codigoreal != 0),expression:\"!readonly && item.codigoreal != 0\"}],staticClass:\"mr-5\",attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.loading,\"loading\":_vm.loading},on:{\"click\":function($event){_vm.dialog_del=true,_vm.itemactual=item}}},[_vm._v(\"\\n                        delete\\n                    \")])]}}])})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.readonly),expression:\"!readonly\"}],attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.saveitem}},[_vm._v(\"Guardar equipo\")])],1)],1),_c('v-dialog',{attrs:{\"width\":\"550\"},model:{value:(_vm.dialog_del),callback:function ($$v) {_vm.dialog_del=$$v},expression:\"dialog_del\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline red--text\"},[_vm._v(\"Eliminar Integrante\")])]),_c('v-card-text',[_vm._v(\"\\t\\t\\t\\t\\t\\n                ¿Esta seguro de eliminar el Integrante seleccionado?.\\t\\t\\t\\t\\t\\n            \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog_del=false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\"Eliminar\")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"800\",\"persistent\":\"\"},model:{value:(_vm.dialogcompromisos),callback:function ($$v) {_vm.dialogcompromisos=$$v},expression:\"dialogcompromisos\"}},[_c('v-card',[_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"sm12\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"tile\":\"\",\"min-height\":\"300\"}},[_c('v-card-text',[_c('v-data-table',{attrs:{\"headers\":_vm.headerscompromisos,\"items\":_vm.compromisos,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.descripcion\",fn:function(ref){\n                                var item = ref.item;\nreturn [_c('v-text-field',{attrs:{\"readonly\":_vm.readonly},model:{value:(item.descripcion),callback:function ($$v) {_vm.$set(item, \"descripcion\", $$v)},expression:\"item.descripcion\"}})]}},{key:\"item.action\",fn:function(ref){\n                                var item = ref.item;\nreturn [_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.readonly && item.codigoreal != 0),expression:\"!readonly && item.codigoreal != 0\"}],staticClass:\"mr-5\",attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.loading,\"loading\":_vm.loading},on:{\"click\":function($event){_vm.dialogcompromiso_del=true,_vm.itemcompromisoactual=item}}},[_vm._v(\"\\n                                            delete\\n                                        \")])]}}])})],1)],1)],1)],1)],1),_c('v-card-actions',[_c('div',{staticStyle:{\"width\":\"100%\",\"text-align\":\"right\"}},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.readonly),expression:\"!readonly\"}],attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":_vm.saveitemCompromiso}},[_vm._v(\"Actualizar\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogcompromisos=false}}},[_vm._v(\"Cancelar\")])],1)])],1)],1),_c('v-dialog',{attrs:{\"width\":\"550\"},model:{value:(_vm.dialogcompromiso_del),callback:function ($$v) {_vm.dialogcompromiso_del=$$v},expression:\"dialogcompromiso_del\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline red--text\"},[_vm._v(\"Eliminar Compromiso\")])]),_c('v-card-text',[_vm._v(\"\\t\\t\\t\\t\\t\\n                ¿Esta seguro de eliminar el Compromiso seleccionado?.\\t\\t\\t\\t\\t\\n            \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogcompromiso_del=false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteCompromiso(_vm.itemcompromisoactual.personal)}}},[_vm._v(\"Eliminar\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\nimport configService from './config'\n\nconst proyectoequipocompService = {}\n\n  proyectoequipocompService.getData = function(){\n\n    return new Promise(function(resolve, reject) {axios({\n        method:'POST',\n        url: configService.apiUrl + '/ProyectosEquipoComp',\n        dataType: \"json\"\n        /*,\n        headers:authHeader*/\n      })\n      .then(function(res) {\n\n        resolve(res)      \n        \n      })\n      .catch(function(err) {     \n\n        resolve(err)\n           \n      })\n    })\n\n  }\n\n  proyectoequipocompService.guardarData = function(data){\n\n    return new Promise(function(resolve, reject) {axios({\n        method:'POST',\n        url: configService.apiUrl + '/addupdProyectoEquipoComp',\n        dataType: \"json\",\n        data: {\n          data: data          \n        }\n      })\n      .then(function(res) {\n\n        resolve(res)      \n        \n      })\n      .catch(function(err) {     \n\n        resolve(err)\n           \n      })\n    })\n\n  }\n\n  proyectoequipocompService.DelData = function(proyecto, personal, codigo){\n\n    return new Promise(function(resolve, reject) {axios({\n        method:'POST',\n        url: configService.apiUrl + '/delProyectoEquipoComp',\n        dataType: \"json\",\n        data: {\n          proyecto: proyecto,\n          personal: personal,\n          codigo: codigo          \n        }\n      })\n      .then(function(res) {\n\n        resolve(res)      \n        \n      })\n      .catch(function(err) {     \n\n        resolve(err)\n           \n      })\n    })\n\n  }\n\n  proyectoequipocompService.BuscarXProyectoPersonal = function(proyecto, personal){\n\n    return new Promise(function(resolve, reject) {axios({\n        method:'POST',\n        url: configService.apiUrl + '/ProyectosEquipoCompXProyecto',\n        dataType: \"json\",\n        data: {\n          proyecto: proyecto,\n          personal: personal\n        }\n      })\n      .then(function(res) {\n\n        resolve(res)      \n        \n      })\n      .catch(function(err) {     \n\n        resolve(err)\n           \n      })\n    })\n\n  }\n\n  export default proyectoequipocompService","<template>\n    <v-container fluid>\t\n        <v-card\n            flat\n            tile\n        >\n            <v-card-text>\n                <v-data-table :headers=\"headers\" :items=\"equipo\" :items-per-page=\"5\">\n\n                    <template v-slot:item.persona=\"{ item }\">\n                        <v-autocomplete\n                            :items=\"arrPersonal\"\n                            item-value=\"codigo\"\n                            item-text=\"nombrecompleto\"\n                            v-model=\"item.persona\"\t\t\t\t\t\t\n                            :readonly=\"readonly\"\t\n                            :return-object=\"true\"\t\t\t\t\t\t\t\t\t\n                        >\t\t\t\t\t\t\t\t\t\n                        </v-autocomplete>                    \n                    </template>\n                    \n                    <template v-slot:item.rol=\"{ item }\">\n                        <v-autocomplete\n                            :items=\"roles\"\n                            item-value=\"codigo\"\n                            item-text=\"descripcion\"\n                            v-model=\"item.rol\"\t\t\t\t\t\t\n                            :readonly=\"readonly\"\t\n                            :return-object=\"true\"\t\t\t\t\t\t\t\t\t\n                        >\t\t\t\t\t\t\t\t\t\n                        </v-autocomplete>                    \n                    </template>\n\n                    <template v-slot:item.dedicacion=\"{ item }\">\n                        <v-text-field v-model=\"item.dedicacion\" \n                            type=\"number\"                         \n                            :readonly=\"readonly\"\n                            min=\"0\"\n                            :rules=\"[rules.maxHorSemanal]\"\n                        >\n                        </v-text-field>\n                    </template>\n\n                    <!--<template v-slot:item.porcentaje=\"{ item }\">\n                        <v-text-field v-model=\"item.porcentaje\" \n                            type=\"number\"                         \n                            :readonly=\"readonly\"\n                            min=\"0\" max=\"100\"\n                            :rules=\"[rules.maxPorcentaje]\"\n                        >\n                        </v-text-field>\n                    </template>\n\n                    <template v-slot:item.titular=\"{ item }\">\n                        <v-checkbox                                               \n                            v-model=\"item.titular\"                        \n                            :readonly=\"readonly\"\n                            color=\"primary\" \n                            \n                        ></v-checkbox>\n                    </template>-->\n\n                    <template v-slot:item.vercompromiso=\"{ item }\">\t\t\t\t\t\t\t\n                                \n                        <v-icon\n                            small\n                            class=\"mr-5\"\n                            color=\"primary\" \n                            :disabled=\"loading\"\n                            :loading=\"loading\"\n                            v-show=\"item.codigoreal != 0\"\n                            @click=\"dialogcompromisos=true,nombreintegrante=item.nombrecompleto,\n                                    codigointegrante=item.persona,traerCompromisos(proyecto, item.persona)\"                           \n                        >\n                            list_alt\n                        </v-icon>\t\t\t\t\t\t\n                                            \n                    </template>\n\n                    <template v-slot:item.action=\"{ item }\">\t\t\t\t\t\t\t\n                                \n                        <v-icon\n                            small\n                            class=\"mr-5\"\n                            color=\"primary\" \n                            :disabled=\"loading\"\n                            :loading=\"loading\"\n                            @click=\"dialog_del=true,itemactual=item\"\n                            v-show=\"!readonly && item.codigoreal != 0\"\n                        >\n                            delete\n                        </v-icon>\t\t\t\t\t\t\n                                            \n                    </template>\n                </v-data-table>\n            </v-card-text>\n\n            <v-card-actions>\n                <v-spacer></v-spacer>                \n                <v-btn color=\"primary\" text @click=\"saveitem\" v-show=\"!readonly\">Guardar equipo</v-btn>\n            </v-card-actions>\n\n        </v-card> \n\n        <v-dialog v-model=\"dialog_del\" width=\"550\">\n\n            <v-card>\n\n                <v-card-title>\n                    <span class=\"headline red--text\">Eliminar Integrante</span>\n                </v-card-title>\n\n                <v-card-text>\t\t\t\t\t\n                    ¿Esta seguro de eliminar el Integrante seleccionado?.\t\t\t\t\t\n                </v-card-text>\n\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"primary\" dark text @click=\"dialog_del=false\">Cancelar</v-btn>\n                    <v-btn color=\"red\" text @click=\"deleteItem\" >Eliminar</v-btn>\n                </v-card-actions>\n\n            </v-card>\n\n        </v-dialog>\n\n        <v-dialog v-model=\"dialogcompromisos\" max-width=\"800\" persistent>\n            <v-card>\n                <v-card-text>\n                    <v-row>\n                        <v-col sm12>\n                            <v-card\n                                flat\n                                tile\n                                min-height=\"300\"\n                            >\n                                <v-card-text>                                   \n                                    <v-data-table :headers=\"headerscompromisos\" :items=\"compromisos\" :items-per-page=\"5\">\n                                         <template v-slot:item.descripcion=\"{ item }\">\n                                            <v-text-field v-model=\"item.descripcion\" \n                                                :readonly=\"readonly\">\n                                            </v-text-field>\n                                        </template>\n\n                                        <template v-slot:item.action=\"{ item }\">\t\t\t\t\t\t\t\n                                \n                                            <v-icon\n                                                small\n                                                class=\"mr-5\"\n                                                color=\"primary\" \n                                                :disabled=\"loading\"\n                                                :loading=\"loading\"\n                                                @click=\"dialogcompromiso_del=true,itemcompromisoactual=item\"\n                                                v-show=\"!readonly && item.codigoreal != 0\"\n                                            >\n                                                delete\n                                            </v-icon>\t\t\t\t\t\t\n                                                                \n                                        </template>\n                                    </v-data-table>\n                                </v-card-text>\n                            </v-card> \n                        </v-col>\n                    </v-row>\n                </v-card-text>\n                <v-card-actions>\n                    <div style=\"width:100%;text-align:right\">\n                        <v-btn color=\"primary\" dark text @click=\"saveitemCompromiso\" v-show=\"!readonly\">Actualizar</v-btn>  \n                        <v-btn color=\"primary\" dark text @click=\"dialogcompromisos=false\">Cancelar</v-btn>\n                    </div>    \n                </v-card-actions>\n            </v-card>        \n        </v-dialog>\n\n        <v-dialog v-model=\"dialogcompromiso_del\" width=\"550\">\n\n            <v-card>\n\n                <v-card-title>\n                    <span class=\"headline red--text\">Eliminar Compromiso</span>\n                </v-card-title>\n\n                <v-card-text>\t\t\t\t\t\n                    ¿Esta seguro de eliminar el Compromiso seleccionado?.\t\t\t\t\t\n                </v-card-text>\n\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"primary\" dark text @click=\"dialogcompromiso_del=false\">Cancelar</v-btn>\n                    <v-btn color=\"red\" text @click=\"deleteCompromiso(itemcompromisoactual.personal)\" >Eliminar</v-btn>\n                </v-card-actions>\n\n            </v-card>\n\n        </v-dialog>\n\n    </v-container>    \n</template>\n\n<script>\nimport proyectosequipoService from \"../servicios/ProyectosEquipoService\"\nimport proyectosequipocompService from \"../servicios/ProyectosEquipoCompService\"\nimport personalService from \"../servicios/PersonalService\"\nimport rolesService from \"../servicios/RolesService\"\t\n\nexport default {\n    name: 'Equipo',\n    props: ['proyecto','readonly','convenioproyecto','nombreproyecto','codigocoordinador'],\n    data (){\n\n        return {\n            loading: false,\n            dialog_del:false,\n            itemactual:'',\n            dialogcompromisos:false,\n            compromisos:[],\n            arrPersonal:[],\n            itemcompromisoactual:'',\n            dialogcompromiso_del:false,\n            codigointegrante:0,\n            nombreintegrante:'',\n            roles:[],\n            equipo: [\n                {\t\n                    codigo:0,\t          \t\n                    rol: '',\n                    persona:0,\n                    dedicacion:0               \n                },\n            ],\n\n            headers: [\n                { text: 'Integrantes', value: 'persona',sortable: false,align: 'left',width:'40%', class:'subtitle-1 font-weight-bold black--text'},                 \n                {\n                    text: 'Rol',\n                    align: 'left',\n                    sortable: false,\n                    value: 'rol',\n                    width:'40%', \n                    class:'subtitle-1 font-weight-bold black--text'\n                },\n                {\n                    text: 'Dedicación (Horas Semanales)',\n                    align: 'left',\n                    sortable: false,\n                    value: 'dedicacion',\n                    width:'10%', \n                    class:'subtitle-1 font-weight-bold black--text'\n                },\n                /*{\n                    text: '% Participación Der. Patri.',\n                    align: 'left',\n                    sortable: false,\n                    value: 'porcentaje',\n                },\n                {\n                    text: 'Titular Der. Prop. Int.',\n                    align: 'left',\n                    sortable: false,\n                    value: 'titular',\n                },*/\n                { text: 'Compromisos', value: 'vercompromiso',sortable: false,align: 'left',width:'5%', class:'subtitle-1 font-weight-bold black--text'},\n                { text: 'Acción', value: 'action',sortable: false,align: 'left',width:'5%', class:'subtitle-1 font-weight-bold black--text'}          \n            ],\n\n            headerscompromisos: [\n                {\n                    text: 'Descripción',\n                    align: 'left',\n                    sortable: false,\n                    value: 'descripcion',\n                    class:'subtitle-1 font-weight-bold black--text'\n                },\n                { text: 'Acción', value: 'action',sortable: false,align: 'left', class:'subtitle-1 font-weight-bold black--text'}\n            ],\n\n            rules: {                \n                maxPorcentaje: value => value < 100 || 'El % de Participación no puede superar el 100%',\n                maxHorSemanal: value => value < 40 || 'Las Horas Semanales del Integrante no puede ser superior a 40'\n            \n            }\t\t\n\n        }\n    },\n\n    methods: {\n\n        showMessage (snack, time, color, text) {\n\n           this.$root.$emit('showSnack', {snack: snack, time: time, color: color, text: text})\n\n        },\n        \n        envioNotificaciones(mensajenotificacion,asuntocorreo, mensajecorreo){\n\n            this.$emit('envioNotificaciones', {mensajenotificacion: mensajenotificacion,asuntocorreo: asuntocorreo, mensajecorreo: mensajecorreo})\n\n        },\n            \n        EquipoVacio(){\n\n            var i=0\n\n            this.equipo = []\n            for(i;i<30;i++){\n                this.equipo.push({codigo:i+1,proyecto:'',descripcion:'',codigoreal:0})\n            }\n        },\n\n        EquipoCompVacio(){\n\n            var i=0\n\n            this.compromisos = []\n            for(i;i<20;i++){\n                this.compromisos.push({codigo:i+1,proyecto:this.proyecto,descripcion:'',codigoreal:0,personal:this.codigointegrante})\n            }\n        },\n\n        traePersonal(){\n\n            var _this = this\n            this.loading = true\n            \n            personalService.getData()\n                .then(function(res) {\n\n                    if (res.request) {\n                                    \n                        if(res.data){\n\n                        _this.arrPersonal = res.data.data\t\t\t\t\t\t\t\n\n                        }  else {\n                        \n                        _this.arrPersonal = []\n                        \n                        }\n\n                    } else {                        \t\n\n                    _this.arrPersonal = []                        \t\n                    }    \n                    _this.loading = false                \n                    \n            }).catch(function(err) {\n\n                _this.arrPersonal = []   \n                _this.loading = false                \n                \n            })\n\n        },\n            \n        traerequipo(proyecto){\n\n            var _this = this\n            this.loading = true\n\n            proyectosequipoService.BuscarXProyecto(proyecto)\n                .then(function(res) {\n\n                    if (res.request) {\n                                    \n                        if(res.data){\n\n                            _this.equipo = res.data.data\n                            \n                            var totitems = _this.equipo.length\t\t\t\t\t\t\t\n\n                            for (let index = totitems; index < 15; index++) {\n                                _this.equipo.push({proyecto:'',persona:'0',rol:'',dedicacion:0,codigoreal:0})\t\t\t\t   \n                            }\n\n                        }  else {\n                        \n                            _this.equipo = []\n                            _this.EquipoVacio()\n                        \n                        }\n\n                    } else {                        \t\n\n                        _this.equipo = []\n                        _this.EquipoVacio()                        \t\n                    }    \n                    _this.loading = false                \n                    \n            }).catch(function(err) {\n\n                    _this.equipo = []  \n                    _this.EquipoVacio() \n                _this.loading = false                \n                \n            })\n\n        },\n\n        traerRoles(){\n\n            var _this = this\n           \n            rolesService.getData()\n                .then(function(res) {\n\n                    if (res.request) {\n                                    \n                        if(res.data){\n\n                            _this.roles = res.data.data\n                            \n                        }  else {\n                        \n                            _this.roles = []\n\n                        }\n\n                    } else {                        \t\n\n                        _this.roles = []                        \n                    }  \n\n            }).catch(function(err) {\n\n                _this.roles = []\n            })\n\n        },\n\n        traerCompromisos(proyecto, personal){            \n            \n            var _this = this\n            \n            proyectosequipocompService.BuscarXProyectoPersonal(proyecto, personal)\n                .then(function(res) {\n\n                    if (res.request) {\n                                    \n                        if(res.data){\n\n                            _this.compromisos = res.data.data\n                            \n                            var totalitems = _this.compromisos.length\t\t\t\t\t\t\t\n\n                            for (let index = totalitems; index < 20; index++) {\n                                _this.compromisos.push({proyecto:_this.proyecto,personal:_this.codigointegrante,\n                                                        descripcion:'',codigoreal:0})\t\t\t\t   \n                            }\n\n                        }  else {\n                        \n                            _this.compromisos = []\n                            _this.EquipoCompVacio()\n                        \n                        }\n\n                    } else {                        \t\n\n                       _this.compromisos = []\n                       _this.EquipoCompVacio()                        \t\n                    }    \n                    _this.loading = false                \n                    \n            }).catch(function(err) {\n\n                _this.compromisos = []\n                _this.EquipoCompVacio()\n            })\n\n        },\n\n        deleteItem(){\n            \n            var _this = this\n            this.loading = true            \n\n            proyectosequipoService.DelData(_this.proyecto, _this.itemactual.persona)\n                .then(function(res) {\n\n                    if(res.statusText){\n\n                        _this.showMessage(true,3000,'success','Se eliminó el Integrante con éxito')\n\n                        _this.del_item = ''\t              \t  \t\t\n                        _this.traerequipo(_this.proyecto)\n                        _this.dialog_del = false\n                        \n                        _this.agregaBitacora('ELIMINACION','SE ELIMINÓ EL INTEGRANTE :' + _this.itemactual.nombrecompleto +                                                 \n                                                '. QUE PERTENECE AL PROYECTO CON # DE CONVENIO: ' + _this.convenioproyecto + ' Y NOMBRE: ' + \n                                                _this.nombreproyecto)\n\n                        var mensajecorreo = \"Cordial Saludo,<br><br> \" +\n                                            \"Se eliminó el Integrante : '\" + _this.itemactual.nombrecompleto + \"' del Proyecto con # de Convenio \" + \n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \n                                            \"<b>SINCHI</b><br><br> \" +\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\n                                            \"correo electrónico, no lo responda.</i> <br>\"\n                        \n                        var mensajenotifica = \"Se eliminó el Integrante : '\" + _this.itemactual.nombrecompleto + \"' del Proyecto con # de Convenio \" + \n                                                _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto\n\n                        _this.envioNotificaciones(mensajenotifica,'Eliminación de Integrante del Proyecto',mensajecorreo)                                 \n\n                    } else {\t                                         \t\n\n                        _this.showMessage(true,3000,'error',res.response.data.message) \t                  \t\n                    } \t                   \n                    _this.del_item = ''\t\t\t\t\t\t\n                    _this.loading = false\t                 \n                    \n            }).catch(function(err) {\n\n                _this.showMessage(true,3000,'error',err)\t    \n                _this.loading = false          \t\n                \n            })\n\n        },        \n\n        deleteCompromiso(personal){\n            \n            var _this = this\n            this.loading = true            \n            \n            proyectosequipocompService.DelData(_this.proyecto,personal, _this.itemcompromisoactual.codigo)\n                .then(function(res) {\n\n                    if(res.statusText){\n\n                        _this.showMessage(true,3000,'success','Se eliminó el Compromiso con éxito')\n\n                        _this.traerCompromisos(_this.proyecto,personal)                       \n                        _this.dialogcompromiso_del = false\n                        \n                        _this.agregaBitacora('ELIMINACION','SE ELIMINÓ EL COMPROMISO :' + _this.itemcompromisoactual.descripcion +                                                 \n                                             ' DEL INTEGRANTE: ' + _this.nombreintegrante + '. QUE PERTENECE AL PROYECTO CON # DE CONVENIO: ' + _this.convenioproyecto + ' Y NOMBRE: ' + \n                                                _this.nombreproyecto)\n\n                        var mensajecorreo = \"Cordial Saludo,<br><br> \" +\n                                            \"Se eliminó el Compromiso: '\" + _this.itemcompromisoactual.descripcion + \"' del Integrante : '\" + \n                                            _this.nombreintegrante + \"' del Proyecto con # de Convenio \" + \n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \n                                            \"<b>SINCHI</b><br><br> \" +\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\n                                            \"correo electrónico, no lo responda.</i> <br>\"\n                        \n                        var mensajenotifica = \"Se eliminó el Compromiso: '\" + _this.itemcompromisoactual.descripcion + \"' del Integrante : '\" + \n                                            _this.nombreintegrante + \"' del Proyecto con # de Convenio \" + \n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto\n\n                        _this.envioNotificaciones(mensajenotifica,'Eliminación de Compromiso de Integrante del Proyecto',mensajecorreo)\n\n                    } else {\t                                         \t\n\n                        _this.showMessage(true,3000,'error',res.response.data.message) \t                  \t\n                    } \t                   \n                                    \n                    \n            }).catch(function(err) {\n\n                _this.showMessage(true,3000,'error',err)\n                \n            })\n\n        },\n\n        saveitem(){            \n\n            var totitems = this.equipo.length\n            var busDuplicado = []\n            \n            this.loading = true\n            \n            var totalporcentaje = 0    \n\n            for (let index = 0; index < totitems; index++) {\n\n                var code = ''\n                var nombre = ''\n                var role = ''\n                var nombrerol = ''\n\n                if(typeof this.equipo[index].persona == 'object'){\n                    code = this.equipo[index].persona.codigo\n                    nombre = this.equipo[index].persona.nombrecompleto\n\n                } else {\n                    code = this.equipo[index].persona\n                    nombre = this.equipo[index].nombrecompleto\n                }                    \n\n                if(typeof this.equipo[index].rol == 'object'){\n                    role = this.equipo[index].rol.codigo\n                    nombrerol = this.equipo[index].rol.descripcion\n\n                } else {\n                    role = this.equipo[index].rol\n                    nombrerol = this.equipo[index].rolnombre\n                }\n\n                if(code != '' && code != '0' && code != undefined){\n                    \n                    if(role == '' || role == '0' || code == undefined){\n\n                        this.showMessage(true,3000,'error','El Integrante ' + nombre + ' no tiene Rol asignado.')\n\n                        this.loading = false                    \n                        return\n\n                    } else if (this.equipo[index].dedicacion == '0') {\n\n                        this.showMessage(true,3000,'error','El Integrante ' + nombre + ' no tiene Tiempo de Dedicación.')\n\n                        this.loading = false                    \n                        return\n\n                    }\n\n                    totalporcentaje += parseFloat(this.equipo[index].porcentaje)\n\n                    if(busDuplicado.length > 0){\n                        for (let i = 0; i < busDuplicado.length; i++) {\n\n                            if(code == busDuplicado[i].persona){\n\n                                var nitem = index + 1\n                                this.showMessage(true,3000,'error','El Integrante ' + nombre + ' del item ' + nitem + \n                                                    ' ya se encuentra en el item ' + busDuplicado[i].numero)\n\n                                this.loading = false                    \n                                return\n                            }\n                        }\n\n                        busDuplicado.push( {numero:index+1,persona:code,rol:role,\n                                            dedicacion:this.equipo[index].dedicacion, \n                                            porcentaje:this.equipo[index].porcentaje,\n                                            titular:this.equipo[index].titular, proyecto:this.proyecto})\n\n                    } else {\n\n                        busDuplicado.push( {numero:index+1,persona:code,rol:role,\n                                            dedicacion:this.equipo[index].dedicacion,\n                                            porcentaje:this.equipo[index].porcentaje,\n                                            titular:this.equipo[index].titular,\n                                            proyecto:this.proyecto})\n\n                    }\n                }\n\t\t\t   \n            }\n            \n            if(totalporcentaje > 100){\n\n                 this.showMessage(true,3000,'error','El total de % de participación de todos los integrantes no puede superar el 100%')\n\n                this.loading = false                    \n                return\n\n            }\n\n            var _this = this\n\n            proyectosequipoService.guardarData(busDuplicado)\n\t              .then(function(res) {\n\n\t              \t  if (res.response) {                           \n                            \n                          var error = res.response.data.message\n                          _this.showMessage(true,3000,'error',error)\n\n                      } else if(res.statusText){\n\t              \t  \t\t\n\t              \t  \t\tvar mensaje = ''\n\t\t\t\t\t\t\tvar accbitacora = ''\n\n\t              \t  \t\t_this.showMessage(true,3000,'success','Se Actualizarón/Agregarón Integrantes al Proyecto con éxito')\n             \t  \t\t\n\t              \t  \t\t_this.traerequipo(_this.proyecto)\t              \t  \t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n                            _this.agregaBitacora('ACTUALIZACION/CREACION','SE ACTUALIZARON/AGREGARON INTEGRANTES AL PROYECTO CON # DE CONVENIO: ' \n                                                    + _this.convenioproyecto + ' Y NOMBRE: ' + _this.nombreproyecto)\n                            \n                            var mensajecorreo = \"Cordial Saludo,<br><br> \" +\n                                            \"Se Actualizaron/Crearon Integrantes para el Proyecto con # de Convenio \" + \n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \n                                            \"<b>SINCHI</b><br><br> \" +\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\n                                            \"correo electrónico, no lo responda.</i> <br>\"\n                        \n                            var mensajenotifica = \"Se Actualizaron/Crearon Integrantes para el Proyecto con # de Convenio \" + \n                                                _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto\n\n                            _this.envioNotificaciones(mensajenotifica,'Actualización/Creación de Integrantes del Proyecto',mensajecorreo)\n\n\t              \t  }else{\t                                         \t\n\n\t                  \t\t_this.showMessage(true,3000,'error',res.message) \t                  \t\n\t                  }\n\n\t                    _this.loading = false\t                 \n\t                   \t\n\t          \t}).catch(function(err) {\n\n\t          \t\t_this.showMessage(true,3000,'error',err)\t    \n\t          \t\t_this.loading = false          \t\n\t          \t\t\n\t\t\t\t})\n\n        },\n\n        saveitemCompromiso(){            \n\n            var totitems = this.compromisos.length\n            var busDuplicado = []\n            \n            this.loading = true\n\n            for (let index = 0; index < totitems; index++) {\n\n                var code = ''\n                var descripcion = this.compromisos[index].descripcion\n                                \n                code = this.compromisos[index].personal                      \n\n                if(descripcion != '' && descripcion != undefined){\n                    \n                    if(busDuplicado.length > 0){\n                        for (let i = 0; i < busDuplicado.length; i++) {\n\n                            if(descripcion == busDuplicado[i].descripcion){\n\n                                var nitem = index + 1\n                                this.showMessage(true,3000,'error','La Descripción ' + descripcion + ' del item ' + nitem + \n                                                    ' ya se encuentra en el item ' + busDuplicado[i].codigo)\n\n                                this.loading = false                    \n                                return\n                            }\n                        }\n\n                        busDuplicado.push( {codigo:index+1,personal:code,\n                                             descripcion:descripcion,proyecto:this.proyecto})\n\n                    } else {\n\n                        busDuplicado.push( {codigo:index+1,personal:code,\n                                             descripcion:descripcion,proyecto:this.proyecto})\n\n                    }\n                }\n\t\t\t   \n            }\n            \n            var _this = this\n\n            proyectosequipocompService.guardarData(busDuplicado)\n\t              .then(function(res) {\n\n\t              \t  if (res.response) {                           \n                            \n                          var error = res.response.data.message\n                          _this.showMessage(true,3000,'error',error)\n\n                      } else if(res.statusText){\n\t              \t  \t\t\n\t              \t  \t\tvar mensaje = ''\n\t\t\t\t\t\t\tvar accbitacora = ''\n\n\t              \t  \t\t_this.showMessage(true,3000,'success','Se Actualizarón/Agregarón los Compromisos de un Integrante del Proyecto con éxito')\n             \t  \t\t\n\t              \t  \t\t_this.traerCompromisos(_this.proyecto,busDuplicado[0].personal)\t              \t  \t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n                            _this.agregaBitacora('ACTUALIZACION/CREACION','SE ACTUALIZARON/AGREGARON COMPROMISOS PARA EL INTEGRANTE '+ _this.nombreintegrante + \n                                                 'DEL PROYECTO CON # DE CONVENIO: ' + _this.convenioproyecto + ' Y NOMBRE: ' + _this.nombreproyecto)\n                            \n                            var mensajecorreo = \"Cordial Saludo,<br><br> \" +\n                                            \"Se Actualizaron/Crearon Compromisos para el Integrante '\" + _this.nombreintegrante + \"' para el Proyecto con # de Convenio \" + \n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \n                                            \"<b>SINCHI</b><br><br> \" +\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\n                                            \"correo electrónico, no lo responda.</i> <br>\"\n                        \n                            var mensajenotifica = \"Se Actualizaron/Crearon Compromisos para el Integrante '\" + _this.nombreintegrante + \"' para el Proyecto con # de Convenio '\" + \n                                                    _this.convenioproyecto + \"', Nombre: '\" + _this.nombreproyecto + \"'\"\n\n                            _this.envioNotificaciones(mensajenotifica,'Actualización/Creación de Compromisos de Integrantes del Proyecto',mensajecorreo)\n\n\t              \t  }else{\t                                         \t\n\n\t                  \t\t_this.showMessage(true,3000,'error',res.message) \t                  \t\n\t                  }\n\n\t                    _this.loading = false\t                 \n\t                   \t\n\t          \t}).catch(function(err) {\n\n\t          \t\t_this.showMessage(true,3000,'error',err)\t    \n\t          \t\t_this.loading = false          \t\n\t          \t\t\n\t\t\t\t})\n\n        },\n\n        agregaBitacora(accion, detalle){              \n\n            var data = {modulo:'EQUIPO PROYECTOS',accion:accion,detalle:detalle}\n            \n            this.$root.$emit('agregaBitacora', data)\n\n        },\n\n    },\n\n    watch: {\n\n        proyecto: function (val) {            \n\n            if(val!=0)\n                this.traerequipo(val)\n        }\n\n    },\n        \n    mounted() {\n        \n        this.traerequipo(this.proyecto)\n        this.traePersonal()\n        this.traerRoles()\n\n    },   \n\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosEquipo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosEquipo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CProyectosEquipo.vue?vue&type=template&id=2f92f380&\"\nimport script from \"./CProyectosEquipo.vue?vue&type=script&lang=js&\"\nexport * from \"./CProyectosEquipo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}