(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c1c5b08","chunk-00082a30","chunk-5a79a986"],{"14f3":function(e,t,a){},"435b":function(e,t,a){},"6de5":function(e,t,a){"use strict";var i=a("435b"),n=a.n(i);n.a},c625:function(e,t,a){"use strict";var i=a("14f3"),n=a.n(i);n.a},d61f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-layout",{attrs:{"align-center":"","mb-3":""}},[a("h2",[e._v("Educación "+e._s(e.titulo))]),e.selRol?a("div",["seleccion"===e.criterio?a("v-layout",{attrs:{"ml-4":"","align-center":""}},[a("div",[e._v("%Peso: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.porcentaje,expression:"porcentaje"}],staticStyle:{"background-color":"white",padding:"5px","margin-left":"5px",width:"80px","border-radius":"5px"},attrs:{type:"number"},domProps:{value:e.porcentaje},on:{input:function(t){t.target.composing||(e.porcentaje=t.target.value)}}}),a("span",{staticClass:"ml-3",class:{errorClass:e.calcrestante>0}},[e._v("Pendiente por asignar: "+e._s(e.calcrestante)+"%")])]):e._e()],1):e._e()]),e.evaluacion?e._e():a("div",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",{attrs:{"align-center":"",wrap:""}},[a("v-flex",[a("v-select",{staticClass:"eduInput",attrs:{items:e.tipoEd,label:"Tipo de educación",filled:"",rules:e.tipoEdRules,required:""},model:{value:e.selEd,callback:function(t){e.selEd=t},expression:"selEd"}})],1),a("v-flex",[a("v-select",{staticClass:"eduInput",attrs:{items:e.niveles,label:"Estudio realizado",filled:"",rules:e.selNivelRules,required:""},model:{value:e.selNivel,callback:function(t){e.selNivel=t},expression:"selNivel"}})],1),e.nivProf.includes(e.selNivel)?a("v-flex",[a("v-autocomplete",{staticClass:"eduInput",attrs:{items:e.titulos,label:"Profesión afínes",filled:""},model:{value:e.selTitulo,callback:function(t){e.selTitulo=t},expression:"selTitulo"}})],1):e._e(),e.nivPos.includes(e.selNivel)?a("v-flex",[a("v-select",{staticClass:"eduInput",attrs:{items:e.posgrados,label:"Tipo",filled:""},model:{value:e.selPosgrado,callback:function(t){e.selPosgrado=t},expression:"selPosgrado"}})],1):e._e(),e.textTituloObt?a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Digite profesión afínes",maxlength:"250",counter:"",filled:""},model:{value:e.selTitulo,callback:function(t){e.selTitulo=t},expression:"selTitulo"}})],1):e._e(),e.selRol&&"seleccion"===e.criterio?a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje unidad",type:"number",filled:"",rules:e.pUndRules,required:""},model:{value:e.puntajeUnd,callback:function(t){e.puntajeUnd=t},expression:"puntajeUnd"}})],1):e._e(),e.selRol&&"seleccion"===e.criterio?a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje max",type:"number",filled:"",rules:e.pMaxRules,required:""},model:{value:e.puntajeMax,callback:function(t){e.puntajeMax=t},expression:"puntajeMax"}})],1):e._e()],1)],1),a("v-layout",{attrs:{"justify-center":""}},[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:e.addEstudio}},[e._v("Agregar")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.compHeaders,items:e.educacion,"items-per-page":5,"item-key":"tipo","show-expand":""!==e.evaluacion,dense:""},scopedSlots:e._u([{key:"expanded-item",fn:function(t){var i=t.headers,n=t.item;return[a("td",{attrs:{colspan:i.length}},[a("v-textarea",{attrs:{label:"Observacion",rows:"3",maxlength:"200",counter:""},model:{value:n.observacion,callback:function(t){e.$set(n,"observacion",t)},expression:"item.observacion"}})],1)]}},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error"},on:{click:function(t){return e.delEstudio(i)}}},[a("v-icon",{attrs:{small:"",left:""}},[e._v("delete")]),e._v("Eliminar\n        ")],1)]}},{key:"item.soportes",fn:function(t){var i=t.item;return[a("AddFilesToStorage",{attrs:{item:i,placeholder:"Imagen",dense:"",outlined:"",hidemsg:!0,"prepend-icon":""},on:{"remove-file":function(t){return e.removeFile(i)},"file-changed":function(t){return e.changeFile(t,i)}}})]}},{key:"item.evaluacion",fn:function(t){var i=t.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",attrs:{label:i.cumple?"Cumple":"No cumple"},model:{value:i.cumple,callback:function(t){e.$set(i,"cumple",t)},expression:"item.cumple"}}),a("v-checkbox",{attrs:{label:"No aplica"},model:{value:i.noAplica,callback:function(t){e.$set(i,"noAplica",t)},expression:"item.noAplica"}})],1)]}}])})],1)],1)},n=[],o=a("2dfa"),r={props:["selRol","educacion","evaluacion"],components:{AddFilesToStorage:o["a"]},data:function(){var e=this;return{noaplica:!1,tipoEd:["Formal","No formal"],nivBasicos:["Sin formación académica","Básica primaria","Bachiller"],nivTec:["Técnico","Tecnológico"],nivProf:["Profesional"],nivPos:["Postgradual"],nivelesNoFormales:["curso","seminario","diplomado"],titulos:["Ingeniero en sistemas","Ingeniero civil","Arquitecto","Abogado"],posgrados:["Maestria","Especialización","Doctorado",""],selPosgrado:"",selEd:"",selNivel:"",selTitulo:"",puntajeMax:"",puntajeUnd:"",headerSelected:[],headers:[{text:"Obs",value:"data-table-expand"},{text:"Tipo estudio",align:"left",sortable:!1,value:"tipoEd"},{text:"Nivel",align:"left",sortable:!1,value:"tipo"},{text:"Titulo obtenido",align:"left",sortable:!1,value:"titulo",class:"wrap"},{text:"Puntaje und",align:"left",sortable:!1,value:"puntajeUnd"},{text:"Puntaje máx",align:"left",sortable:!1,value:"puntajeMax"},{text:"Evaluación",align:"center",sortable:!1,value:"evaluacion"},{text:"Soportes",align:"center",sortable:!1,value:"soportes"},{text:"Acciones",align:"center",sortable:!1,value:"actions"}],valid:!0,tipoEdRules:[function(e){return!!e||"Tipo de educación es requerido"}],selNivelRules:[function(e){return!!e||"Nivel de educacion es requerido"}],pMaxRules:[function(t){return!(!t&&e.selRol)||"Puntaje maximo es requerido"},function(e){return!(isNaN(e)||e<0||e>100)||"Debe ser de 0 - 100"},function(t){return!(+t+ +e.acumExp>100)||"Acumulado es mayor a 100"}],pUndRules:[function(t){return!(!t&&e.selRol)||"Puntaje unidad es requerido"},function(e){return!(isNaN(e)||e<0||e>100)||"Debe ser de 0 - 100"}],obsDialog:!1}},mounted:function(){this.titulos=this.$store.state.carreras.filter((function(e){return e.length<60}))},methods:{addEstudio:function(){if(this.$refs.form.validate()){var e="".concat(this.selPosgrado,"  ").concat(this.selTitulo);e=e.trim();var t={tipoEd:this.selEd,tipo:this.selNivel,titulo:e,cumple:!1,noAplica:!1,observacion:"",puntajeUnd:this.puntajeUnd,puntajeMax:this.puntajeMax};console.log(t),this.selRol?this.$emit("addEstudioRol",t):this.$emit("addEstudio",t)}},resetForm:function(){this.selEd="",this.selNivel="",this.selTitulo="",this.selPosgrado="",this.puntajeUnd="",this.puntajeMax="",this.$refs.form.resetValidation()},delEstudio:function(e){console.log(e);var t=confirm("Desea eliminar este registro de estudio");if(t){var a=this.educacion.indexOf(e);this.selRol?this.$emit("delEstudioRol",a):this.$emit("delEstudio",a)}},removeFile:function(e){},changeFile:function(e,t){t.id_file=""}},computed:{niveles:function(){if(!this.selEd)return[];var e=this.nivBasicos.concat(this.nivTec);return e=e.concat(this.nivProf),e=e.concat(this.nivPos),"Formal"===this.selEd?e:"No formal"===this.selEd?this.nivelesNoFormales:[]},nivTecPos:function(){return this.nivTec.concat(this.nivPos)},textTituloObt:function(){var e=this.nivBasicos;return!e.includes(this.selNivel)},porcentaje:{get:function(){return this.selRol?this.selRol.porcEdu:""},set:function(e){this.selRol&&(this.selRol.porcEdu=e)}},calcrestante:function(){if(this.selRol){var e=this.selRol;return 100-((e.porcEdu?Number(e.porcEdu):0)+(e.porcExp?Number(e.porcExp):0))}return 0},compHeaders:function(){var e=[];return"seleccion"!==this.criterio&&(e.push("puntajeUnd"),e.push("puntajeMax")),this.evaluacion||(e.push("data-table-expand"),e.push("evaluacion"),e.push("soportes")),this.headers.filter((function(t){return!e.includes(t.value)}))},acumExp:function(){return this.educacion.reduce((function(e,t){return e+ +t.puntajeMax}),0)},titulo:function(){return this.selRol?" de ".concat(this.selRol.rol):""}}},s=r,c=(a("6de5"),a("2877")),l=Object(c["a"])(s,i,n,!1,null,"4a7b9bdc",null);t["default"]=l.exports},e1f8:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[e.esDirecta?a("div",[a("h1",[e._v("Evaluación")]),a("EvDirecta",{attrs:{esDirecta:e.esDirecta,termref:e.termref}})],1):e._e(),e.termref?a("div",[a("preResults",{attrs:{termref:e.termref,proponentes:e.proponentes},on:{evaluarProp:function(t){return e.evaluarProp(t)}}})],1):e._e(),a("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:e.dialogSaving,callback:function(t){e.dialogSaving=t},expression:"dialogSaving"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[e._v("\n        "+e._s(e.textDialog)+"\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-fab-transition",[a("v-btn",{staticStyle:{right:"100px",bottom:"100px"},attrs:{color:"primary",dark:"",absolute:"",bottom:"",right:"",fab:""},on:{click:function(t){return e.$router.go(-1)}}},[a("v-icon",[e._v("reply")])],1)],1)],1)},n=[],o=a("a34a"),r=a.n(o),s=a("5d3a"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-tabs",{attrs:{"icons-and-text":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-1"}},[e._v("\n      Adjuntos\n      "),a("v-icon",[e._v("mdi-phone")])],1),a("v-tab",{attrs:{href:"#tab-2"}},[e._v("\n      Criterios Educación\n      "),a("v-icon",[e._v("mdi-heart")])],1),a("v-tab",{attrs:{href:"#tab-3"}},[e._v("\n      Criterios Eperiencia\n      "),a("v-icon",[e._v("mdi-account-box")])],1)],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{flat:""}},[e.termref?a("datosAdjuntos",{attrs:{tipoContratacion:e.termref.tipo_contratacion,adjuntosIn:e.termref.adjuntos,idSolProc:e.termref.id,causal:e.termref.cod_causal,hideTitle:!0,evaluacion:!0}}):e._e()],1)],1),a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[e.termref.educacion&&e.termref.educacion.length>0?a("Educacion",{staticClass:"mt-3",attrs:{educacion:e.termref.educacion,evaluacion:!0},on:{addEstudio:function(t){return e.termref.educacion.unshift(t)},delEstudio:function(t){return e.termref.educacion.splice(t,1)}}}):e._e()],1)],1)],1),a("v-tab-item",{attrs:{value:"tab-3"}},[e.termref.experiencia&&e.termref.experiencia.length>0?a("Experiencia",{staticClass:"mt-3",attrs:{experiencia:e.termref.experiencia,evaluacion:!0},on:{"add-experiencia":function(t){return e.termref.experiencia.unshift(t)},"del-experiencia":function(t){return e.termref.experiencia.splice(t,1)}}}):e._e()],1)],1),a("v-row",{staticClass:"my-5 pb-5",attrs:{justify:"end","no-gutters":""}},[a("v-btn",{staticClass:"mr-5",attrs:{color:"primary",text:""}},[e._v("volver")]),a("v-btn",{staticClass:"mr-5",attrs:{color:"primary"},on:{click:e.savechanges}},[e._v("guardar")])],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogSaving,callback:function(t){e.dialogSaving=t},expression:"dialogSaving"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[e._v("\n        "+e._s(e.textDialog)+"\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},l=[],u=a("d3b8"),p=a("d61f"),d=a("f55c"),v=a("d318");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){h(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function x(e,t,a,i,n,o,r){try{var s=e[o](r),c=s.value}catch(l){return void a(l)}s.done?t(c):Promise.resolve(c).then(i,n)}function b(e){return function(){var t=this,a=arguments;return new Promise((function(i,n){var o=e.apply(t,a);function r(e){x(o,i,n,r,s,"next",e)}function s(e){x(o,i,n,r,s,"throw",e)}r(void 0)}))}}var g={components:{datosAdjuntos:u["default"],Educacion:p["default"],Experiencia:d["default"]},props:["esDirecta","termref"],data:function(){return{tab:"tab-1",dialogSaving:!1,textDialog:""}},mounted:function(){},methods:{savechanges:function(){var e=b(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.textDialog="Guardando los cambios...",this.dialogSaving=!0,e.prev=2,t=m({},this.termref),console.log(t),e.next=7,v["termRef"].updateTermRef(t);case 7:a=e.sent,this.$toasted.success("Datos actualizados!",{icon:"done",duration:3e3}),console.log(a),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),this.$toasted.error(e.t0.response.data,{icon:"error",duration:5e3}),console.log(e.t0.response.data);case 16:this.dialogSaving=!1;case 17:case"end":return e.stop()}}),e,this,[[2,12]])})));function t(){return e.apply(this,arguments)}return t}()}},_=g,E=a("2877"),j=Object(E["a"])(_,c,l,!1,null,null,null),y=j.exports,R=a("ef56"),k=a("cd92");function P(e,t,a,i,n,o,r){try{var s=e[o](r),c=s.value}catch(l){return void a(l)}s.done?t(c):Promise.resolve(c).then(i,n)}function T(e){return function(){var t=this,a=arguments;return new Promise((function(i,n){var o=e.apply(t,a);function r(e){P(o,i,n,r,s,"next",e)}function s(e){P(o,i,n,r,s,"throw",e)}r(void 0)}))}}var M={components:{proponentesListaCorta:s["a"],EvDirecta:y,preResults:R["a"],results:k["a"]},data:function(){return{proponentes:[],tipoContratacion:"",termref:"",dialogSaving:!1,textDialog:""}},mounted:function(){var e=T(r.a.mark((function e(){var t;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.idTermRef,e.next=3,this.getTermrefDetail(t);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getTermrefDetail:function(){var e=T(r.a.mark((function e(t){var a,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.textDialog="Cargando información...",this.dialogSaving=!0,e.prev=2,e.next=5,v["termRef"].getTermRefDetail(t);case 5:a=e.sent,i=a.data,this.setTermData(i),this.esDirecta||(this.proponentes=i.proponentes),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:this.dialogSaving=!1;case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(t){return e.apply(this,arguments)}return t}(),evaluarProp:function(e){var t=this.$route.params.idTermRef;this.$router.push("/Evaluacion/".concat(t,"/proponente/").concat(e.id))},setTermData:function(e){var t={id:e.id?e.id:"",antecedentes:e.antecedentes,idSolContratacion:e.id_solcontratacion?e.id_solcontratacion:this.idSolicitud,objContractual:e.obj_contractual?e.obj_contractual:"",obligaciones:e.obligaciones?e.obligaciones:[],infoprod:e.infoprod?e.infoprod:[],fechaLimite:e.fecha_limite?"0000-00-00 00:00:00"===e.fecha_limite?"":e.fecha_limite:"",fechaTerminacion:e.fecha_terminacion?"0000-00-00 00:00:00"===e.fecha_terminacion?"":e.fecha_terminacion:"",tiempoAsignado:e.tiempo_asignado?e.tiempo_asignado:"",ciudad:e.ciudad?e.ciudad:[],supervisor:e.supervisor?e.supervisor:[],incGastos:!!e.inc_gastos&&1===e.inc_gastos,tarSinchi:!!e.tar_sinchi&&1===e.tar_sinchi,valGastosViaje:e.val_gastos_viaje?e.val_gastos_viaje:"",tipoProc:e.tipo_proc?e.tipo_proc:"",necesidades:e.necesidades?e.necesidades:[],pagos:e.pagos?e.pagos:[],anticipo:e.anticipo?e.anticipo:"",accesInfoConf:!!e.acces_info_conf&&1===e.acces_info_conf,caracteristicasBS:e.caracteristicas_bs?e.caracteristicas_bs:"",cod_causal:e.cod_causal?e.cod_causal:"",causal:e.causal?e.causal:"",contrapartida:e.contrapartida?e.contrapartida:"",convDinero:e.conv_dinero?e.conv_dinero:"",convEspecie:e.conv_especie?e.conv_especie:"",convValor:e.conv_valor?e.conv_valor:"",convenioMarco:e.convenio_marco?e.convenio_marco:"",correo:e.correo?e.correo:"",fechaCreacion:e.fecha_creacion?e.fecha_creacion:"",justificacion:e.justificacion?e.justificacion:"",nombre:e.nombre?e.nombre:"",ofEconomica:e.of_economica?e.of_economica:"",pesoEco:e.peso_eco?0===e.peso_eco?"":e.peso_eco:"",pesoEqu:e.peso_equ?0===e.peso_equ?"":e.peso_equ:"",pesoFin:e.peso_fin?0===e.peso_fin?"":e.peso_fin:"",pesoMet:e.peso_met?0===e.peso_met?"":e.peso_met:"",pesoOrg:e.peso_org?0===e.peso_org?"":e.peso_org:"",pesoProp:e.peso_prop?0===e.peso_prop?"":e.peso_prop:"",porcOfEco:e.porc_of_eco?0===e.porc_of_eco?"":e.porc_of_eco:"",rol:e.rol?e.rol:"",telefono:e.telefono?e.telefono:"",tipoContratacion:e.tipo_contratacion?e.tipo_contratacion:"",valArl:e.val_arl?e.val_arl:"",educacion:e.educacion?e.educacion:[],experiencia:e.experiencia?e.experiencia:[],adjuntos:e.adjuntos?this.adjMaped(e.adjuntos):[],proponentes:e.proponentes?this.propMapped(e.proponentes):[],expProp:e.expProp?this.expMaped(e.expProp):[],roles:e.roles?this.rolesMaped(e.roles):[],expFin:e.expFin?e.expFin:[],expOrg:e.expOrg?e.expOrg:[],expMet:e.expMet?e.expMet:[],criDes:e.criDes?e.criDes:[],estado:e.estado?e.estado:"creado",cdp:e.cdp?e.cdp:"",cdp_nombre:e.cdp_nombre?e.cdp_nombre:"",cdp_number:e.cdp_number?e.cdp_number:"",crp:e.crp?e.crp:"",crp_nombre:e.crp_nombre?e.crp_nombre:"",crp_number:e.crp_number?e.crp_number:"",ab_asignado:e.ab_asignado?e.ab_asignado:"",alcance:e.alcance?e.alcance:"",id_plantilla:e.id_plantilla?e.id_plantilla:"",cod_tipocontrata:e.cod_tipocontrata?e.cod_tipocontrata:"",norma:e.norma?e.norma:""};this.termref=t},propMapped:function(e){return e.map((function(e){e.adjuntos=[]})),e},adjMaped:function(e){return e.map((function(e){e.aprobado=!!e.aprobado&&0!==e.aprobado,e.noAplica=!!e.noAplica&&0!==e.noAplica})),e},expMaped:function(e){return e.map((function(e){e.cumple=!!e.cumple&&0!==e.cumple})),e},rolesMaped:function(e){return e.map((function(e){e.educacion.map((function(e){e.cumple=!!e.cumple&&0!==e.cumple,e.noAplica=!!e.noAplica&&0!==e.noAplica}))})),e}},computed:{esDirecta:function(){return this.$store.state.tiposContratacionDirecta.includes(this.termref.tipoContratacion)}}},C=M,w=Object(E["a"])(C,i,n,!1,null,null,null);t["default"]=w.exports},f55c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{color:"grey lighten-3"}},[a("v-card-text",[a("v-layout",{attrs:{"align-center":"","mb-3":""}},[a("h2",[e._v("Experiencia "+e._s(e.titulo))]),e.selRol?a("div",["seleccion"===e.criterio?a("v-layout",{attrs:{"ml-4":"","align-center":""}},[a("div",[e._v("%Peso: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.porcentaje,expression:"porcentaje"}],staticStyle:{"background-color":"white",padding:"5px","margin-left":"5px",width:"80px","border-radius":"5px"},attrs:{type:"number"},domProps:{value:e.porcentaje},on:{input:function(t){t.target.composing||(e.porcentaje=t.target.value)}}}),a("span",{staticClass:"ml-3",class:{errorClass:e.calcrestante>0}},[e._v("Pendiente por asignar: "+e._s(e.calcrestante)+"%")])]):e._e()],1):e._e()]),e.evaluacion?e._e():a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",{attrs:{"align-center":"",wrap:""}},[a("v-flex",[a("v-select",{staticClass:"eduInput",attrs:{items:e.tipoExp,label:"Tipo de experiencia",filled:"",rules:e.tipoExpRules,required:""},model:{value:e.selExp,callback:function(t){e.selExp=t},expression:"selExp"}})],1),a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Descripción",maxlength:"200",counter:"",filled:"",rules:e.descRules,required:""},model:{value:e.descripcion,callback:function(t){e.descripcion=t},expression:"descripcion"}})],1),a("v-flex",[a("v-select",{staticClass:"eduInput",attrs:{items:e.medTiempo,label:"Tiempo",filled:"",rules:e.medTimeRules,required:""},model:{value:e.selMedTime,callback:function(t){e.selMedTime=t},expression:"selMedTime"}})],1),a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:e.labelCant,type:"number",filled:"",rules:e.cantMedRules,required:""},model:{value:e.cantMedTime,callback:function(t){e.cantMedTime=t},expression:"cantMedTime"}})],1),e.selRol&&"seleccion"===e.criterio?a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje unidad",type:"numeric",filled:"",rules:e.pUndRules,required:""},model:{value:e.puntajeUnd,callback:function(t){e.puntajeUnd=t},expression:"puntajeUnd"}})],1):e._e(),e.selRol&&"seleccion"===e.criterio?a("v-flex",[a("v-text-field",{staticClass:"eduInput",attrs:{label:"Puntaje maximo",type:"numeric",filled:"",rules:e.pMaxRules,required:""},model:{value:e.puntajeMax,callback:function(t){e.puntajeMax=t},expression:"puntajeMax"}})],1):e._e()],1),a("v-layout",{attrs:{"align-center":""}},[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:e.addExperiencia}},[e._v("Agregar")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.compHeaders,items:e.experiencia,"items-per-page":5,"show-expand":""!==e.evaluacion,dense:""},scopedSlots:e._u([{key:"expanded-item",fn:function(t){var i=t.headers,n=t.item;return[a("td",{attrs:{colspan:i.length}},[a("v-textarea",{attrs:{label:"Observacion",rows:"3",maxlength:"200",counter:""},model:{value:n.observacion,callback:function(t){e.$set(n,"observacion",t)},expression:"item.observacion"}})],1)]}},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-btn",{staticClass:"my-1",attrs:{small:"",color:"error"},on:{click:function(t){return e.delExperiencia(i)}}},[a("v-icon",{attrs:{small:"",left:""}},[e._v("delete")]),e._v("Eliminar\n        ")],1),e.evaluacion?a("v-btn",{staticClass:"my-1 ml-3",attrs:{small:"",color:"accent"},on:{click:function(t){return e.addSupportExp(i)}}},[a("v-icon",{attrs:{small:"",left:""}},[e._v("add")]),e._v("soportes\n        ")],1):e._e()]}},{key:"item.evaluacion",fn:function(t){var i=t.item;return[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-switch",{staticClass:"mr-4",attrs:{label:i.cumple?"Cumple":"No cumple"},model:{value:i.cumple,callback:function(t){e.$set(i,"cumple",t)},expression:"item.cumple"}}),a("v-checkbox",{attrs:{label:"No aplica"},model:{value:i.noAplica,callback:function(t){e.$set(i,"noAplica",t)},expression:"item.noAplica"}})],1)]}}])}),a("v-dialog",{attrs:{width:"800"},model:{value:e.dSupportExp,callback:function(t){e.dSupportExp=t},expression:"dSupportExp"}},[e.dSupportExp?a("supportExp",{attrs:{tipo:"exp",idExp:e.selDocsFrom.id},on:{"close-soportes":function(t){e.dSupportExp=!e.dSupportExp}}}):e._e()],1)],1)],1)},n=[],o=a("8145"),r={components:{supportExp:o["a"]},props:["selRol","experiencia","criterio","evaluacion"],data:function(){var e=this;return{noaplica:!1,tipoExp:["General","Especifica"],selExp:"",descripcion:"",medTiempo:["Años","Meses","Semanas","Dias"],selMedTime:"",cantMedTime:"",puntajeUnd:"",puntajeMax:"",headers:[{text:"Obs",value:"data-table-expand"},{text:"Tipo experiencia",align:"left",sortable:!1,value:"tipoExp"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Tiempo",align:"left",sortable:!1,value:"tiempo"},{text:"Puntaje und",align:"left",sortable:!1,value:"puntajeUnd"},{text:"Puntaje máx",align:"left",sortable:!1,value:"puntajeMax"},{text:"Evaluación",align:"center",sortable:!1,value:"evaluacion"},{text:"Aciones",align:"center",sortable:!1,value:"actions"}],valid:!0,tipoExpRules:[function(e){return!!e||"Tipo de experiencia es requerido"}],descRules:[function(e){return!!e||"La descripción es requerido"}],medTimeRules:[function(e){return!!e||"Medida de tiempo es requerida"}],cantMedRules:[function(e){return!!e||"Cantidad es requerida"}],pMaxRules:[function(t){return!(!t&&e.selRol)||"Puntaje maximo es requerido"},function(e){return!(isNaN(e)||e<0||e>100)||"Debe ser de 0 - 100"},function(t){return!(+t+ +e.acumExp>100)||"Acumulado es mayor a 100"}],pUndRules:[function(t){return!(!t&&e.selRol)||"Puntaje unidad es requerido"},function(e){return!(isNaN(e)||e<0||e>100)||"Debe ser de 0 - 100"}],dSupportExp:!1,selDocsFrom:""}},mounted:function(){console.log(this.evaluacion)},methods:{addExperiencia:function(){if(this.$refs.form.validate()){var e={tipoExp:this.selExp,descripcion:this.descripcion,tiempo:"".concat(this.selMedTime," ").concat(this.cantMedTime),cantidad:this.cantMedTime,puntajeUnd:this.puntajeUnd,puntajeMax:this.puntajeMax,cumple:!1,noAplica:!1,observacion:""};this.selRol?this.$emit("add-experiencia-rol",e):this.$emit("add-experiencia",e),this.resetForm()}},resetForm:function(){this.selExp="",this.descripcion="",this.selMedTime="",this.cantMedTime="",this.puntajeMax="",this.puntajeUnd="",this.$refs.form.resetValidation()},delExperiencia:function(e){console.log(e);var t=confirm("Desea eliminar este registro de experiencia");if(t){var a=this.experiencia.indexOf(e);this.selRol?this.$emit("del-experiencia-rol",a):this.$emit("del-experiencia",a)}},addSupportExp:function(e){console.log(e),this.selDocsFrom=e,this.dSupportExp=!this.dSupportExp}},computed:{compHeaders:function(){var e=[];return"seleccion"!==this.criterio&&(e.push("puntajeUnd"),e.push("puntajeMax")),this.evaluacion||(e.push("data-table-expand"),e.push("evaluacion")),this.headers.filter((function(t){return!e.includes(t.value)}))},porcentaje:{get:function(){return this.selRol?this.selRol.porcExp:""},set:function(e){this.selRol&&(this.selRol.porcExp=e)}},niveles:function(){return this.selExp?"Formal"===this.selExp?this.nivelesAcademicos:"Noformal"===this.selExp?this.nivelesNoFormales:[]:[]},calcrestante:function(){if(this.selRol){var e=this.selRol;return 100-((e.porcEdu?Number(e.porcEdu):0)+(e.porcExp?Number(e.porcExp):0))}return 0},labelCant:function(){return"Cantidad ".concat(this.selMedTime)},acumExp:function(){return this.experiencia.reduce((function(e,t){return e+ +t.puntajeMax}),0)},titulo:function(){return this.selRol?" de ".concat(this.selRol.rol):""}}},s=r,c=(a("c625"),a("2877")),l=Object(c["a"])(s,i,n,!1,null,"2236414c",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-0c1c5b08.687a1367.js.map