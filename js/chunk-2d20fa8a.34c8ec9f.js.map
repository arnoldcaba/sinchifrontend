{"version":3,"sources":["webpack:///./src/components/frames/CConfiguraAlertas.vue?865a","webpack:///src/components/frames/CConfiguraAlertas.vue","webpack:///./src/components/frames/CConfiguraAlertas.vue?5b43","webpack:///./src/components/frames/CConfiguraAlertas.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","configura_alertas","expression","staticStyle","staticClass","_v","sistema","correo","on","Cerrar","btn_loading","saveitem","staticRenderFns","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACE,MAAM,CAAC,YAAY,MAAM,WAAa,IAAIC,MAAM,CAACC,MAAOR,EAAqB,kBAAES,SAAS,SAAUC,GAAMV,EAAIW,kBAAkBD,GAAKE,WAAW,sBAAsB,CAACR,EAAG,SAAS,CAACA,EAAG,eAAe,CAACA,EAAG,MAAM,CAACS,YAAY,CAAC,MAAQ,SAAS,CAACT,EAAG,WAAW,CAACU,YAAY,wCAAwCD,YAAY,CAAC,YAAY,QAAQP,MAAM,CAAC,iBAAiB,KAAK,CAACN,EAAIe,GAAG,2EAA2EX,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,QAAU,iBAAiB,CAACF,EAAG,WAAW,CAACU,YAAY,OAAOR,MAAM,CAAC,MAAQ,UAAU,MAAQ,WAAWC,MAAM,CAACC,MAAOR,EAAW,QAAES,SAAS,SAAUC,GAAMV,EAAIgB,QAAQN,GAAKE,WAAW,aAAaR,EAAG,WAAW,CAACU,YAAY,OAAOR,MAAM,CAAC,MAAQ,SAAS,MAAQ,WAAWC,MAAM,CAACC,MAAOR,EAAU,OAAES,SAAS,SAAUC,GAAMV,EAAIiB,OAAOP,GAAKE,WAAW,aAAa,IAAI,GAAGR,EAAG,MAAM,CAACS,YAAY,CAAC,MAAQ,SAAS,CAACT,EAAG,QAAQ,CAACE,MAAM,CAAC,QAAU,QAAQ,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,QAAQ,KAAO,IAAIY,GAAG,CAAC,MAAQlB,EAAImB,SAAS,CAACnB,EAAIe,GAAG,cAAcX,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,UAAU,KAAO,GAAG,QAAUN,EAAIoB,aAAaF,GAAG,CAAC,MAAQlB,EAAIqB,WAAW,CAACrB,EAAIe,GAAG,cAAc,IAAI,IAAI,MAAM,IAAI,IACzvCO,EAAkB,G,YCiCtB,GACE,KAAF,mBACE,MAAF,sBACE,KAHF,WAII,MAAJ,CACM,OAAN,8CACM,aAAN,EACM,SAAN,EACM,QAAN,EACM,YAAN,EACM,WAAN,IAIE,QAAF,CAEI,QAFJ,WAIM,IAAN,OACM,KAAN,WAEM,KAAN,cACM,KAAN,aAEA,+CACA,kBAEA,WAEA,QAEY,EAAZ,mCACY,EAAZ,iCAEY,EAAZ,sCACY,EAAZ,sCAWU,EAAV,WACU,EAAV,WAEQ,EAAR,cAEA,mBAEQ,EAAR,WACQ,EAAR,UACQ,EAAR,eAKI,cA9CJ,WAgDM,OAAN,2DAEA,+BAIA,IAKI,SA3DJ,WA6DM,IAAN,uBACA,KAEM,GAAN,MAAM,CAKA,IAAN,sCACA,qCAEM,GAAN,yGAEM,IAAN,OACM,KAAN,WAEM,IAAN,GAAQ,OAAR,+BAAQ,SAAR,aAAQ,QAAR,aAEM,EAAN,oBACA,kBAEQ,GAAR,YAEU,IAAV,0BACU,EAAV,mCAEA,cAEU,EAAV,8EAEU,EAAV,YACU,EAAV,UACU,EAAV,UAEU,EAAV,mCAIU,EAAV,sCAGQ,EAAR,cAEA,mBAEQ,EAAR,8BACQ,EAAR,mBA1CQ,KAAR,+BA8CI,YA/GJ,SA+GA,SAEM,KAAN,yBAAQ,MAAR,EAAQ,KAAR,EAAQ,MAAR,EAAQ,KAAR,KAGI,OApHJ,WAsHM,KAAN,sCAEI,eAxHJ,SAwHA,KAEM,IAAN,GAAQ,OAAR,YAAQ,OAAR,EAAQ,QAAR,GAEM,KAAN,kCAIE,MAAF,CACI,kBAAJ,YAEA,IAEQ,KAAR,UACQ,KAAR,kDCtL0W,I,YCOtWC,EAAY,eACd,EACAxB,EACAuB,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-2d20fa8a.34c8ec9f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"400\",\"persistent\":\"\"},model:{value:(_vm.configura_alertas),callback:function ($$v) {_vm.configura_alertas=$$v},expression:\"configura_alertas\"}},[_c('v-card',[_c('v-card-title',[_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('v-layout',{staticClass:\"tittle font-weight-bold primary--text\",staticStyle:{\"font-size\":\"18px\"},attrs:{\"justify-center\":\"\"}},[_vm._v(\"\\n        Configurar Notificaciones del Usuario            \\n        \")]),_c('div',[_c('v-row',{attrs:{\"justify\":\"space-around\"}},[_c('v-switch',{staticClass:\"mx-2\",attrs:{\"label\":\"Sistema\",\"color\":\"primary\"},model:{value:(_vm.sistema),callback:function ($$v) {_vm.sistema=$$v},expression:\"sistema\"}}),_c('v-switch',{staticClass:\"mx-2\",attrs:{\"label\":\"Correo\",\"color\":\"primary\"},model:{value:(_vm.correo),callback:function ($$v) {_vm.correo=$$v},expression:\"correo\"}})],1)],1),_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('v-row',{attrs:{\"justify\":\"end\"}},[_c('v-btn',{attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":_vm.Cerrar}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\",\"loading\":_vm.btn_loading},on:{\"click\":_vm.saveitem}},[_vm._v(\"Guardar\")])],1)],1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>    \n    <v-dialog v-model=\"configura_alertas\" max-width=\"400\" persistent>\n      <v-card>      \n      <v-card-title>\n\n        <div style=\"width:100%\">\n            <v-layout justify-center class=\"tittle font-weight-bold primary--text\" style=\"font-size:18px;\">\n            Configurar Notificaciones del Usuario            \n            </v-layout>\n\n            <div>\n                <v-row justify=\"space-around\">\n                    <v-switch v-model=\"sistema\" class=\"mx-2\" label=\"Sistema\" color=\"primary\"></v-switch>\n                    <v-switch v-model=\"correo\" class=\"mx-2\" label=\"Correo\" color=\"primary\"></v-switch>\n                </v-row>\n            </div>\n            \n            <div style=\"width:100%\">\n                <v-row justify=\"end\">          \n                    <v-btn color=\"error\" text @click=\"Cerrar\">Cancelar</v-btn>\n                    <v-btn color=\"primary\" text @click=\"saveitem\" :loading=\"btn_loading\">Guardar</v-btn>\n                </v-row>    \n            </div>\n\n        </div>\n      </v-card-title>\n      </v-card>\n    </v-dialog>   \n</template>\n\n<script>\n\nimport usuariosalertasService from \"../../servicios/UsuariosAlertasService\"\n\nexport default {\n    name: 'ConfiguraAlertas',\n    props: ['configura_alertas'],\n    data(){\n        return {   \n            modulo:'CONFIGURACION DE NOTIFICACIONES POR USUARIO',\t         \n            btn_loading: false, \n            sistema: false,\n            correo:false,  \n            sistemaant: false,\n            correoant:false,        \n        }    \n    },\n\n    methods:{\n        \n        getData(){\n\n            var _this = this\n            this.loading = true\n\n            this.sistemaant = false\n            this.correoant = false, \n\n            usuariosalertasService.getDataXId(_this.$session.get('usuarioid'))\n                .then(function(res) {                    \n\n                    if (res.request) {\n                                    \n                        if(res.data){\n\n                            _this.sistema = res.data.data[0]['issystem']\n                            _this.correo = res.data.data[0]['isemail']\n\n                            _this.sistemaant = res.data.data[0]['issystem']\n                            _this.correoant = res.data.data[0]['isemail']\n\n                        }  else {\n                        \n                            _this.sistema = false\n                            _this.correo = false\n                        \n                        }\n\n                    } else {                        \t\n\n                        _this.sistema = false\n                        _this.correo = false                        \t\n                    }    \n                    _this.loading = false                \n                    \n            }).catch(function(err) {\n\n                _this.sistema = false\n                _this.correo = false  \n                _this.loading = false                \n                \n            })\n\n        },\n        validaGuardar(){\n\n            if(this.sistema == this.sistemaant && this.correo == this.correoant){\n                \n                return 'No hay datos para actualizar'\n\n            } else {\n\n                return ''\n\n            }\n\n        },\n        saveitem(){\n\n            var valida = this.validaGuardar()\n            var datbit = ''\n\n            if(valida != ''){\n                this.showMessage(true,3000,'error',valida)\n                return\n            }\n            \n            var mensajesistema = this.sistema == true ? 'Verdadero' : 'falso'\n            var mensajecorreo = this.correo == true ? 'Verdadero' : 'falso'\n\n            datbit += 'USUARIO: ' + this.$session.get('nombre') + ', Notificacion por Sistema: ' + mensajesistema + ', Notificación por Correo: ' + mensajecorreo \n\n            var _this = this\n            this.loading = true\n            \n            var data = {codigo:this.$session.get('usuarioid'),issystem:this.sistema,isemail:this.correo}\n\n            usuariosalertasService.guardarData(data)\n                .then(function(res) {\n\n                    if (res.response) {                           \n                        \n                        var error = res.response.data.message\n                        _this.showMessage(true,3000,'error',error)\n\n                    } else if(res.statusText){                        \n\n                        _this.showMessage(true,3000,'success','Se Actualizó la(s) notificacion(es) con éxito')\n\n                        _this.del_item = ''\n                        _this.getData()                        \n                        _this.dialog = false\n                            \n                        _this.agregaBitacora('ACTUALIZACION',datbit)\n\n                    }else{\t                                         \t\n\n                        _this.showMessage(true,3000,'error',res.message) \t                  \t\n                    }\n\n                    _this.loading = false\t                 \n                    \n            }).catch(function(err) {\n\n                _this.showMessage(true,3000,'error',err)\t    \n                _this.loading = false          \t\n                \n            })\n        },\n        showMessage (snack, time, color, text) {\n\n            this.$root.$emit('showSnack', {snack: snack, time: time, color: color, text: text})\n\n        },        \n        Cerrar(){\n            \n            this.$emit('update:configura_alertas', false)\n        },\n        agregaBitacora(accion, detalle){              \n\n            var data = {modulo:this.modulo,accion:accion,detalle:detalle}\n            \n            this.$root.$emit('agregaBitacora', data)\n\n        }\n    },\n    watch: {\n        configura_alertas: function (val) {\n\n            if(val)\n            {\n                this.getData()\n                this.agregaBitacora('INGRESO','INGRESO AL MODULO')\n\n            }\n        }\n    }\n}\n\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CConfiguraAlertas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CConfiguraAlertas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CConfiguraAlertas.vue?vue&type=template&id=f5984902&\"\nimport script from \"./CConfiguraAlertas.vue?vue&type=script&lang=js&\"\nexport * from \"./CConfiguraAlertas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}