{"version":3,"sources":["webpack:///./src/components/frames/CConfiguraAlertas.vue?f1fd","webpack:///src/components/frames/CConfiguraAlertas.vue","webpack:///./src/components/frames/CConfiguraAlertas.vue?5b43","webpack:///./src/components/frames/CConfiguraAlertas.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","configura_alertas","expression","staticStyle","staticClass","_v","sistema","correo","on","Cerrar","btn_loading","saveitem","staticRenderFns","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACE,MAAM,CAAC,YAAY,MAAM,WAAa,IAAIC,MAAM,CAACC,MAAOR,EAAqB,kBAAES,SAAS,SAAUC,GAAMV,EAAIW,kBAAkBD,GAAKE,WAAW,sBAAsB,CAACR,EAAG,SAAS,CAACA,EAAG,eAAe,CAACA,EAAG,MAAM,CAACS,YAAY,CAAC,MAAQ,SAAS,CAACT,EAAG,WAAW,CAACU,YAAY,wCAAwCD,YAAY,CAAC,YAAY,QAAQP,MAAM,CAAC,iBAAiB,KAAK,CAACN,EAAIe,GAAG,2EAA2EX,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,QAAU,iBAAiB,CAACF,EAAG,WAAW,CAACU,YAAY,OAAOR,MAAM,CAAC,MAAQ,UAAU,MAAQ,WAAWC,MAAM,CAACC,MAAOR,EAAW,QAAES,SAAS,SAAUC,GAAMV,EAAIgB,QAAQN,GAAKE,WAAW,aAAaR,EAAG,WAAW,CAACU,YAAY,OAAOR,MAAM,CAAC,MAAQ,SAAS,MAAQ,WAAWC,MAAM,CAACC,MAAOR,EAAU,OAAES,SAAS,SAAUC,GAAMV,EAAIiB,OAAOP,GAAKE,WAAW,aAAa,IAAI,GAAGR,EAAG,MAAM,CAACS,YAAY,CAAC,MAAQ,SAAS,CAACT,EAAG,QAAQ,CAACE,MAAM,CAAC,QAAU,QAAQ,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,QAAQ,KAAO,IAAIY,GAAG,CAAC,MAAQlB,EAAImB,SAAS,CAACnB,EAAIe,GAAG,cAAcX,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,UAAU,KAAO,GAAG,QAAUN,EAAIoB,aAAaF,GAAG,CAAC,MAAQlB,EAAIqB,WAAW,CAACrB,EAAIe,GAAG,cAAc,IAAI,IAAI,MAAM,IAAI,IACzvCO,EAAkB,G,YCiCtB,GACE,KAAF,mBACE,MAAF,sBACE,KAHF,WAII,MAAJ,CACM,OAAN,8CACM,aAAN,EACM,SAAN,EACM,QAAN,EACM,YAAN,EACM,WAAN,IAIE,QAAF,CAEI,QAFJ,WAIM,IAAN,OACM,KAAN,WAEM,KAAN,cACM,KAAN,aAEA,+CACA,kBAEA,WAEA,QAEY,EAAZ,mCACY,EAAZ,iCAEY,EAAZ,sCACY,EAAZ,sCAWU,EAAV,WACU,EAAV,WAEQ,EAAR,cAEA,mBAEQ,EAAR,WACQ,EAAR,UACQ,EAAR,eAKI,cA9CJ,WAgDM,OAAN,2DAEA,+BAIA,IAKI,SA3DJ,WA6DM,IAAN,uBACA,KAEM,GAAN,MAAM,CAKA,IAAN,sCACA,qCAEM,GAAN,yGAEM,IAAN,OACM,KAAN,WAEM,IAAN,GAAQ,OAAR,+BAAQ,SAAR,aAAQ,QAAR,aAEM,EAAN,oBACA,kBAEQ,GAAR,YAEU,IAAV,0BACU,EAAV,mCAEA,cAEU,EAAV,8EAEU,EAAV,YACU,EAAV,UACU,EAAV,UAEU,EAAV,mCAIU,EAAV,sCAGQ,EAAR,cAEA,mBAEQ,EAAR,8BACQ,EAAR,mBA1CQ,KAAR,+BA8CI,YA/GJ,SA+GA,SAEM,KAAN,yBAAQ,MAAR,EAAQ,KAAR,EAAQ,MAAR,EAAQ,KAAR,KAGI,OApHJ,WAsHM,KAAN,sCAEI,eAxHJ,SAwHA,KAEM,IAAN,GAAQ,OAAR,YAAQ,OAAR,EAAQ,QAAR,GAEM,KAAN,kCAIE,MAAF,CACI,kBAAJ,YAEA,IAEQ,KAAR,UACQ,KAAR,kDCtL0W,I,YCOtWC,EAAY,eACd,EACAxB,EACAuB,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-2d20fa8a.aaf2539a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"400\",\"persistent\":\"\"},model:{value:(_vm.configura_alertas),callback:function ($$v) {_vm.configura_alertas=$$v},expression:\"configura_alertas\"}},[_c('v-card',[_c('v-card-title',[_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('v-layout',{staticClass:\"tittle font-weight-bold primary--text\",staticStyle:{\"font-size\":\"18px\"},attrs:{\"justify-center\":\"\"}},[_vm._v(\"\\n        Configurar Notificaciones del Usuario            \\n        \")]),_c('div',[_c('v-row',{attrs:{\"justify\":\"space-around\"}},[_c('v-switch',{staticClass:\"mx-2\",attrs:{\"label\":\"Sistema\",\"color\":\"primary\"},model:{value:(_vm.sistema),callback:function ($$v) {_vm.sistema=$$v},expression:\"sistema\"}}),_c('v-switch',{staticClass:\"mx-2\",attrs:{\"label\":\"Correo\",\"color\":\"primary\"},model:{value:(_vm.correo),callback:function ($$v) {_vm.correo=$$v},expression:\"correo\"}})],1)],1),_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('v-row',{attrs:{\"justify\":\"end\"}},[_c('v-btn',{attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":_vm.Cerrar}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\",\"loading\":_vm.btn_loading},on:{\"click\":_vm.saveitem}},[_vm._v(\"Guardar\")])],1)],1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>    \r\n    <v-dialog v-model=\"configura_alertas\" max-width=\"400\" persistent>\r\n      <v-card>      \r\n      <v-card-title>\r\n\r\n        <div style=\"width:100%\">\r\n            <v-layout justify-center class=\"tittle font-weight-bold primary--text\" style=\"font-size:18px;\">\r\n            Configurar Notificaciones del Usuario            \r\n            </v-layout>\r\n\r\n            <div>\r\n                <v-row justify=\"space-around\">\r\n                    <v-switch v-model=\"sistema\" class=\"mx-2\" label=\"Sistema\" color=\"primary\"></v-switch>\r\n                    <v-switch v-model=\"correo\" class=\"mx-2\" label=\"Correo\" color=\"primary\"></v-switch>\r\n                </v-row>\r\n            </div>\r\n            \r\n            <div style=\"width:100%\">\r\n                <v-row justify=\"end\">          \r\n                    <v-btn color=\"error\" text @click=\"Cerrar\">Cancelar</v-btn>\r\n                    <v-btn color=\"primary\" text @click=\"saveitem\" :loading=\"btn_loading\">Guardar</v-btn>\r\n                </v-row>    \r\n            </div>\r\n\r\n        </div>\r\n      </v-card-title>\r\n      </v-card>\r\n    </v-dialog>   \r\n</template>\r\n\r\n<script>\r\n\r\nimport usuariosalertasService from \"../../servicios/UsuariosAlertasService\"\r\n\r\nexport default {\r\n    name: 'ConfiguraAlertas',\r\n    props: ['configura_alertas'],\r\n    data(){\r\n        return {   \r\n            modulo:'CONFIGURACION DE NOTIFICACIONES POR USUARIO',\t         \r\n            btn_loading: false, \r\n            sistema: false,\r\n            correo:false,  \r\n            sistemaant: false,\r\n            correoant:false,        \r\n        }    \r\n    },\r\n\r\n    methods:{\r\n        \r\n        getData(){\r\n\r\n            var _this = this\r\n            this.loading = true\r\n\r\n            this.sistemaant = false\r\n            this.correoant = false, \r\n\r\n            usuariosalertasService.getDataXId(_this.$session.get('usuarioid'))\r\n                .then(function(res) {                    \r\n\r\n                    if (res.request) {\r\n                                    \r\n                        if(res.data){\r\n\r\n                            _this.sistema = res.data.data[0]['issystem']\r\n                            _this.correo = res.data.data[0]['isemail']\r\n\r\n                            _this.sistemaant = res.data.data[0]['issystem']\r\n                            _this.correoant = res.data.data[0]['isemail']\r\n\r\n                        }  else {\r\n                        \r\n                            _this.sistema = false\r\n                            _this.correo = false\r\n                        \r\n                        }\r\n\r\n                    } else {                        \t\r\n\r\n                        _this.sistema = false\r\n                        _this.correo = false                        \t\r\n                    }    \r\n                    _this.loading = false                \r\n                    \r\n            }).catch(function(err) {\r\n\r\n                _this.sistema = false\r\n                _this.correo = false  \r\n                _this.loading = false                \r\n                \r\n            })\r\n\r\n        },\r\n        validaGuardar(){\r\n\r\n            if(this.sistema == this.sistemaant && this.correo == this.correoant){\r\n                \r\n                return 'No hay datos para actualizar'\r\n\r\n            } else {\r\n\r\n                return ''\r\n\r\n            }\r\n\r\n        },\r\n        saveitem(){\r\n\r\n            var valida = this.validaGuardar()\r\n            var datbit = ''\r\n\r\n            if(valida != ''){\r\n                this.showMessage(true,3000,'error',valida)\r\n                return\r\n            }\r\n            \r\n            var mensajesistema = this.sistema == true ? 'Verdadero' : 'falso'\r\n            var mensajecorreo = this.correo == true ? 'Verdadero' : 'falso'\r\n\r\n            datbit += 'USUARIO: ' + this.$session.get('nombre') + ', Notificacion por Sistema: ' + mensajesistema + ', Notificación por Correo: ' + mensajecorreo \r\n\r\n            var _this = this\r\n            this.loading = true\r\n            \r\n            var data = {codigo:this.$session.get('usuarioid'),issystem:this.sistema,isemail:this.correo}\r\n\r\n            usuariosalertasService.guardarData(data)\r\n                .then(function(res) {\r\n\r\n                    if (res.response) {                           \r\n                        \r\n                        var error = res.response.data.message\r\n                        _this.showMessage(true,3000,'error',error)\r\n\r\n                    } else if(res.statusText){                        \r\n\r\n                        _this.showMessage(true,3000,'success','Se Actualizó la(s) notificacion(es) con éxito')\r\n\r\n                        _this.del_item = ''\r\n                        _this.getData()                        \r\n                        _this.dialog = false\r\n                            \r\n                        _this.agregaBitacora('ACTUALIZACION',datbit)\r\n\r\n                    }else{\t                                         \t\r\n\r\n                        _this.showMessage(true,3000,'error',res.message) \t                  \t\r\n                    }\r\n\r\n                    _this.loading = false\t                 \r\n                    \r\n            }).catch(function(err) {\r\n\r\n                _this.showMessage(true,3000,'error',err)\t    \r\n                _this.loading = false          \t\r\n                \r\n            })\r\n        },\r\n        showMessage (snack, time, color, text) {\r\n\r\n            this.$root.$emit('showSnack', {snack: snack, time: time, color: color, text: text})\r\n\r\n        },        \r\n        Cerrar(){\r\n            \r\n            this.$emit('update:configura_alertas', false)\r\n        },\r\n        agregaBitacora(accion, detalle){              \r\n\r\n            var data = {modulo:this.modulo,accion:accion,detalle:detalle}\r\n            \r\n            this.$root.$emit('agregaBitacora', data)\r\n\r\n        }\r\n    },\r\n    watch: {\r\n        configura_alertas: function (val) {\r\n\r\n            if(val)\r\n            {\r\n                this.getData()\r\n                this.agregaBitacora('INGRESO','INGRESO AL MODULO')\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CConfiguraAlertas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CConfiguraAlertas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CConfiguraAlertas.vue?vue&type=template&id=9a95bdc8&\"\nimport script from \"./CConfiguraAlertas.vue?vue&type=script&lang=js&\"\nexport * from \"./CConfiguraAlertas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}