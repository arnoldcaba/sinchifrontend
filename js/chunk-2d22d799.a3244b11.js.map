{"version":3,"sources":["webpack:///./src/components/CProyectosProductos.vue?8feb","webpack:///src/components/CProyectosProductos.vue","webpack:///./src/components/CProyectosProductos.vue?1f97","webpack:///./src/components/CProyectosProductos.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","length","model","value","callback","$$v","onboarding","expression","_l","itemdata","key","_v","_s","headers","data","scopedSlots","_u","fn","ref","item","readonly","$set","rules","maxPorcentaje","directives","name","rawName","codigoreal","staticClass","loading","on","$event","dialog_del","itemactual","_e","prev","n","active","toggle","next","staticStyle","saveitem","deleteItem","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d22d799.a3244b11.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-card',{attrs:{\"flat\":\"\",\"tile\":\"\"}},[(_vm.length > 0)?_c('v-window',{attrs:{\"reverse\":\"\"},model:{value:(_vm.onboarding),callback:function ($$v) {_vm.onboarding=$$v},expression:\"onboarding\"}},_vm._l((_vm.arrObjetivos),function(itemdata){return _c('v-window-item',{key:(\"card-\" + (itemdata.codigo))},[_c('v-card',{attrs:{\"color\":\"transparent\",\"height\":\"400\"}},[_c('v-row',{attrs:{\"tag\":\"v-card-text\"}},[_c('h2',{attrs:{\"color\":\"black\"}},[_vm._v(_vm._s(((itemdata.codigo) + \". Objetivo: \" + (itemdata.descripcion))))])]),_c('v-row',[_c('v-card-text',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.data,\"items-per-page\":3},scopedSlots:_vm._u([{key:\"item.descripcion\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-text-field',{attrs:{\"readonly\":_vm.readonly},model:{value:(item.descripcion),callback:function ($$v) {_vm.$set(item, \"descripcion\", $$v)},expression:\"item.descripcion\"}})]}},{key:\"item.peso\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-text-field',{attrs:{\"type\":\"number\",\"readonly\":_vm.readonly,\"min\":\"0\",\"rules\":[_vm.rules.maxPorcentaje],\"suffix\":\" %\"},model:{value:(item.peso),callback:function ($$v) {_vm.$set(item, \"peso\", $$v)},expression:\"item.peso\"}})]}},{key:\"item.action\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.readonly && item.codigoreal != 0),expression:\"!readonly && item.codigoreal != 0\"}],staticClass:\"mr-5\",attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.loading,\"loading\":_vm.loading},on:{\"click\":function($event){_vm.dialog_del=true,_vm.itemactual=item}}},[_vm._v(\"\\n                                    delete\\n                                \")])]}}],null,true)})],1)],1)],1)],1)}),1):_vm._e(),_c('v-card-actions',{staticClass:\"justify-space-between\"},[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.prev}},[_c('v-icon',[_vm._v(\"chevron_left\")])],1),_c('v-item-group',{staticClass:\"text-center\",attrs:{\"mandatory\":\"\"},model:{value:(_vm.onboarding),callback:function ($$v) {_vm.onboarding=$$v},expression:\"onboarding\"}},_vm._l((_vm.length),function(n){return _c('v-item',{key:(\"btn-\" + n),scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nvar toggle = ref.toggle;\nreturn [_c('v-btn',{attrs:{\"input-value\":active,\"icon\":\"\"},on:{\"click\":toggle}},[_c('v-icon',[_vm._v(\"fiber_manual_record\")])],1)]}}],null,true)})}),1),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.next}},[_c('v-icon',[_vm._v(\"chevron_right\")])],1)],1),_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.readonly),expression:\"!readonly\"}],attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.saveitem}},[_vm._v(\"Guardar Productos\")])],1)],1),_c('v-dialog',{attrs:{\"width\":\"550\"},model:{value:(_vm.dialog_del),callback:function ($$v) {_vm.dialog_del=$$v},expression:\"dialog_del\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline red--text\"},[_vm._v(\"Eliminar producto\")])]),_c('v-card-text',[_vm._v(\"\\t\\t\\t\\t\\t\\n                ¿Esta seguro de eliminar el producto seleccionado?. Está acción eliminará tambien las actividades asociadas a este producto.\\t\\t\\t\\t\\t\\n            \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog_del=false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\"Eliminar\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container>\n        <v-card flat tile>\n            <v-window v-model=\"onboarding\" reverse v-if=\"length > 0\">\n                <v-window-item\n                v-for=\"itemdata in arrObjetivos\"\n                :key=\"`card-${itemdata.codigo}`\"\n                >\n                <v-card\n                    color=\"transparent\"\n                    height=\"400\"\n                >\n                    <v-row\n                                    \n                    tag=\"v-card-text\"\n                    >\n                    <h2 color=\"black\">{{ `${itemdata.codigo}. Objetivo: ${itemdata.descripcion}` }}</h2>\n                    </v-row>\n                    <v-row>\n                        <v-card-text>\n                            <v-data-table \n                                :headers=\"headers\" \n                                :items=\"data\" \n                                :items-per-page=\"3\"\n                            >\n                                <template v-slot:item.descripcion=\"{ item }\">\n                                    <v-text-field v-model=\"item.descripcion\"                                        \n                                        :readonly=\"readonly\"\n                                    >\n                                    </v-text-field>\n                                </template>\n\n                                <template v-slot:item.peso=\"{ item }\">\n                                    <v-text-field v-model=\"item.peso\" \n                                        type=\"number\"                         \n                                        :readonly=\"readonly\"\n                                        min=\"0\"\n                                        :rules=\"[rules.maxPorcentaje]\"\n                                        suffix=\" %\"\n                                    >\n                                    </v-text-field>\n                                </template>                                \n\n                                <template v-slot:item.action=\"{ item }\">\t\t\t\t\t\t\t\n                                    \n                                    <v-icon\n                                        small\n                                        class=\"mr-5\"\n                                        color=\"primary\" \n                                        :disabled=\"loading\"\n                                        :loading=\"loading\"\n                                        @click=\"dialog_del=true,itemactual=item\"\n                                        v-show=\"!readonly && item.codigoreal != 0\"\n                                    >\n                                        delete\n                                    </v-icon>\t\t\t\t\t\t\n                                                        \n                                </template>\n                            </v-data-table>                            \n                        </v-card-text>    \n                    </v-row>                   \n                </v-card>\n                </v-window-item>\n            </v-window>\n    \n            <v-card-actions class=\"justify-space-between\">\n                <v-btn              \n                text                \n                @click=\"prev\"\n                >\n                <v-icon>chevron_left</v-icon>\n                </v-btn>\n                <v-item-group\n                v-model=\"onboarding\"\n                class=\"text-center\"\n                mandatory\n                >\n                <v-item\n                    v-for=\"n in length\"\n                    :key=\"`btn-${n}`\"\n                    v-slot:default=\"{ active, toggle }\"\n                >\n                    <v-btn\n                    :input-value=\"active\"              \n                    icon\n                    @click=\"toggle\"\n                    >\n                    <v-icon>fiber_manual_record</v-icon>\n                    </v-btn>\n                </v-item>\n                </v-item-group> \n                <v-btn          \n                    text\n                    @click=\"next\"\n                >\n                    <v-icon>chevron_right</v-icon>\n                </v-btn>\n            </v-card-actions>\n            <div style=\"text-align: right\">\n                <v-btn color=\"primary\" text @click=\"saveitem\" v-show=\"!readonly\">Guardar Productos</v-btn>\n            </div>    \n        </v-card>\n\n        <v-dialog v-model=\"dialog_del\" width=\"550\">\n\n            <v-card>\n\n                <v-card-title>\n                    <span class=\"headline red--text\">Eliminar producto</span>\n                </v-card-title>\n\n                <v-card-text>\t\t\t\t\t\n                    ¿Esta seguro de eliminar el producto seleccionado?. Está acción eliminará tambien las actividades asociadas a este producto.\t\t\t\t\t\n                </v-card-text>\n\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"primary\" dark text @click=\"dialog_del=false\">Cancelar</v-btn>\n                    <v-btn color=\"red\" text @click=\"deleteItem\" >Eliminar</v-btn>\n                </v-card-actions>\n\n            </v-card>\n\n        </v-dialog>\n\n    </v-container>    \n</template>\n\n<script>\nimport proyectosproductosService from \"../servicios/ProyectosProductosService\"\nimport objetivosService from \"../servicios/ProyectosObjetivosService\"\n\nexport default {\n    name: 'Productos',\n    props: ['proyecto','readonly','convenioproyecto','nombreproyecto','codigocoordinador'],\n    data (){\n\n        return {\n            loading: false,\n            length: 0,\n            onboarding: 0, \n            itemactual:'',\n            dialog_del:false,  \n            inicio:0,                     \n            data: [\n                {\t\n                    codigo:0,\n                    peso:0,\t          \t\n                    descripcion: '',                   \n                    codigoreal:0,\n                    objetivo:0            \n                },\n            ],\n\n            headers: [      \n                { text: 'No.', value: 'codigo',sortable: false,align: 'left',width:'10%', class:'subtitle-1 font-weight-bold black--text'},          \n                { text: 'Descripción', value: 'descripcion',sortable: false,align: 'left',width:'70%', class:'subtitle-1 font-weight-bold black--text'}, \n                { text: 'Peso', value: 'peso',sortable: false,align: 'left',width:'10%', class:'subtitle-1 font-weight-bold black--text'},               \n                { text: 'Acción', align: 'left', sortable: false,value: 'action',width:'10%', class:'subtitle-1 font-weight-bold black--text'},        \n            ],\n\n            arrProgramas:[],\n            arrObjetivos:[],\n\n            rules: {                \n                maxPorcentaje: value => value < 100 || 'El % no puede superar el 100%'            \n            },\n        }\n    },\n\n    methods: {\n\n        showMessage (snack, time, color, text) {\n\n           this.$root.$emit('showSnack', {snack: snack, time: time, color: color, text: text})\n\n        },\n        \n        envioNotificaciones(mensajenotificacion,asuntocorreo, mensajecorreo){\n\n            this.$emit('envioNotificaciones', {mensajenotificacion: mensajenotificacion,\n                        asuntocorreo: asuntocorreo, mensajecorreo: mensajecorreo}) \n\n        },\n\n        dataVacios(){\n\n            var i=0\n\n            this.data = []\n            for(i;i<30;i++){\n                this.data.push({codigo:i+1,descripcion: '',codigoreal:0,objetivo:0,peso:0 })\n            }\n        },        \n\n        traerdata(proyecto, objetivo){\n\n            var _this = this\n            this.loading = true\n\n            proyectosproductosService.BuscarXObjetivo(proyecto, objetivo)\n                .then(function(res) {\n\n                    if (res.request) {\n                                    \n                        if(res.data){\n\n                            _this.data = res.data.data\n                            \n                            var totitems = _this.data.length\n                            var objetivo = 0\n                            \n                            objetivo = _this.arrObjetivos[_this.onboarding].codigo\n\n                            for (let index = totitems; index < 30; index++) {\n                                _this.data.push({codigo:index + 1,descripcion: '',codigoreal:0,objetivo:objetivo,peso:0})\t\t\t\t   \n                            }\n\n                        }  else {\n                            \n                            _this.data = []                            \n                            _this.dataVacios()\n                        \n                        }\n\n                        if(_this.data.length <=0){\n\n                            for (let index = 0; index < 30; index++) {\n                                _this.data.push({codigo:index + 1,descripcion: '',codigoreal:0,objetivo:objetivo,peso:0})\t\t\t\t   \n                            }\n\n                        }\n\n                    } else {                        \t\n\n                        _this.data = []                        \n                        _this.dataVacios()                        \t\n                    }    \n                    _this.loading = false                \n                    \n            }).catch(function(err) {\n\n                    _this.data = []                      \n                    _this.dataVacios() \n                    _this.loading = false                \n                \n            })\n\n        },\n\n        traerObjetivos(proyecto){\n\n             var _this = this\n            objetivosService.BuscarXProyecto(proyecto)\n                .then(function(res) {\n\n                    if (res.request) {\n                                    \n                        if(res.data){\n\n                            _this.arrObjetivos = res.data.data                             \n                            _this.length = _this.arrObjetivos.length\n\n                            if(_this.inicio == 0){\n                                _this.traerdata(_this.proyecto, _this.arrObjetivos[_this.onboarding].codigo)\n                                _this.inicio = 1\n                            }\n\n                        }  else {\n                            \n                            _this.arrObjetivos = []                           \n                            _this.length = 0 \n                        }\n\n                    } else {                        \t\n\n                        _this.arrObjetivos = []   \n                        _this.length = 0                     \n                    }\n                    \n            }).catch(function(err) {\n\n                _this.arrObjetivos = []\n                _this.length = 0                                 \n                \n            })\n\n        },\n\n        deleteItem(){\n            \n            var _this = this\n            this.loading = true\n\n            proyectosproductosService.DelData(_this.proyecto, _this.itemactual.codigoobjetivo, _this.itemactual.codigo)\n                .then(function(res) {\n\n                    if(res.statusText){\n\n                        _this.showMessage(true,3000,'success','Se eliminó el Producto con éxito')\n\n                        _this.del_item = ''\n                        _this.traerdata(_this.proyecto, _this.arrObjetivos[_this.onboarding].codigo)\n                        _this.dialog_del = false\n                        \n                        //_this.OnOffProyObjetivo()\n\n                        _this.agregaBitacora('ELIMINACION','SE ELIMINÓ EL PRODUCTO CON CODIGO:' + _this.itemactual.codigo + \n                                                ', DESCRIPCION:' + _this.itemactual.descripcion + '. DEL OBJETIVO ' +  \n                                                _this.itemactual.txtobjetivo + \n                                                '. QUE PERTENECE AL PROYECTO CON # DE CONVENIO: ' + _this.convenioproyecto + ' Y NOMBRE: ' + \n                                                _this.nombreproyecto)\n\n                        var mensajecorreo = \"Cordial Saludo,<br><br> \" +\n                                            \"Se eliminó el Producto : '\" + _this.itemactual.descripcion + \"' del objetivo '\" + \n                                            _this.itemactual.txtobjetivo + \"' que pertenece al Proyecto con # de Convenio \" + \n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \n                                            \"<b>SINCHI</b><br><br> \" +\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\n                                            \"correo electrónico, no lo responda.</i> <br>\"\n                        \n                        var mensajenotifica = \"Se eliminó el Producto : '\" + _this.itemactual.descripcion + \"' del objetivo '\" + \n                                              _this.itemactual.txtobjetivo + \"' que pertenece al Proyecto con # de Convenio \" + \n                                              _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto\n\n                        _this.envioNotificaciones(mensajenotifica,'Eliminación de Productos del Proyecto',mensajecorreo)                                 \n\n                    } else {\t                                         \t\n\n                        _this.showMessage(true,3000,'error',res.response.data.message) \t                  \t\n                    } \t                   \n                    _this.del_item = ''\t\t\t\t\t\t\n                    _this.loading = false\t                 \n                    \n            }).catch(function(err) {\n\n                _this.showMessage(true,3000,'error',err)\t    \n                _this.loading = false          \t\n                \n            })\n\n        },\n\n        saveitem(){            \n\n            var totitems = this.data.length\n            var busDuplicado = []\n            \n            this.loading = true\n            \n            var pesoact = 0 \n\n            for (let index = 0; index < totitems; index++) {\n\n                var code = ''\n                var descripcion = ''   \n\n                if(typeof this.data[index].codigo == 'object'){\n                    code = this.data[index].codigo.codigo\n                    descripcion = this.data[index].codigo.descripcion\n\n                } else {\n                    code = this.data[index].codigo\n                    descripcion = this.data[index].descripcion\n                }\n                \n                if(descripcion != ''){     \n                    \n                    if(busDuplicado.length > 0){\n                        for (let i = 0; i < busDuplicado.length; i++) {\n\n                            if(descripcion == busDuplicado[i].descripcion){\n\n                                var nitem = index + 1\n                                this.showMessage(true,3000,'error','El Producto ' + descripcion + ' del item ' + nitem + \n                                                    ' ya se encuentra en el item ' + busDuplicado[i].no)\n\n                                this.loading = false                    \n                                return\n                            }\n                        }\n\n                        busDuplicado.push({codigo:index + 1,descripcion:descripcion,proyecto:this.proyecto,\n                                            objetivo:this.arrObjetivos[this.onboarding].codigo,no:index + 1,\n                                            peso:this.data[index].peso})\n\n                    } else {\n\n                        busDuplicado.push({codigo:index + 1,descripcion:descripcion,proyecto:this.proyecto,\n                                            objetivo:this.arrObjetivos[this.onboarding].codigo,no:index + 1,\n                                            peso:this.data[index].peso})\n                    }\n                }\n\n                pesoact += parseFloat(this.data[index].peso)\n\t\t\t   \n            }\n\n            if(parseFloat(pesoact) > 100){\n\n                let mensaje = 'La suma de los pesos de los productos no debe superar el 100%'\n                this.showMessage(true,3000,'error',mensaje)\n\n                this.loading = false                    \n                return\n            }\n\n            var _this = this \n\n            proyectosproductosService.addupdData(busDuplicado)\n\t              .then(function(res) {\n\n\t              \t  if (res.response) {                           \n                            \n                          var error = res.response.data.message\n                          _this.showMessage(true,3000,'error',error)\n\n                      } else if(res.statusText){\n\t              \t  \t\t\n\t              \t  \t\tvar mensaje = ''\n\t\t\t\t\t\t\tvar accbitacora = ''\n\n\t              \t  \t\t_this.showMessage(true,3000,'success','Se Actualizarón/Agregarón los Productos con éxito')\n             \t  \t\t\n                            _this.traerdata(_this.proyecto, _this.arrObjetivos[_this.onboarding].codigo)              \t  \t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n                            _this.agregaBitacora('ACTUALIZACION/CREACION','SE ACTUALIZARON/AGREGARON PRODUCTOS DEL OBJETIVO ' + _this.data[0].txtobjetivo + \n                                                  ' PARA PROYECTO CON # DE CONVENIO: ' + _this.convenioproyecto + ' Y NOMBRE: ' + _this.nombreproyecto)\n\n                            //_this.OnOffProyObjetivo()  \n                            \n                            var mensajecorreo = \"Cordial Saludo,<br><br> \" +\n                                            \"Se Actualizaron/Crearon Productos para el Objetivo \" + _this.data[0].txtobjetivo + \n                                            \" para el Proyecto con # de Convenio \" + \n                                            _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto +\n                                            \"<br><br>Agradeciendo su atención,<br><br> \" +                        \n                                            \"<b>SINCHI</b><br><br> \" +\n                                            \"<i>Este es un servicio de notificaciones generado automáticamente por medio de \" +\n                                            \"correo electrónico, no lo responda.</i> <br>\"\n                        \n                            var mensajenotifica = \"Se Actualizaron/Crearon Productos para el Objetivo \" + _this.data[0].txtobjetivo + \n                                                  \" para el Proyecto con # de Convenio \" + \n                                                  _this.convenioproyecto + \", Nombre: \" + _this.nombreproyecto\n\n                            _this.envioNotificaciones(mensajenotifica,'Actualización/Creación de Productos de Objetivos de un Proyecto',mensajecorreo)\n\n\t              \t  }else{\t                                         \t\n\n\t                  \t\t_this.showMessage(true,3000,'error',res.message) \t                  \t\n\t                  }\n\n\t                    _this.loading = false\t                 \n\t                   \t\n\t          \t}).catch(function(err) {\n\n\t          \t\t_this.showMessage(true,3000,'error',err)\t    \n\t          \t\t_this.loading = false          \t\n\t          \t\t\n\t\t\t\t})\n\n        },\n\n        next () {\n            this.onboarding = this.onboarding + 1 === this.length\n                ? 0\n                : this.onboarding + 1\n        },\n        prev () {\n            this.onboarding = this.onboarding - 1 < 0\n                ? this.length - 1\n                : this.onboarding - 1\n        },\n\n        agregaBitacora(accion, detalle){              \n\n            var data = {modulo:'PRODUCTOS PROYECTOS',accion:accion,detalle:detalle}\n            \n            this.$root.$emit('agregaBitacora', data)\n\n        },\n\n    },\n\n    watch: {\n\n        proyecto: function (val) {\n\n            if(val!=0){                \n                this.traerObjetivos(val)\n            }\n        },\n\n        onboarding: function (val) {            \n\n            if(this.arrObjetivos.length > 0)\n\n                this.traerdata(this.proyecto, this.arrObjetivos[val].codigo)\n\n            else{\n\n                for (let index = 0; index < 30; index++) {\n                    this.data.push({codigo:index + 1,descripcion: '',codigoreal:0,objetivo:objetivo,peso:0})\t\t\t\t   \n                }\n\n            }           \n            \n        },\n\n    },\n        \n    mounted() {\n        \n        this.traerObjetivos(this.proyecto)\n\n    },\n    \n    created() {\n        \n        this.$store.watch(\n\n            (state) => state.proyobjetivos, (oldValue, newValue) => {                \n\n                this.traerObjetivos(this.proyecto)\n            }             \n        )\n\n    }\n\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosProductos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CProyectosProductos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CProyectosProductos.vue?vue&type=template&id=6d476010&\"\nimport script from \"./CProyectosProductos.vue?vue&type=script&lang=js&\"\nexport * from \"./CProyectosProductos.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}